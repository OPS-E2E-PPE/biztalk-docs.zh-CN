---
title: 观测和建议 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 88289080-1a59-4ffc-a0b2-312ec21940c2
caps.latest.revision: 17
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 023012cd3febf2113aad0c26fea2c6cec65b0640
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65242548"
---
# <a name="observations-and-recommendations"></a><span data-ttu-id="45bf5-102">观测和建议</span><span class="sxs-lookup"><span data-stu-id="45bf5-102">Observations and Recommendations</span></span>
## <a name="test-results-summary"></a><span data-ttu-id="45bf5-103">测试结果摘要</span><span class="sxs-lookup"><span data-stu-id="45bf5-103">Test Results Summary</span></span>  
 <span data-ttu-id="45bf5-104">仅限消息传送的方案的结果所观察到为 ~ 109,382,400 消息 / 天。</span><span class="sxs-lookup"><span data-stu-id="45bf5-104">The results for the Messaging-only scenario were observed to be ~ 109,382,400 messages per day.</span></span> <span data-ttu-id="45bf5-105">对于业务流程方案中，结果表明运行 BizTalk Server 的单台计算机可以处理最多 58,752,000 消息 / 天。</span><span class="sxs-lookup"><span data-stu-id="45bf5-105">For the Orchestration scenario, the results indicate that a single computer running BizTalk Server can process up to 58,752,000 messages per day.</span></span> <span data-ttu-id="45bf5-106">在使用正常的企业级的硬件部署的很多 BizTalk Server 解决方案的沙盒环境中实现了这些结果。</span><span class="sxs-lookup"><span data-stu-id="45bf5-106">These results were achieved in a sandboxed environment using normal enterprise-class hardware deployed for many BizTalk Server solutions.</span></span> <span data-ttu-id="45bf5-107">因此，这些结果指示可以无自定义代码来实现的 BizTalk Server 性能的类型。</span><span class="sxs-lookup"><span data-stu-id="45bf5-107">Therefore, these results indicate the type of BizTalk Server performance of that can be achieved with no custom code.</span></span> <span data-ttu-id="45bf5-108">客户解决方案通常涉及到自定义开发 BizTalk 项目;在许多情况下这会增加处理要求这反过来会影响性能。</span><span class="sxs-lookup"><span data-stu-id="45bf5-108">Customer solutions often involve custom-developed BizTalk artifacts; in many cases this increases processing requirements which in turn affects performance.</span></span> <span data-ttu-id="45bf5-109">按照本指南中的建议特别[优化 BizTalk Server 应用程序](../technical-guides/optimizing-biztalk-server-applications.md)部分中，实现自定义开发 BizTalk Server 项目可以最小化的影响。</span><span class="sxs-lookup"><span data-stu-id="45bf5-109">By following the advice presented in this guide, particularly the [Optimizing BizTalk Server Applications](../technical-guides/optimizing-biztalk-server-applications.md) section, the impact of implementing custom-developed BizTalk Server artifacts can be minimized.</span></span>  
  
 <span data-ttu-id="45bf5-110">下表提供有关此性能评估的测试结果摘要。</span><span class="sxs-lookup"><span data-stu-id="45bf5-110">The following table provides a summary of the test results for this performance assessment.</span></span>  
  
|<span data-ttu-id="45bf5-111">应用场景</span><span class="sxs-lookup"><span data-stu-id="45bf5-111">Scenario</span></span>|<span data-ttu-id="45bf5-112">消息传送 (BizTalk KPI-每秒处理的文档)</span><span class="sxs-lookup"><span data-stu-id="45bf5-112">Messaging (BizTalk KPI – Documents Processed per Second)</span></span>|<span data-ttu-id="45bf5-113">消息传送 (SQL KPI – SQL 处理器使用率)</span><span class="sxs-lookup"><span data-stu-id="45bf5-113">Messaging (SQL KPI – SQL Processor Utilization)</span></span>|<span data-ttu-id="45bf5-114">消息延迟 （秒）</span><span class="sxs-lookup"><span data-stu-id="45bf5-114">Messaging Latency (Seconds)</span></span>|<span data-ttu-id="45bf5-115">业务流程 (BizTalk KPI-每秒处理的文档)</span><span class="sxs-lookup"><span data-stu-id="45bf5-115">Orchestration (BizTalk KPI – Documents Processed per Second)</span></span>|<span data-ttu-id="45bf5-116">业务流程 (SQL KPI – SQL 处理器使用率)</span><span class="sxs-lookup"><span data-stu-id="45bf5-116">Orchestration (SQL KPI – SQL Processor Utilization)</span></span>|<span data-ttu-id="45bf5-117">业务流程的延迟 （秒）</span><span class="sxs-lookup"><span data-stu-id="45bf5-117">Orchestration Latency (Seconds)</span></span>|  
|--------------|----------------------------------------------------------------|-------------------------------------------------------|-----------------------------------|--------------------------------------------------------------------|-----------------------------------------------------------|---------------------------------------|  
|<span data-ttu-id="45bf5-118">单个 MessageBox 1 BizTalk Server 计算机</span><span class="sxs-lookup"><span data-stu-id="45bf5-118">Single MessageBox 1 BizTalk Server computer</span></span>|<span data-ttu-id="45bf5-119">每秒处理的 1266年文档</span><span class="sxs-lookup"><span data-stu-id="45bf5-119">1266 documents processed per second</span></span>|<span data-ttu-id="45bf5-120">59%SQL CPU 利用率</span><span class="sxs-lookup"><span data-stu-id="45bf5-120">59% SQL CPU utilization</span></span>|<span data-ttu-id="45bf5-121">0.06</span><span class="sxs-lookup"><span data-stu-id="45bf5-121">0.06</span></span>|<span data-ttu-id="45bf5-122">每秒处理的 680 文档</span><span class="sxs-lookup"><span data-stu-id="45bf5-122">680 documents processed per second</span></span>|<span data-ttu-id="45bf5-123">66.5%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="45bf5-123">66.5% SQL CPU utilization</span></span>|<span data-ttu-id="45bf5-124">0.067</span><span class="sxs-lookup"><span data-stu-id="45bf5-124">0.067</span></span>|  
|<span data-ttu-id="45bf5-125">单个 MessageBox 2 BizTalk Server 计算机</span><span class="sxs-lookup"><span data-stu-id="45bf5-125">Single MessageBox 2 BizTalk Server computers</span></span>|<span data-ttu-id="45bf5-126">每秒处理的 1267年文档</span><span class="sxs-lookup"><span data-stu-id="45bf5-126">1267 documents processed per second</span></span>|<span data-ttu-id="45bf5-127">59.8%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="45bf5-127">59.8% SQL CPU utilization</span></span>|<span data-ttu-id="45bf5-128">0.057</span><span class="sxs-lookup"><span data-stu-id="45bf5-128">0.057</span></span>|<span data-ttu-id="45bf5-129">每秒处理的 686 文档</span><span class="sxs-lookup"><span data-stu-id="45bf5-129">686 documents processed per second</span></span>|<span data-ttu-id="45bf5-130">68.5%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="45bf5-130">68.5% SQL CPU utilization</span></span>|<span data-ttu-id="45bf5-131">0.067</span><span class="sxs-lookup"><span data-stu-id="45bf5-131">0.067</span></span>|  
|<span data-ttu-id="45bf5-132">3 个 MessageBox 1 BizTalk Server 计算机</span><span class="sxs-lookup"><span data-stu-id="45bf5-132">3 MessageBox 1 BizTalk Server computers</span></span>|<span data-ttu-id="45bf5-133">每秒处理的 2102年文档</span><span class="sxs-lookup"><span data-stu-id="45bf5-133">2102 documents processed per second</span></span>|<span data-ttu-id="45bf5-134">41%SQL CPU 利用率</span><span class="sxs-lookup"><span data-stu-id="45bf5-134">41% SQL CPU utilization</span></span>|<span data-ttu-id="45bf5-135">0.077</span><span class="sxs-lookup"><span data-stu-id="45bf5-135">0.077</span></span>|<span data-ttu-id="45bf5-136">每秒处理的 974 文档</span><span class="sxs-lookup"><span data-stu-id="45bf5-136">974 documents processed per second</span></span>|<span data-ttu-id="45bf5-137">48%SQL CPU 利用率</span><span class="sxs-lookup"><span data-stu-id="45bf5-137">48% SQL CPU utilization</span></span>|<span data-ttu-id="45bf5-138">0.11</span><span class="sxs-lookup"><span data-stu-id="45bf5-138">0.11</span></span>|  
|<span data-ttu-id="45bf5-139">3 个 MessageBox 2 BizTalk Server 计算机</span><span class="sxs-lookup"><span data-stu-id="45bf5-139">3 MessageBox 2 BizTalk Server computers</span></span>|<span data-ttu-id="45bf5-140">每秒处理的 2285年文档</span><span class="sxs-lookup"><span data-stu-id="45bf5-140">2285 documents processed per second</span></span>|<span data-ttu-id="45bf5-141">58%SQL CPU 利用率</span><span class="sxs-lookup"><span data-stu-id="45bf5-141">58% SQL CPU utilization</span></span>|<span data-ttu-id="45bf5-142">0.041</span><span class="sxs-lookup"><span data-stu-id="45bf5-142">0.041</span></span>|<span data-ttu-id="45bf5-143">每秒处理的 1065年文档</span><span class="sxs-lookup"><span data-stu-id="45bf5-143">1065 documents processed per second</span></span>|<span data-ttu-id="45bf5-144">65%SQL CPU 利用率</span><span class="sxs-lookup"><span data-stu-id="45bf5-144">65% SQL CPU utilization</span></span>|<span data-ttu-id="45bf5-145">0..69</span><span class="sxs-lookup"><span data-stu-id="45bf5-145">0..69</span></span>|  
|<span data-ttu-id="45bf5-146">4 个 Messagebox 1 BizTalk Server 计算机</span><span class="sxs-lookup"><span data-stu-id="45bf5-146">4 MessageBoxes 1 BizTalk Server computers</span></span>|<span data-ttu-id="45bf5-147">每秒处理的 2125年文档</span><span class="sxs-lookup"><span data-stu-id="45bf5-147">2125 documents processed per second</span></span>|<span data-ttu-id="45bf5-148">30%的 SQL CPU 利用率</span><span class="sxs-lookup"><span data-stu-id="45bf5-148">30% SQL CPU utilization</span></span>|<span data-ttu-id="45bf5-149">0.078</span><span class="sxs-lookup"><span data-stu-id="45bf5-149">0.078</span></span>|<span data-ttu-id="45bf5-150">每秒处理的 979 文档</span><span class="sxs-lookup"><span data-stu-id="45bf5-150">979 documents processed per second</span></span>|<span data-ttu-id="45bf5-151">37%SQL CPU 利用率</span><span class="sxs-lookup"><span data-stu-id="45bf5-151">37% SQL CPU utilization</span></span>|<span data-ttu-id="45bf5-152">0.095</span><span class="sxs-lookup"><span data-stu-id="45bf5-152">0.095</span></span>|  
|<span data-ttu-id="45bf5-153">4 个 Messagebox 2 BizTalk Server 计算机</span><span class="sxs-lookup"><span data-stu-id="45bf5-153">4 MessageBoxes 2 BizTalk Server computers</span></span>|<span data-ttu-id="45bf5-154">每秒处理的 2790年文档</span><span class="sxs-lookup"><span data-stu-id="45bf5-154">2790 documents processed per second</span></span>|<span data-ttu-id="45bf5-155">50%的 SQL CPU 利用率</span><span class="sxs-lookup"><span data-stu-id="45bf5-155">50% SQL CPU utilization</span></span>|<span data-ttu-id="45bf5-156">0.052</span><span class="sxs-lookup"><span data-stu-id="45bf5-156">0.052</span></span>|<span data-ttu-id="45bf5-157">每秒处理的 1487年文档</span><span class="sxs-lookup"><span data-stu-id="45bf5-157">1487 documents processed per second</span></span>|<span data-ttu-id="45bf5-158">63%SQL CPU 利用率</span><span class="sxs-lookup"><span data-stu-id="45bf5-158">63% SQL CPU utilization</span></span>|<span data-ttu-id="45bf5-159">0.15</span><span class="sxs-lookup"><span data-stu-id="45bf5-159">0.15</span></span>|  
|<span data-ttu-id="45bf5-160">4 个 Messagebox 3 BizTalk Server 计算机</span><span class="sxs-lookup"><span data-stu-id="45bf5-160">4 MessageBoxes 3 BizTalk Server computers</span></span>|<span data-ttu-id="45bf5-161">每秒处理的 2656年文档</span><span class="sxs-lookup"><span data-stu-id="45bf5-161">2656 documents processed per second</span></span>|<span data-ttu-id="45bf5-162">58%SQL CPU 利用率</span><span class="sxs-lookup"><span data-stu-id="45bf5-162">58% SQL CPU utilization</span></span>|<span data-ttu-id="45bf5-163">0.074</span><span class="sxs-lookup"><span data-stu-id="45bf5-163">0.074</span></span>|<span data-ttu-id="45bf5-164">每秒处理的 1388年文档</span><span class="sxs-lookup"><span data-stu-id="45bf5-164">1388 documents processed per second</span></span>|<span data-ttu-id="45bf5-165">65%SQL CPU 利用率</span><span class="sxs-lookup"><span data-stu-id="45bf5-165">65% SQL CPU utilization</span></span>|<span data-ttu-id="45bf5-166">0.15</span><span class="sxs-lookup"><span data-stu-id="45bf5-166">0.15</span></span>|  
  
## <a name="comparison-of-performance-statistics-with-biztalk-server-2009"></a><span data-ttu-id="45bf5-167">与 BizTalk Server 2009 的性能统计信息的比较</span><span class="sxs-lookup"><span data-stu-id="45bf5-167">Comparison of performance statistics with BizTalk Server 2009</span></span>  
 <span data-ttu-id="45bf5-168">下表显示了 BizTalk Server 2009 和 BizTalk Server 2010 之间的性能统计信息的比较。</span><span class="sxs-lookup"><span data-stu-id="45bf5-168">The following table shows a comparison of performance statistics between BizTalk Server 2009 and BizTalk Server 2010.</span></span> <span data-ttu-id="45bf5-169">此表中列出的 BizTalk Server 2009 性能统计信息是从 BizTalk Server 2009 性能和优化指南。</span><span class="sxs-lookup"><span data-stu-id="45bf5-169">The BizTalk Server 2009 performance statistics listed in this table are from the BizTalk Server 2009 Performance and Optimization Guide.</span></span>  
  
|<span data-ttu-id="45bf5-170">应用场景</span><span class="sxs-lookup"><span data-stu-id="45bf5-170">Scenario</span></span>|<span data-ttu-id="45bf5-171">BizTalk Server 2009</span><span class="sxs-lookup"><span data-stu-id="45bf5-171">BizTalk Server 2009</span></span><br /> <span data-ttu-id="45bf5-172">最大可承受吞吐量 (MST) 消息数/秒</span><span class="sxs-lookup"><span data-stu-id="45bf5-172">Maximum Sustainable Throughput (MST) msgs/sec</span></span>|<span data-ttu-id="45bf5-173">BizTalk Server 2009</span><span class="sxs-lookup"><span data-stu-id="45bf5-173">BizTalk Server 2009</span></span><br /><span data-ttu-id="45bf5-174">BizTalk Server 所需的数目</span><span class="sxs-lookup"><span data-stu-id="45bf5-174">Number of BizTalk Servers needed</span></span>|<span data-ttu-id="45bf5-175">BizTalk Server 2010</span><span class="sxs-lookup"><span data-stu-id="45bf5-175">BizTalk Server 2010</span></span><br /><span data-ttu-id="45bf5-176">最大可承受吞吐量 (MST) 消息数/秒</span><span class="sxs-lookup"><span data-stu-id="45bf5-176">Maximum Sustainable Throughput (MST) msgs/sec</span></span>|<span data-ttu-id="45bf5-177">BizTalk Server 2010</span><span class="sxs-lookup"><span data-stu-id="45bf5-177">BizTalk Server 2010</span></span><br /><span data-ttu-id="45bf5-178">BizTalk Server 所需的数目</span><span class="sxs-lookup"><span data-stu-id="45bf5-178">Number of BizTalk Servers needed</span></span>|<span data-ttu-id="45bf5-179">从 BizTalk Server 2009 的 BizTalk Server 2010%差异</span><span class="sxs-lookup"><span data-stu-id="45bf5-179">BizTalk Server 2010 % difference from BizTalk Server 2009</span></span>|  
|--------------|----------------------------------------------------------------------------|-----------------------------------------------------------|---------------------------------------------------------------------------|-----------------------------------------------------------|---------------------------------------------------------------|  
|<span data-ttu-id="45bf5-180">Messaging - Single MessageBox</span><span class="sxs-lookup"><span data-stu-id="45bf5-180">Messaging - Single MessageBox</span></span>|<span data-ttu-id="45bf5-181">1291</span><span class="sxs-lookup"><span data-stu-id="45bf5-181">1291</span></span>|<span data-ttu-id="45bf5-182">2</span><span class="sxs-lookup"><span data-stu-id="45bf5-182">2</span></span>|<span data-ttu-id="45bf5-183">1266</span><span class="sxs-lookup"><span data-stu-id="45bf5-183">1266</span></span>|<span data-ttu-id="45bf5-184">1</span><span class="sxs-lookup"><span data-stu-id="45bf5-184">1</span></span>|<span data-ttu-id="45bf5-185">98.06%</span><span class="sxs-lookup"><span data-stu-id="45bf5-185">98.06%</span></span>|  
|<span data-ttu-id="45bf5-186">业务流程的单个 MessageBox</span><span class="sxs-lookup"><span data-stu-id="45bf5-186">Orchestration - Single MessageBox</span></span>|<span data-ttu-id="45bf5-187">676</span><span class="sxs-lookup"><span data-stu-id="45bf5-187">676</span></span>|<span data-ttu-id="45bf5-188">2</span><span class="sxs-lookup"><span data-stu-id="45bf5-188">2</span></span>|<span data-ttu-id="45bf5-189">680</span><span class="sxs-lookup"><span data-stu-id="45bf5-189">680</span></span>|<span data-ttu-id="45bf5-190">1</span><span class="sxs-lookup"><span data-stu-id="45bf5-190">1</span></span>|<span data-ttu-id="45bf5-191">100.59%</span><span class="sxs-lookup"><span data-stu-id="45bf5-191">100.59%</span></span>|  
|<span data-ttu-id="45bf5-192">消息传送的 3 个 Messagebox</span><span class="sxs-lookup"><span data-stu-id="45bf5-192">Messaging - 3 MessageBoxes</span></span>|<span data-ttu-id="45bf5-193">2103</span><span class="sxs-lookup"><span data-stu-id="45bf5-193">2103</span></span>|<span data-ttu-id="45bf5-194">3</span><span class="sxs-lookup"><span data-stu-id="45bf5-194">3</span></span>|<span data-ttu-id="45bf5-195">2285</span><span class="sxs-lookup"><span data-stu-id="45bf5-195">2285</span></span>|<span data-ttu-id="45bf5-196">2 （具有 1 BTS 2102/秒）</span><span class="sxs-lookup"><span data-stu-id="45bf5-196">2 (2102/sec with 1 BTS)</span></span>|<span data-ttu-id="45bf5-197">108.65%</span><span class="sxs-lookup"><span data-stu-id="45bf5-197">108.65%</span></span>|  
|<span data-ttu-id="45bf5-198">消息传送的 4 个 Messagebox</span><span class="sxs-lookup"><span data-stu-id="45bf5-198">Messaging - 4 MessageBoxes</span></span>|<span data-ttu-id="45bf5-199">不适用</span><span class="sxs-lookup"><span data-stu-id="45bf5-199">Not applicable</span></span>|<span data-ttu-id="45bf5-200">不适用</span><span class="sxs-lookup"><span data-stu-id="45bf5-200">Not applicable</span></span>|<span data-ttu-id="45bf5-201">2790</span><span class="sxs-lookup"><span data-stu-id="45bf5-201">2790</span></span>|<span data-ttu-id="45bf5-202">2</span><span class="sxs-lookup"><span data-stu-id="45bf5-202">2</span></span>|<span data-ttu-id="45bf5-203">不适用</span><span class="sxs-lookup"><span data-stu-id="45bf5-203">Not applicable</span></span>|  
|<span data-ttu-id="45bf5-204">业务流程-3 个 Messagebox</span><span class="sxs-lookup"><span data-stu-id="45bf5-204">Orchestration - 3 MessageBoxes</span></span>|<span data-ttu-id="45bf5-205">1005</span><span class="sxs-lookup"><span data-stu-id="45bf5-205">1005</span></span>|<span data-ttu-id="45bf5-206">4</span><span class="sxs-lookup"><span data-stu-id="45bf5-206">4</span></span>|<span data-ttu-id="45bf5-207">1065</span><span class="sxs-lookup"><span data-stu-id="45bf5-207">1065</span></span>|<span data-ttu-id="45bf5-208">2 （具有 1 BTS 974/秒）</span><span class="sxs-lookup"><span data-stu-id="45bf5-208">2 (974/sec with 1 BTS)</span></span>|<span data-ttu-id="45bf5-209">105.97%</span><span class="sxs-lookup"><span data-stu-id="45bf5-209">105.97%</span></span>|  
|<span data-ttu-id="45bf5-210">业务流程-4 个 Messagebox</span><span class="sxs-lookup"><span data-stu-id="45bf5-210">Orchestration - 4 MessageBoxes</span></span>|<span data-ttu-id="45bf5-211">不适用</span><span class="sxs-lookup"><span data-stu-id="45bf5-211">Not applicable</span></span>|<span data-ttu-id="45bf5-212">不适用</span><span class="sxs-lookup"><span data-stu-id="45bf5-212">Not applicable</span></span>|<span data-ttu-id="45bf5-213">1487</span><span class="sxs-lookup"><span data-stu-id="45bf5-213">1487</span></span>|<span data-ttu-id="45bf5-214">2</span><span class="sxs-lookup"><span data-stu-id="45bf5-214">2</span></span>|<span data-ttu-id="45bf5-215">不适用</span><span class="sxs-lookup"><span data-stu-id="45bf5-215">Not applicable</span></span>|  
  
 <span data-ttu-id="45bf5-216">在实验室环境中，使用四个 MessageBox 数据库时，最大可承受吞吐量结果如下所示：</span><span class="sxs-lookup"><span data-stu-id="45bf5-216">In our lab environment, when using four MessageBox databases, the maximum sustainable throughput results were as follows:</span></span>  
  
- <span data-ttu-id="45bf5-217">对于消息传送方案，每秒 2790年文档。</span><span class="sxs-lookup"><span data-stu-id="45bf5-217">For messaging scenario, 2790 documents per second.</span></span>  
  
- <span data-ttu-id="45bf5-218">对于业务流程的方案，每秒 1487年文档。</span><span class="sxs-lookup"><span data-stu-id="45bf5-218">For orchestration scenario, 1487 documents per second.</span></span>  
  
  <span data-ttu-id="45bf5-219">**消息注意事项**时 BizTalk Server 规定了对消息大小没有限制，我们运行 BizTalk Server 2010 的测试使用 2 KB 的消息，使用 WCF 适配器的类型了 Wcf-nettcp 适配器。</span><span class="sxs-lookup"><span data-stu-id="45bf5-219">**Message considerations** While BizTalk Server imposes no restriction on message size, the tests we ran for BizTalk Server 2010 used 2-KB messages only and the type of WCF adapter used was WCF-NetTCP adapter.</span></span> <span data-ttu-id="45bf5-220">此匹配在 BizTalk Server 2009 性能优化指南的测试中使用的消息大小和适配器类型。</span><span class="sxs-lookup"><span data-stu-id="45bf5-220">This matches the message size and adapter type used in the testing for the BizTalk Server 2009 Performance Optimization Guide.</span></span>  
  
  <span data-ttu-id="45bf5-221">性能改进的驱动程序：</span><span class="sxs-lookup"><span data-stu-id="45bf5-221">The drivers for the performance improvement are:</span></span>  
  
1.  <span data-ttu-id="45bf5-222">**硬件改进**-在我们的实验室中使用的 SQL Server 计算机是 4 的 CPU、 四核 （16 个内核），@ 2.40 GHz Intel Xeon E7330。</span><span class="sxs-lookup"><span data-stu-id="45bf5-222">**Hardware advancements** - The SQL Server computers used in our lab were 4-CPU, quad-core (16 cores), Intel Xeon E7330 @ 2.40 GHz.</span></span> <span data-ttu-id="45bf5-223">在 2009年测试中，4 个 CPU，四核 （16 个内核），Intel Xeon 2.4 GHz 使用了。</span><span class="sxs-lookup"><span data-stu-id="45bf5-223">In the 2009 tests, 4-CPU, quad-core (16 cores), Intel Xeon 2.4 GHz were used.</span></span>  
  
     <span data-ttu-id="45bf5-224">在我们的实验室中使用的 BizTalk Server 计算机的 2 个 CPU，四核 （8 个内核），Nehalem 超线程 (16 个逻辑核心），Intel Xeon X 5570 @ 2.93 g h z。</span><span class="sxs-lookup"><span data-stu-id="45bf5-224">The BizTalk Server computers used in our lab were 2-CPU, quad-core (8 cores), Nehalem Hyper-Threaded (16 logical cores), Intel Xeon X5570 @ 2.93 GHz.</span></span> <span data-ttu-id="45bf5-225">在 2009年测试中，2 个 CPU，四核 （8 个内核），Intel Xeon 2.33 GHz 使用了。</span><span class="sxs-lookup"><span data-stu-id="45bf5-225">In the 2009 tests, 2-CPU, quad-core (8 cores), Intel Xeon 2.33 GHz were used.</span></span>  
  
2.  <span data-ttu-id="45bf5-226">**SQL Server 引擎的改进**-2009年中的测试执行针对 SQL Server 2008 中，而我们的测试执行的 SQL Server 2008 R2 作为基础数据库平台。</span><span class="sxs-lookup"><span data-stu-id="45bf5-226">**Improvement of SQL Server Engine** - The tests in 2009 were performed against SQL Server 2008, whereas our tests were performed with SQL Server 2008 R2 as the underlying database platform.</span></span>  
  
## <a name="recommendations-for-scaling-the-biztalk-server-and-sql-server-tiers"></a><span data-ttu-id="45bf5-227">有关缩放 BizTalk Server 和 SQL Server 层的建议</span><span class="sxs-lookup"><span data-stu-id="45bf5-227">Recommendations for scaling the BizTalk Server and SQL Server tiers</span></span>  
 <span data-ttu-id="45bf5-228">与这些结果，BizTalk Server 产品团队已能够演示，一台 BizTalk Server 计算机和一台 SQL Server 计算机可以支持 109 传输万条消息中的消息传送的方案和 5800 万美元业务流程在 24 时制期间。</span><span class="sxs-lookup"><span data-stu-id="45bf5-228">With these results, the BizTalk Server Product Team was able to demonstrate that a single BizTalk Server computer and a single SQL Server computer can support over 109 million messages in a messaging scenario and 58 million orchestrations during a 24-hour period.</span></span> <span data-ttu-id="45bf5-229">通过缩放到我们的环境中提供的最佳配置的 BizTalk Server 和 SQL 层，我们能够处理 over241 100 万条消息 / 天和亿 128 业务流程。</span><span class="sxs-lookup"><span data-stu-id="45bf5-229">By scaling the BizTalk Server and SQL tiers to the optimal configuration available in our environment, we were able to process over241 million messages per day and over 128 million orchestrations.</span></span> <span data-ttu-id="45bf5-230">结果在沙盒环境中使用的许多企业中部署的硬件的类执行。</span><span class="sxs-lookup"><span data-stu-id="45bf5-230">The results were performed in a sandboxed environment by using the class of hardware deployed in many enterprises.</span></span> <span data-ttu-id="45bf5-231">如前面所述，这些数字表示 BizTalk Server 可以使用任何自定义代码和一个优化的环境来实现的实际的性能。</span><span class="sxs-lookup"><span data-stu-id="45bf5-231">As stated earlier, these numbers represent realistic performance of BizTalk Server that can be achieved with no custom code and an optimized environment.</span></span>  <span data-ttu-id="45bf5-232">与其他硬件，就可以更大的性能可能已实现。</span><span class="sxs-lookup"><span data-stu-id="45bf5-232">With additional hardware, it is possible that even greater performance could have been achieved.</span></span> <span data-ttu-id="45bf5-233">客户解决方案通常涉及到会产生额外的处理要求，因此提高资源利用率、 又降低整体性能的自定义开发 BizTalk 项目。</span><span class="sxs-lookup"><span data-stu-id="45bf5-233">Customer solutions often involve custom-developed BizTalk artifacts that incur additional processing requirements, hence increasing resource utilization and in turn reducing overall performance.</span></span> <span data-ttu-id="45bf5-234">但是，按照本指南，尤其是中的建议所述的建议[优化 BizTalk Server 应用程序](../technical-guides/optimizing-biztalk-server-applications.md)，这种影响可以降到最低。</span><span class="sxs-lookup"><span data-stu-id="45bf5-234">However, by following the advice outlined throughout the guide, particularly the recommendations in [Optimizing BizTalk Server Applications](../technical-guides/optimizing-biztalk-server-applications.md), the impact of this can be minimized.</span></span>  
  
 <span data-ttu-id="45bf5-235">结果证明，是否 MessageBox SQL Server 计算机不是瓶颈，增加 BizTalk Server 计算机的数目是有效的扩展策略。</span><span class="sxs-lookup"><span data-stu-id="45bf5-235">The results demonstrate that scaling out the number of BizTalk Server computers is an effective scale-out strategy if the MessageBox SQL Server computer is not a bottleneck.</span></span> <span data-ttu-id="45bf5-236">特定时间点后我们的结果指示，因为我们观察到 MessageBox 数据库中的共享表上发生的争用点，添加 BizTalk Server 计算机变为无效的向外缩放技术，这会导致性能降低。</span><span class="sxs-lookup"><span data-stu-id="45bf5-236">After a certain point our results indicate that adding BizTalk Server computers becomes an ineffective scale-out technique because we observed that a contention point occurred on the shared tables within the MessageBox database, which caused performance to diminish.</span></span> <span data-ttu-id="45bf5-237">若要最大化可以从 BizTalk Server 组与单个 MessageBox 数据库中获取的结果，应该应用中所述的优化[优化数据库性能](../technical-guides/optimizing-database-performance.md)。</span><span class="sxs-lookup"><span data-stu-id="45bf5-237">To maximize the results that can be obtained from a BizTalk Server group with a single MessageBox database, you should apply the optimizations described in [Optimizing Database Performance](../technical-guides/optimizing-database-performance.md).</span></span> <span data-ttu-id="45bf5-238">具体而言，应确保快速存储子系统，用于 SQL Server 存储和 SQL Server 用于存储的 MessageBox 数据库文件的逻辑磁盘在尽可能短的时间内响应。</span><span class="sxs-lookup"><span data-stu-id="45bf5-238">In particular, you should ensure that a fast storage subsystem is used for the SQL Server storage and that the logical disks used by SQL Server to store the MessageBox database files respond in the shortest possible time.</span></span> <span data-ttu-id="45bf5-239">测量可接受的读/写性能的常用的阈值为 15 毫秒;通常这被度量的 avg.Disk sec/Read 和 avg.可在逻辑磁盘性能对象下找到 disk sec/Write 计数器。</span><span class="sxs-lookup"><span data-stu-id="45bf5-239">A commonly used threshold for measuring acceptable read/write performance is 15 milliseconds; typically this is measured by the Avg. Disk sec/Read and Avg. Disk sec/Write counters that can be found under the Logical Disk performance object.</span></span> <span data-ttu-id="45bf5-240">一旦所有可用优化已应用于承载 MessageBox 数据库的 SQL Server 计算机，可以添加其他 MessageBox 数据库。</span><span class="sxs-lookup"><span data-stu-id="45bf5-240">Once all available optimizations have been applied to the SQL Server computer that hosts the MessageBox database, additional MessageBox databases can be added.</span></span> <span data-ttu-id="45bf5-241">同样的优化技术应用于主 MessageBox 数据库还应应用于辅助数据库。</span><span class="sxs-lookup"><span data-stu-id="45bf5-241">The same optimization techniques that were applied to the primary MessageBox database should also be applied to the secondary databases.</span></span> <span data-ttu-id="45bf5-242">我们建议你遵循中的准则[缩放出 SQL Server 层](http://go.microsoft.com/fwlink/?LinkID=158075)(http://go.microsoft.com/fwlink/?LinkID=158075) BizTalk Server 文档中。</span><span class="sxs-lookup"><span data-stu-id="45bf5-242">We recommend that you follow the guidelines in [Scaling Out the SQL Server Tier](http://go.microsoft.com/fwlink/?LinkID=158075) (http://go.microsoft.com/fwlink/?LinkID=158075) in the BizTalk Server documentation.</span></span>  
  
 <span data-ttu-id="45bf5-243">若要获得最佳结果，在整个硬件和软件堆栈应属于适当的质量和正确配置。</span><span class="sxs-lookup"><span data-stu-id="45bf5-243">To gain optimal results, the whole hardware and software stack needs to be of appropriate quality and also configured correctly.</span></span> <span data-ttu-id="45bf5-244">首先，很好的高质量的硬件应购买包括，但不是限于千兆网络连接、 快速存储 （SAN 或 15-K 本地 SQL 磁盘） 和现代具有与每个 CPU 的多个核心的多个 Cpu 的计算机。</span><span class="sxs-lookup"><span data-stu-id="45bf5-244">First, good quality hardware should be purchased including, but not limited to, gigabit networking, fast storage (SAN or 15-K local SQL disks) and modern computers that have multiple CPUs with multiple cores per CPU.</span></span> <span data-ttu-id="45bf5-245">应将 SQL Server 计算机专用于 BizTalk Server 仅处理。</span><span class="sxs-lookup"><span data-stu-id="45bf5-245">The SQL Server computer should be dedicated to BizTalk Server processing only.</span></span> <span data-ttu-id="45bf5-246">在运行单个 SQL Server 计算机，我们建议创建两个实例的 SQL，分别为 BizTalk MessageBox 和所有其他数据库。</span><span class="sxs-lookup"><span data-stu-id="45bf5-246">When running a single SQL Server computer, we recommend that two instances of SQL be created, one for the BizTalk MessageBox and one for all other databases.</span></span> <span data-ttu-id="45bf5-247">这使实例范围的设置进行配置以获得最佳性能的 MessageBox。</span><span class="sxs-lookup"><span data-stu-id="45bf5-247">This enables instance-wide settings to be configured for optimal performance of the MessageBox.</span></span> <span data-ttu-id="45bf5-248">中的优化建议[优化性能](../technical-guides/optimizing-performance.md)应该应用执行步骤的顺序如下：[优化操作系统性能](../technical-guides/optimizing-operating-system-performance.md)，[优化网络性能](../technical-guides/optimizing-network-performance.md)，[预配置数据库 Optimizations2](../technical-guides/pre-configuration-database-optimizations2.md)，[后配置数据库Optimizations2](../technical-guides/post-configuration-database-optimizations2.md)并[一般 BizTalk Server Optimizations1](../technical-guides/general-biztalk-server-optimizations1.md)。</span><span class="sxs-lookup"><span data-stu-id="45bf5-248">The optimizations recommended in [Optimizing Performance](../technical-guides/optimizing-performance.md) should be applied step by step in the following order: [Optimizing Operating System Performance](../technical-guides/optimizing-operating-system-performance.md), [Optimizing Network Performance](../technical-guides/optimizing-network-performance.md), [Pre-Configuration Database Optimizations2](../technical-guides/pre-configuration-database-optimizations2.md), [Post-Configuration Database Optimizations2](../technical-guides/post-configuration-database-optimizations2.md) and [General BizTalk Server Optimizations1](../technical-guides/general-biztalk-server-optimizations1.md).</span></span> <span data-ttu-id="45bf5-249">创建为 MessageBox 数据库的专用文件组，然后在分配这些跨 SAN Lun，如中所述[优化文件组的数据库 2](../technical-guides/optimizing-filegroups-for-the-databases2.md)，可以提供很大的性能改进，具体取决于你SAN 配置和 LUN 布局。</span><span class="sxs-lookup"><span data-stu-id="45bf5-249">Creating dedicated filegroups for the MessageBox database and allocating these across the SAN LUNs, as described in [Optimizing Filegroups for the Databases2](../technical-guides/optimizing-filegroups-for-the-databases2.md), can provide considerable performance improvement depending on your SAN configuration and LUN layout.</span></span>  
  
 <span data-ttu-id="45bf5-250">若要有效地确定如何缩放 BizTalk Server 或 SQL 层，我们建议，负载测试是使用近似实际的生产数据的消息执行。</span><span class="sxs-lookup"><span data-stu-id="45bf5-250">To effectively determine how to scale the BizTalk Server or SQL tier, we recommend that load testing be performed using messages that approximate actual production data.</span></span> <span data-ttu-id="45bf5-251">BizTalk Server 层之前，确保 SQL Server 不是已是瓶颈中的建议[监视 SQL Server 性能](../technical-guides/monitoring-sql-server-performance.md)。</span><span class="sxs-lookup"><span data-stu-id="45bf5-251">Before scaling the BizTalk Server tier, ensure that SQL Server is not already a bottleneck, as recommended in [Monitoring SQL Server Performance](../technical-guides/monitoring-sql-server-performance.md).</span></span> <span data-ttu-id="45bf5-252">如果 SQL Server 不是瓶颈，并且没有任何 BizTalk Server 计算机上的 CPU 余量，您可以通过修改主机实例布局提高吞吐量。</span><span class="sxs-lookup"><span data-stu-id="45bf5-252">If SQL Server is not a bottleneck and there is CPU headroom on any of the BizTalk Server computers, you may be able to improve throughput by modifying your host instance layout.</span></span> <span data-ttu-id="45bf5-253">请务必建立四或五个关键性能指标 (Kpi)，作为高级比较点使用的所有测试运行。</span><span class="sxs-lookup"><span data-stu-id="45bf5-253">It is important to establish four or five key performance indicators (KPIs), which are used as high-level comparison points for all test runs.</span></span> <span data-ttu-id="45bf5-254">以下这一建议，您将能够快速测量是否特定更改解决方案的总体性能下降。</span><span class="sxs-lookup"><span data-stu-id="45bf5-254">Following this advice, you will be able to quickly gauge whether a particular change degraded overall performance of the solution.</span></span>  
  
 <span data-ttu-id="45bf5-255">向外扩展 SQL Server 层之前, 应用所有中优化[优化数据库性能](../technical-guides/optimizing-database-performance.md)。</span><span class="sxs-lookup"><span data-stu-id="45bf5-255">Before scaling out the SQL Server tier, apply all of the optimizations in [Optimizing Database Performance](../technical-guides/optimizing-database-performance.md).</span></span> <span data-ttu-id="45bf5-256">在客户性能实验室的课程中，发现就是该磁盘的存储配置，MessageBox 和 TempDb 数据库特别是可以提供超过 30%吞吐量改进。</span><span class="sxs-lookup"><span data-stu-id="45bf5-256">During the course of customer performance labs, the observation was that disk storage configuration for the MessageBox and TempDb databases in particular can provide over 30 percent throughput improvement.</span></span> <span data-ttu-id="45bf5-257">缩放到多个 MessageBox 数据库，因为没有什么性能好处时向外扩展的单个 MessageBox 数据库中，到两个 MessageBox 数据库使用三个和四个 MessageBox 数据库。</span><span class="sxs-lookup"><span data-stu-id="45bf5-257">When scaling to multiple MessageBox databases, three and four MessageBox databases were used because there is little performance advantage when scaling out from a single MessageBox database to two MessageBox databases.</span></span> <span data-ttu-id="45bf5-258">有关向外扩展 BizTalk Server MessageBox 的详细信息，请参阅[缩放出 SQL Server 层](http://go.microsoft.com/fwlink/?LinkID=158075)(http://go.microsoft.com/fwlink/?LinkID=158075) BizTalk Server 文档中。</span><span class="sxs-lookup"><span data-stu-id="45bf5-258">For more information about scaling out the BizTalk Server MessageBox, see [Scaling Out the SQL Server Tier](http://go.microsoft.com/fwlink/?LinkID=158075) (http://go.microsoft.com/fwlink/?LinkID=158075) in the BizTalk Server documentation.</span></span>  
  
## <a name="implemented-optimizations"></a><span data-ttu-id="45bf5-259">实现的优化</span><span class="sxs-lookup"><span data-stu-id="45bf5-259">Implemented Optimizations</span></span>  
 <span data-ttu-id="45bf5-260">本部分提供所有已应用于实验室测试方案的优化的清单。</span><span class="sxs-lookup"><span data-stu-id="45bf5-260">This section provides a checklist of all optimizations that were applied for the lab test scenarios.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="45bf5-261">这些应测试根据您的更改管理过程之前将其在生产环境中应用。</span><span class="sxs-lookup"><span data-stu-id="45bf5-261">These should be tested in accordance with your change management procedures before applying these within your production environment.</span></span>  
  
 <span data-ttu-id="45bf5-262">以系统化、 可控制的方式应用优化-通过应用一系列优化，然后测试影响 — 将导致最大性能优势。</span><span class="sxs-lookup"><span data-stu-id="45bf5-262">Applying the optimizations in a systematic, controlled manner—by applying a set of optimizations, then testing the impact—will result in the maximum performance benefit.</span></span> <span data-ttu-id="45bf5-263">定期测试优化的影响的情况下应用优化实际上可能会导致性能下降的解决方案。</span><span class="sxs-lookup"><span data-stu-id="45bf5-263">Applying optimizations without periodically testing the impact of the optimizations may actually result in a performance degradation of the solution.</span></span>  
  
### <a name="checklists-of-optimizations-applied"></a><span data-ttu-id="45bf5-264">应用了优化的检查表</span><span class="sxs-lookup"><span data-stu-id="45bf5-264">Checklists of Optimizations Applied</span></span>  
 <span data-ttu-id="45bf5-265">**平台和网络优化**</span><span class="sxs-lookup"><span data-stu-id="45bf5-265">**Platform and Network Optimizations**</span></span>  
  
|<span data-ttu-id="45bf5-266">Optimization</span><span class="sxs-lookup"><span data-stu-id="45bf5-266">Optimization</span></span>|<span data-ttu-id="45bf5-267">参考</span><span class="sxs-lookup"><span data-stu-id="45bf5-267">Reference</span></span>|  
|------------------|---------------|  
|<span data-ttu-id="45bf5-268">BIOS:配置性能设置。</span><span class="sxs-lookup"><span data-stu-id="45bf5-268">BIOS: Configure settings for performance.</span></span>|[<span data-ttu-id="45bf5-269">优化操作系统性能</span><span class="sxs-lookup"><span data-stu-id="45bf5-269">Optimizing Operating System Performance</span></span>](../technical-guides/optimizing-operating-system-performance.md)|  
|<span data-ttu-id="45bf5-270">禁用 SQL Server 文件上的实时扫描。</span><span class="sxs-lookup"><span data-stu-id="45bf5-270">Disable real-time scanning on SQL Server files.</span></span>|[<span data-ttu-id="45bf5-271">优化操作系统性能</span><span class="sxs-lookup"><span data-stu-id="45bf5-271">Optimizing Operating System Performance</span></span>](../technical-guides/optimizing-operating-system-performance.md)|  
|<span data-ttu-id="45bf5-272">启用"高性能"电源计划在所有 BizTalk Server 和 SQL Server 计算机上。</span><span class="sxs-lookup"><span data-stu-id="45bf5-272">Enable the “High performance” Power Plan on all BizTalk Server and SQL Server computers.</span></span>|[<span data-ttu-id="45bf5-273">优化操作系统性能的通用指南</span><span class="sxs-lookup"><span data-stu-id="45bf5-273">General Guidelines for Improving Operating System Performance</span></span>](../technical-guides/general-guidelines-for-improving-operating-system-performance.md)|  
|<span data-ttu-id="45bf5-274">所有 BizTalk Server 和 SQL Server 计算机上禁用防病毒软件。</span><span class="sxs-lookup"><span data-stu-id="45bf5-274">Disable Antivirus on all BizTalk Server and SQL Server computers.</span></span>|[<span data-ttu-id="45bf5-275">优化操作系统性能的通用指南</span><span class="sxs-lookup"><span data-stu-id="45bf5-275">General Guidelines for Improving Operating System Performance</span></span>](../technical-guides/general-guidelines-for-improving-operating-system-performance.md)|  
  
 <span data-ttu-id="45bf5-276">**SQL Server 优化：常规**</span><span class="sxs-lookup"><span data-stu-id="45bf5-276">**SQL Server Optimizations: General**</span></span>  
  
|<span data-ttu-id="45bf5-277">Optimization</span><span class="sxs-lookup"><span data-stu-id="45bf5-277">Optimization</span></span>|<span data-ttu-id="45bf5-278">参考</span><span class="sxs-lookup"><span data-stu-id="45bf5-278">Reference</span></span>|  
|------------------|---------------|  
|<span data-ttu-id="45bf5-279">设置为 64 KB NTFS 文件分配单元。</span><span class="sxs-lookup"><span data-stu-id="45bf5-279">Set NTFS File Allocation Unit to 64 KB.</span></span>|[<span data-ttu-id="45bf5-280">预配置数据库 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="45bf5-280">Pre-Configuration Database Optimizations2</span></span>](../technical-guides/pre-configuration-database-optimizations2.md)|  
|<span data-ttu-id="45bf5-281">安装 SQL Server 2008 R2。</span><span class="sxs-lookup"><span data-stu-id="45bf5-281">Install SQL Server 2008 R2.</span></span>|[<span data-ttu-id="45bf5-282">预配置数据库 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="45bf5-282">Pre-Configuration Database Optimizations2</span></span>](../technical-guides/pre-configuration-database-optimizations2.md)|  
|<span data-ttu-id="45bf5-283">配置 SQL Server 2008 R2 数据收集器/仓库。</span><span class="sxs-lookup"><span data-stu-id="45bf5-283">Configure SQL Server 2008 R2 Data Collector/Warehouse.</span></span>|[<span data-ttu-id="45bf5-284">预配置数据库 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="45bf5-284">Pre-Configuration Database Optimizations2</span></span>](../technical-guides/pre-configuration-database-optimizations2.md)|  
|<span data-ttu-id="45bf5-285">请确保已将相应的 Windows 权限扩展到 SQL Server 服务帐户。</span><span class="sxs-lookup"><span data-stu-id="45bf5-285">Ensure that appropriate Windows privileges have been extended to the SQL Server Service accounts.</span></span>|<span data-ttu-id="45bf5-286">SQL Server 2008 R2:[设置 Windows 服务帐户](http://go.microsoft.com/fwlink/?LinkID=132144)(http://go.microsoft.com/fwlink/?LinkID=132144)</span><span class="sxs-lookup"><span data-stu-id="45bf5-286">SQL Server 2008 R2: [Setting Up Windows Service Accounts](http://go.microsoft.com/fwlink/?LinkID=132144) (http://go.microsoft.com/fwlink/?LinkID=132144)</span></span>|  
|<span data-ttu-id="45bf5-287">设置 SQL Server 的最小值和最大服务器内存。</span><span class="sxs-lookup"><span data-stu-id="45bf5-287">Set Minimum and Maximum Server Memory for SQL Server.</span></span>|[<span data-ttu-id="45bf5-288">预配置数据库 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="45bf5-288">Pre-Configuration Database Optimizations2</span></span>](../technical-guides/pre-configuration-database-optimizations2.md)|  
|<span data-ttu-id="45bf5-289">授予到用于 SQL Server 的帐户的 Windows 锁定内存页特权。</span><span class="sxs-lookup"><span data-stu-id="45bf5-289">Grant the Windows Lock Pages In Memory privilege to the account that is used for SQL Server.</span></span>|[<span data-ttu-id="45bf5-290">预配置数据库 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="45bf5-290">Pre-Configuration Database Optimizations2</span></span>](../technical-guides/pre-configuration-database-optimizations2.md)|  
|<span data-ttu-id="45bf5-291">预调整到适当大小的 BizTalk Server 数据库的大小与多个数据文件...</span><span class="sxs-lookup"><span data-stu-id="45bf5-291">Pre-size BizTalk Server databases to appropriate size with multiple data files..</span></span>|[<span data-ttu-id="45bf5-292">配置后数据库 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="45bf5-292">Post-Configuration Database Optimizations2</span></span>](../technical-guides/post-configuration-database-optimizations2.md)|  
|<span data-ttu-id="45bf5-293">配置 SQL Server 客户端协议。</span><span class="sxs-lookup"><span data-stu-id="45bf5-293">Configure SQL Server Client Protocols.</span></span>|<span data-ttu-id="45bf5-294">[故障排除 SQL Server](http://go.microsoft.com/fwlink/?LinkID=154250) (http://go.microsoft.com/fwlink/?LinkID=154250)</span><span class="sxs-lookup"><span data-stu-id="45bf5-294">[Troubleshooting SQL Server](http://go.microsoft.com/fwlink/?LinkID=154250) (http://go.microsoft.com/fwlink/?LinkID=154250)</span></span>|  
|<span data-ttu-id="45bf5-295">将 tempdb 数据库拆分为多个大小相等的 BizTalk Server 使用的每个 SQL Server 实例上的数据文件</span><span class="sxs-lookup"><span data-stu-id="45bf5-295">Split the tempdb database into multiple data files of equal size on each SQL Server instance used by BizTalk Server</span></span>|[<span data-ttu-id="45bf5-296">预配置数据库 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="45bf5-296">Pre-Configuration Database Optimizations2</span></span>](../technical-guides/pre-configuration-database-optimizations2.md)|  
|<span data-ttu-id="45bf5-297">手动设置 SQL Server 进程关联</span><span class="sxs-lookup"><span data-stu-id="45bf5-297">Manually set SQL Server Process Affinity</span></span>|[<span data-ttu-id="45bf5-298">预配置数据库 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="45bf5-298">Pre-Configuration Database Optimizations2</span></span>](../technical-guides/pre-configuration-database-optimizations2.md)|  
|<span data-ttu-id="45bf5-299">配置 MSDTC 和禁用 DTC 跟踪</span><span class="sxs-lookup"><span data-stu-id="45bf5-299">Configure MSDTC and disable DTC tracing</span></span>|[<span data-ttu-id="45bf5-300">预配置数据库 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="45bf5-300">Pre-Configuration Database Optimizations2</span></span>](../technical-guides/pre-configuration-database-optimizations2.md)|  
|<span data-ttu-id="45bf5-301">启用跟踪标志 T1118 作为引导参数的所有实例的 SQL Server</span><span class="sxs-lookup"><span data-stu-id="45bf5-301">Enable Trace Flag T1118 as a startup parameter for all instances of SQL Server</span></span>|[<span data-ttu-id="45bf5-302">预配置数据库 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="45bf5-302">Pre-Configuration Database Optimizations2</span></span>](../technical-guides/pre-configuration-database-optimizations2.md)|  
  
 <span data-ttu-id="45bf5-303">**SQL Server 优化：BizTalk 数据库**</span><span class="sxs-lookup"><span data-stu-id="45bf5-303">**SQL Server Optimizations: BizTalk Databases**</span></span>  
  
|<span data-ttu-id="45bf5-304">Optimization</span><span class="sxs-lookup"><span data-stu-id="45bf5-304">Optimization</span></span>|<span data-ttu-id="45bf5-305">参考</span><span class="sxs-lookup"><span data-stu-id="45bf5-305">Reference</span></span>|  
|------------------|---------------|  
|<span data-ttu-id="45bf5-306">将自动增长的 BizTalk 数据库设置为固定的值并不是百分比值。</span><span class="sxs-lookup"><span data-stu-id="45bf5-306">Set Autogrowth of BizTalk databases to a fixed value and not a percentage value.</span></span>|[<span data-ttu-id="45bf5-307">配置后数据库 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="45bf5-307">Post-Configuration Database Optimizations2</span></span>](../technical-guides/post-configuration-database-optimizations2.md)|  
|<span data-ttu-id="45bf5-308">移动/拆分 BizTalk 数据库数据和日志文件，以单独的 LUN。</span><span class="sxs-lookup"><span data-stu-id="45bf5-308">Move/split BizTalk database data and log files to separate LUNS.</span></span>|[<span data-ttu-id="45bf5-309">配置后数据库 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="45bf5-309">Post-Configuration Database Optimizations2</span></span>](../technical-guides/post-configuration-database-optimizations2.md)|  
|<span data-ttu-id="45bf5-310">请考虑设置上特定 MessageBox 数据库表的 'text in row 表选项</span><span class="sxs-lookup"><span data-stu-id="45bf5-310">Consider setting the 'text in row' table option on specific MessageBox database tables</span></span>|[<span data-ttu-id="45bf5-311">配置后数据库 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="45bf5-311">Post-Configuration Database Optimizations2</span></span>](../technical-guides/post-configuration-database-optimizations2.md)|  
  
 <span data-ttu-id="45bf5-312">**BizTalk 优化**</span><span class="sxs-lookup"><span data-stu-id="45bf5-312">**BizTalk Optimizations**</span></span>  
  
|<span data-ttu-id="45bf5-313">Optimization</span><span class="sxs-lookup"><span data-stu-id="45bf5-313">Optimization</span></span>|<span data-ttu-id="45bf5-314">参考</span><span class="sxs-lookup"><span data-stu-id="45bf5-314">Reference</span></span>|  
|------------------|---------------|  
|<span data-ttu-id="45bf5-315">单独的接收端口、 发送端口、 业务流程和单独的专用主机上的跟踪。</span><span class="sxs-lookup"><span data-stu-id="45bf5-315">Separate receive ports, send ports, orchestrations, and tracking on separate, dedicated hosts.</span></span>|[<span data-ttu-id="45bf5-316">一般 BizTalk Server Optimizations1</span><span class="sxs-lookup"><span data-stu-id="45bf5-316">General BizTalk Server Optimizations1</span></span>](../technical-guides/general-biztalk-server-optimizations1.md)|  
|<span data-ttu-id="45bf5-317">配置轮询间隔。</span><span class="sxs-lookup"><span data-stu-id="45bf5-317">Configure polling intervals.</span></span>|[<span data-ttu-id="45bf5-318">低延迟方案 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="45bf5-318">Low-Latency Scenario Optimizations2</span></span>](../technical-guides/low-latency-scenario-optimizations2.md)|  
|<span data-ttu-id="45bf5-319">调整 BizTalk 配置文件最大连接属性。</span><span class="sxs-lookup"><span data-stu-id="45bf5-319">Adjust the BizTalk configuration file maximum connection property.</span></span>|<span data-ttu-id="45bf5-320">"Increase SOAP 和 HTTP 更改 maxconnection 参数的值所允许的并发连接数"部分中的[常规 BizTalk Server Optimizations1](../technical-guides/general-biztalk-server-optimizations1.md)</span><span class="sxs-lookup"><span data-stu-id="45bf5-320">“Increase the number of SOAP and HTTP concurrent connections allowed by changing the value for the maxconnection parameter” section of [General BizTalk Server Optimizations1](../technical-guides/general-biztalk-server-optimizations1.md)</span></span>|  
|<span data-ttu-id="45bf5-321">在 BizTalk Server 的每个节点上定义每个主机实例的 CLR Hosting 参数：</span><span class="sxs-lookup"><span data-stu-id="45bf5-321">Define CLR Hosting parameters for each host instance on each BizTalk Server node:</span></span><br /><br /> <span data-ttu-id="45bf5-322">最大 IO 线程数：250</span><span class="sxs-lookup"><span data-stu-id="45bf5-322">Maximum IO Threads: 250</span></span><br /><br /> <span data-ttu-id="45bf5-323">最大工作线程数：100</span><span class="sxs-lookup"><span data-stu-id="45bf5-323">Maximum Worker Threads: 100</span></span><br /><br /> <span data-ttu-id="45bf5-324">最小 IO 线程数：25</span><span class="sxs-lookup"><span data-stu-id="45bf5-324">Minimum IO Threads: 25</span></span><br /><br /> <span data-ttu-id="45bf5-325">最小工作线程数：25</span><span class="sxs-lookup"><span data-stu-id="45bf5-325">Minimum Worker Threads: 25</span></span>|<span data-ttu-id="45bf5-326">"定义的 CLR 承载 BizTalk 主机实例的线程值"部分中的[常规 BizTalk Server Optimizations1](../technical-guides/general-biztalk-server-optimizations1.md)</span><span class="sxs-lookup"><span data-stu-id="45bf5-326">“Define CLR hosting thread values for BizTalk host instances” section of [General BizTalk Server Optimizations1](../technical-guides/general-biztalk-server-optimizations1.md)</span></span>|  
|<span data-ttu-id="45bf5-327">进程内消息和内部消息队列大小限制提高为 10000。</span><span class="sxs-lookup"><span data-stu-id="45bf5-327">Increase In-process messages and Internal Message Queue Size to 10000.</span></span>|[<span data-ttu-id="45bf5-328">低延迟方案 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="45bf5-328">Low-Latency Scenario Optimizations2</span></span>](../technical-guides/low-latency-scenario-optimizations2.md)|  
|<span data-ttu-id="45bf5-329">禁用 BizTalk Server 组级别跟踪。</span><span class="sxs-lookup"><span data-stu-id="45bf5-329">Disable BizTalk Server Group-level tracking.</span></span>|[<span data-ttu-id="45bf5-330">一般 BizTalk Server Optimizations1</span><span class="sxs-lookup"><span data-stu-id="45bf5-330">General BizTalk Server Optimizations1</span></span>](../technical-guides/general-biztalk-server-optimizations1.md)|  
|<span data-ttu-id="45bf5-331">管理并发执行隔离的接收的位置、 后端 Web 服务和 IIS 7.5 和 IIS 7.0 集成模式下运行的 WCF 服务可以托管的 ASP.NET 4 Web 应用程序请求数</span><span class="sxs-lookup"><span data-stu-id="45bf5-331">Manage the number of concurrently executing requests for ASP.NET 4 Web applications that can host isolated received locations, back-end Web services and WCF services on IIS 7.5 and IIS 7.0 running in Integrated mode</span></span>|[<span data-ttu-id="45bf5-332">一般 BizTalk Server Optimizations1</span><span class="sxs-lookup"><span data-stu-id="45bf5-332">General BizTalk Server Optimizations1</span></span>](../technical-guides/general-biztalk-server-optimizations1.md)|  
|<span data-ttu-id="45bf5-333">禁用 BizTalk Server 主机阻止</span><span class="sxs-lookup"><span data-stu-id="45bf5-333">Disable BizTalk Server host throttling</span></span>|[<span data-ttu-id="45bf5-334">一般 BizTalk Server Optimizations1</span><span class="sxs-lookup"><span data-stu-id="45bf5-334">General BizTalk Server Optimizations1</span></span>](../technical-guides/general-biztalk-server-optimizations1.md)|  
|<span data-ttu-id="45bf5-335">配置 MSDTC 和禁用 DTC 跟踪</span><span class="sxs-lookup"><span data-stu-id="45bf5-335">Configure MSDTC and disable DTC tracing</span></span>|[<span data-ttu-id="45bf5-336">一般 BizTalk Server Optimizations1</span><span class="sxs-lookup"><span data-stu-id="45bf5-336">General BizTalk Server Optimizations1</span></span>](../technical-guides/general-biztalk-server-optimizations1.md)|  
  
 <span data-ttu-id="45bf5-337">**WCF 配置优化**</span><span class="sxs-lookup"><span data-stu-id="45bf5-337">**WCF Configuration Optimizations**</span></span>  
  
|<span data-ttu-id="45bf5-338">Optimization</span><span class="sxs-lookup"><span data-stu-id="45bf5-338">Optimization</span></span>|<span data-ttu-id="45bf5-339">参考</span><span class="sxs-lookup"><span data-stu-id="45bf5-339">Reference</span></span>|  
|------------------|---------------|  
|<span data-ttu-id="45bf5-340">对于每个 WCF 服务，应用 serviceThrottling 服务行为，并将设置**maxConcurrentCalls**并**maxConcurrentSessions**为 200。</span><span class="sxs-lookup"><span data-stu-id="45bf5-340">For each WCF service, apply the serviceThrottling service behavior, and set **maxConcurrentCalls** and **maxConcurrentSessions** to 200.</span></span>|[<span data-ttu-id="45bf5-341">优化 BizTalk Server WCF 适配器性能</span><span class="sxs-lookup"><span data-stu-id="45bf5-341">Optimizing BizTalk Server WCF Adapter Performance</span></span>](../technical-guides/optimizing-biztalk-server-wcf-adapter-performance.md)|  
|<span data-ttu-id="45bf5-342">后端 WCF 服务配置文件中配置 serviceThrottling 行为的使用情况。</span><span class="sxs-lookup"><span data-stu-id="45bf5-342">Configure the usage of serviceThrottling behavior in the backend WCF service configuration file.</span></span>|[<span data-ttu-id="45bf5-343">优化 WCF Web 服务性能</span><span class="sxs-lookup"><span data-stu-id="45bf5-343">Optimizing WCF Web Service Performance</span></span>](../technical-guides/optimizing-wcf-web-service-performance.md)|  
  
## <a name="see-also"></a><span data-ttu-id="45bf5-344">请参阅</span><span class="sxs-lookup"><span data-stu-id="45bf5-344">See Also</span></span>  
 [<span data-ttu-id="45bf5-345">缩放 BizTalk Server 生产环境</span><span class="sxs-lookup"><span data-stu-id="45bf5-345">Scaling a Production BizTalk Server Environment</span></span>](../technical-guides/scaling-a-production-biztalk-server-environment.md)