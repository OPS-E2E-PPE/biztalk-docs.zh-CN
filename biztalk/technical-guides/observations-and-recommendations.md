---
title: 观察值和建议 |Microsoft 文档
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 88289080-1a59-4ffc-a0b2-312ec21940c2
caps.latest.revision: 17
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: fba4c82725239bb8e37d8bf611dd721d1ee1514b
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
ms.locfileid: "22299701"
---
# <a name="observations-and-recommendations"></a><span data-ttu-id="3b2c9-102">观察值和建议</span><span class="sxs-lookup"><span data-stu-id="3b2c9-102">Observations and Recommendations</span></span>
## <a name="test-results-summary"></a><span data-ttu-id="3b2c9-103">测试结果摘要</span><span class="sxs-lookup"><span data-stu-id="3b2c9-103">Test Results Summary</span></span>  
 <span data-ttu-id="3b2c9-104">仅限消息的方案的结果令要 ~ 每天 109,382,400 消息。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-104">The results for the Messaging-only scenario were observed to be ~ 109,382,400 messages per day.</span></span> <span data-ttu-id="3b2c9-105">对于业务流程的方案，结果将指示运行 BizTalk Server 的单台计算机可以处理每天最多 58,752,000 消息。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-105">For the Orchestration scenario, the results indicate that a single computer running BizTalk Server can process up to 58,752,000 messages per day.</span></span> <span data-ttu-id="3b2c9-106">在沙盒环境使用正常的企业级的硬件部署的很多 BizTalk Server 解决方案来实现这些结果。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-106">These results were achieved in a sandboxed environment using normal enterprise-class hardware deployed for many BizTalk Server solutions.</span></span> <span data-ttu-id="3b2c9-107">因此，这些结果指示的一种 BizTalk 服务器性能的则可通过实现任何自定义代码。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-107">Therefore, these results indicate the type of BizTalk Server performance of that can be achieved with no custom code.</span></span> <span data-ttu-id="3b2c9-108">客户解决方案通常涉及到自定义方式开发 BizTalk 项目;在许多情况下这会增加处理要求这反过来会影响性能。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-108">Customer solutions often involve custom-developed BizTalk artifacts; in many cases this increases processing requirements which in turn affects performance.</span></span> <span data-ttu-id="3b2c9-109">按照本指南中讲述的建议特别[优化 BizTalk 服务器应用程序](../technical-guides/optimizing-biztalk-server-applications.md)部分，实现自定义方式开发 BizTalk Server 项目可以最小化的影响。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-109">By following the advice presented in this guide, particularly the [Optimizing BizTalk Server Applications](../technical-guides/optimizing-biztalk-server-applications.md) section, the impact of implementing custom-developed BizTalk Server artifacts can be minimized.</span></span>  
  
 <span data-ttu-id="3b2c9-110">下表提供为此性能评估的测试结果摘要。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-110">The following table provides a summary of the test results for this performance assessment.</span></span>  
  
|<span data-ttu-id="3b2c9-111">应用场景</span><span class="sxs-lookup"><span data-stu-id="3b2c9-111">Scenario</span></span>|<span data-ttu-id="3b2c9-112">消息传递 (BizTalk KPI-每秒处理的文档)</span><span class="sxs-lookup"><span data-stu-id="3b2c9-112">Messaging (BizTalk KPI – Documents Processed per Second)</span></span>|<span data-ttu-id="3b2c9-113">消息传送 (SQL KPI – SQL 处理器使用率)</span><span class="sxs-lookup"><span data-stu-id="3b2c9-113">Messaging (SQL KPI – SQL Processor Utilization)</span></span>|<span data-ttu-id="3b2c9-114">消息延迟 （秒）</span><span class="sxs-lookup"><span data-stu-id="3b2c9-114">Messaging Latency (Seconds)</span></span>|<span data-ttu-id="3b2c9-115">业务流程 (BizTalk KPI-每秒处理的文档)</span><span class="sxs-lookup"><span data-stu-id="3b2c9-115">Orchestration (BizTalk KPI – Documents Processed per Second)</span></span>|<span data-ttu-id="3b2c9-116">业务流程 (SQL KPI – SQL 处理器使用率)</span><span class="sxs-lookup"><span data-stu-id="3b2c9-116">Orchestration (SQL KPI – SQL Processor Utilization)</span></span>|<span data-ttu-id="3b2c9-117">业务流程延迟 （秒）</span><span class="sxs-lookup"><span data-stu-id="3b2c9-117">Orchestration Latency (Seconds)</span></span>|  
|--------------|----------------------------------------------------------------|-------------------------------------------------------|-----------------------------------|--------------------------------------------------------------------|-----------------------------------------------------------|---------------------------------------|  
|<span data-ttu-id="3b2c9-118">单个 MessageBox 1 BizTalk Server 计算机</span><span class="sxs-lookup"><span data-stu-id="3b2c9-118">Single MessageBox 1 BizTalk Server computer</span></span>|<span data-ttu-id="3b2c9-119">每秒处理的 1266年文档</span><span class="sxs-lookup"><span data-stu-id="3b2c9-119">1266 documents processed per second</span></span>|<span data-ttu-id="3b2c9-120">59%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="3b2c9-120">59% SQL CPU utilization</span></span>|<span data-ttu-id="3b2c9-121">0.06</span><span class="sxs-lookup"><span data-stu-id="3b2c9-121">0.06</span></span>|<span data-ttu-id="3b2c9-122">每秒处理的 680 文档</span><span class="sxs-lookup"><span data-stu-id="3b2c9-122">680 documents processed per second</span></span>|<span data-ttu-id="3b2c9-123">66.5%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="3b2c9-123">66.5% SQL CPU utilization</span></span>|<span data-ttu-id="3b2c9-124">0.067</span><span class="sxs-lookup"><span data-stu-id="3b2c9-124">0.067</span></span>|  
|<span data-ttu-id="3b2c9-125">单个 MessageBox 2 BizTalk Server 计算机</span><span class="sxs-lookup"><span data-stu-id="3b2c9-125">Single MessageBox 2 BizTalk Server computers</span></span>|<span data-ttu-id="3b2c9-126">每秒处理的 1267年文档</span><span class="sxs-lookup"><span data-stu-id="3b2c9-126">1267 documents processed per second</span></span>|<span data-ttu-id="3b2c9-127">59.8%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="3b2c9-127">59.8% SQL CPU utilization</span></span>|<span data-ttu-id="3b2c9-128">0.057</span><span class="sxs-lookup"><span data-stu-id="3b2c9-128">0.057</span></span>|<span data-ttu-id="3b2c9-129">每秒处理的 686 文档</span><span class="sxs-lookup"><span data-stu-id="3b2c9-129">686 documents processed per second</span></span>|<span data-ttu-id="3b2c9-130">68.5%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="3b2c9-130">68.5% SQL CPU utilization</span></span>|<span data-ttu-id="3b2c9-131">0.067</span><span class="sxs-lookup"><span data-stu-id="3b2c9-131">0.067</span></span>|  
|<span data-ttu-id="3b2c9-132">3 MessageBox 1 BizTalk Server 计算机</span><span class="sxs-lookup"><span data-stu-id="3b2c9-132">3 MessageBox 1 BizTalk Server computers</span></span>|<span data-ttu-id="3b2c9-133">每秒处理的 2102年文档</span><span class="sxs-lookup"><span data-stu-id="3b2c9-133">2102 documents processed per second</span></span>|<span data-ttu-id="3b2c9-134">41%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="3b2c9-134">41% SQL CPU utilization</span></span>|<span data-ttu-id="3b2c9-135">0.077</span><span class="sxs-lookup"><span data-stu-id="3b2c9-135">0.077</span></span>|<span data-ttu-id="3b2c9-136">每秒处理的 974 文档</span><span class="sxs-lookup"><span data-stu-id="3b2c9-136">974 documents processed per second</span></span>|<span data-ttu-id="3b2c9-137">48%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="3b2c9-137">48% SQL CPU utilization</span></span>|<span data-ttu-id="3b2c9-138">0.11</span><span class="sxs-lookup"><span data-stu-id="3b2c9-138">0.11</span></span>|  
|<span data-ttu-id="3b2c9-139">3 MessageBox 2 BizTalk Server 计算机</span><span class="sxs-lookup"><span data-stu-id="3b2c9-139">3 MessageBox 2 BizTalk Server computers</span></span>|<span data-ttu-id="3b2c9-140">每秒处理的 2285年文档</span><span class="sxs-lookup"><span data-stu-id="3b2c9-140">2285 documents processed per second</span></span>|<span data-ttu-id="3b2c9-141">58%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="3b2c9-141">58% SQL CPU utilization</span></span>|<span data-ttu-id="3b2c9-142">0.041</span><span class="sxs-lookup"><span data-stu-id="3b2c9-142">0.041</span></span>|<span data-ttu-id="3b2c9-143">每秒处理的 1065年文档</span><span class="sxs-lookup"><span data-stu-id="3b2c9-143">1065 documents processed per second</span></span>|<span data-ttu-id="3b2c9-144">65%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="3b2c9-144">65% SQL CPU utilization</span></span>|<span data-ttu-id="3b2c9-145">0..69</span><span class="sxs-lookup"><span data-stu-id="3b2c9-145">0..69</span></span>|  
|<span data-ttu-id="3b2c9-146">4 MessageBoxes 1 BizTalk Server 计算机</span><span class="sxs-lookup"><span data-stu-id="3b2c9-146">4 MessageBoxes 1 BizTalk Server computers</span></span>|<span data-ttu-id="3b2c9-147">每秒处理的 2125年文档</span><span class="sxs-lookup"><span data-stu-id="3b2c9-147">2125 documents processed per second</span></span>|<span data-ttu-id="3b2c9-148">30%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="3b2c9-148">30% SQL CPU utilization</span></span>|<span data-ttu-id="3b2c9-149">0.078</span><span class="sxs-lookup"><span data-stu-id="3b2c9-149">0.078</span></span>|<span data-ttu-id="3b2c9-150">每秒处理的 979 文档</span><span class="sxs-lookup"><span data-stu-id="3b2c9-150">979 documents processed per second</span></span>|<span data-ttu-id="3b2c9-151">37%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="3b2c9-151">37% SQL CPU utilization</span></span>|<span data-ttu-id="3b2c9-152">0.095</span><span class="sxs-lookup"><span data-stu-id="3b2c9-152">0.095</span></span>|  
|<span data-ttu-id="3b2c9-153">4 MessageBoxes 2 BizTalk Server 计算机</span><span class="sxs-lookup"><span data-stu-id="3b2c9-153">4 MessageBoxes 2 BizTalk Server computers</span></span>|<span data-ttu-id="3b2c9-154">每秒处理的 2790年文档</span><span class="sxs-lookup"><span data-stu-id="3b2c9-154">2790 documents processed per second</span></span>|<span data-ttu-id="3b2c9-155">50%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="3b2c9-155">50% SQL CPU utilization</span></span>|<span data-ttu-id="3b2c9-156">0.052</span><span class="sxs-lookup"><span data-stu-id="3b2c9-156">0.052</span></span>|<span data-ttu-id="3b2c9-157">每秒处理的 1487年文档</span><span class="sxs-lookup"><span data-stu-id="3b2c9-157">1487 documents processed per second</span></span>|<span data-ttu-id="3b2c9-158">63%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="3b2c9-158">63% SQL CPU utilization</span></span>|<span data-ttu-id="3b2c9-159">0.15</span><span class="sxs-lookup"><span data-stu-id="3b2c9-159">0.15</span></span>|  
|<span data-ttu-id="3b2c9-160">4 MessageBoxes 3 BizTalk Server 计算机</span><span class="sxs-lookup"><span data-stu-id="3b2c9-160">4 MessageBoxes 3 BizTalk Server computers</span></span>|<span data-ttu-id="3b2c9-161">每秒处理的 2656年文档</span><span class="sxs-lookup"><span data-stu-id="3b2c9-161">2656 documents processed per second</span></span>|<span data-ttu-id="3b2c9-162">58%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="3b2c9-162">58% SQL CPU utilization</span></span>|<span data-ttu-id="3b2c9-163">0.074</span><span class="sxs-lookup"><span data-stu-id="3b2c9-163">0.074</span></span>|<span data-ttu-id="3b2c9-164">每秒处理的 1388年文档</span><span class="sxs-lookup"><span data-stu-id="3b2c9-164">1388 documents processed per second</span></span>|<span data-ttu-id="3b2c9-165">65%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="3b2c9-165">65% SQL CPU utilization</span></span>|<span data-ttu-id="3b2c9-166">0.15</span><span class="sxs-lookup"><span data-stu-id="3b2c9-166">0.15</span></span>|  
  
## <a name="comparison-of-performance-statistics-with-biztalk-server-2009"></a><span data-ttu-id="3b2c9-167">与 BizTalk Server 2009 性能统计信息的比较</span><span class="sxs-lookup"><span data-stu-id="3b2c9-167">Comparison of performance statistics with BizTalk Server 2009</span></span>  
 <span data-ttu-id="3b2c9-168">下表显示了 BizTalk Server 2009 和 BizTalk Server 2010 之间的性能统计信息的比较。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-168">The following table shows a comparison of performance statistics between BizTalk Server 2009 and BizTalk Server 2010.</span></span> <span data-ttu-id="3b2c9-169">此表中列出的 BizTalk Server 2009 性能统计信息都是从 BizTalk Server 2009 性能和优化指南。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-169">The BizTalk Server 2009 performance statistics listed in this table are from the BizTalk Server 2009 Performance and Optimization Guide.</span></span>  
  
|<span data-ttu-id="3b2c9-170">应用场景</span><span class="sxs-lookup"><span data-stu-id="3b2c9-170">Scenario</span></span>|<span data-ttu-id="3b2c9-171">BizTalk Server 2009</span><span class="sxs-lookup"><span data-stu-id="3b2c9-171">BizTalk Server 2009</span></span><br /> <span data-ttu-id="3b2c9-172">最大可持续吞吐量 (MST) 消息数/秒</span><span class="sxs-lookup"><span data-stu-id="3b2c9-172">Maximum Sustainable Throughput (MST) msgs/sec</span></span>|<span data-ttu-id="3b2c9-173">BizTalk Server 2009</span><span class="sxs-lookup"><span data-stu-id="3b2c9-173">BizTalk Server 2009</span></span><br /><span data-ttu-id="3b2c9-174">所需的 BizTalk 服务器数量</span><span class="sxs-lookup"><span data-stu-id="3b2c9-174">Number of BizTalk Servers needed</span></span>|<span data-ttu-id="3b2c9-175">BizTalk Server 2010</span><span class="sxs-lookup"><span data-stu-id="3b2c9-175">BizTalk Server 2010</span></span><br /><span data-ttu-id="3b2c9-176">最大可持续吞吐量 (MST) 消息数/秒</span><span class="sxs-lookup"><span data-stu-id="3b2c9-176">Maximum Sustainable Throughput (MST) msgs/sec</span></span>|<span data-ttu-id="3b2c9-177">BizTalk Server 2010</span><span class="sxs-lookup"><span data-stu-id="3b2c9-177">BizTalk Server 2010</span></span><br /><span data-ttu-id="3b2c9-178">所需的 BizTalk 服务器数量</span><span class="sxs-lookup"><span data-stu-id="3b2c9-178">Number of BizTalk Servers needed</span></span>|<span data-ttu-id="3b2c9-179">BizTalk Server 2010%区别 BizTalk Server 2009</span><span class="sxs-lookup"><span data-stu-id="3b2c9-179">BizTalk Server 2010 % difference from BizTalk Server 2009</span></span>|  
|--------------|----------------------------------------------------------------------------|-----------------------------------------------------------|---------------------------------------------------------------------------|-----------------------------------------------------------|---------------------------------------------------------------|  
|<span data-ttu-id="3b2c9-180">消息传送-单一 MessageBox</span><span class="sxs-lookup"><span data-stu-id="3b2c9-180">Messaging - Single MessageBox</span></span>|<span data-ttu-id="3b2c9-181">1291</span><span class="sxs-lookup"><span data-stu-id="3b2c9-181">1291</span></span>|<span data-ttu-id="3b2c9-182">2</span><span class="sxs-lookup"><span data-stu-id="3b2c9-182">2</span></span>|<span data-ttu-id="3b2c9-183">1266</span><span class="sxs-lookup"><span data-stu-id="3b2c9-183">1266</span></span>|<span data-ttu-id="3b2c9-184">1</span><span class="sxs-lookup"><span data-stu-id="3b2c9-184">1</span></span>|<span data-ttu-id="3b2c9-185">98.06%</span><span class="sxs-lookup"><span data-stu-id="3b2c9-185">98.06%</span></span>|  
|<span data-ttu-id="3b2c9-186">业务流程的单个消息框</span><span class="sxs-lookup"><span data-stu-id="3b2c9-186">Orchestration - Single MessageBox</span></span>|<span data-ttu-id="3b2c9-187">676</span><span class="sxs-lookup"><span data-stu-id="3b2c9-187">676</span></span>|<span data-ttu-id="3b2c9-188">2</span><span class="sxs-lookup"><span data-stu-id="3b2c9-188">2</span></span>|<span data-ttu-id="3b2c9-189">680</span><span class="sxs-lookup"><span data-stu-id="3b2c9-189">680</span></span>|<span data-ttu-id="3b2c9-190">1</span><span class="sxs-lookup"><span data-stu-id="3b2c9-190">1</span></span>|<span data-ttu-id="3b2c9-191">100.59%</span><span class="sxs-lookup"><span data-stu-id="3b2c9-191">100.59%</span></span>|  
|<span data-ttu-id="3b2c9-192">消息传送-3 MessageBoxes</span><span class="sxs-lookup"><span data-stu-id="3b2c9-192">Messaging - 3 MessageBoxes</span></span>|<span data-ttu-id="3b2c9-193">2103</span><span class="sxs-lookup"><span data-stu-id="3b2c9-193">2103</span></span>|<span data-ttu-id="3b2c9-194">3</span><span class="sxs-lookup"><span data-stu-id="3b2c9-194">3</span></span>|<span data-ttu-id="3b2c9-195">2285</span><span class="sxs-lookup"><span data-stu-id="3b2c9-195">2285</span></span>|<span data-ttu-id="3b2c9-196">2 （使用 1 BTS 2102/秒）</span><span class="sxs-lookup"><span data-stu-id="3b2c9-196">2 (2102/sec with 1 BTS)</span></span>|<span data-ttu-id="3b2c9-197">108.65%</span><span class="sxs-lookup"><span data-stu-id="3b2c9-197">108.65%</span></span>|  
|<span data-ttu-id="3b2c9-198">消息传送-4 MessageBoxes</span><span class="sxs-lookup"><span data-stu-id="3b2c9-198">Messaging - 4 MessageBoxes</span></span>|<span data-ttu-id="3b2c9-199">不适用</span><span class="sxs-lookup"><span data-stu-id="3b2c9-199">Not applicable</span></span>|<span data-ttu-id="3b2c9-200">不适用</span><span class="sxs-lookup"><span data-stu-id="3b2c9-200">Not applicable</span></span>|<span data-ttu-id="3b2c9-201">2790</span><span class="sxs-lookup"><span data-stu-id="3b2c9-201">2790</span></span>|<span data-ttu-id="3b2c9-202">2</span><span class="sxs-lookup"><span data-stu-id="3b2c9-202">2</span></span>|<span data-ttu-id="3b2c9-203">不适用</span><span class="sxs-lookup"><span data-stu-id="3b2c9-203">Not applicable</span></span>|  
|<span data-ttu-id="3b2c9-204">业务流程-3 MessageBoxes</span><span class="sxs-lookup"><span data-stu-id="3b2c9-204">Orchestration - 3 MessageBoxes</span></span>|<span data-ttu-id="3b2c9-205">1005</span><span class="sxs-lookup"><span data-stu-id="3b2c9-205">1005</span></span>|<span data-ttu-id="3b2c9-206">4</span><span class="sxs-lookup"><span data-stu-id="3b2c9-206">4</span></span>|<span data-ttu-id="3b2c9-207">1065</span><span class="sxs-lookup"><span data-stu-id="3b2c9-207">1065</span></span>|<span data-ttu-id="3b2c9-208">2 （使用 1 BTS 974/秒）</span><span class="sxs-lookup"><span data-stu-id="3b2c9-208">2 (974/sec with 1 BTS)</span></span>|<span data-ttu-id="3b2c9-209">105.97%</span><span class="sxs-lookup"><span data-stu-id="3b2c9-209">105.97%</span></span>|  
|<span data-ttu-id="3b2c9-210">业务流程-4 MessageBoxes</span><span class="sxs-lookup"><span data-stu-id="3b2c9-210">Orchestration - 4 MessageBoxes</span></span>|<span data-ttu-id="3b2c9-211">不适用</span><span class="sxs-lookup"><span data-stu-id="3b2c9-211">Not applicable</span></span>|<span data-ttu-id="3b2c9-212">不适用</span><span class="sxs-lookup"><span data-stu-id="3b2c9-212">Not applicable</span></span>|<span data-ttu-id="3b2c9-213">1487</span><span class="sxs-lookup"><span data-stu-id="3b2c9-213">1487</span></span>|<span data-ttu-id="3b2c9-214">2</span><span class="sxs-lookup"><span data-stu-id="3b2c9-214">2</span></span>|<span data-ttu-id="3b2c9-215">不适用</span><span class="sxs-lookup"><span data-stu-id="3b2c9-215">Not applicable</span></span>|  
  
 <span data-ttu-id="3b2c9-216">在实验室环境中，使用四个 MessageBox 数据库时，最大可持续吞吐量结果如下所示：</span><span class="sxs-lookup"><span data-stu-id="3b2c9-216">In our lab environment, when using four MessageBox databases, the maximum sustainable throughput results were as follows:</span></span>  
  
-   <span data-ttu-id="3b2c9-217">对于消息传递方案，每秒的 2790年文档。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-217">For messaging scenario, 2790 documents per second.</span></span>  
  
-   <span data-ttu-id="3b2c9-218">对于业务流程的方案，每秒的 1487年文档。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-218">For orchestration scenario, 1487 documents per second.</span></span>  
  
 <span data-ttu-id="3b2c9-219">**消息注意事项**而 BizTalk Server 规定了对消息大小没有限制，我们运行 BizTalk Server 2010 的测试在使用 2 KB 的消息，WCF 适配器使用的类型了 WCF NetTCP 适配器。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-219">**Message considerations** While BizTalk Server imposes no restriction on message size, the tests we ran for BizTalk Server 2010 used 2-KB messages only and the type of WCF adapter used was WCF-NetTCP adapter.</span></span> <span data-ttu-id="3b2c9-220">这与 BizTalk Server 2009 性能优化指南的测试中使用的消息大小和适配器类型相匹配。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-220">This matches the message size and adapter type used in the testing for the BizTalk Server 2009 Performance Optimization Guide.</span></span>  
  
 <span data-ttu-id="3b2c9-221">性能改善的驱动程序：</span><span class="sxs-lookup"><span data-stu-id="3b2c9-221">The drivers for the performance improvement are:</span></span>  
  
1.  <span data-ttu-id="3b2c9-222">**硬件改进**-我们实验室中使用的 SQL Server 计算机已 4 个 CPU，四核 （16 个核心） 和 @ 2.40 GHz Intel Xeon E7330。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-222">**Hardware advancements** - The SQL Server computers used in our lab were 4-CPU, quad-core (16 cores), Intel Xeon E7330 @ 2.40 GHz.</span></span> <span data-ttu-id="3b2c9-223">在 2009年测试中，4 个 CPU，个四核 （16 个核心） 和 Intel Xeon 2.4 GHz 已使用。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-223">In the 2009 tests, 4-CPU, quad-core (16 cores), Intel Xeon 2.4 GHz were used.</span></span>  
  
     <span data-ttu-id="3b2c9-224">我们实验室中使用的 BizTalk Server 计算机已 2 个 CPU，四核 （8 核），Nehalem 超线程 (16 个逻辑核心） 和 Intel Xeon X 5570 @ 2.93 GHz。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-224">The BizTalk Server computers used in our lab were 2-CPU, quad-core (8 cores), Nehalem Hyper-Threaded (16 logical cores), Intel Xeon X5570 @ 2.93 GHz.</span></span> <span data-ttu-id="3b2c9-225">在 2009年测试中，2 个 CPU，个四核 （8 核），Intel Xeon 2.33 GHz 已使用。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-225">In the 2009 tests, 2-CPU, quad-core (8 cores), Intel Xeon 2.33 GHz were used.</span></span>  
  
2.  <span data-ttu-id="3b2c9-226">**SQL Server 引擎的改进**-在 2009年测试针对 SQL Server 2008 中，而与作为基础数据库平台的 SQL Server 2008 R2 执行我们的测试执行。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-226">**Improvement of SQL Server Engine** - The tests in 2009 were performed against SQL Server 2008, whereas our tests were performed with SQL Server 2008 R2 as the underlying database platform.</span></span>  
  
## <a name="recommendations-for-scaling-the-biztalk-server-and-sql-server-tiers"></a><span data-ttu-id="3b2c9-227">缩放 BizTalk Server 和 SQL Server 层的建议</span><span class="sxs-lookup"><span data-stu-id="3b2c9-227">Recommendations for scaling the BizTalk Server and SQL Server tiers</span></span>  
 <span data-ttu-id="3b2c9-228">与这些结果中，BizTalk Server 产品团队已能够演示，单个 BizTalk Server 计算机和一台 SQL Server 计算机可以支持 109 亿万条消息在消息传递方案中并且 58 万个业务流程的 24 小时期间。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-228">With these results, the BizTalk Server Product Team was able to demonstrate that a single BizTalk Server computer and a single SQL Server computer can support over 109 million messages in a messaging scenario and 58 million orchestrations during a 24-hour period.</span></span> <span data-ttu-id="3b2c9-229">通过缩放到我们的环境中可用的最佳配置 BizTalk Server 和 SQL 层，我们都能处理 over241 100 万次消息每天和 128 多万业务流程。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-229">By scaling the BizTalk Server and SQL tiers to the optimal configuration available in our environment, we were able to process over241 million messages per day and over 128 million orchestrations.</span></span> <span data-ttu-id="3b2c9-230">通过使用在许多企业中部署的硬件类在沙盒环境中执行结果。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-230">The results were performed in a sandboxed environment by using the class of hardware deployed in many enterprises.</span></span> <span data-ttu-id="3b2c9-231">如上文所述，这些数字表示实际的性能，可以使用任何自定义代码和优化的环境中实现的 BizTalk server。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-231">As stated earlier, these numbers represent realistic performance of BizTalk Server that can be achieved with no custom code and an optimized environment.</span></span>  <span data-ttu-id="3b2c9-232">使用其他硬件，则可能甚至更高的性能可能已达到。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-232">With additional hardware, it is possible that even greater performance could have been achieved.</span></span> <span data-ttu-id="3b2c9-233">客户解决方案通常涉及到自定义方式开发 BizTalk 项目，会产生额外的处理要求，因此提高资源利用率、 反过来降低整体性能。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-233">Customer solutions often involve custom-developed BizTalk artifacts that incur additional processing requirements, hence increasing resource utilization and in turn reducing overall performance.</span></span> <span data-ttu-id="3b2c9-234">但是，按照所述在指南中，尤其是中的建议的建议[优化 BizTalk 服务器应用程序](../technical-guides/optimizing-biztalk-server-applications.md)，此方法的影响最小化。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-234">However, by following the advice outlined throughout the guide, particularly the recommendations in [Optimizing BizTalk Server Applications](../technical-guides/optimizing-biztalk-server-applications.md), the impact of this can be minimized.</span></span>  
  
 <span data-ttu-id="3b2c9-235">结果演示，是否 MessageBox SQL Server 计算机不是瓶颈，向外扩展的 BizTalk Server 计算机的数量是有效的向外扩展策略。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-235">The results demonstrate that scaling out the number of BizTalk Server computers is an effective scale-out strategy if the MessageBox SQL Server computer is not a bottleneck.</span></span> <span data-ttu-id="3b2c9-236">在我们的结果指示，因为我们观察到一个争用点发生 MessageBox 数据库内共享的表格上，添加 BizTalk Server 计算机成为低效的横向扩展方法的某些点之后, 导致到的性能降低。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-236">After a certain point our results indicate that adding BizTalk Server computers becomes an ineffective scale-out technique because we observed that a contention point occurred on the shared tables within the MessageBox database, which caused performance to diminish.</span></span> <span data-ttu-id="3b2c9-237">若要最大化可以从具有单个 MessageBox 数据库的 BizTalk Server 组中获取的结果，你应该应用中所述的优化[优化数据库性能](../technical-guides/optimizing-database-performance.md)。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-237">To maximize the results that can be obtained from a BizTalk Server group with a single MessageBox database, you should apply the optimizations described in [Optimizing Database Performance](../technical-guides/optimizing-database-performance.md).</span></span> <span data-ttu-id="3b2c9-238">具体而言，应确保快速存储子系统用于 SQL Server 存储和 SQL Server 用于存储 MessageBox 数据库文件的逻辑磁盘响应时间尽可能短。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-238">In particular, you should ensure that a fast storage subsystem is used for the SQL Server storage and that the logical disks used by SQL Server to store the MessageBox database files respond in the shortest possible time.</span></span> <span data-ttu-id="3b2c9-239">可接受的读/写性能测量的常用的阈值为 15 毫秒;通常这被测量得出 avg.Disk sec/Read 和 avg.可在逻辑磁盘性能对象下找到的磁盘 sec/Write 计数器。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-239">A commonly used threshold for measuring acceptable read/write performance is 15 milliseconds; typically this is measured by the Avg. Disk sec/Read and Avg. Disk sec/Write counters that can be found under the Logical Disk performance object.</span></span> <span data-ttu-id="3b2c9-240">一旦所有可用优化已应用于承载 MessageBox 数据库的 SQL Server 计算机，可以添加其他 MessageBox 数据库。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-240">Once all available optimizations have been applied to the SQL Server computer that hosts the MessageBox database, additional MessageBox databases can be added.</span></span> <span data-ttu-id="3b2c9-241">同样的优化技术应用于主 MessageBox 数据库也应该将应用到辅助数据库。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-241">The same optimization techniques that were applied to the primary MessageBox database should also be applied to the secondary databases.</span></span> <span data-ttu-id="3b2c9-242">我们建议你遵循中的准则[缩放出 SQL Server 层](http://go.microsoft.com/fwlink/?LinkID=158075)(http://go.microsoft.com/fwlink/?LinkID=158075) BizTalk Server 文档中。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-242">We recommend that you follow the guidelines in [Scaling Out the SQL Server Tier](http://go.microsoft.com/fwlink/?LinkID=158075) (http://go.microsoft.com/fwlink/?LinkID=158075) in the BizTalk Server documentation.</span></span>  
  
 <span data-ttu-id="3b2c9-243">若要获得最佳结果，整个的硬件和软件堆栈需要的适当的质量，并正确配置。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-243">To gain optimal results, the whole hardware and software stack needs to be of appropriate quality and also configured correctly.</span></span> <span data-ttu-id="3b2c9-244">首先，较高的质量硬件应购买包括，但不是限于千兆网络连接、 快速存储 （SAN 或 15-K 本地 SQL 磁盘） 和现代具有多个 Cpu，具有多个内核，每个 CPU 的计算机。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-244">First, good quality hardware should be purchased including, but not limited to, gigabit networking, fast storage (SAN or 15-K local SQL disks) and modern computers that have multiple CPUs with multiple cores per CPU.</span></span> <span data-ttu-id="3b2c9-245">SQL Server 计算机应将专用于 BizTalk Server 仅处理。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-245">The SQL Server computer should be dedicated to BizTalk Server processing only.</span></span> <span data-ttu-id="3b2c9-246">当运行单个 SQL Server 计算机时，我们建议，可创建的 SQL 的两个实例，一个用于 BizTalk MessageBox，所有其他数据库的一个。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-246">When running a single SQL Server computer, we recommend that two instances of SQL be created, one for the BizTalk MessageBox and one for all other databases.</span></span> <span data-ttu-id="3b2c9-247">这使实例范围的设置配置为获得最佳性能的 MessageBox。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-247">This enables instance-wide settings to be configured for optimal performance of the MessageBox.</span></span> <span data-ttu-id="3b2c9-248">中的优化建议[优化性能](../technical-guides/optimizing-performance.md)应该应用按以下顺序分步：[优化操作系统性能](../technical-guides/optimizing-operating-system-performance.md)，[优化网络性能](../technical-guides/optimizing-network-performance.md)，[预配置数据库 Optimizations2](../technical-guides/pre-configuration-database-optimizations2.md)，[后配置数据库 Optimizations2](../technical-guides/post-configuration-database-optimizations2.md)和[常规 BizTalk ServerOptimizations1](../technical-guides/general-biztalk-server-optimizations1.md)。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-248">The optimizations recommended in [Optimizing Performance](../technical-guides/optimizing-performance.md) should be applied step by step in the following order: [Optimizing Operating System Performance](../technical-guides/optimizing-operating-system-performance.md), [Optimizing Network Performance](../technical-guides/optimizing-network-performance.md), [Pre-Configuration Database Optimizations2](../technical-guides/pre-configuration-database-optimizations2.md), [Post-Configuration Database Optimizations2](../technical-guides/post-configuration-database-optimizations2.md) and [General BizTalk Server Optimizations1](../technical-guides/general-biztalk-server-optimizations1.md).</span></span> <span data-ttu-id="3b2c9-249">创建专用的 MessageBox 数据库文件组和分配这些跨 SAN Lun 中, 所述[Databases2 优化文件组](../technical-guides/optimizing-filegroups-for-the-databases2.md)，可提供很大的性能改进，具体取决于你SAN 配置和 LUN 布局。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-249">Creating dedicated filegroups for the MessageBox database and allocating these across the SAN LUNs, as described in [Optimizing Filegroups for the Databases2](../technical-guides/optimizing-filegroups-for-the-databases2.md), can provide considerable performance improvement depending on your SAN configuration and LUN layout.</span></span>  
  
 <span data-ttu-id="3b2c9-250">若要有效地确定如何缩放 BizTalk Server 或 SQL 层，我们建议，负载测试是使用近似实际生产数据的消息执行。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-250">To effectively determine how to scale the BizTalk Server or SQL tier, we recommend that load testing be performed using messages that approximate actual production data.</span></span> <span data-ttu-id="3b2c9-251">在缩放 BizTalk Server 层前, 确保 SQL Server 不是已是瓶颈，根据中的建议[监视 SQL Server 性能](../technical-guides/monitoring-sql-server-performance.md)。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-251">Before scaling the BizTalk Server tier, ensure that SQL Server is not already a bottleneck, as recommended in [Monitoring SQL Server Performance](../technical-guides/monitoring-sql-server-performance.md).</span></span> <span data-ttu-id="3b2c9-252">如果 SQL Server 不成为瓶颈，并且没有任何 BizTalk Server 计算机上的 CPU 预留空间，你可能能够通过修改您的主机实例布局提高吞吐量。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-252">If SQL Server is not a bottleneck and there is CPU headroom on any of the BizTalk Server computers, you may be able to improve throughput by modifying your host instance layout.</span></span> <span data-ttu-id="3b2c9-253">请务必建立四个或五个关键绩效指标 (Kpi)，用于为所有测试运行作为粗略比较点。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-253">It is important to establish four or five key performance indicators (KPIs), which are used as high-level comparison points for all test runs.</span></span> <span data-ttu-id="3b2c9-254">以下建议，你将能够快速仪表是否特定更改的解决方案的总体性能下降。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-254">Following this advice, you will be able to quickly gauge whether a particular change degraded overall performance of the solution.</span></span>  
  
 <span data-ttu-id="3b2c9-255">在横向扩展 SQL Server 层之前, 应用所有中优化[优化数据库性能](../technical-guides/optimizing-database-performance.md)。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-255">Before scaling out the SQL Server tier, apply all of the optimizations in [Optimizing Database Performance](../technical-guides/optimizing-database-performance.md).</span></span> <span data-ttu-id="3b2c9-256">在客户性能实验室的过程中，观察已 MessageBox 该磁盘存储配置，TempDb 数据库尤其是可以提供超过 30%吞吐量改进。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-256">During the course of customer performance labs, the observation was that disk storage configuration for the MessageBox and TempDb databases in particular can provide over 30 percent throughput improvement.</span></span> <span data-ttu-id="3b2c9-257">缩小到 MessageBox 的多个数据库，因为没有什么的性能好处时从单个 MessageBox 数据库扩展到两个 MessageBox 数据库已使用三个和第四个 MessageBox 数据库。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-257">When scaling to multiple MessageBox databases, three and four MessageBox databases were used because there is little performance advantage when scaling out from a single MessageBox database to two MessageBox databases.</span></span> <span data-ttu-id="3b2c9-258">有关横向扩展 BizTalk Server MessageBox 的详细信息，请参阅[缩放出 SQL Server 层](http://go.microsoft.com/fwlink/?LinkID=158075)(http://go.microsoft.com/fwlink/?LinkID=158075) BizTalk Server 文档中。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-258">For more information about scaling out the BizTalk Server MessageBox, see [Scaling Out the SQL Server Tier](http://go.microsoft.com/fwlink/?LinkID=158075) (http://go.microsoft.com/fwlink/?LinkID=158075) in the BizTalk Server documentation.</span></span>  
  
## <a name="implemented-optimizations"></a><span data-ttu-id="3b2c9-259">实现的优化</span><span class="sxs-lookup"><span data-stu-id="3b2c9-259">Implemented Optimizations</span></span>  
 <span data-ttu-id="3b2c9-260">本部分提供已应用于实验室测试方案的所有优化的清单。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-260">This section provides a checklist of all optimizations that were applied for the lab test scenarios.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="3b2c9-261">这些前应进行测试根据你更改管理过程应用这些安全更新生产环境中。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-261">These should be tested in accordance with your change management procedures before applying these within your production environment.</span></span>  
  
 <span data-ttu-id="3b2c9-262">将优化应用系统、 受控方式 — 通过应用优化的一组，然后测试影响-将导致的最大性能优势。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-262">Applying the optimizations in a systematic, controlled manner—by applying a set of optimizations, then testing the impact—will result in the maximum performance benefit.</span></span> <span data-ttu-id="3b2c9-263">定期测试优化的影响的情况下应用优化实际上可能会导致性能降低的解决方案。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-263">Applying optimizations without periodically testing the impact of the optimizations may actually result in a performance degradation of the solution.</span></span>  
  
### <a name="checklists-of-optimizations-applied"></a><span data-ttu-id="3b2c9-264">优化应用的核对清单</span><span class="sxs-lookup"><span data-stu-id="3b2c9-264">Checklists of Optimizations Applied</span></span>  
 <span data-ttu-id="3b2c9-265">**平台和网络优化**</span><span class="sxs-lookup"><span data-stu-id="3b2c9-265">**Platform and Network Optimizations**</span></span>  
  
|<span data-ttu-id="3b2c9-266">Optimization</span><span class="sxs-lookup"><span data-stu-id="3b2c9-266">Optimization</span></span>|<span data-ttu-id="3b2c9-267">参考</span><span class="sxs-lookup"><span data-stu-id="3b2c9-267">Reference</span></span>|  
|------------------|---------------|  
|<span data-ttu-id="3b2c9-268">BIOS： 配置性能设置。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-268">BIOS: Configure settings for performance.</span></span>|[<span data-ttu-id="3b2c9-269">优化操作系统性能</span><span class="sxs-lookup"><span data-stu-id="3b2c9-269">Optimizing Operating System Performance</span></span>](../technical-guides/optimizing-operating-system-performance.md)|  
|<span data-ttu-id="3b2c9-270">禁用对 SQL Server 文件的实时扫描。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-270">Disable real-time scanning on SQL Server files.</span></span>|[<span data-ttu-id="3b2c9-271">优化操作系统性能</span><span class="sxs-lookup"><span data-stu-id="3b2c9-271">Optimizing Operating System Performance</span></span>](../technical-guides/optimizing-operating-system-performance.md)|  
|<span data-ttu-id="3b2c9-272">启用"高性能"BizTalk Server 和 SQL Server 的所有计算机上的电源计划。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-272">Enable the “High performance” Power Plan on all BizTalk Server and SQL Server computers.</span></span>|[<span data-ttu-id="3b2c9-273">一般性的指导原则，用于提高操作系统性能</span><span class="sxs-lookup"><span data-stu-id="3b2c9-273">General Guidelines for Improving Operating System Performance</span></span>](../technical-guides/general-guidelines-for-improving-operating-system-performance.md)|  
|<span data-ttu-id="3b2c9-274">在所有 BizTalk Server 和 SQL Server 计算机上禁用防病毒软件。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-274">Disable Antivirus on all BizTalk Server and SQL Server computers.</span></span>|[<span data-ttu-id="3b2c9-275">一般性的指导原则，用于提高操作系统性能</span><span class="sxs-lookup"><span data-stu-id="3b2c9-275">General Guidelines for Improving Operating System Performance</span></span>](../technical-guides/general-guidelines-for-improving-operating-system-performance.md)|  
  
 <span data-ttu-id="3b2c9-276">**SQL Server 优化： 常规**</span><span class="sxs-lookup"><span data-stu-id="3b2c9-276">**SQL Server Optimizations: General**</span></span>  
  
|<span data-ttu-id="3b2c9-277">Optimization</span><span class="sxs-lookup"><span data-stu-id="3b2c9-277">Optimization</span></span>|<span data-ttu-id="3b2c9-278">参考</span><span class="sxs-lookup"><span data-stu-id="3b2c9-278">Reference</span></span>|  
|------------------|---------------|  
|<span data-ttu-id="3b2c9-279">设置为 64 KB 的 NTFS 文件分配单元。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-279">Set NTFS File Allocation Unit to 64 KB.</span></span>|[<span data-ttu-id="3b2c9-280">预配置数据库 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="3b2c9-280">Pre-Configuration Database Optimizations2</span></span>](../technical-guides/pre-configuration-database-optimizations2.md)|  
|<span data-ttu-id="3b2c9-281">安装 SQL Server 2008 R2。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-281">Install SQL Server 2008 R2.</span></span>|[<span data-ttu-id="3b2c9-282">预配置数据库 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="3b2c9-282">Pre-Configuration Database Optimizations2</span></span>](../technical-guides/pre-configuration-database-optimizations2.md)|  
|<span data-ttu-id="3b2c9-283">配置 SQL Server 2008 R2 数据收集器/仓库。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-283">Configure SQL Server 2008 R2 Data Collector/Warehouse.</span></span>|[<span data-ttu-id="3b2c9-284">预配置数据库 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="3b2c9-284">Pre-Configuration Database Optimizations2</span></span>](../technical-guides/pre-configuration-database-optimizations2.md)|  
|<span data-ttu-id="3b2c9-285">确保适当的 Windows 特权具有已扩展到的 SQL Server 服务帐户。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-285">Ensure that appropriate Windows privileges have been extended to the SQL Server Service accounts.</span></span>|<span data-ttu-id="3b2c9-286">SQL Server 2008 R2:[设置 Windows 服务帐户](http://go.microsoft.com/fwlink/?LinkID=132144)(http://go.microsoft.com/fwlink/?LinkID=132144)</span><span class="sxs-lookup"><span data-stu-id="3b2c9-286">SQL Server 2008 R2: [Setting Up Windows Service Accounts](http://go.microsoft.com/fwlink/?LinkID=132144) (http://go.microsoft.com/fwlink/?LinkID=132144)</span></span>|  
|<span data-ttu-id="3b2c9-287">设置 SQL Server 的最小和最大服务器内存。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-287">Set Minimum and Maximum Server Memory for SQL Server.</span></span>|[<span data-ttu-id="3b2c9-288">预配置数据库 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="3b2c9-288">Pre-Configuration Database Optimizations2</span></span>](../technical-guides/pre-configuration-database-optimizations2.md)|  
|<span data-ttu-id="3b2c9-289">授予到用于针对 SQL Server 的帐户的 Windows 锁定内存页特权。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-289">Grant the Windows Lock Pages In Memory privilege to the account that is used for SQL Server.</span></span>|[<span data-ttu-id="3b2c9-290">预配置数据库 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="3b2c9-290">Pre-Configuration Database Optimizations2</span></span>](../technical-guides/pre-configuration-database-optimizations2.md)|  
|<span data-ttu-id="3b2c9-291">预先大小 BizTalk Server 数据库迁移到具有多个数据文件的适当大小...</span><span class="sxs-lookup"><span data-stu-id="3b2c9-291">Pre-size BizTalk Server databases to appropriate size with multiple data files..</span></span>|[<span data-ttu-id="3b2c9-292">后配置数据库 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="3b2c9-292">Post-Configuration Database Optimizations2</span></span>](../technical-guides/post-configuration-database-optimizations2.md)|  
|<span data-ttu-id="3b2c9-293">配置 SQL Server 客户端协议。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-293">Configure SQL Server Client Protocols.</span></span>|<span data-ttu-id="3b2c9-294">[故障排除 SQL Server](http://go.microsoft.com/fwlink/?LinkID=154250) (http://go.microsoft.com/fwlink/?LinkID=154250)</span><span class="sxs-lookup"><span data-stu-id="3b2c9-294">[Troubleshooting SQL Server](http://go.microsoft.com/fwlink/?LinkID=154250) (http://go.microsoft.com/fwlink/?LinkID=154250)</span></span>|  
|<span data-ttu-id="3b2c9-295">将 tempdb 数据库拆分为多个大小相等的 BizTalk Server 使用的每个 SQL Server 实例上的数据文件</span><span class="sxs-lookup"><span data-stu-id="3b2c9-295">Split the tempdb database into multiple data files of equal size on each SQL Server instance used by BizTalk Server</span></span>|[<span data-ttu-id="3b2c9-296">预配置数据库 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="3b2c9-296">Pre-Configuration Database Optimizations2</span></span>](../technical-guides/pre-configuration-database-optimizations2.md)|  
|<span data-ttu-id="3b2c9-297">手动设置 SQL Server 进程关联</span><span class="sxs-lookup"><span data-stu-id="3b2c9-297">Manually set SQL Server Process Affinity</span></span>|[<span data-ttu-id="3b2c9-298">预配置数据库 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="3b2c9-298">Pre-Configuration Database Optimizations2</span></span>](../technical-guides/pre-configuration-database-optimizations2.md)|  
|<span data-ttu-id="3b2c9-299">配置 MSDTC 和禁用 DTC 跟踪</span><span class="sxs-lookup"><span data-stu-id="3b2c9-299">Configure MSDTC and disable DTC tracing</span></span>|[<span data-ttu-id="3b2c9-300">预配置数据库 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="3b2c9-300">Pre-Configuration Database Optimizations2</span></span>](../technical-guides/pre-configuration-database-optimizations2.md)|  
|<span data-ttu-id="3b2c9-301">启用跟踪标志 T1118 作为引导参数的 SQL Server 的所有实例</span><span class="sxs-lookup"><span data-stu-id="3b2c9-301">Enable Trace Flag T1118 as a startup parameter for all instances of SQL Server</span></span>|[<span data-ttu-id="3b2c9-302">预配置数据库 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="3b2c9-302">Pre-Configuration Database Optimizations2</span></span>](../technical-guides/pre-configuration-database-optimizations2.md)|  
  
 <span data-ttu-id="3b2c9-303">**SQL Server 优化： BizTalk 数据库**</span><span class="sxs-lookup"><span data-stu-id="3b2c9-303">**SQL Server Optimizations: BizTalk Databases**</span></span>  
  
|<span data-ttu-id="3b2c9-304">Optimization</span><span class="sxs-lookup"><span data-stu-id="3b2c9-304">Optimization</span></span>|<span data-ttu-id="3b2c9-305">参考</span><span class="sxs-lookup"><span data-stu-id="3b2c9-305">Reference</span></span>|  
|------------------|---------------|  
|<span data-ttu-id="3b2c9-306">将自动增长的 BizTalk 数据库都设置为固定的值，并不是百分比值。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-306">Set Autogrowth of BizTalk databases to a fixed value and not a percentage value.</span></span>|[<span data-ttu-id="3b2c9-307">后配置数据库 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="3b2c9-307">Post-Configuration Database Optimizations2</span></span>](../technical-guides/post-configuration-database-optimizations2.md)|  
|<span data-ttu-id="3b2c9-308">移动/拆分 BizTalk 数据库数据和日志文件，以单独的 LUN。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-308">Move/split BizTalk database data and log files to separate LUNS.</span></span>|[<span data-ttu-id="3b2c9-309">后配置数据库 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="3b2c9-309">Post-Configuration Database Optimizations2</span></span>](../technical-guides/post-configuration-database-optimizations2.md)|  
|<span data-ttu-id="3b2c9-310">请考虑设置特定的 MessageBox 数据库表上的 text in row 表选项</span><span class="sxs-lookup"><span data-stu-id="3b2c9-310">Consider setting the 'text in row' table option on specific MessageBox database tables</span></span>|[<span data-ttu-id="3b2c9-311">后配置数据库 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="3b2c9-311">Post-Configuration Database Optimizations2</span></span>](../technical-guides/post-configuration-database-optimizations2.md)|  
  
 <span data-ttu-id="3b2c9-312">**BizTalk 优化**</span><span class="sxs-lookup"><span data-stu-id="3b2c9-312">**BizTalk Optimizations**</span></span>  
  
|<span data-ttu-id="3b2c9-313">Optimization</span><span class="sxs-lookup"><span data-stu-id="3b2c9-313">Optimization</span></span>|<span data-ttu-id="3b2c9-314">参考</span><span class="sxs-lookup"><span data-stu-id="3b2c9-314">Reference</span></span>|  
|------------------|---------------|  
|<span data-ttu-id="3b2c9-315">单独接收端口、 发送端口、 业务流程，以及在单独、 专用的主机上的跟踪。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-315">Separate receive ports, send ports, orchestrations, and tracking on separate, dedicated hosts.</span></span>|[<span data-ttu-id="3b2c9-316">常规 BizTalk Server Optimizations1</span><span class="sxs-lookup"><span data-stu-id="3b2c9-316">General BizTalk Server Optimizations1</span></span>](../technical-guides/general-biztalk-server-optimizations1.md)|  
|<span data-ttu-id="3b2c9-317">配置轮询间隔。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-317">Configure polling intervals.</span></span>|[<span data-ttu-id="3b2c9-318">低延迟方案 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="3b2c9-318">Low-Latency Scenario Optimizations2</span></span>](../technical-guides/low-latency-scenario-optimizations2.md)|  
|<span data-ttu-id="3b2c9-319">调整 BizTalk 配置文件的最大连接属性。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-319">Adjust the BizTalk configuration file maximum connection property.</span></span>|<span data-ttu-id="3b2c9-320">"增加允许的更改 maxconnection 参数的值的 SOAP 和 HTTP 并发连接数"部分[常规 BizTalk Server Optimizations1](../technical-guides/general-biztalk-server-optimizations1.md)</span><span class="sxs-lookup"><span data-stu-id="3b2c9-320">“Increase the number of SOAP and HTTP concurrent connections allowed by changing the value for the maxconnection parameter” section of [General BizTalk Server Optimizations1](../technical-guides/general-biztalk-server-optimizations1.md)</span></span>|  
|<span data-ttu-id="3b2c9-321">在 BizTalk Server 中的每个节点上定义的 CLR 承载每个主机实例的参数：</span><span class="sxs-lookup"><span data-stu-id="3b2c9-321">Define CLR Hosting parameters for each host instance on each BizTalk Server node:</span></span><br /><br /> <span data-ttu-id="3b2c9-322">最大 IO 线程： 250</span><span class="sxs-lookup"><span data-stu-id="3b2c9-322">Maximum IO Threads: 250</span></span><br /><br /> <span data-ttu-id="3b2c9-323">最大工作线程： 100</span><span class="sxs-lookup"><span data-stu-id="3b2c9-323">Maximum Worker Threads: 100</span></span><br /><br /> <span data-ttu-id="3b2c9-324">最小的 IO 线程： 25</span><span class="sxs-lookup"><span data-stu-id="3b2c9-324">Minimum IO Threads: 25</span></span><br /><br /> <span data-ttu-id="3b2c9-325">最小工作线程： 25</span><span class="sxs-lookup"><span data-stu-id="3b2c9-325">Minimum Worker Threads: 25</span></span>|<span data-ttu-id="3b2c9-326">"定义的 CLR 承载 BizTalk 主机实例的线程值"部分[常规 BizTalk Server Optimizations1](../technical-guides/general-biztalk-server-optimizations1.md)</span><span class="sxs-lookup"><span data-stu-id="3b2c9-326">“Define CLR hosting thread values for BizTalk host instances” section of [General BizTalk Server Optimizations1](../technical-guides/general-biztalk-server-optimizations1.md)</span></span>|  
|<span data-ttu-id="3b2c9-327">增加到 10000 的进程内消息和内部消息队列大小。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-327">Increase In-process messages and Internal Message Queue Size to 10000.</span></span>|[<span data-ttu-id="3b2c9-328">低延迟方案 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="3b2c9-328">Low-Latency Scenario Optimizations2</span></span>](../technical-guides/low-latency-scenario-optimizations2.md)|  
|<span data-ttu-id="3b2c9-329">禁用 BizTalk 服务器组级别跟踪。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-329">Disable BizTalk Server Group-level tracking.</span></span>|[<span data-ttu-id="3b2c9-330">常规 BizTalk Server Optimizations1</span><span class="sxs-lookup"><span data-stu-id="3b2c9-330">General BizTalk Server Optimizations1</span></span>](../technical-guides/general-biztalk-server-optimizations1.md)|  
|<span data-ttu-id="3b2c9-331">管理并发执行的 ASP.NET 4 Web 应用程序可以承载独立接收到的位置后, 端 Web 服务和在 IIS 7.5 和 IIS 7.0 在集成模式下运行的 WCF 服务的请求的数量</span><span class="sxs-lookup"><span data-stu-id="3b2c9-331">Manage the number of concurrently executing requests for ASP.NET 4 Web applications that can host isolated received locations, back-end Web services and WCF services on IIS 7.5 and IIS 7.0 running in Integrated mode</span></span>|[<span data-ttu-id="3b2c9-332">常规 BizTalk Server Optimizations1</span><span class="sxs-lookup"><span data-stu-id="3b2c9-332">General BizTalk Server Optimizations1</span></span>](../technical-guides/general-biztalk-server-optimizations1.md)|  
|<span data-ttu-id="3b2c9-333">禁用限制的 BizTalk Server 主机</span><span class="sxs-lookup"><span data-stu-id="3b2c9-333">Disable BizTalk Server host throttling</span></span>|[<span data-ttu-id="3b2c9-334">常规 BizTalk Server Optimizations1</span><span class="sxs-lookup"><span data-stu-id="3b2c9-334">General BizTalk Server Optimizations1</span></span>](../technical-guides/general-biztalk-server-optimizations1.md)|  
|<span data-ttu-id="3b2c9-335">配置 MSDTC 和禁用 DTC 跟踪</span><span class="sxs-lookup"><span data-stu-id="3b2c9-335">Configure MSDTC and disable DTC tracing</span></span>|[<span data-ttu-id="3b2c9-336">常规 BizTalk Server Optimizations1</span><span class="sxs-lookup"><span data-stu-id="3b2c9-336">General BizTalk Server Optimizations1</span></span>](../technical-guides/general-biztalk-server-optimizations1.md)|  
  
 <span data-ttu-id="3b2c9-337">**WCF 配置优化**</span><span class="sxs-lookup"><span data-stu-id="3b2c9-337">**WCF Configuration Optimizations**</span></span>  
  
|<span data-ttu-id="3b2c9-338">Optimization</span><span class="sxs-lookup"><span data-stu-id="3b2c9-338">Optimization</span></span>|<span data-ttu-id="3b2c9-339">参考</span><span class="sxs-lookup"><span data-stu-id="3b2c9-339">Reference</span></span>|  
|------------------|---------------|  
|<span data-ttu-id="3b2c9-340">对于每个 WCF 服务，应用 serviceThrottling 服务行为，并将设置**maxConcurrentCalls**和**maxConcurrentSessions**为 200。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-340">For each WCF service, apply the serviceThrottling service behavior, and set **maxConcurrentCalls** and **maxConcurrentSessions** to 200.</span></span>|[<span data-ttu-id="3b2c9-341">优化 BizTalk Server WCF 适配器性能</span><span class="sxs-lookup"><span data-stu-id="3b2c9-341">Optimizing BizTalk Server WCF Adapter Performance</span></span>](../technical-guides/optimizing-biztalk-server-wcf-adapter-performance.md)|  
|<span data-ttu-id="3b2c9-342">在后端 WCF 服务配置文件中配置 serviceThrottling 行为的使用情况。</span><span class="sxs-lookup"><span data-stu-id="3b2c9-342">Configure the usage of serviceThrottling behavior in the backend WCF service configuration file.</span></span>|[<span data-ttu-id="3b2c9-343">优化 WCF Web 服务性能</span><span class="sxs-lookup"><span data-stu-id="3b2c9-343">Optimizing WCF Web Service Performance</span></span>](../technical-guides/optimizing-wcf-web-service-performance.md)|  
  
## <a name="see-also"></a><span data-ttu-id="3b2c9-344">另请参阅</span><span class="sxs-lookup"><span data-stu-id="3b2c9-344">See Also</span></span>  
 [<span data-ttu-id="3b2c9-345">缩放生产 BizTalk Server 环境</span><span class="sxs-lookup"><span data-stu-id="3b2c9-345">Scaling a Production BizTalk Server Environment</span></span>](../technical-guides/scaling-a-production-biztalk-server-environment.md)