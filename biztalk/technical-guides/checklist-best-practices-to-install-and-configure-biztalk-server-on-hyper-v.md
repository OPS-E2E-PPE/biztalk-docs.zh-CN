---
title: 清单： 安装和配置 HYPER-V 上的最佳实践 |Microsoft 文档
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 5b5ddbb5-3752-4294-ae6a-c14363b3ddc9
caps.latest.revision: 18
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: cb6f268a532eec3c633197320abb99fff563063b
ms.sourcegitcommit: 3371ffd8ceca02e2b3715d53a1e0c0a59045912e
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/07/2018
ms.locfileid: "34848997"
---
# <a name="checklist-best-practices-for-installing-and-configuring-biztalk-server-on-hyper-v"></a><span data-ttu-id="69ea6-102">清单： 安装和配置 HYPER-V 上的 BizTalk Server 的最佳做法</span><span class="sxs-lookup"><span data-stu-id="69ea6-102">Checklist: Best Practices for Installing and Configuring BizTalk Server on Hyper-V</span></span>
<span data-ttu-id="69ea6-103">下面的部分是安装的摘要和中所述的配置要求[HYPER-V 上部署 BizTalk Server](../technical-guides/deploying-biztalk-server-on-hyper-v.md)本指南的部分。</span><span class="sxs-lookup"><span data-stu-id="69ea6-103">The sections below are a summary of the installation and configuration requirements described in the [Deploying BizTalk Server on Hyper-V](../technical-guides/deploying-biztalk-server-on-hyper-v.md) section of this guide.</span></span> <span data-ttu-id="69ea6-104">应将这些用作时安装、 配置和部署的快速参考[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]在 HYPER-V 环境中。</span><span class="sxs-lookup"><span data-stu-id="69ea6-104">These should be used as a quick reference when installing, configuring and deploying [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] in a Hyper-V environment.</span></span> <span data-ttu-id="69ea6-105">有关详细信息提供了指向相关部分。</span><span class="sxs-lookup"><span data-stu-id="69ea6-105">Links to the relevant sections are provided for further information.</span></span>  
  
## <a name="before-installing-hyper-v"></a><span data-ttu-id="69ea6-106">然后才能安装 HYPER-V...</span><span class="sxs-lookup"><span data-stu-id="69ea6-106">Before Installing Hyper-V…</span></span>  
  
|<span data-ttu-id="69ea6-107">步骤</span><span class="sxs-lookup"><span data-stu-id="69ea6-107">Step</span></span>|<span data-ttu-id="69ea6-108">参考</span><span class="sxs-lookup"><span data-stu-id="69ea6-108">Reference</span></span>|  
|----------|---------------|  
|<span data-ttu-id="69ea6-109">HYPER-V 是可用于 64 位版本的 Windows Server 的服务器角色。</span><span class="sxs-lookup"><span data-stu-id="69ea6-109">Hyper-V is a server role available for 64-bit editions of Windows Server.</span></span>|<span data-ttu-id="69ea6-110">请参阅[清单： 安装和配置 HYPER-V 上的 BizTalk Server 的最佳实践](../technical-guides/checklist-best-practices-to-install-and-configure-biztalk-server-on-hyper-v.md)</span><span class="sxs-lookup"><span data-stu-id="69ea6-110">See [Checklist: Best Practices for Installing and Configuring BizTalk Server on Hyper-V](../technical-guides/checklist-best-practices-to-install-and-configure-biztalk-server-on-hyper-v.md)</span></span>|  
|<span data-ttu-id="69ea6-111">确保你的处理器支持硬件辅助虚拟化和数据执行保护 (DEP)，并且这些功能已启用。</span><span class="sxs-lookup"><span data-stu-id="69ea6-111">Ensure that your processor supports hardware-assisted virtualization and Data Execution Prevention (DEP) and that these features are enabled.</span></span> <span data-ttu-id="69ea6-112">这需要具有 Intel 虚拟化技术 (Intel VT) 或 AMD 虚拟化 (AMD-V) 兼容的处理器。</span><span class="sxs-lookup"><span data-stu-id="69ea6-112">This requires a processor that is compatible with Intel Virtualization Technology (Intel VT) or AMD Virtualization (AMD-V).</span></span>|<span data-ttu-id="69ea6-113">请参阅[安装 HYPER-V 角色](https://docs.microsoft.com/windows-server/virtualization/hyper-v/get-started/install-the-hyper-v-role-on-windows-server)。</span><span class="sxs-lookup"><span data-stu-id="69ea6-113">See [Install the Hyper-V role](https://docs.microsoft.com/windows-server/virtualization/hyper-v/get-started/install-the-hyper-v-role-on-windows-server).</span></span>|  
|<span data-ttu-id="69ea6-114">Windows 服务器核心版用于根分区。</span><span class="sxs-lookup"><span data-stu-id="69ea6-114">Use Windows Server Core Edition for the root partition.</span></span> <span data-ttu-id="69ea6-115">这将服务器开销降到最低并提高 HYPER-V 性能。</span><span class="sxs-lookup"><span data-stu-id="69ea6-115">This will minimize server overhead and improve Hyper-V performance.</span></span>|<span data-ttu-id="69ea6-116">请参阅[安装服务器核心](https://docs.microsoft.com/windows-server/get-started/getting-started-with-server-core)。</span><span class="sxs-lookup"><span data-stu-id="69ea6-116">See [Install Server Core](https://docs.microsoft.com/windows-server/get-started/getting-started-with-server-core).</span></span>|  
|<span data-ttu-id="69ea6-117">在根分区上运行 HYPER-V 的服务器角色。</span><span class="sxs-lookup"><span data-stu-id="69ea6-117">Run only the Hyper-V server role on the root partition.</span></span>|<span data-ttu-id="69ea6-118">请参阅[优化 HYPER-V 的服务器的性能](https://docs.microsoft.com/windows-server/administration/performance-tuning/role/hyper-v-server/):</span><span class="sxs-lookup"><span data-stu-id="69ea6-118">See [Performance Tuning Hyper-V Servers](https://docs.microsoft.com/windows-server/administration/performance-tuning/role/hyper-v-server/):</span></span><br /><span data-ttu-id="69ea6-119">**专用的服务器角色**</span><span class="sxs-lookup"><span data-stu-id="69ea6-119">**Dedicated Server Role**</span></span><br /><span data-ttu-id="69ea6-120">根分区应将专用于虚拟化服务器角色。</span><span class="sxs-lookup"><span data-stu-id="69ea6-120">The root partition should be dedicated to the virtualization server role.</span></span> <span data-ttu-id="69ea6-121">其他服务器角色可以产生不良影响的虚拟化服务器的性能，尤其是如果它们使用大量的 CPU、 内存或 I/O 带宽。</span><span class="sxs-lookup"><span data-stu-id="69ea6-121">Additional server roles can adversely affect the performance of the virtualization server, especially if they consume significant CPU, memory, or I/O bandwidth.</span></span> <span data-ttu-id="69ea6-122">最小化根分区中的服务器角色中还有其他好处，如减少攻击面和更新的频率。</span><span class="sxs-lookup"><span data-stu-id="69ea6-122">Minimizing the server roles in the root partition has additional benefits such as reducing the attack surface and the frequency of updates.</span></span> <span data-ttu-id="69ea6-123">根分区中安装哪个软件，因为某些软件可能会与虚拟化服务器的总体性能产生负面影响，系统管理员应仔细考虑。</span><span class="sxs-lookup"><span data-stu-id="69ea6-123">System administrators should consider carefully what software is installed in the root partition because some software can adversely affect the overall performance of the virtualization server.</span></span><br/><br/> <span data-ttu-id="69ea6-124">请参阅[HYPER-V 配置](https://docs.microsoft.com/windows-server/administration/performance-tuning/role/hyper-v-server/configuration)的指南。</span><span class="sxs-lookup"><span data-stu-id="69ea6-124">See [Hyper-V Configuration](https://docs.microsoft.com/windows-server/administration/performance-tuning/role/hyper-v-server/configuration) for guidance.</span></span>|  
  
## <a name="when-creating-hyper-v-virtual-machines"></a><span data-ttu-id="69ea6-125">创建 HYPER-V 虚拟机时...</span><span class="sxs-lookup"><span data-stu-id="69ea6-125">When Creating Hyper-V Virtual Machines…</span></span>  
  
|<span data-ttu-id="69ea6-126">步骤</span><span class="sxs-lookup"><span data-stu-id="69ea6-126">Step</span></span>|<span data-ttu-id="69ea6-127">参考</span><span class="sxs-lookup"><span data-stu-id="69ea6-127">Reference</span></span>|  
|----------|---------------|  
|<span data-ttu-id="69ea6-128">使用固定的大小虚拟硬盘 (VHD) 提供相比为操作系统驱动器动态调整大小的 Vhd 的改进的性能。</span><span class="sxs-lookup"><span data-stu-id="69ea6-128">Using a fixed size virtual hard disk (VHD) provides improved performance compared to dynamically-resized VHDs for operating system drives.</span></span>|<span data-ttu-id="69ea6-129">请参阅[HYPER-V 存储 I/O 性能](https://docs.microsoft.com/windows-server/administration/performance-tuning/role/hyper-v-server/storage-io-performance)有关指南：</span><span class="sxs-lookup"><span data-stu-id="69ea6-129">See [Hyper-V Storage I/O Performance](https://docs.microsoft.com/windows-server/administration/performance-tuning/role/hyper-v-server/storage-io-performance) for guidance:</span></span> <br /><span data-ttu-id="69ea6-130">**固定大小的 VHD**</span><span class="sxs-lookup"><span data-stu-id="69ea6-130">**Fixed-size VHD**</span></span><br /><span data-ttu-id="69ea6-131">创建 VHD 文件时，首先分配为 VHD 的空间。</span><span class="sxs-lookup"><span data-stu-id="69ea6-131">Space for the VHD is first allocated when the VHD file is created.</span></span> <span data-ttu-id="69ea6-132">这种类型的 VHD 是不太 apt 拆分，这将降低 I/O 吞吐量，当一个单一的 I/O 被拆分为多个 I/o。</span><span class="sxs-lookup"><span data-stu-id="69ea6-132">This type of VHD is less apt to fragment, which reduces the I/O throughput when a single I/O is split into multiple I/Os.</span></span> <span data-ttu-id="69ea6-133">它具有三种的 VHD 类型的最低 CPU 开销，因为读取和写入不需要查找的块的映射。</span><span class="sxs-lookup"><span data-stu-id="69ea6-133">It has the lowest CPU overhead of the three VHD types because reads and writes do not need to look up the mapping of the block.</span></span>|  
|<span data-ttu-id="69ea6-134">使用固定大小虚拟硬盘 (VHD) 磁盘进行高的磁盘 I/O 活动并配置为使用 SCSI 控制器的数据卷的磁盘。</span><span class="sxs-lookup"><span data-stu-id="69ea6-134">Use fixed-size virtual hard drive (VHD) disks for high disk I/O activities and configure disks for data volumes using the SCSI controller.</span></span> <span data-ttu-id="69ea6-135">对于跨多个数据驱动器的高密集型存储 I/O 工作负荷，应将每个 VHD 附加到更好的总体性能的单独合成 SCSI 控制器。</span><span class="sxs-lookup"><span data-stu-id="69ea6-135">For highly intensive storage I/O workloads that span multiple data drives, each VHD should be attached to a separate synthetic SCSI controller for better overall performance.</span></span> <span data-ttu-id="69ea6-136">此外，每个 VHD 应存储在单独的物理磁盘上。</span><span class="sxs-lookup"><span data-stu-id="69ea6-136">In addition, each VHD should be stored on separate physical disks.</span></span>|<span data-ttu-id="69ea6-137">请参阅[HYPER-V 存储 I/O 性能](https://docs.microsoft.com/windows-server/administration/performance-tuning/role/hyper-v-server/storage-io-performance)有关指南：</span><span class="sxs-lookup"><span data-stu-id="69ea6-137">See [Hyper-V Storage I/O Performance](https://docs.microsoft.com/windows-server/administration/performance-tuning/role/hyper-v-server/storage-io-performance) for guidance:</span></span><br /><span data-ttu-id="69ea6-138">**合成 SCSI 控制器**</span><span class="sxs-lookup"><span data-stu-id="69ea6-138">**Synthetic SCSI Controller**</span></span><br /><span data-ttu-id="69ea6-139">综合存储控制器上减少 CPU 开销低于模拟的 IDE 设备使用的存储 I/o 提供显著提高性能。</span><span class="sxs-lookup"><span data-stu-id="69ea6-139">The synthetic storage controller provides significantly better performance on storage I/Os with reduced CPU overhead than the emulated IDE device.</span></span> <span data-ttu-id="69ea6-140">VM 集成服务包括启用为此存储设备驱动程序和所需的来宾操作系统可以检测到它。</span><span class="sxs-lookup"><span data-stu-id="69ea6-140">The VM integration services include the enlightened driver for this storage device and are required for the guest operating system to detect it.</span></span> <span data-ttu-id="69ea6-141">必须在 IDE 设备要正常，启动的操作系统上安装操作系统磁盘，但 VM 集成服务加载到综合存储设备的 IDE 设备 i/0，则重新确定筛选器驱动程序。</span><span class="sxs-lookup"><span data-stu-id="69ea6-141">The operating system disk must be mounted on the IDE device for the operating system to boot correctly, but the VM integration services load a filter driver that reroutes IDE device I/Os to the synthetic storage device.</span></span><br /><span data-ttu-id="69ea6-142">我们强烈建议你装载直接到综合的 SCSI 控制器的数据驱动器，因为该配置已减少 CPU 开销。</span><span class="sxs-lookup"><span data-stu-id="69ea6-142">We strongly recommend that you mount the data drives directly to the synthetic SCSI controller because that configuration has reduced CPU overhead.</span></span> <span data-ttu-id="69ea6-143">如果其预期的 I/O 率很高，你还应装载日志文件和操作系统分页文件直接到综合的 SCSI 控制器。</span><span class="sxs-lookup"><span data-stu-id="69ea6-143">You should also mount log files and the operating system paging file directly to the synthetic SCSI controller if their expected I/O rate is high.</span></span><br /><span data-ttu-id="69ea6-144">对于跨多个数据驱动器的高密集型存储 I/O 工作负荷，应将每个 VHD 附加到更好的总体性能的单独合成 SCSI 控制器。</span><span class="sxs-lookup"><span data-stu-id="69ea6-144">For highly intensive storage I/O workloads that span multiple data drives, each VHD should be attached to a separate synthetic SCSI controller for better overall performance.</span></span> <span data-ttu-id="69ea6-145">此外，每个 VHD 应存储在单独的物理磁盘上。</span><span class="sxs-lookup"><span data-stu-id="69ea6-145">In addition, each VHD should be stored on separate physical disks.</span></span>|  
|<span data-ttu-id="69ea6-146">SCSI 控制器用于将 VHD 磁盘用于高 I/O 行为，如附加 SQL Server 数据和日志文件。</span><span class="sxs-lookup"><span data-stu-id="69ea6-146">Use the SCSI controller to attach VHD disks for high I/O activities, such as for SQL Server data and log files.</span></span> <span data-ttu-id="69ea6-147">**注意：** 不要将系统磁盘连接到 SCSI 控制器。</span><span class="sxs-lookup"><span data-stu-id="69ea6-147">**Note:**  Do not attach a system disk to a SCSI controller.</span></span> <span data-ttu-id="69ea6-148">包含操作系统虚拟硬盘必须连接到 IDE 控制器。</span><span class="sxs-lookup"><span data-stu-id="69ea6-148">A virtual hard disk that contains an operating system must be attached to an IDE controller.</span></span>|<span data-ttu-id="69ea6-149">即使 HYPER-V IDE 控制器和 SCSI 控制器提供水平相当的性能，如果已安装 HYPER-V 集成服务，可以仅将安装的 SCSI 控制器。</span><span class="sxs-lookup"><span data-stu-id="69ea6-149">Even though Hyper-V IDE controller and SCSI controller offer comparable performance, the SCSI controller can only be installed if Hyper-V integration services are installed.</span></span> <span data-ttu-id="69ea6-150">因此，附加传递磁盘的 SCSI 控制器的使用将确保 HYPER-V 集成服务安装这反过来将确保最佳磁盘 I/O 性能。</span><span class="sxs-lookup"><span data-stu-id="69ea6-150">Therefore, use of the SCSI controller to attach passthrough disks will ensure that Hyper-V integration services are installed which in turn will ensure optimal disk I/O performance.</span></span>|  
|<span data-ttu-id="69ea6-151">配置虚拟机的网络时，请使用网络适配器而不是旧版网络适配器。</span><span class="sxs-lookup"><span data-stu-id="69ea6-151">Use the Network Adapter instead of the Legacy Network Adapter when configuring networking for a virtual machine.</span></span> <span data-ttu-id="69ea6-152">旧版网络适配器用于不支持集成组件的操作系统。</span><span class="sxs-lookup"><span data-stu-id="69ea6-152">The legacy network adapter is designed for operating systems that do not support integration components.</span></span>|<span data-ttu-id="69ea6-153">**合成网络适配器**</span><span class="sxs-lookup"><span data-stu-id="69ea6-153">**Synthetic Network Adapter**</span></span><br /><span data-ttu-id="69ea6-154">相比到仿真的网络适配器，以模拟现有硬件，专为虚拟机以实现显著设计的合成网络适配器能减少 CPU 开销的 HYPER-V 功能将网络 I/O。</span><span class="sxs-lookup"><span data-stu-id="69ea6-154">Hyper-V features a synthetic network adapter that is designed specifically for VMs to achieve significantly reduced CPU overhead on network I/O when it is compared to the emulated network adapter that mimics existing hardware.</span></span> <span data-ttu-id="69ea6-155">合成网络适配器之间的子和根分区通过 VMBus 通过使用共享的内存更高效的数据传输进行通信。</span><span class="sxs-lookup"><span data-stu-id="69ea6-155">The synthetic network adapter communicates between the child and root partitions over VMBus by using shared memory for more efficient data transfer.</span></span> <span data-ttu-id="69ea6-156">仿真的网络适配器应通过的 VM 的设置对话框删除并替换的合成网络适配器。</span><span class="sxs-lookup"><span data-stu-id="69ea6-156">The emulated network adapter should be removed through the VM settings dialog box and replaced with a synthetic network adapter.</span></span> <span data-ttu-id="69ea6-157">来宾要求安装 VM 集成服务。</span><span class="sxs-lookup"><span data-stu-id="69ea6-157">The guest requires that the VM integration services be installed.</span></span>|  
|<span data-ttu-id="69ea6-158">确保 integration services 在任何启用的来宾操作系统上安装和验证安装了集成服务的最新版本。</span><span class="sxs-lookup"><span data-stu-id="69ea6-158">Ensure that integration services are installed on any enlightened guest operating systems and verify that the most current version of integration services is installed.</span></span> <span data-ttu-id="69ea6-159">若要检查的集成服务的最新版本，请运行**Windows Update**。</span><span class="sxs-lookup"><span data-stu-id="69ea6-159">To check for the most current version of integration services, run **Windows Update**.</span></span>|<span data-ttu-id="69ea6-160">请参阅[HYPER-V 处理器性能](https://docs.microsoft.com/windows-server/administration/performance-tuning/role/hyper-v-server/processor-performance)有关指南：</span><span class="sxs-lookup"><span data-stu-id="69ea6-160">See [Hyper-V Processor Performance](https://docs.microsoft.com/windows-server/administration/performance-tuning/role/hyper-v-server/processor-performance) for guidance:</span></span><br /><span data-ttu-id="69ea6-161">**启用的来宾**</span><span class="sxs-lookup"><span data-stu-id="69ea6-161">**Enlightened Guests**</span></span><br /><span data-ttu-id="69ea6-162">可能会建议你使用 Windows Server 作为来宾操作系统。</span><span class="sxs-lookup"><span data-stu-id="69ea6-162">It may be recommended that you use Windows Server as a guest operating system.</span></span> <span data-ttu-id="69ea6-163">启蒙降低在 VM 中运行的 Windows 的 CPU 开销。</span><span class="sxs-lookup"><span data-stu-id="69ea6-163">The enlightenments decrease the CPU overhead of Windows that runs in a VM.</span></span> <span data-ttu-id="69ea6-164">集成服务提供其他启蒙针对 I/O。</span><span class="sxs-lookup"><span data-stu-id="69ea6-164">The integration services provide additional enlightenments for I/O.</span></span> <span data-ttu-id="69ea6-165">具体取决于服务器负载，则可以适当是托管服务器应用程序在 Windows Server 的来宾即可获得更好的性能。</span><span class="sxs-lookup"><span data-stu-id="69ea6-165">Depending on the server load, it can be appropriate to host a server application in a Windows Server guest for better performance.</span></span>|  
|<span data-ttu-id="69ea6-166">只要有可能，配置到可用的逻辑处理器的虚拟处理器的 1-1 分配。</span><span class="sxs-lookup"><span data-stu-id="69ea6-166">Whenever possible, configure a 1-1 allocation of virtual processors to available logical processors.</span></span>|<span data-ttu-id="69ea6-167">有关配置虚拟处理器分配给可用的逻辑处理器的 1 对 1 分配的详细信息，请参阅中的"优化处理器性能"部分[清单： HYPER-V 上优化性能](~/technical-guides/checklist-optimizing-performance-on-hyper-v.md)。</span><span class="sxs-lookup"><span data-stu-id="69ea6-167">For more information about configuring a 1-to-1 allocation of virtual processors to available logical processors see the “Optimize Processor Performance” section in [Checklist: Optimizing Performance on Hyper-V](~/technical-guides/checklist-optimizing-performance-on-hyper-v.md).</span></span>|  
|<span data-ttu-id="69ea6-168">转换或将 Microsoft Virtual PC、 Microsoft Virtual Server 或在 HYPER-V 上运行的 VMWare ESX Server 上运行的虚拟机迁移。</span><span class="sxs-lookup"><span data-stu-id="69ea6-168">Convert or migrate virtual machines running on Microsoft Virtual PC, Microsoft Virtual Server, or VMWare ESX Server to run on Hyper-V.</span></span>|<span data-ttu-id="69ea6-169">使用 System Center Virtual Machine Manager 来将转换或迁移虚拟机在 HYPER-V 上运行。</span><span class="sxs-lookup"><span data-stu-id="69ea6-169">-   Use System Center Virtual Machine Manager to convert or migrate virtual machines to run on Hyper-V.</span></span> <br /><span data-ttu-id="69ea6-170">-如果需要，可以手动执行将转换 Microsoft Virtual PC 或 Microsoft 虚拟服务器上运行的虚拟机的过程。</span><span class="sxs-lookup"><span data-stu-id="69ea6-170">-   If required, the process of converting virtual machines running on Microsoft Virtual PC or Microsoft Virtual Server can be performed manually.</span></span> <span data-ttu-id="69ea6-171">有关详细信息，请参阅[虚拟机迁移指南： 如何迁移到从 Virtual Server 为 HYPER-V](http://go.microsoft.com/fwlink/?LinkID=137258)。</span><span class="sxs-lookup"><span data-stu-id="69ea6-171">For more information, see [Virtual Machine Migration Guide: How To Migrate from Virtual Server to Hyper-V](http://go.microsoft.com/fwlink/?LinkID=137258).</span></span><br /><span data-ttu-id="69ea6-172">-该示例工具**VMC2Hyper V**还用于迁移到 HYPER-V Microsoft Virtual PC 或 Microsoft 虚拟服务器上运行的虚拟机。</span><span class="sxs-lookup"><span data-stu-id="69ea6-172">-   The sample tool **VMC2Hyper-V** can also be used to migrate virtual machines running on Microsoft Virtual PC or Microsoft Virtual Server to Hyper-V.</span></span> <span data-ttu-id="69ea6-173">有关 VMC2Hyper V 示例工具的详细信息，请参阅[到 HYPER-V 导入工具可用 VMC](http://go.microsoft.com/fwlink/?LinkID=135683)。</span><span class="sxs-lookup"><span data-stu-id="69ea6-173">For more information about the VMC2Hyper-V sample tool, see [VMC to Hyper-V Import Tool Available](http://go.microsoft.com/fwlink/?LinkID=135683).</span></span> |  
  
## <a name="when-installing-and-configuring-biztalk-server"></a><span data-ttu-id="69ea6-174">安装和配置 BizTalk Server 时...</span><span class="sxs-lookup"><span data-stu-id="69ea6-174">When Installing and Configuring BizTalk Server…</span></span>  
 <span data-ttu-id="69ea6-175">在 BizTalk Server 安装在虚拟环境时，与物理环境应遵循的相同做法。</span><span class="sxs-lookup"><span data-stu-id="69ea6-175">When installing BizTalk Server in a virtual environment, the same practices should be followed as in a physical environment.</span></span> <span data-ttu-id="69ea6-176">安装时，然后在配置 BizTalk Server 期间，应使用以下资源：</span><span class="sxs-lookup"><span data-stu-id="69ea6-176">The following resources should be utilized when installing and during configuration of BizTalk Server:</span></span>  
  
|<span data-ttu-id="69ea6-177">步骤</span><span class="sxs-lookup"><span data-stu-id="69ea6-177">Step</span></span>|<span data-ttu-id="69ea6-178">参考</span><span class="sxs-lookup"><span data-stu-id="69ea6-178">Reference</span></span>|  
|----------|---------------|  
|<span data-ttu-id="69ea6-179">有关如何在来宾操作系统上安装 BizTalk Server 的说明，请参阅[BizTalk Server 安装指南](../install-and-config-guides/biztalk-server-what-s-new-installation-configuration-and-upgrade.md)。</span><span class="sxs-lookup"><span data-stu-id="69ea6-179">For instructions on how to install BizTalk Server on the guest operating system, see the [BizTalk Server installation guides](../install-and-config-guides/biztalk-server-what-s-new-installation-configuration-and-upgrade.md).</span></span>| |  
|<span data-ttu-id="69ea6-180">运行[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]上 BizTalk Server 安装完成后的最佳做法分析器 (BPA) 工具。</span><span class="sxs-lookup"><span data-stu-id="69ea6-180">Run the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Best Practices Analyzer (BPA) tool on the completed BizTalk Server installation.</span></span>|<span data-ttu-id="69ea6-181">下载[BPA](https://www.microsoft.com/download/details.aspx?id=43382)</span><span class="sxs-lookup"><span data-stu-id="69ea6-181">Download the [BPA](https://www.microsoft.com/download/details.aspx?id=43382)</span></span>|  
|<span data-ttu-id="69ea6-182">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]数据库托管在 SQL Server。</span><span class="sxs-lookup"><span data-stu-id="69ea6-182">The [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases are hosted on SQL Server.</span></span> <span data-ttu-id="69ea6-183">SQL Server 实例上运行 theSQL 服务器最佳做法分析器 (BPA) 工具，然后配置[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]数据库。</span><span class="sxs-lookup"><span data-stu-id="69ea6-183">Run theSQL Server Best Practices Analyzer (BPA) tool on the SQL Server instance before configuring the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span>|<span data-ttu-id="69ea6-184">下载[SQL Server BPA](https://www.microsoft.com/download/details.aspx?id=29302)</span><span class="sxs-lookup"><span data-stu-id="69ea6-184">Download the [SQL Server BPA](https://www.microsoft.com/download/details.aspx?id=29302)</span></span>|  
|<span data-ttu-id="69ea6-185">Microsoft[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]操作指南提供的操作的准备情况清单可以用于确保已安装所有必需的必备软件。</span><span class="sxs-lookup"><span data-stu-id="69ea6-185">The Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operations Guide provides Operational Readiness Checklists that can be used to ensure that all necessary prerequisite software has been installed.</span></span> <span data-ttu-id="69ea6-186">这些清单提供[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]针对作为的一部分所需的所有组件提供的特定的配置信息[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]包括操作系统、 IIS 和 SQL Server 的堆栈。</span><span class="sxs-lookup"><span data-stu-id="69ea6-186">Checklists that provide [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] specific configuration information are provided for all the components required as part of a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] stack including the operating system, IIS, and SQL Server.</span></span> <span data-ttu-id="69ea6-187">此外，有关如何配置 BizTalk Server 的高可用性提供指导。</span><span class="sxs-lookup"><span data-stu-id="69ea6-187">In addition, guidance is provided about how to configure BizTalk Server for high availability.</span></span>|<span data-ttu-id="69ea6-188">读取 (.../technical-guides/BizTalk 操作 Guide](biztalk-server-2010-operations-guide.md)</span><span class="sxs-lookup"><span data-stu-id="69ea6-188">Read the (../technical-guides/BizTalk Operations Guide](biztalk-server-2010-operations-guide.md)</span></span>|  
|<span data-ttu-id="69ea6-189">优化你的 BizTalk Server 安装的性能。</span><span class="sxs-lookup"><span data-stu-id="69ea6-189">Optimize the performance of your BizTalk Server installation.</span></span>|<span data-ttu-id="69ea6-190">请参阅[BizTalk Server 性能优化指南](../technical-guides/biztalk-server-2010-performance-optimization-guide.md)有关指南</span><span class="sxs-lookup"><span data-stu-id="69ea6-190">See [BizTalk Server Performance Optimization Guide](../technical-guides/biztalk-server-2010-performance-optimization-guide.md) for guidance</span></span>|  
|<span data-ttu-id="69ea6-191">安装和运行 BizTalk 运行状况监视器，来分析和验证 BizTalk Server MessageBox 数据库的配置。</span><span class="sxs-lookup"><span data-stu-id="69ea6-191">Install and run the BizTalk Health Monitor to analyze and validate the configuration of the BizTalk Server MessageBox database.</span></span>|<span data-ttu-id="69ea6-192">下载[BHM](https://www.microsoft.com/download/details.aspx?id=43716)</span><span class="sxs-lookup"><span data-stu-id="69ea6-192">Download [BHM](https://www.microsoft.com/download/details.aspx?id=43716)</span></span>|  
|<span data-ttu-id="69ea6-193">验证 CPU 在 HYPER-V 中运行的来宾操作系统正在正确分配。</span><span class="sxs-lookup"><span data-stu-id="69ea6-193">Verify that CPU is being properly allocated to guest operating systems running in Hyper-V.</span></span>| <span data-ttu-id="69ea6-194">请参阅**测量处理器性能**在[清单： HYPER-V 上测量性能](../technical-guides/checklist-measuring-performance-on-hyper-v.md)。</span><span class="sxs-lookup"><span data-stu-id="69ea6-194">See **Measuring Processor Performance** at [Checklist: Measuring Performance on Hyper-V](../technical-guides/checklist-measuring-performance-on-hyper-v.md).</span></span>|
