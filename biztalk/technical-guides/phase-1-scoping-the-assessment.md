---
title: 阶段 1： 范围评估 |Microsoft 文档
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 667c3669-7314-4562-84bc-fbb1be1f0314
caps.latest.revision: 6
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 3d0d3cc9d02f9e68c171f950e7681e5f2ca2d787
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/28/2017
ms.locfileid: "25976419"
---
# <a name="phase-1-scoping-the-assessment"></a>阶段 1： 范围评估
本主题介绍 BizTalk Server 性能评估作用域阶段的方面。  
  
 在参与性能评估即将低估性能评估的作用域时，一个常见的错误。 如果不事先分配足够的资源和时间，然后负责性能评估的团队将无法完成所有构建和测试复杂的生产类似环境所需的任务。 处理性能评估团队应仔细选择其战役。 在非常有限的时间范围内执行大多数性能评估并因此团队应确定，并重点放在一个或两个，maybe 三个在大多数关键性能目标。 要测试应用程序应专门开发能够专注于标识的性能目标，并且应抽取所有尽可能多地其他技术变量。 本主题介绍 BizTalk Server 性能评估作用域阶段的方面。  
  
## <a name="considerations-before-beginning-the-performance-assessment"></a>在开始性能评估之前的注意事项  
 任何其他工作出于性能评估之前，应考虑以下因素。 这些因素将帮助决定审视阶段的常规方向，并且是性能评估的良好起点。  
  
### <a name="message-load"></a>消息负载  
 请务必考虑直接从一开始就你要复制的消息负载，实际上将经过生产系统的方式。 例如，如果将在生产环境中的消息的 20%< 大小的 20 KB，50%将 < 100 KB 大小和剩余 30%可能是最大为 1 MB 大小，在很重要，这在实验室中复制。  
  
### <a name="develop-a-brief-detail-of-the-scenarios-to-be-tested"></a>开发要测试的方案的简要详细信息  
 确定要测试的测试用例后，务必标识它们所涉及的主要组件。 这包括 BizTalk Server 组件 （如消息传递和业务流程） 和其他组件，包括 MQSeries、 SAP 等第三方技术。 它是非常重要，必须注意的所有这些从一开始将有助于仪表实验室的复杂性，并且将使你可以规划在服务过程中所需的技术技能。  
  
### <a name="identify-which-adapters-will-be-used"></a>确定将使用的适配器  
 它是性能评估实验室使用将在生产环境中使用的实际适配器的非常重要。 未能使用生产中使用的实际适配器会导致问题，因为不同的适配器的性能变化较大。 例如，文件适配器是最快的 BizTalk Server 适配器之一，但它缺少某些所需的某些系统; 的功能特别是文件适配器不提供事务支持。 事务支持提供了能够读取消息并将它们写入到 MessageBox 数据库，所有在 MSDTC 事务的上下文中。 事务支持可能会产生开销。 因此，使用文件适配器来模拟生产方案，对于需要事务支持将不是可行的比较。 在此方案中，性能结果是实质上是无效的这是因为它们是不太可能以反映生产系统的实际性能。  
  
### <a name="estimate-time-required-for-the-performance-assessment"></a>为性能评估所需的估计时间  
 使用以下准则来估计性能评估所需的时间：  
  
-   为设置测试环境中分配的准备时间的两周。 一周将用于构建出所需的基础结构软件组件和应用软件更新。 第二周将专用于设置重复 BizTalk Server 生产环境的特定环境中。  
  
-   为将性能评估过程中分析每个测试用例分配额外一周。  
  
-   分配末尾的记录的性能评估发现的实际性能评估一周。  
  
 因此典型性能评估与两个测试用例时，将是完成评估的估计的时间：  
  
 （准备的两周时间） + （两周为实际性能评估） + （将结果记录到的一周） = 总五周。  
  
## <a name="documenting-the-performance-assessment"></a>记录性能评估  
 作为作用域性能评估的一部分，应在摘要合作记录评估的详细信息。 目标、 利益干系人，以及为性能评估的里程碑，应清楚地定义本文档。 本文档将用作性能评估的路线图，帮助确保所有利益干系人同意 engagement 详细信息，并提供以确保性能评估不偏离正轨。本文档应更新整个性能评估，并且包括结束性能评估时的结果的摘要。  
  
### <a name="goals-and-objectives"></a>目标和目标  
 **应仔细定义吞吐量和延迟目标**-性能条件是什么你尝试最大程度提高？ 通常的一个或多个以下的性能度量值将 BizTalk Server 性能评估的焦点。  
  
-   **吞吐量**– 通常衡量每时间单位，可以在指定的时间间隔内处理的消息数。 例如，吞吐量目标可能定义为处理每秒的 3 小时时间段内的 100 个消息的能力。  
  
-   **延迟**– 通常定义的所有消息，可以是百分比处理端到端在给定的时间间隔内，例如：  
  
    -   95%的所有消息应为两秒内处理的端到端。  
  
    -   100%的所有消息应在四个秒内可处理的端到端。  
  
-   **峰值负载**  
  
-   **时间才能完成一批***X*   
  
-   **Floodgate 恢复方案**  
  
-   **包括硬件和软件的高级体系结构**  
  
 应按照的衡量性能目标"实现最大可能*X*有硬件和软件的约束。" 确定如何将提前度量目标。 例如，"最大可持续吞吐量*X*端到端测量计数器 XLang/s\orchestrations 已完成 / 秒"。  
  
> [!NOTE]  
>  在上面的示例*X*是性能评估的焦点的单元的占位符。 *X*可表示业务流程、 消息或其他与 BizTalk 解决方案相关的性能指标。  
  
### <a name="is-the-desired-performance-attainable"></a>是所需的性能可达成？  
 当评估性能注意事项，首先应确定是否可用的硬件资源将不足以满足性能目标。 在某些情况下，所需的性能不只是可能无需其他硬件中的投资。 没有神奇的公式可以用于确定哪些性能也不可能特别特定硬件配置，因为许多因素影响性能的解决方案，包括业务流程，使用的自定义代码的复杂性消息将保存到 MessageBox 数据库与外部系统的限制的次数。 下表提供用于实现特定方案的具体的性能目标的硬件的摘要。  
  
> [!NOTE]  
>  下面的信息被提供仅作为指导。 不同的 BizTalk Server 解决方案的要求大不相同，因此估计所需的硬件资源时，此表中的值将用作粗"规则的经验法则"。  
  
### <a name="sample-hardware-scenarios"></a>硬件的示例方案  
  
|处理类型|BizTalk Server 计算机|SQL Server 计算机|获得的吞吐量|说明|  
|------------------------|------------------------------|--------------------------|-------------------------|-----------|  
|作为 Web 服务，MQSeries 适配器公开的业务流程|-6 BizTalk Server 2010 的计算机<br />-运行两个 3 GHZ 双核处理器每台服务器<br />Windows Server 2008 R2，8 GB 内存|-3 的 SQL Server 2008 R2 计算机<br />-运行四个 3 GHZ 双核处理器每台服务器<br />-64 位、 16 GB 内存<br />-单个 MessageBox 数据库|每秒的 95 业务流程|-平均延迟 1.11s<br />-使用 99%消息处理 < 2 秒延迟|  
|消息传送|6 BizTalk Server 2010 的计算机|3 的 SQL Server 2008 R2 计算机|获得 2 小时内的峰值吞吐量已 277 消息数 / 秒|在优化解决方案之前, 的峰值吞吐量是每秒 125 消息|  
|使用业务流程和 Web 服务的低延迟方案|一个双处理器 BizTalk Server 2010 的计算机|一个四核处理器 SQL Server 2008 R2 计算机|每秒 60 业务流程|实现 < 350 毫秒延迟|  
|使用业务流程的低延迟方案|23 四核处理器 BizTalk Server 2010 的计算机|-3 的 SQL Server 2008 R2 计算机<br />-一个 16 个 CPU master MessageBox 数据库<br />的两个 8 个 CPU 辅助 MessageBox 数据库计算机|每秒的 1156年业务流程|自 2010 年 1 月起已 BizTalk Server 运行记录的业务流程的最高可持续性能|  
  
 后可用的硬件基础结构会被确认不足以实现所需的性能和作用域的 BizTalk Server 性能评估时考虑以下方面：  
  
-   需要哪些适配器和/或快捷键？  
  
-   在解决方案中实现业务流程的要求有哪些？  
  
-   文档吞吐量要求： 解决方案的最大可持续吞吐量要求是什么？  
  
-   延迟要求： 如何响应解决方案需要请求作出响应和请求-响应方案？  
  
-   从文档负载高峰期的时间段未程度恢复解决方案？  
  
-   解决方案的高可用性要求是什么？  
  
-   文档跟踪要求的解决方案有哪些？  
  
-   任何依赖的应用程序，如远程 Web 服务或其他系统的性能特征有哪些？ 如果依赖的应用程序不会保留与所需的负载中，将相应地降级总体系统性能。  
  
### <a name="hardware-information-to-consider-during-scope-phase"></a>审视阶段过程中要考虑的硬件信息  
 当范围之外解决方案，创建包括以下高级硬件图示：  
  
-   计算机体系结构 （如 x86、 x64 和 IA64）  
  
-   （如类型、 速度、 数、 核心和使用超线程） 的 CPU 要求  
  
-   每台计算机的 RAM 要求  
  
-   本地磁盘存储 （类型、 大小、 速度）  
  
-   SAN (存储要求： 数 LUN;SAN 卡类型）  
  
-   网卡 （100 兆位 / 秒 (Mbps) 与 1 千兆比特 / 秒 (1 Gbps) 的每台计算机中的数字）。  
  
-   如何将防火墙部署解决方案中？  
  
-   将使用网络负载平衡的硬件？  
  
-   是特定计算机其可以加入群集？  
  
### <a name="software-information-to-consider-during-the-scope-phase"></a>要考虑的作用域阶段的软件信息  
 同样重要的硬件信息是在性能评估期间将使用的软件堆栈。  你应确保文档的以下信息：  
  
-   每台计算机 （32 或 64 位，群集） 的操作系统。  
  
-   在每台计算机上安装的服务器软件。  
  
-   使用虚拟化软件。  
  
-   所需的特定软件功能通常不安装如 COM + 汇总修补或 SQL Server 主机修复。  
  
### <a name="determine-if-code-changes-are-within-the-scope-of-the-performance-assessment"></a>确定性能评估作用域内是否有代码更改  
 这是最重要的事项，以确定在作用域的过程之一。  BizTalk Server 和它所使用 （SQL Server、 Windows、 IIS 和多） 的基础组件可使用的优化技术和本指南中讨论的配置更改优化。 但是，如果应用程序不在已开发以获得最佳性能，它会妨碍这些性能提升。 因此，代码更改应仅从作用域如果你有应用程序进入实验室之前，已完成全面的代码评审的置信度。 如有必要，您可能同意会允许仅某些更改，例如，业务流程内的持久性点删除。  
  
## <a name="roles-and-responsibilities"></a>角色和职责  
 正在运行的性能评估的最重要的方面之一是确保角色和职责被明确分配。 应在开始性能评估分配以下密钥角色：  
  
-   **参与主管**-engagement 主管负责拥有总体 engagement 端到端。  此角色通常将由高级顾问或架构师执行。  理想情况下此人应具有优化 BizTalk Server 基于系统中的体验。  SQL Server 和包括第三方的任何其他技术的知识是需要的。  请注意不需要向主管方面的专家，所有区域，但它们需要拥有该技术的至少一个工作知识，以便它们可以与这些方面专家合作，并了解它们要将应用的优化。  
  
-   **测试设计器**-需要具有专用于设计和实现在实验室期间将执行的测试的人员。  这将涉及确定将用于创建测试，测试每个测试，以确保它将完成该实验室的要求，并确保负责为运行测试，必须知道如何使用客户端的测试框架。  
  
-   **环境所有者**-具有准确地反映生产 BizTalk Server 实验室中的代表性环境环境至关重要。  执行此角色的人员将负责检查使用的软件和硬件堆栈的每个项，并验证存在很不大的差异。 例如 SQL Server 2008 R2 在 32 位平台上运行时仅可以地址 4 GB 的物理内存，而不使用物理地址扩展 (PAE) 或地址窗口扩展 (AWE)。 在 SQL Server 2008 R2 中，最大为 1 的 64 位内存 terabyte 可以进行寻址 （这是支持的 Windows Server 2008 R2 的当前最大物理内存）。 因此显著区别客户和实验室环境可能由 BizTalk Server 和 SQL Server 使用的 CPU 的体系结构。 除了这些明显的因素，其他不太明显的因素，如 service pack 级别和修补程序安装，可能会影响环境的性能。  
  
-   **生成环境主管**-在绘制详细的规范之后注册性能评估中，有人应分配生成环境的责任。 这将包括硬件和软件堆栈。 在许多情况下，一个人将负责这 （这通常是环境所有者）。 但是在大型企业环境所有者可能需要不同的团队，可能每个需要负责各种解决方案组件之间的连接。 例如，负责 Windows 版本，另一个用于 SQL Server，可能由一个团队和另一个团队下的为 BizTalk Server。  
  
-   **部署主管**-必须以让某个人员负责确保应用程序正确部署到 BizTalk Server、 是否配置了正确的绑定并应用任何自定义配置。 此角色将需要的解决方案的全面知识和将需要了解打包应用程序和部署应用程序，然后验证它是在实验室环境中正常运行状态。  
  
-   **产品专家**– 务必识别哪些产品专家所需的性能评估。 所需的确切技能取决于的设计和 BizTalk Server 应用程序的用途。  
  
     所需的最常见产品专家技能之一是性能优化 SQL Server 的额外知识。 这些技巧是必需的有两个用途： 首先，它通常是执行 SQL Server 优化，以优化性能 BizTalk 数据库，第二个所需，许多 BizTalk 解决方案进行的自定义数据库使用。 如果正确优化不会应用到 SQL Server 环境，使用自定义数据库可能成为瓶颈解决方案中。 为了确定并应用相应的数据库优化，通常必须有以下几个 SQL Server 方面：  
  
    -   SQL Server 的全面了解存储过程代码，包括的功能优化现有存储的过程。  
  
    -   可以识别并生成缺少数据库索引。  
  
    -   用于编写脚本将数据库拆分为多个文件的功能。  
  
        > [!NOTE]  
        >  应用此优化的详细信息，请参阅[Databases2 优化文件组](../technical-guides/optimizing-filegroups-for-the-databases2.md)。  
  
    -   能够确定在使用 SQL Server 2008 R2 性能仪表板报表的性能问题。  
  
        > [!NOTE]  
        >  SQL Server 2008 R2 性能面板报告是可在下载[http://go.microsoft.com/fwlink/?LinkId=118673](http://go.microsoft.com/fwlink/?LinkId=118673)。  
  
     对于每个性能评估中涉及的专家技术，SQL Server 上述做法，应定义要求的列表。 这可确保获取的资源具有清晰的新增功能将要求他们的期望。 在性能评估期间经常需要专门的知识的另一种技术是 IBM Websphere MQ。 下面的列表说明了 IBM WebSphere MQ 产品专家的要求规范：  
  
    -   在中监视、 维护和自定义项的 MQSeries 体验。  
  
    -   安装和迁移 MQSeries 的新版本的体验。  
  
    -   能够分析和优化 MQSeries 性能。  
  
    -   执行 MQSeries 问题分析。  
  
    -   进程和过程与 MQSeries 安全性、 管理、 恢复和自动化相关的知识。  
  
-   **文档主管**-是至关重要的不断更新实验室文档端到端整个性能评估。 直到系统已获取所需的级别的性能和优化已成功在生产环境中应用，则不应视为实验室 engagement 总体 successfulness。 为了执行此操作，这至关重要保留以下信息的详细的记录：  
  
    -   实验室的高级结果摘要  
  
    -   未解决的问题  
  
    -   已解决的问题  
  
    -   实验室的时间线  
  
    -   实验室进度  
  
    -   按类别实现的优化  
  
    -   按时间顺序 （以确保它们可以应用相同的顺序在生产系统中） 的实现的优化  
  
    -   高级体系结构图示  
  
    -   要测试的方案的详细信息  
  
    -   所涉及的第三方技术  
  
    -   实验室硬件图  
  
    -   联系人列表  
  
    -   详细的硬件清单  
  
    -   使用完整的详细结果的附录  
  
-   **开发人员**-开发人员是否需要很大程度上取决于此服务的范围。 如果基本代码已被锁定并且实验室有测试基础结构和平台优化仅然后开发人员的服务应该不需要。 恰好在生产服务器的"转到生存"日期之前执行性能测试时，可能发生这种情况。 通过这一次，代码应已被锁定，完整的回归测试应完成或正在进行。 对在实验室中引入的代码的任何更改都可能引入回归测试，并且因此，对生产系统中引入风险。 如果允许使用代码更改，然后通常开发人员都会要求提供。 下面的列表表示通常由开发人员参与 BizTalk Server 性能评估所需的技能：  
  
    -   可以识别并修复性能问题与业务流程  
  
    -   可以识别并修复性能问题管道  
  
    -   熟悉.NET 包括：  
  
        -   企业库  
  
        -   Visual Studio F1 探查器专业知识  
  
        -   Microsoft Visual Studio 2010 Ultimate 或 Visual Studio 测试工具版 2010 Professional  
  
-   **测试主管**-确保获得准确、 完整和全面的结果集至关重要。 测试领导负责确保捕获、 适当地分析以及相应地分发每个测试运行完成后所需的信息。 务必要考虑如何捕获数据，通常情况下测试数据是适用于使用 Excel 电子表格的演示文稿。 以下列表说明了应捕获每个测试的运行在本实验中的数据：  
  
    -   测试运行数  
  
    -   日期  
  
    -   处理的消息总数  
  
    -   每秒处理的消息  
  
    -   开始时间  
  
    -   停止的时间  
  
    -   以分钟为单位的测试持续时间  
  
    -   挂起消息 / 处理的消息总数从 BizTalk 管理控制台或通过测量使用性能监视器的 BizTalk Server 性能计数器可以捕获此。  
  
    -   \#失败处理的消息  
  
    -   \#或已成功处理的消息  
  
    -   测试客户端响应  
  
    -   客户端进程持续时间平均值，以秒为单位的度量通常情况下实现与 BizTalk Server 同步消息传递解决方案时，此值进行测量，在这种情况下很重要知道客户端平均持续时间内的值，因为这通常是代表多长时间最终用户的正在等待从解决方案的响应。  
  
    -   客户端进程持续时间最大值，以秒为单位  
  
    -   客户端进程持续时间最小值，以秒为单位  
  
    -   BizTalk Server 请求/响应延迟，以秒为单位  
  
    -   每秒完成的业务流程  
  
    -   %的时间处理的消息  
  
    -   值**TestResultsLocation**由 Visual Studio Team System 测试工具的变量。  
  
    -   值**TestResultsLocation** BizUnit 所使用的变量。  
  
    -   任何注释或建议  
  
     收集结果，以及测试主管应确保它们监视每个测试运行以查看是否存在的趋势。 性能改进应传达给团队的其余部分，并应指示多少性能已提高，以及哪些优化已应用以提高。 在一天结束值很重要，测试主管提供了已在实验室中执行的测试的摘要。 这允许利益干系人要保留了解实验室继续进度。 下表说明了如何此信息可能会将在组合示例更新电子邮件：  
  
    ### <a name="test-results-summary"></a>测试结果摘要  
  
    |状态|吞吐量|平均延迟|%< 2 秒|# of 测试运行|# of BizTalk Server 计算机|# of 消息|平均消息大小|Duration|  
    |------------|----------------|---------------------|-------------------|---------------------|------------------------------------|--------------------|--------------------------|--------------|  
    |扩大|140 消息/秒|0.777 秒|99.3%|2|6|270,000|609 字节|30 分钟|  
    |最佳|50 消息/秒|1.12 秒|99.12%|17|2|360,000|609 字节|2 小时|  
    |基线|30 消息/秒|1.52 秒|92.9 %|4|2|36,000|609 字节|20 分钟|  
    |目标|5 消息/秒|< 2 秒|90%|-|2|-|-|-|  
  
## <a name="define-all-deliverables-that-are-required-at-the-onset-of-the-performance-assessment"></a>定义所有所需的性能评估用于开始处的可交付结果  
 请务必达成必须启动 BizTalk Server 性能评估之前已存在的可交付结果。 以下部分描述应当在性能评估开始建立的可交付结果。  
  
-   **要测试的应用程序**– 在性能评估期间将使用完整的应用程序必须可用。 很重要，应用程序在开始性能评估之前处于完全正常运行状态，否则将丢失有价值实验室测试时间的风险。  
  
-   **自动的生成和部署规划**-之前参与性能评估，应为 BizTalk Server 解决方案要测试开发一个自动化的生成和部署过程。 自动化应用程序的生成过程可以让您进行连续的每日生成过程，其中然后伴随的生成验证测试 (Bvt) 测试通过系统流的功能集。 这使您能够检测编译和更快更轻松在整个开发生命周期的功能问题。 在本实验中，这意味着，如果不需要更改任何代码可以快速会验证不出现任何问题，适用更新后的解决方案。 手动构建、 部署和配置性能实验室的应用程序可以是单调乏味并且错误的容易任务。 因此建议自动化技术可用于完成以下的生成和部署活动：  
  
    -   从源代码管理中获取最新的代码。  
  
    -   生成完整的解决方案。  
  
    -   将解决方案部署到环境。  
  
    -   创建 BizTalk 应用程序。  
  
    -   将.dll 文件和绑定等的 BizTalk Server 资源添加到 BizTalk 应用程序。  
  
    -   导入绑定文件以创建端口和绑定到业务流程。  
  
    -   将 BizTalk 应用程序导出为 Microsoft® Windows® Installer 包，以便其可以在测试或生产环境中部署。  
  
    > [!NOTE]  
    >  有关实现自动的生成过程的详细信息，请参阅[自动执行生成过程](../technical-guides/automating-the-build-process.md)  
  
     MSBuild 中引入了.NET framework 2.0，以使开发人员能够自动执行任务，例如所描述的那些更早版本。 多个 BizTalk Server 特定 MSBuild 任务中所含的 SDC 任务库，它可以从下载[http://go.microsoft.com/fwlink/?LinkId=119288](http://go.microsoft.com/fwlink/?LinkId=119288)。  
  
-   **测试数据，供在性能评估期间**– 使用的测试数据含有的整体效率和性能评估成功显著的影响。  请考虑其中 BizTalk 服务器应用程序使用消息传送、 业务流程和规则引擎的情况。 规则引擎是从内部调用管道组件在接收端，来确定哪些业务流程将用于处理该消息;和也称为从中各个点，以确定流在业务流程。 规则引擎实现缓存，以便优化规则策略执行。 因此，如果性能评估过程中，一条消息用作测试数据，测试结果可能会扭曲 （由于缓存原因而），并且可能会收到不能在生产中复制的结果。  
  
     理想情况下在性能评估期间使用的测试数据应为实际生产数据或生产数据的子集。 负载测试和模式的流量将流经生产系统，还应模拟测试数据。 定义要求测试数据时，请考虑以下因素：  
  
    -   **一段给定时间将通过系统流的消息数**-这通常表示为消息数 / 秒或每小时的消息。  
  
    -   **类型的消息**– 是消息平面文件、 XML 或二进制文件？  
  
    -   **分发的消息**– 占多少百分比将平面文件，将使用的每个 XML 消息类型占多少百分比？  
  
    -   **处理要求的峰值负载**-在许多情况下，可能在非高峰时间处理大型交换。 例如一大批付款可能在午夜发送到银行的系统中。 如果出现这种情况，请确保你将能够在测试期间复制此。  
  
    -   **用于接收/发送消息的终结点**-在许多环境中单独接收位置配置为接收不同类型的消息。 例如，可能使用文件适配器接收平面文件消息或 MQSeries 适配器可用于接收 XML 消息。 虽然消息可能所有处理通过相同的业务流程它们将有到系统的不同入口点。 每个这些不同接收位置可以承载于单独的主机;确实执行此操作将通常会提高系统的整体性能。  
  
     下表提供了确定测试数据规范时应该捕获的信息的示例：  
  
    ### <a name="sample-test-data-specification"></a>示例测试数据规范  
  
    |||  
    |-|-|  
    |**消息数 / 秒**|的在此方案中至关重要最大吞吐量<br />-50 每秒的消息的目标<br />-低延迟不是目标|  
    |**消息类型**|-小的 XML 消息，符合 XML 架构大约 25 的 KB *X*<br />-中等规模的 XML 消息，大约符合 XML 架构的 512 KB *Y*|  
    |**邮件分发**|-58 %25 KB （小 XML 消息）<br />-25 %512 KB （中等规模 XML 消息）<br />-11 %3 MB （中等规模二进制数据 – PDF）-非可压缩<br />-4 %7.5 MB （大型二进制数据 – PDF）-非可压缩)<br />-2 %20 MB （大型二进制数据 – PDF）-非可压缩|  
    |**峰值负载处理要求**|大型二进制数据 (20 MB) 将表示大约 2%的数据 （如同上面所指定） 这处理时间是不可预知。 系统必须能够在任何给定时间适应这些大型消息。|  
    |**用于接收/发送消息的终结点**|**小的 XML 消息 (25 KB)**<br /><br /> -接收位置： PaymentXMLDocIn<br />-主机： ReceiveHost<br />-使用管道： XMLReceive<br /><br /> **中等规模的 XML 消息 (512 KB)**<br /><br /> -接收位置： PaymentXMLDocIn<br />-主机： ReceiveHost<br />-使用管道： XMLReceive<br /><br /> **中等规模二进制数据 (3 MB) – PDF-非可压缩**<br /><br /> -接收位置： BinaryDataIn<br />-主机： ReceiveHost<br />-使用管道： PassThruReceive<br /><br /> **大型二进制数据 (7.5 MB – 20 MB) – PDF-非可压缩**<br /><br /> -接收位置： BinaryDataIn<br />-主机： ReceiveHost<br />-使用管道： PassThruReceive|  
    |**测试数据的位置**|本地访问测试数据文件共享，例如： \\\PerformanceLabs\July\Test Data\|  
  
     将信息放入一个表可实现多个目的。 第一次关闭，可轻松用于利益干系人以达成一致的测试数据所做的假设。 其次，它你提供可用于确定为性能评估潜在优化的信息。 例如上面表中可以查看用于处理所有不同的数据类型的所有接收位置都位于 ReceiveHost BizTalk 主机中。 这意味着此主机的每个实例将负责处理不同类型和大小的数据 （例如 XML 和二进制非可压缩 PDF 数据）。 假设每个主机实例是 BizTalk 服务器进程 (BTSNTSVC 具有单个实例。EXE)，这可能会变得是处理瓶颈。 因此在此方案中显而易见优化环境将测试的分隔每个性能改进一个接收到其自己的各个主机的位置。 在摘要的表格格式有权访问的测试数据信息便于仪表这样的简单优化。  
  
-   **规划进行自动负载测试和负载生成**-建立性能评估的测试数据配置文件后，务必考虑如何执行负载测试环境中。 对于 BizTalk Server 2010 负载测试，我们将使用 Visual Studio 2010 负载测试。 有关如何以便于负载测试使用 Visual Studio 2010 的详细信息，请参阅[促进自动测试使用 Visual Studio](../technical-guides/using-visual-studio-to-facilitate-automated-testing.md)。  
  
## <a name="see-also"></a>另请参阅  
 [性能评估阶段](../technical-guides/phases-of-a-performance-assessment.md)