---
title: 第 1 阶段：设置评估范围 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 667c3669-7314-4562-84bc-fbb1be1f0314
caps.latest.revision: 6
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 11fa6c99aec54848c27927aed3444cc9d8b18983
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65394625"
---
# <a name="phase-1-scoping-the-assessment"></a><span data-ttu-id="1acbb-102">第 1 阶段：设置评估范围</span><span class="sxs-lookup"><span data-stu-id="1acbb-102">Phase 1: Scoping the Assessment</span></span>
<span data-ttu-id="1acbb-103">本主题介绍 BizTalk Server 性能评估的作用域阶段的方面。</span><span class="sxs-lookup"><span data-stu-id="1acbb-103">This topic describes the aspects of the scope phase of a BizTalk Server performance assessment.</span></span>  
  
 <span data-ttu-id="1acbb-104">当具有吸引力的性能评估中的一个常见错误是低估性能评估的范围。</span><span class="sxs-lookup"><span data-stu-id="1acbb-104">A common mistake when engaging in a performance assessment is to underestimate the scope of the performance assessment.</span></span> <span data-ttu-id="1acbb-105">如果没有预先分配足够的资源和时间，负责性能评估的团队不能完成所有生成并测试复杂的类似生产的环境所需的任务。</span><span class="sxs-lookup"><span data-stu-id="1acbb-105">If sufficient resources and time are not allocated beforehand, then the team responsible for the performance assessment will be unable to complete all of the tasks required to build out and test a complex production-like environment.</span></span> <span data-ttu-id="1acbb-106">性能评估的团队应仔细选择其谨慎。</span><span class="sxs-lookup"><span data-stu-id="1acbb-106">The team working on the performance assessment should choose their battles carefully.</span></span> <span data-ttu-id="1acbb-107">大多数性能评估进行非常有限的时间范围内，因此团队应确定，并重点放在一个或两个，可以在三个在大多数，关键性能目标。</span><span class="sxs-lookup"><span data-stu-id="1acbb-107">Most performance assessments are performed within a very limited timeframe and so the team should identify and focus on one or two, maybe three at most, key performance objectives.</span></span> <span data-ttu-id="1acbb-108">要进行测试的应用程序应专门开发能够专注于标识的性能目标，并应挑选出所有尽可能多地其他技术变量。</span><span class="sxs-lookup"><span data-stu-id="1acbb-108">The application to be tested should be specifically developed to focus on the identified performance objectives and should factor out all other technology variables as much as possible.</span></span> <span data-ttu-id="1acbb-109">本主题介绍 BizTalk Server 性能评估的作用域阶段的方面。</span><span class="sxs-lookup"><span data-stu-id="1acbb-109">This topic describes the aspects of the scope phase of a BizTalk Server performance assessment.</span></span>  
  
## <a name="considerations-before-beginning-the-performance-assessment"></a><span data-ttu-id="1acbb-110">从性能评估开始前的注意事项</span><span class="sxs-lookup"><span data-stu-id="1acbb-110">Considerations before beginning the performance assessment</span></span>  
 <span data-ttu-id="1acbb-111">性能评估完成任何其他工作之前，应考虑以下因素。</span><span class="sxs-lookup"><span data-stu-id="1acbb-111">The following factors should be considered before any other work is done for a performance assessment.</span></span> <span data-ttu-id="1acbb-112">这些因素有助于确定审视阶段的常规方向，性能评估的良好起点。</span><span class="sxs-lookup"><span data-stu-id="1acbb-112">These factors will help decide the general direction of the scope phase and are a good starting point for a performance assessment.</span></span>  
  
### <a name="message-load"></a><span data-ttu-id="1acbb-113">消息负载</span><span class="sxs-lookup"><span data-stu-id="1acbb-113">Message load</span></span>  
 <span data-ttu-id="1acbb-114">请务必要考虑直接从一开始就如何要复制的消息负载，实际上将经过生产系统。</span><span class="sxs-lookup"><span data-stu-id="1acbb-114">It’s important to consider right from the outset how you are going to replicate the message load that will actually be going through the production system.</span></span> <span data-ttu-id="1acbb-115">例如，如果将在生产环境中的消息的 20%< 20 KB 的大小，将为 50%< 100 KB 大小和剩余 30%的可能是最多 1 MB 的大小，非常重要，这在实验室中复制。</span><span class="sxs-lookup"><span data-stu-id="1acbb-115">For instance, if in production 20 percent of the messages will be <20KB in size, 50 percent will be <100KB in size and the remaining 30 percent could be up to 1 MB in size, it is important that this be replicated in the lab.</span></span>  
  
### <a name="develop-a-brief-detail-of-the-scenarios-to-be-tested"></a><span data-ttu-id="1acbb-116">开发要测试的方案的简要详细信息</span><span class="sxs-lookup"><span data-stu-id="1acbb-116">Develop a brief detail of the scenarios to be tested</span></span>  
 <span data-ttu-id="1acbb-117">确定要测试的测试用例后，务必确定在其中涉及的主要组件。</span><span class="sxs-lookup"><span data-stu-id="1acbb-117">After you have identified the test cases that will be tested, it is important to identify the major components that are involved in them.</span></span> <span data-ttu-id="1acbb-118">这包括 BizTalk Server 组件 （如消息传递和业务流程） 和其他组件，包括 MQSeries、 SAP 等第三方技术。</span><span class="sxs-lookup"><span data-stu-id="1acbb-118">This includes both BizTalk Server components (such as messaging and orchestrations) and other components, including third-party technologies such as MQSeries or SAP.</span></span> <span data-ttu-id="1acbb-119">它是非常重要的都是了解的所有这些从一开始就因为它将帮助您衡量在实验室的复杂性，它使您规划在服务过程中所需的技术技能。</span><span class="sxs-lookup"><span data-stu-id="1acbb-119">It is very important that you be aware of all of these from the outset as it will help you gauge the complexity of the lab and will enable you to plan for the technical skills required during the engagement.</span></span>  
  
### <a name="identify-which-adapters-will-be-used"></a><span data-ttu-id="1acbb-120">确定将使用的适配器</span><span class="sxs-lookup"><span data-stu-id="1acbb-120">Identify which adapters will be used</span></span>  
 <span data-ttu-id="1acbb-121">它是性能评估实验室使用将在生产环境中使用的实际适配器非常重要。</span><span class="sxs-lookup"><span data-stu-id="1acbb-121">It is of vital importance the performance assessment lab use the actual adapters that will be used in the production environment.</span></span> <span data-ttu-id="1acbb-122">使用生产环境中使用的实际适配器失败会导致问题，因为不同的适配器的性能变化较大。</span><span class="sxs-lookup"><span data-stu-id="1acbb-122">Failure to use the actual adapters used in production causes problems because the performance of different adapters varies significantly.</span></span> <span data-ttu-id="1acbb-123">例如，文件适配器是最快的 BizTalk Server 适配器之一，但它缺乏一些的某些系统; 所需的功能特别文件适配器不提供事务支持。</span><span class="sxs-lookup"><span data-stu-id="1acbb-123">For instance, the File adapter is one of the fastest BizTalk Server adapters but it lacks some of the features required of some systems; in particular the File adapter does not provide support for transactions.</span></span> <span data-ttu-id="1acbb-124">事务支持可以读取消息并将其写入到 MessageBox 数据库，所有的 MSDTC 事务上下文中。</span><span class="sxs-lookup"><span data-stu-id="1acbb-124">Transaction support provides the ability to read messages and write them to the MessageBox database, all within the context of an MSDTC transaction.</span></span> <span data-ttu-id="1acbb-125">事务支持可能会产生开销。</span><span class="sxs-lookup"><span data-stu-id="1acbb-125">Transaction support incurs overhead.</span></span> <span data-ttu-id="1acbb-126">因此，使用文件适配器来模拟生产方案中，对于需要事务支持不会是可行的比较。</span><span class="sxs-lookup"><span data-stu-id="1acbb-126">Therefore, using the File adapter to simulate a production scenario that requires transaction support would not be a viable comparison.</span></span> <span data-ttu-id="1acbb-127">在此方案中，性能结果是实质上是无效，因为它们是不太可能以反映实际生产系统的性能。</span><span class="sxs-lookup"><span data-stu-id="1acbb-127">In this scenario, the performance results are essentially invalid because they are very unlikely to reflect the actual performance of the production system.</span></span>  
  
### <a name="estimate-time-required-for-the-performance-assessment"></a><span data-ttu-id="1acbb-128">性能评估所需的估计时间</span><span class="sxs-lookup"><span data-stu-id="1acbb-128">Estimate time required for the performance assessment</span></span>  
 <span data-ttu-id="1acbb-129">使用以下准则来估计性能评估所需的时间：</span><span class="sxs-lookup"><span data-stu-id="1acbb-129">Use the following guidelines to estimate the time required for the performance assessment:</span></span>  
  
- <span data-ttu-id="1acbb-130">设置测试环境中分配两周的准备时间。</span><span class="sxs-lookup"><span data-stu-id="1acbb-130">Allocate two weeks of preparation time for setting up the testing environment.</span></span> <span data-ttu-id="1acbb-131">一周将用于生成所需的基础结构，软件组件，并将软件更新应用。</span><span class="sxs-lookup"><span data-stu-id="1acbb-131">One week will be used to build out the required infrastructure, software components, and apply software updates.</span></span> <span data-ttu-id="1acbb-132">第二周将专门用于设置特定环境，因为 BizTalk Server 生产环境。</span><span class="sxs-lookup"><span data-stu-id="1acbb-132">The second week will be dedicated to setting up the specific environment that duplicates the BizTalk Server production environment.</span></span>  
  
- <span data-ttu-id="1acbb-133">为将分析性能评估过程中每个测试用例分配额外一周。</span><span class="sxs-lookup"><span data-stu-id="1acbb-133">Allocate an additional week for each test case that will be analyzed during the performance assessment.</span></span>  
  
- <span data-ttu-id="1acbb-134">分配的实际性能评估来记录性能评估结果末尾一周。</span><span class="sxs-lookup"><span data-stu-id="1acbb-134">Allocate a week at the end of the actual performance assessment to document the findings of the performance assessment.</span></span>  
  
  <span data-ttu-id="1acbb-135">因此典型性能评估与两个测试用例时，会为完成评估的估计的时间：</span><span class="sxs-lookup"><span data-stu-id="1acbb-135">So for a typical performance assessment with two test cases, the estimated time to complete the assessment would be:</span></span>  
  
  <span data-ttu-id="1acbb-136">（两周的准备时间） + （两周的实际性能评估） + （将结果记录到一周） = 总五周。</span><span class="sxs-lookup"><span data-stu-id="1acbb-136">(two weeks of preparation time) + (two weeks for the actual performance assessment) + (one week to document findings) = five weeks total.</span></span>  
  
## <a name="documenting-the-performance-assessment"></a><span data-ttu-id="1acbb-137">记录性能评估</span><span class="sxs-lookup"><span data-stu-id="1acbb-137">Documenting the performance assessment</span></span>  
 <span data-ttu-id="1acbb-138">设置性能评估范围的一部分，评估的详细信息应记录在摘要的活动。</span><span class="sxs-lookup"><span data-stu-id="1acbb-138">As part of scoping the performance assessment, the details of the assessment should be documented in an engagement summary.</span></span> <span data-ttu-id="1acbb-139">该文档应该清楚地定义目标和目的，利益干系人和性能评估的里程碑。</span><span class="sxs-lookup"><span data-stu-id="1acbb-139">This document should clearly define goals and objectives, stakeholders, and milestones for the performance assessment.</span></span> <span data-ttu-id="1acbb-140">本文档将作为性能评估的规划图，帮助确保所有利益相关者达成一致的 engagement 详细信息，并用于确保性能评估保持正轨。本文档应在整个性能评估更新并包括性能评估结束后的结果的摘要。</span><span class="sxs-lookup"><span data-stu-id="1acbb-140">This document will serve as a roadmap for the performance assessment, help ensure all stakeholders agree on the engagement details and serve to ensure the performance assessment stays on track. This document should be updated throughout the performance assessment and include a summary of results upon the conclusion of the performance assessment.</span></span>  
  
### <a name="goals-and-objectives"></a><span data-ttu-id="1acbb-141">目标和宗旨</span><span class="sxs-lookup"><span data-stu-id="1acbb-141">Goals and objectives</span></span>  
 <span data-ttu-id="1acbb-142">**应仔细定义吞吐量和延迟目标**-性能条件是什么试图最大限度地？</span><span class="sxs-lookup"><span data-stu-id="1acbb-142">**Carefully define throughput and latency goals** - What performance criteria are you trying to maximize?</span></span> <span data-ttu-id="1acbb-143">通常一个或多个以下的性能度量值是 BizTalk Server 性能评估的重点。</span><span class="sxs-lookup"><span data-stu-id="1acbb-143">Typically one or more of the following performance measures are the focus of a BizTalk Server performance assessment.</span></span>  
  
- <span data-ttu-id="1acbb-144">**吞吐量**– 通常测量的每个时间单位指定的时间间隔内可处理的消息数。</span><span class="sxs-lookup"><span data-stu-id="1acbb-144">**Throughput** – Typically measured as the number of messages per time unit that can be processed over a specified time interval.</span></span> <span data-ttu-id="1acbb-145">例如，吞吐量目标可能定义为处理的 3 个小时的时间内每秒 100 个消息的功能。</span><span class="sxs-lookup"><span data-stu-id="1acbb-145">For example, a throughput goal might be defined as the ability to process 100 messages per second for a period of 3 hours.</span></span>  
  
- <span data-ttu-id="1acbb-146">**延迟**– 通常定义为可以进行的所有消息的百分比的端到端内处理给定的时间间隔，例如：</span><span class="sxs-lookup"><span data-stu-id="1acbb-146">**Latency** – Usually defined as percentage of all messages that can be processed end-to-end within a given time interval, for example:</span></span>  
  
  -   <span data-ttu-id="1acbb-147">95%的所有消息应在两秒内的端到端处理。</span><span class="sxs-lookup"><span data-stu-id="1acbb-147">95 percent of all messages should be processed end-to-end within two seconds.</span></span>  
  
  -   <span data-ttu-id="1acbb-148">100%的所有消息的四个秒内应该处理的端到端。</span><span class="sxs-lookup"><span data-stu-id="1acbb-148">100 percent of all messages should be processed end-to-end within four seconds.</span></span>  
  
- <span data-ttu-id="1acbb-149">**峰值负载**</span><span class="sxs-lookup"><span data-stu-id="1acbb-149">**Peak loads**</span></span>  
  
- <span data-ttu-id="1acbb-150">\**时间才能完成一批\*\*\*X*</span><span class="sxs-lookup"><span data-stu-id="1acbb-150">**Time to complete a batch of**  *X*</span></span>  
  
- <span data-ttu-id="1acbb-151">**突发高恢复方案**</span><span class="sxs-lookup"><span data-stu-id="1acbb-151">**Floodgate recovery scenarios**</span></span>  
  
- <span data-ttu-id="1acbb-152">**高级体系结构包括硬件和软件**</span><span class="sxs-lookup"><span data-stu-id="1acbb-152">**High-level architecture including hardware and software**</span></span>  
  
  <span data-ttu-id="1acbb-153">性能目标应衡量的"实现最大可能*X*提供硬件和软件的约束。"</span><span class="sxs-lookup"><span data-stu-id="1acbb-153">Performance goals should be measured in terms of “achieve highest possible *X* given hardware and software constraints.”</span></span> <span data-ttu-id="1acbb-154">确定如何将提前度量的目标。</span><span class="sxs-lookup"><span data-stu-id="1acbb-154">Determine how the goal will be measured in advance.</span></span> <span data-ttu-id="1acbb-155">例如，"最大可承受吞吐量*X*端到端度量由 XLang/s\orchestrations 已完成 / 秒计数器"。</span><span class="sxs-lookup"><span data-stu-id="1acbb-155">For example, “Maximum Sustainable Throughput of *X* end-to-end as measured by the counter ’XLang/s\orchestrations completed / second’”.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="1acbb-156">在上面的示例*X*是性能评估的焦点的单元的占位符。</span><span class="sxs-lookup"><span data-stu-id="1acbb-156">In the examples above, *X* is placeholder for the unit that is the focus of the performance assessment.</span></span> <span data-ttu-id="1acbb-157">*X*可表示业务流程、 消息或其他相关的 BizTalk 解决方案的性能指标。</span><span class="sxs-lookup"><span data-stu-id="1acbb-157">*X* could represent orchestrations, messages, or other performance metrics that are relevant to the BizTalk solution.</span></span>  
  
### <a name="is-the-desired-performance-attainable"></a><span data-ttu-id="1acbb-158">是所需的性能可以利用它来？</span><span class="sxs-lookup"><span data-stu-id="1acbb-158">Is the desired performance attainable?</span></span>  
 <span data-ttu-id="1acbb-159">评估时的性能注意事项，首先应确定是否可用的硬件资源将不足以满足性能目标。</span><span class="sxs-lookup"><span data-stu-id="1acbb-159">When evaluating performance considerations, you should first determine if the available hardware resources will be sufficient for meeting your performance goals.</span></span> <span data-ttu-id="1acbb-160">在某些情况下，所需的性能不只是可能没有额外硬件投资。</span><span class="sxs-lookup"><span data-stu-id="1acbb-160">In some cases, the desired performance is simply not possible without additional investment in hardware.</span></span> <span data-ttu-id="1acbb-161">没有任何可用于确定哪些性能或不能提供许多因素影响性能的解决方案，其中包括的业务流程，复杂性使用的自定义代码的特定硬件配置的魔法公式将消息保存到 MessageBox 数据库中与外部系统的限制次数。</span><span class="sxs-lookup"><span data-stu-id="1acbb-161">There is no magic formula that can be used to determine what performance is or is not possible given a specific hardware configuration as many factors influence the performance of the solution, including the complexity of orchestrations, custom code that is used, number of times that messages are persisted to the MessageBox database, and limitations of external systems.</span></span> <span data-ttu-id="1acbb-162">下表提供了用于实现特定的性能目标，对于某些方案的硬件摘要。</span><span class="sxs-lookup"><span data-stu-id="1acbb-162">The table below provides a summary of hardware used to achieve specific performance goals for certain scenarios.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="1acbb-163">下面的信息是仅提供指导。</span><span class="sxs-lookup"><span data-stu-id="1acbb-163">The information below is provided for guidance only.</span></span> <span data-ttu-id="1acbb-164">不同的 BizTalk Server 解决方案的要求大不相同，以便在估计所需的硬件资源时，此表中的值将用作粗略"规则的经验法则"。</span><span class="sxs-lookup"><span data-stu-id="1acbb-164">The requirements of different BizTalk Server solution vary greatly so the values in this table should be used as a rough “rule of thumb” when estimating required hardware resources.</span></span>  
  
### <a name="sample-hardware-scenarios"></a><span data-ttu-id="1acbb-165">硬件的示例方案</span><span class="sxs-lookup"><span data-stu-id="1acbb-165">Sample hardware scenarios</span></span>  
  
|<span data-ttu-id="1acbb-166">处理类型</span><span class="sxs-lookup"><span data-stu-id="1acbb-166">Type of Processing</span></span>|<span data-ttu-id="1acbb-167">BizTalk Server 计算机</span><span class="sxs-lookup"><span data-stu-id="1acbb-167">BizTalk Server computers</span></span>|<span data-ttu-id="1acbb-168">SQL Server 计算机</span><span class="sxs-lookup"><span data-stu-id="1acbb-168">SQL Server computers</span></span>|<span data-ttu-id="1acbb-169">得出的吞吐量</span><span class="sxs-lookup"><span data-stu-id="1acbb-169">Throughput attained</span></span>|<span data-ttu-id="1acbb-170">说明</span><span class="sxs-lookup"><span data-stu-id="1acbb-170">Notes</span></span>|  
|------------------------|------------------------------|--------------------------|-------------------------|-----------|  
|<span data-ttu-id="1acbb-171">业务流程公开为 Web 服务，MQSeries 适配器</span><span class="sxs-lookup"><span data-stu-id="1acbb-171">Orchestration exposed as a Web service, MQSeries adapter</span></span>|<span data-ttu-id="1acbb-172">-6 BizTalk Server 2010 的计算机</span><span class="sxs-lookup"><span data-stu-id="1acbb-172">-   6 BizTalk Server 2010 computers</span></span><br /><span data-ttu-id="1acbb-173">-运行两个双核 3 GHZ 处理器每个服务器</span><span class="sxs-lookup"><span data-stu-id="1acbb-173">-   Each server running two 3-GHZ dual core processors</span></span><br /><span data-ttu-id="1acbb-174">Windows Server 2008 R2，8 GB 内存</span><span class="sxs-lookup"><span data-stu-id="1acbb-174">-   Windows Server 2008 R2, 8GB memory</span></span>|<span data-ttu-id="1acbb-175">-3 的 SQL Server 2008 R2 计算机</span><span class="sxs-lookup"><span data-stu-id="1acbb-175">-   3 SQL Server 2008 R2 computers</span></span><br /><span data-ttu-id="1acbb-176">-运行四个双核 3 GHZ 处理器每个服务器</span><span class="sxs-lookup"><span data-stu-id="1acbb-176">-   Each server running four 3-GHZ dual core processors</span></span><br /><span data-ttu-id="1acbb-177">-64 位、 16 GB 内存</span><span class="sxs-lookup"><span data-stu-id="1acbb-177">-   64-bit, 16 GB memory</span></span><br /><span data-ttu-id="1acbb-178">-单个 MessageBox 数据库</span><span class="sxs-lookup"><span data-stu-id="1acbb-178">-   Single MessageBox database</span></span>|<span data-ttu-id="1acbb-179">每秒 95 业务流程</span><span class="sxs-lookup"><span data-stu-id="1acbb-179">95 orchestrations per second</span></span>|<span data-ttu-id="1acbb-180">-平均延迟 1.11s</span><span class="sxs-lookup"><span data-stu-id="1acbb-180">-   Average latency 1.11s</span></span><br /><span data-ttu-id="1acbb-181">-使用 99%的消息处理 < 2 秒的延迟</span><span class="sxs-lookup"><span data-stu-id="1acbb-181">-   99% messages processed with <2 seconds latency</span></span>|  
|<span data-ttu-id="1acbb-182">消息传送</span><span class="sxs-lookup"><span data-stu-id="1acbb-182">Messaging</span></span>|<span data-ttu-id="1acbb-183">6 BizTalk Server 2010 的计算机</span><span class="sxs-lookup"><span data-stu-id="1acbb-183">6 BizTalk Server 2010 computers</span></span>|<span data-ttu-id="1acbb-184">3 个 SQL Server 2008 R2 计算机</span><span class="sxs-lookup"><span data-stu-id="1acbb-184">3 SQL Server 2008 R2 computers</span></span>|<span data-ttu-id="1acbb-185">在 2 小时内获得的峰值吞吐量为 277 消息数 / 秒</span><span class="sxs-lookup"><span data-stu-id="1acbb-185">Peak throughput attained over a 2 hour period was 277 messages per second</span></span>|<span data-ttu-id="1acbb-186">优化解决方案之前, 峰值吞吐量为每秒 125 消息</span><span class="sxs-lookup"><span data-stu-id="1acbb-186">Before optimizing solution, peak throughput was 125 messages per second</span></span>|  
|<span data-ttu-id="1acbb-187">使用业务流程和 Web 服务的低延迟方案</span><span class="sxs-lookup"><span data-stu-id="1acbb-187">Low-latency scenario using orchestrations and Web services</span></span>|<span data-ttu-id="1acbb-188">一台 BizTalk Server 2010 的双处理器计算机</span><span class="sxs-lookup"><span data-stu-id="1acbb-188">One dual processor BizTalk Server 2010 computer</span></span>|<span data-ttu-id="1acbb-189">一台四核处理器 SQL Server 2008 R2 计算机</span><span class="sxs-lookup"><span data-stu-id="1acbb-189">One quad processor SQL Server 2008 R2 computer</span></span>|<span data-ttu-id="1acbb-190">每秒 60 业务流程</span><span class="sxs-lookup"><span data-stu-id="1acbb-190">60 orchestrations per second</span></span>|<span data-ttu-id="1acbb-191">实现 < 350 毫秒级延迟</span><span class="sxs-lookup"><span data-stu-id="1acbb-191">< 350 millisecond latency achieved</span></span>|  
|<span data-ttu-id="1acbb-192">使用业务流程的低延迟方案</span><span class="sxs-lookup"><span data-stu-id="1acbb-192">Low-latency scenario using orchestrations</span></span>|<span data-ttu-id="1acbb-193">23 个四处理器 BizTalk Server 2010 的计算机</span><span class="sxs-lookup"><span data-stu-id="1acbb-193">23 Quad processor BizTalk Server 2010 computers</span></span>|<span data-ttu-id="1acbb-194">-3 的 SQL Server 2008 R2 计算机</span><span class="sxs-lookup"><span data-stu-id="1acbb-194">-   3 SQL Server 2008 R2 computers</span></span><br /><span data-ttu-id="1acbb-195">-一个 16 个 CPU 主 MessageBox 数据库</span><span class="sxs-lookup"><span data-stu-id="1acbb-195">-   One 16-CPU master MessageBox database</span></span><br /><span data-ttu-id="1acbb-196">-两个 8 个 CPU 辅助 MessageBox 数据库计算机</span><span class="sxs-lookup"><span data-stu-id="1acbb-196">-   Two 8-CPU secondary MessageBox database computers</span></span>|<span data-ttu-id="1acbb-197">每秒 1156年业务流程</span><span class="sxs-lookup"><span data-stu-id="1acbb-197">1156 orchestrations per second</span></span>|<span data-ttu-id="1acbb-198">自 2010 年 1 月起已运行记录的业务流程的 BizTalk Server 的最高可承受性能</span><span class="sxs-lookup"><span data-stu-id="1acbb-198">As of January 2010 was the highest sustainable performance of BizTalk Server running orchestrations recorded</span></span>|  
  
 <span data-ttu-id="1acbb-199">可用的硬件基础结构被视为不足以实现所需的性能后，请考虑以下范围的 BizTalk Server 性能评估时：</span><span class="sxs-lookup"><span data-stu-id="1acbb-199">After the available hardware infrastructure is deemed sufficient to achieve the desired performance, consider the following when scoping a BizTalk Server performance assessment:</span></span>  
  
-   <span data-ttu-id="1acbb-200">需要哪些适配器和/或加速器？</span><span class="sxs-lookup"><span data-stu-id="1acbb-200">Which adapters and/or accelerators are required?</span></span>  
  
-   <span data-ttu-id="1acbb-201">在解决方案中实现业务流程要求是什么？</span><span class="sxs-lookup"><span data-stu-id="1acbb-201">What are the requirements for implementing orchestrations in the solution?</span></span>  
  
-   <span data-ttu-id="1acbb-202">文档的吞吐量要求：该解决方案的最大可承受吞吐量要求有哪些？</span><span class="sxs-lookup"><span data-stu-id="1acbb-202">Document throughput requirements: What are the maximum sustainable throughput requirements for the solution?</span></span>  
  
-   <span data-ttu-id="1acbb-203">延迟要求：响应能力如何解决方案需要求-响应和请求-响应方案？</span><span class="sxs-lookup"><span data-stu-id="1acbb-203">Latency requirements: How responsive does the solution need to be for solicit-response and request-response scenarios?</span></span>  
  
-   <span data-ttu-id="1acbb-204">如何从文档负载高峰期期间恢复解决方案？</span><span class="sxs-lookup"><span data-stu-id="1acbb-204">How well does the solution recover from periods of peak document load?</span></span>  
  
-   <span data-ttu-id="1acbb-205">该解决方案的高可用性要求是什么？</span><span class="sxs-lookup"><span data-stu-id="1acbb-205">What are the high availability requirements of the solution?</span></span>  
  
-   <span data-ttu-id="1acbb-206">该解决方案的文档跟踪要求是什么？</span><span class="sxs-lookup"><span data-stu-id="1acbb-206">What are the document tracking requirements of the solution?</span></span>  
  
-   <span data-ttu-id="1acbb-207">任何依赖的应用程序，如远程 Web 服务或其他系统的性能特征是什么？</span><span class="sxs-lookup"><span data-stu-id="1acbb-207">What are the performance characteristics of any dependent applications such as a remote Web service or other system?</span></span> <span data-ttu-id="1acbb-208">如果依赖的应用程序不会保留与所需的负载中，总体系统性能将被相应地降级。</span><span class="sxs-lookup"><span data-stu-id="1acbb-208">If dependent applications do not keep up with the required load, the overall system performance will be degraded accordingly.</span></span>  
  
### <a name="hardware-information-to-consider-during-scope-phase"></a><span data-ttu-id="1acbb-209">要在审视阶段期间考虑的硬件信息</span><span class="sxs-lookup"><span data-stu-id="1acbb-209">Hardware information to consider during scope phase</span></span>  
 <span data-ttu-id="1acbb-210">范围解决方案时创建的高级硬件关系图，包括以下：</span><span class="sxs-lookup"><span data-stu-id="1acbb-210">When scoping the solution, create a high-level hardware diagram that includes the following:</span></span>  
  
-   <span data-ttu-id="1acbb-211">计算机体系结构 （如 x86、 x64 和 IA64）</span><span class="sxs-lookup"><span data-stu-id="1acbb-211">Computer architecture (such as x86, x64, and IA64)</span></span>  
  
-   <span data-ttu-id="1acbb-212">CPU 要求 （如类型、 速度、 数量、 内核数和使用超线程）</span><span class="sxs-lookup"><span data-stu-id="1acbb-212">CPU requirements (such as type, speed, number, cores, and use of hyperthreading)</span></span>  
  
-   <span data-ttu-id="1acbb-213">每台计算机的 RAM 要求</span><span class="sxs-lookup"><span data-stu-id="1acbb-213">RAM requirements for each computer</span></span>  
  
-   <span data-ttu-id="1acbb-214">本地磁盘存储 （类型、 大小、 速度）</span><span class="sxs-lookup"><span data-stu-id="1acbb-214">Local disk storage (type, size, speed)</span></span>  
  
-   <span data-ttu-id="1acbb-215">SAN (存储要求： LUN; 的数字SAN 卡类型）</span><span class="sxs-lookup"><span data-stu-id="1acbb-215">SAN (storage requirements: number of LUNS; SAN card type)</span></span>  
  
-   <span data-ttu-id="1acbb-216">网卡 （100 兆位 / 秒 (Mbps) 与 1 千兆位 / 秒 (1 Gbps) 的每台计算机中的编号）。</span><span class="sxs-lookup"><span data-stu-id="1acbb-216">Network cards (number in each computer, 100 megabits per second (Mbps) versus 1 gigabit per second (1 Gbps).)</span></span>  
  
-   <span data-ttu-id="1acbb-217">如何将防火墙部署解决方案中？</span><span class="sxs-lookup"><span data-stu-id="1acbb-217">How will firewalls be deployed in the solution?</span></span>  
  
-   <span data-ttu-id="1acbb-218">将使用网络负载平衡硬件？</span><span class="sxs-lookup"><span data-stu-id="1acbb-218">Will Network Load Balancing hardware be used?</span></span>  
  
-   <span data-ttu-id="1acbb-219">是特定计算机，其可以加入群集？</span><span class="sxs-lookup"><span data-stu-id="1acbb-219">Are specific computers to be clustered?</span></span>  
  
### <a name="software-information-to-consider-during-the-scope-phase"></a><span data-ttu-id="1acbb-220">要考虑的作用域阶段的软件信息</span><span class="sxs-lookup"><span data-stu-id="1acbb-220">Software information to consider during the scope phase</span></span>  
 <span data-ttu-id="1acbb-221">同样的硬件信息作为重要的是将性能评估期间使用的软件堆栈。</span><span class="sxs-lookup"><span data-stu-id="1acbb-221">Equally important as the hardware information is the software stack that will be used during the performance assessment.</span></span>  <span data-ttu-id="1acbb-222">您应确保记录以下信息：</span><span class="sxs-lookup"><span data-stu-id="1acbb-222">You should ensure you document the following information:</span></span>  
  
-   <span data-ttu-id="1acbb-223">（32 或 64 位，群集或非群集） 的每台计算机的操作系统。</span><span class="sxs-lookup"><span data-stu-id="1acbb-223">Operating system for each computer ( 32 or 64 bit, clustered or not).</span></span>  
  
-   <span data-ttu-id="1acbb-224">若要在每台计算机上安装的服务器软件。</span><span class="sxs-lookup"><span data-stu-id="1acbb-224">Server software to be installed on each computer.</span></span>  
  
-   <span data-ttu-id="1acbb-225">使用虚拟化软件。</span><span class="sxs-lookup"><span data-stu-id="1acbb-225">Virtualization software used.</span></span>  
  
-   <span data-ttu-id="1acbb-226">通常不安装如 COM + 汇总修补了或 SQL Server 主机修复特定软件功能是必需的。</span><span class="sxs-lookup"><span data-stu-id="1acbb-226">Specific software features not typically installed such as COM+ rollup fixes or SQL Server host fixes that are required.</span></span>  
  
### <a name="determine-if-code-changes-are-within-the-scope-of-the-performance-assessment"></a><span data-ttu-id="1acbb-227">确定是否性能评估作用域内进行代码更改</span><span class="sxs-lookup"><span data-stu-id="1acbb-227">Determine if code changes are within the scope of the performance assessment</span></span>  
 <span data-ttu-id="1acbb-228">这是一个最重要的内容来确定在作用域的过程。</span><span class="sxs-lookup"><span data-stu-id="1acbb-228">This is one of the most important things to determine during the scoping process.</span></span>  <span data-ttu-id="1acbb-229">使用优化技术和本指南中所述的配置更改可以优化 BizTalk Server 和它所使用 （SQL Server、 Windows、 IIS 和更多） 的基础组件。</span><span class="sxs-lookup"><span data-stu-id="1acbb-229">BizTalk Server and the underlying components it uses (SQL Server, Windows, IIS and many more) can be optimized using the tuning techniques and configuration changes discussed in this guide.</span></span> <span data-ttu-id="1acbb-230">但是，如果还未一个应用程序开发以获得最佳性能，它可能妨碍这些性能提升。</span><span class="sxs-lookup"><span data-stu-id="1acbb-230">However, if an application has not been developed for optimal performance, it can hamper these performance gains.</span></span> <span data-ttu-id="1acbb-231">因此，代码更改应仅从删除作用域有全面的代码评审已完成应用程序进入实验室之前的置信度。</span><span class="sxs-lookup"><span data-stu-id="1acbb-231">Therefore, code changes should only be removed from the scope if you have confidence a thorough code review has been completed before the application enters the lab.</span></span> <span data-ttu-id="1acbb-232">如有必要，您可能会同意将允许只有某些更改，例如，业务流程中的持久化点删除。</span><span class="sxs-lookup"><span data-stu-id="1acbb-232">If necessary, you may agree that only certain changes be allowed, for example, the removal of persistence points within orchestrations.</span></span>  
  
## <a name="roles-and-responsibilities"></a><span data-ttu-id="1acbb-233">角色和职责</span><span class="sxs-lookup"><span data-stu-id="1acbb-233">Roles and responsibilities</span></span>  
 <span data-ttu-id="1acbb-234">正在运行的性能评估的最重要的领域之一是为了确保这些角色和职责被明确分配。</span><span class="sxs-lookup"><span data-stu-id="1acbb-234">One of the most important areas of running a performance assessment is to ensure the roles and responsibilities are clearly assigned.</span></span> <span data-ttu-id="1acbb-235">应在性能评估开始分配以下关键角色：</span><span class="sxs-lookup"><span data-stu-id="1acbb-235">The following key roles should be assigned at the onset of the performance assessment:</span></span>  
  
- <span data-ttu-id="1acbb-236">**Engagement 潜在顾客**-engagement 销售线索是负责拥有总体 engagement 端到端。</span><span class="sxs-lookup"><span data-stu-id="1acbb-236">**Engagement lead** - The engagement lead is responsible for owning the overall engagement end-to-end.</span></span>  <span data-ttu-id="1acbb-237">此角色通常将由资深顾问或架构师执行。</span><span class="sxs-lookup"><span data-stu-id="1acbb-237">This role will typically be performed by a Senior Consultant or Architect.</span></span>  <span data-ttu-id="1acbb-238">理想情况下此人应具有优化基于 BizTalk Server 系统中的体验。</span><span class="sxs-lookup"><span data-stu-id="1acbb-238">Ideally this person should have experience in tuning BizTalk Server based systems.</span></span>  <span data-ttu-id="1acbb-239">SQL Server 和任何其他技术，包括第三方的知识的最好。</span><span class="sxs-lookup"><span data-stu-id="1acbb-239">Knowledge of SQL Server and any other technologies including third party ones is desirable.</span></span>  <span data-ttu-id="1acbb-240">请注意没有必要销售线索是在所有方面的专家，但它们必须具有至少一个技术的应用知识，以便它们可以与这些区域中专家合作，并了解他们正在对其应用的优化。</span><span class="sxs-lookup"><span data-stu-id="1acbb-240">Please note it is not necessary that the lead is an expert in all areas, but they need to have at least a working knowledge of the technology in order that they can work with the specialists in those areas and understand the optimizations that they are applying.</span></span>  
  
- <span data-ttu-id="1acbb-241">**测试设计器**-需要具有专用于设计和实现过程在实验室中将执行的测试的人员。</span><span class="sxs-lookup"><span data-stu-id="1acbb-241">**Test designer** - It is necessary to have someone who is dedicated to designing and implementing the tests that will be executed during the lab.</span></span>  <span data-ttu-id="1acbb-242">这将涉及到决定将用于创建测试，测试每个测试以确保它将能够实现实验室的要求，并确保那些负责运行测试，必须知道如何使用客户端的测试框架。</span><span class="sxs-lookup"><span data-stu-id="1acbb-242">This will involve deciding on the test framework that will be used to create tests, testing each of the tests to ensure that it will fulfill the requirements of the lab and ensuring that those responsible for running the tests are aware of how to use the client.</span></span>  
  
- <span data-ttu-id="1acbb-243">**环境所有者**-实验室获得准确反映生产 BizTalk Server 中代表环境环境至关重要。</span><span class="sxs-lookup"><span data-stu-id="1acbb-243">**Environment owner** - Having a representative environment within the lab that accurately reflects the production BizTalk Server environment is critical.</span></span>  <span data-ttu-id="1acbb-244">执行此角色的人员将负责检查所使用的软件和硬件堆栈每一项，确认有无显著差别。</span><span class="sxs-lookup"><span data-stu-id="1acbb-244">The person performing this role will be responsible for checking each item of the software and hardware stack used and validating that there are no significant differences.</span></span> <span data-ttu-id="1acbb-245">例如 SQL Server 2008 R2 的 32 位平台上运行时仅可以解决 4 GB 的物理内存，而无需使用物理地址扩展 (PAE) 或地址窗口化扩展插件 (AWE)。</span><span class="sxs-lookup"><span data-stu-id="1acbb-245">For example SQL Server 2008 R2 when running on the 32-bit platform can only address 4GB of physical memory without using either Physical Address Extensions (PAE) or Address Windowing Extensions (AWE).</span></span> <span data-ttu-id="1acbb-246">在 SQL Server 2008 R2 中，最大为 1 的 64 位内存 terabyte 可以进行寻址 （这是 Windows Server 2008 R2 支持的当前最大物理内存）。</span><span class="sxs-lookup"><span data-stu-id="1acbb-246">In SQL Server 2008 R2, 64-bit up to 1 terabyte of memory can be addressed (this is the current maximum physical memory supported by Windows Server 2008 R2).</span></span> <span data-ttu-id="1acbb-247">因此显著区别客户和实验室环境将为 BizTalk Server 和 SQL Server 使用的 CPU 体系结构。</span><span class="sxs-lookup"><span data-stu-id="1acbb-247">Therefore a significant difference between the customer and the lab environment would be the architecture of CPU used by BizTalk Server and SQL Server.</span></span> <span data-ttu-id="1acbb-248">除了这些明显的因素，其他不太明显的因素，例如 service pack 级别和修补程序安装，可能会影响环境的性能。</span><span class="sxs-lookup"><span data-stu-id="1acbb-248">In addition to these obvious factors, other less obvious factors, such as service pack levels and hotfixes installed, can impact performance of the environment.</span></span>  
  
- <span data-ttu-id="1acbb-249">**生成环境的潜在顾客**-在绘制详细的规范之后进行性能评估人应分配责任构建环境。</span><span class="sxs-lookup"><span data-stu-id="1acbb-249">**Build environment lead** - After a detailed specification has been drawn up for the performance assessment, someone should be assigned the responsibility of building the environment.</span></span> <span data-ttu-id="1acbb-250">这将包括硬件和软件堆栈。</span><span class="sxs-lookup"><span data-stu-id="1acbb-250">This will include the hardware and software stack.</span></span> <span data-ttu-id="1acbb-251">将负责这一个人在许多情况下 （这通常是环境所有者）。</span><span class="sxs-lookup"><span data-stu-id="1acbb-251">In many cases one individual will be responsible for this (this is often the environment owner).</span></span> <span data-ttu-id="1acbb-252">但是在大型企业环境所有者可能需要将不同的团队，每个可能的解决方案的各种组件的纽带。</span><span class="sxs-lookup"><span data-stu-id="1acbb-252">However in a large enterprise the environment owner may need to be the liaison between different teams, who may each be responsible for various components of the solution.</span></span> <span data-ttu-id="1acbb-253">例如，一个团队可能需要为 Windows 生成，另一个用于 SQL Server 和另一个 BizTalk Server 的团队。</span><span class="sxs-lookup"><span data-stu-id="1acbb-253">For example, one team may be responsible for the Windows build, another for SQL Server, and yet another team for BizTalk Server.</span></span>  
  
- <span data-ttu-id="1acbb-254">**部署潜在顾客**-有必要让外人负责确保应用程序正确部署到 BizTalk Server、 正确的绑定进行配置并应用任何自定义配置。</span><span class="sxs-lookup"><span data-stu-id="1acbb-254">**Deployment lead** - It is necessary to have someone responsible for ensuring that the application is deployed correctly to BizTalk Server, that the correct bindings are configured and that any custom configuration is applied.</span></span> <span data-ttu-id="1acbb-255">此角色将需要十分了解解决方案和将需要了解要将应用程序打包和部署应用程序，然后验证它在实验室环境中正常运行的状态。</span><span class="sxs-lookup"><span data-stu-id="1acbb-255">This role will require a thorough knowledge of the solution and will require the knowledge to package an application and deploy an application and then validate that it is in a functioning state within the lab environment.</span></span>  
  
- <span data-ttu-id="1acbb-256">**产品专家**– 务必要确定哪些产品专家所需的性能评估。</span><span class="sxs-lookup"><span data-stu-id="1acbb-256">**Product specialists** – It is important to identify what product specialists are required for the performance assessment.</span></span> <span data-ttu-id="1acbb-257">所需的确切技能取决于设计和 BizTalk Server 应用程序的目的。</span><span class="sxs-lookup"><span data-stu-id="1acbb-257">The exact skills required depend upon the design and purpose of the BizTalk Server application.</span></span>  
  
   <span data-ttu-id="1acbb-258">所需的最常见的产品专家技能之一是性能优化 SQL Server 的额外知识。</span><span class="sxs-lookup"><span data-stu-id="1acbb-258">One of the most common product specialist skills required is extensive knowledge of performance tuning SQL Server.</span></span> <span data-ttu-id="1acbb-259">这些技能所需的两个用途： 首先，它通常有必要执行 SQL Server 优化，以优化性能 BizTalk 数据库，第二个，许多 BizTalk 解决方案进行自定义数据库的使用。</span><span class="sxs-lookup"><span data-stu-id="1acbb-259">These skills are required for two purposes: first, it is often necessary to perform SQL Server optimizations to optimize performance of the BizTalk databases and second, many BizTalk solutions make use of custom databases.</span></span> <span data-ttu-id="1acbb-260">如果正确优化不会应用于 SQL Server 环境，使用自定义数据库可以成为解决方案中的瓶颈。</span><span class="sxs-lookup"><span data-stu-id="1acbb-260">The use of custom databases can become a bottleneck in the solution if the correct optimizations are not applied to the SQL Server environment.</span></span> <span data-ttu-id="1acbb-261">若要识别并应用相应的数据库优化，以下 SQL Server 技能先决条件通常需要：</span><span class="sxs-lookup"><span data-stu-id="1acbb-261">In order to identify and apply the appropriate database optimizations, the following SQL Server skills are typically required:</span></span>  
  
  - <span data-ttu-id="1acbb-262">全面了解 SQL Server 存储过程代码中，包括优化现有的存储的过程的能力。</span><span class="sxs-lookup"><span data-stu-id="1acbb-262">Thorough understanding of SQL Server stored procedure code, including the ability to optimize existing stored procedures.</span></span>  
  
  - <span data-ttu-id="1acbb-263">标识并生成数据库的缺失索引功能。</span><span class="sxs-lookup"><span data-stu-id="1acbb-263">Ability to identify and build missing database indexes.</span></span>  
  
  - <span data-ttu-id="1acbb-264">若要编写脚本，以将数据库拆分成多个文件的功能。</span><span class="sxs-lookup"><span data-stu-id="1acbb-264">Ability to write scripts to split databases into multiple files.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="1acbb-265">应用此优化的详细信息，请参阅[优化文件组的数据库 2](../technical-guides/optimizing-filegroups-for-the-databases2.md)。</span><span class="sxs-lookup"><span data-stu-id="1acbb-265">For more information on applying this optimization, see [Optimizing Filegroups for the Databases2](../technical-guides/optimizing-filegroups-for-the-databases2.md).</span></span>  
  
  - <span data-ttu-id="1acbb-266">若要确定使用 SQL Server 2008 R2 性能面板报告的性能问题的功能。</span><span class="sxs-lookup"><span data-stu-id="1acbb-266">Ability to identify performance problems using SQL Server 2008 R2 Performance Dashboard Reports.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="1acbb-267">SQL Server 2008 R2 性能面板报告是可在下载[ http://go.microsoft.com/fwlink/?LinkId=118673 ](http://go.microsoft.com/fwlink/?LinkId=118673)。</span><span class="sxs-lookup"><span data-stu-id="1acbb-267">SQL Server 2008 R2 Performance Dashboard Reports is available for download at [http://go.microsoft.com/fwlink/?LinkId=118673](http://go.microsoft.com/fwlink/?LinkId=118673).</span></span>  
  
    <span data-ttu-id="1acbb-268">对于每个性能评估中所涉及的专家技术，按如上所述适用于 SQL Server，应定义要求的列表。</span><span class="sxs-lookup"><span data-stu-id="1acbb-268">For each specialist technology involved in the performance assessment, a list of requirements should be defined as is done above for SQL Server.</span></span> <span data-ttu-id="1acbb-269">这可确保资源获得的有什么需要其中的清晰的期望。</span><span class="sxs-lookup"><span data-stu-id="1acbb-269">This ensures the resource obtained has clear expectations of what will be required of them.</span></span> <span data-ttu-id="1acbb-270">在性能评估期间经常需要具备专业的知识的另一种技术是 IBM Websphere MQ。</span><span class="sxs-lookup"><span data-stu-id="1acbb-270">Another technology that frequently requires specialized knowledge during the performance assessment is IBM Websphere MQ.</span></span> <span data-ttu-id="1acbb-271">下面的列表说明了 IBM WebSphere MQ 产品专家要求规范：</span><span class="sxs-lookup"><span data-stu-id="1acbb-271">The list below illustrates the requirements specification for an IBM WebSphere MQ product specialist:</span></span>  
  
  - <span data-ttu-id="1acbb-272">在监视、 维护和 MQSeries 的自定义体验。</span><span class="sxs-lookup"><span data-stu-id="1acbb-272">Experience in the monitoring, maintenance, and customization of MQSeries.</span></span>  
  
  - <span data-ttu-id="1acbb-273">通过安装和新版本的 MQSeries 的迁移体验。</span><span class="sxs-lookup"><span data-stu-id="1acbb-273">Experience with installation and migration of new versions of MQSeries.</span></span>  
  
  - <span data-ttu-id="1acbb-274">若要分析和优化 MQSeries 性能的功能。</span><span class="sxs-lookup"><span data-stu-id="1acbb-274">Ability to analyze and tune MQSeries performance.</span></span>  
  
  - <span data-ttu-id="1acbb-275">执行分析 MQSeries 问题。</span><span class="sxs-lookup"><span data-stu-id="1acbb-275">Perform MQSeries problem analysis.</span></span>  
  
  - <span data-ttu-id="1acbb-276">进程和相关的 MQSeries 安全性、 管理、 恢复和自动化过程的知识。</span><span class="sxs-lookup"><span data-stu-id="1acbb-276">Knowledge of the processes and procedures related to MQSeries security, administration, recovery and automation.</span></span>  
  
- <span data-ttu-id="1acbb-277">**文档潜在顾客**-是至关重要的不断更新实验室文档-的端到端整个性能评估。</span><span class="sxs-lookup"><span data-stu-id="1acbb-277">**Documentation lead** - Continuously updating the lab documentation end-to-end throughout the performance assessment is vitally important.</span></span> <span data-ttu-id="1acbb-278">直到优化已经成功地在生产环境中应用和系统已获取所需的性能级别，则不应评判实验室 engagement 总体 successfulness。</span><span class="sxs-lookup"><span data-stu-id="1acbb-278">The overall successfulness of a lab engagement should not be judged until the optimizations have successfully been applied in the production environment and the system has obtained the desired level of performance.</span></span> <span data-ttu-id="1acbb-279">若要执行此操作，很重要的保存详细的记录的以下信息：</span><span class="sxs-lookup"><span data-stu-id="1acbb-279">In order to do this, it is essential that a detailed record of the following information is kept:</span></span>  
  
  -   <span data-ttu-id="1acbb-280">在实验室的高级结果摘要</span><span class="sxs-lookup"><span data-stu-id="1acbb-280">High-level results summary of the lab</span></span>  
  
  -   <span data-ttu-id="1acbb-281">未解决的问题</span><span class="sxs-lookup"><span data-stu-id="1acbb-281">Unresolved issues</span></span>  
  
  -   <span data-ttu-id="1acbb-282">已解决的问题</span><span class="sxs-lookup"><span data-stu-id="1acbb-282">Resolved issues</span></span>  
  
  -   <span data-ttu-id="1acbb-283">在实验室的时间线</span><span class="sxs-lookup"><span data-stu-id="1acbb-283">Timeline for the lab</span></span>  
  
  -   <span data-ttu-id="1acbb-284">实验室进度</span><span class="sxs-lookup"><span data-stu-id="1acbb-284">Lab progress</span></span>  
  
  -   <span data-ttu-id="1acbb-285">按类别实现的优化</span><span class="sxs-lookup"><span data-stu-id="1acbb-285">Implemented optimizations by category</span></span>  
  
  -   <span data-ttu-id="1acbb-286">按时间顺序 （以确保它们可以应用相同的顺序在生产系统中） 实现的优化</span><span class="sxs-lookup"><span data-stu-id="1acbb-286">Implemented optimizations in chronological order (to ensure that they can be applied in the same order in the production system)</span></span>  
  
  -   <span data-ttu-id="1acbb-287">高级体系结构关系图</span><span class="sxs-lookup"><span data-stu-id="1acbb-287">High-level architectural diagram</span></span>  
  
  -   <span data-ttu-id="1acbb-288">要测试的方案的详细信息</span><span class="sxs-lookup"><span data-stu-id="1acbb-288">Detail of the scenarios to be tested</span></span>  
  
  -   <span data-ttu-id="1acbb-289">所涉及的第三方技术</span><span class="sxs-lookup"><span data-stu-id="1acbb-289">Third party technologies involved</span></span>  
  
  -   <span data-ttu-id="1acbb-290">实验室硬件图</span><span class="sxs-lookup"><span data-stu-id="1acbb-290">Lab hardware diagram</span></span>  
  
  -   <span data-ttu-id="1acbb-291">联系人列表</span><span class="sxs-lookup"><span data-stu-id="1acbb-291">Contact list</span></span>  
  
  -   <span data-ttu-id="1acbb-292">详细的硬件清单</span><span class="sxs-lookup"><span data-stu-id="1acbb-292">Detailed hardware inventory</span></span>  
  
  -   <span data-ttu-id="1acbb-293">附录，列出了完整的详细结果</span><span class="sxs-lookup"><span data-stu-id="1acbb-293">Appendix with full detailed results</span></span>  
  
- <span data-ttu-id="1acbb-294">**开发人员**-是否需要开发人员非常依赖于此服务的范围。</span><span class="sxs-lookup"><span data-stu-id="1acbb-294">**Developer** - Whether a developer is required depends very much on the scope of the engagement.</span></span> <span data-ttu-id="1acbb-295">如果基本代码已被锁定，并且在实验室中，有测试基础结构和平台优化只有这样的开发人员服务应该不需要。</span><span class="sxs-lookup"><span data-stu-id="1acbb-295">If the code base has been locked down and the lab is there to test infrastructure and platform optimizations only then the services of a developer should not be required.</span></span> <span data-ttu-id="1acbb-296">恰好在生产服务器的"可上线"日期之前执行性能测试时，可以发生这种情况。</span><span class="sxs-lookup"><span data-stu-id="1acbb-296">This type of scenario can occur when performance testing is performed just before the “go-live” date of the production server.</span></span> <span data-ttu-id="1acbb-297">通过这一次，代码应被锁住并完成或正在进行完整的回归测试。</span><span class="sxs-lookup"><span data-stu-id="1acbb-297">By this time, the code should have been locked down and full regression testing should be complete or in progress.</span></span> <span data-ttu-id="1acbb-298">对实验室中引入的代码的任何更改都可能引入了一个回归，并因此，引入生产系统与风险。</span><span class="sxs-lookup"><span data-stu-id="1acbb-298">Any changes to the code introduced in the lab could introduce a regression and, therefore, introduce risk to the production system.</span></span> <span data-ttu-id="1acbb-299">如果允许代码更改，则通常会需要执行开发人员。</span><span class="sxs-lookup"><span data-stu-id="1acbb-299">If code changes are permitted, then typically a developer will be required.</span></span> <span data-ttu-id="1acbb-300">下面的列表表示通常由开发人员参与 BizTalk Server 性能评估的所需的技能：</span><span class="sxs-lookup"><span data-stu-id="1acbb-300">The list below represents the skills typically required by a developer that is engaged in a BizTalk Server performance assessment:</span></span>  
  
  -   <span data-ttu-id="1acbb-301">能够识别并修复性能问题与业务流程</span><span class="sxs-lookup"><span data-stu-id="1acbb-301">Ability to identify and fix performance issues with orchestrations</span></span>  
  
  -   <span data-ttu-id="1acbb-302">能够识别并修复性能问题，可使用管道</span><span class="sxs-lookup"><span data-stu-id="1acbb-302">Ability to identify and fix performance issues with pipelines</span></span>  
  
  -   <span data-ttu-id="1acbb-303">熟悉.NET 包括：</span><span class="sxs-lookup"><span data-stu-id="1acbb-303">Familiarity with .NET including:</span></span>  
  
      -   <span data-ttu-id="1acbb-304">企业库</span><span class="sxs-lookup"><span data-stu-id="1acbb-304">Enterprise library</span></span>  
  
      -   <span data-ttu-id="1acbb-305">Visual Studio F1 事件探查器专业知识</span><span class="sxs-lookup"><span data-stu-id="1acbb-305">Visual Studio F1 profiler expertise</span></span>  
  
      -   <span data-ttu-id="1acbb-306">Microsoft Visual Studio 2010 Ultimate 或 Visual Studio 测试 Professional 2010</span><span class="sxs-lookup"><span data-stu-id="1acbb-306">Microsoft Visual Studio 2010 Ultimate or Visual Studio Test Professional 2010</span></span>  
  
- <span data-ttu-id="1acbb-307">**测试领导**-确保获取准确、 完整和全面的结果集是关键。</span><span class="sxs-lookup"><span data-stu-id="1acbb-307">**Test lead** - Ensuring an accurate, complete and thorough set of results is obtained is critical.</span></span> <span data-ttu-id="1acbb-308">测试领导负责确保捕获、 分析相应地，并适当地分发每个测试运行完成后所需的信息。</span><span class="sxs-lookup"><span data-stu-id="1acbb-308">The test lead is responsible for ensuring the required information is captured, analyzed appropriately, and distributed appropriately after every test run.</span></span> <span data-ttu-id="1acbb-309">务必要考虑如何捕获的数据，通常情况下测试数据是适用于使用 Excel 电子表格的演示文稿。</span><span class="sxs-lookup"><span data-stu-id="1acbb-309">It is important to consider how to capture the data, typically the test data is suitable for presentation using an Excel spreadsheet.</span></span> <span data-ttu-id="1acbb-310">以下列表说明了应捕获每个测试的运行在本实验中的数据：</span><span class="sxs-lookup"><span data-stu-id="1acbb-310">The following list illustrates the data that should be captured for each test that is run during the lab:</span></span>  
  
  - <span data-ttu-id="1acbb-311">测试运行数</span><span class="sxs-lookup"><span data-stu-id="1acbb-311">Test run number</span></span>  
  
  - <span data-ttu-id="1acbb-312">Date</span><span class="sxs-lookup"><span data-stu-id="1acbb-312">Date</span></span>  
  
  - <span data-ttu-id="1acbb-313">处理的消息总数</span><span class="sxs-lookup"><span data-stu-id="1acbb-313">Total messages processed</span></span>  
  
  - <span data-ttu-id="1acbb-314">每秒处理的消息</span><span class="sxs-lookup"><span data-stu-id="1acbb-314">Messages processed per second</span></span>  
  
  - <span data-ttu-id="1acbb-315">开始时间</span><span class="sxs-lookup"><span data-stu-id="1acbb-315">Time started</span></span>  
  
  - <span data-ttu-id="1acbb-316">已停止的时间</span><span class="sxs-lookup"><span data-stu-id="1acbb-316">Time stopped</span></span>  
  
  - <span data-ttu-id="1acbb-317">以分钟为单位的测试持续时间</span><span class="sxs-lookup"><span data-stu-id="1acbb-317">Test duration in minutes</span></span>  
  
  - <span data-ttu-id="1acbb-318">挂起消息 / 总消息处理-这可以从 BizTalk 管理控制台或通过测量使用性能监视器的 BizTalk Server 性能计数器捕获。</span><span class="sxs-lookup"><span data-stu-id="1acbb-318">Suspended messages / Total messages processed – This can be captured either from the BizTalk Administration console or by measuring the BizTalk Server performance counters using Performance Monitor.</span></span>  
  
  - <span data-ttu-id="1acbb-319">\# 失败处理的消息</span><span class="sxs-lookup"><span data-stu-id="1acbb-319">\# of messages that have failed processing</span></span>  
  
  - <span data-ttu-id="1acbb-320">\# 或已成功处理的消息</span><span class="sxs-lookup"><span data-stu-id="1acbb-320">\# or message that have been successfully processed</span></span>  
  
  - <span data-ttu-id="1acbb-321">测试客户端响应</span><span class="sxs-lookup"><span data-stu-id="1acbb-321">Test client responses</span></span>  
  
  - <span data-ttu-id="1acbb-322">客户端进程持续时间的平均值，以秒为单位-通常情况下实现与 BizTalk Server 的同步消息传递解决方案时，此值进行测量，在这种情况下是必须知道客户端平均持续时间内的值，因为这通常是多长时间最终用户代表正在等待响应从解决方案。</span><span class="sxs-lookup"><span data-stu-id="1acbb-322">Client process duration average, measured in seconds - Typically this value is measured when implementing a synchronous messaging solution with BizTalk Server, in this case it is important to know the value for average client duration as this is typically representative of how long an end user is waiting for a response from the solution.</span></span>  
  
  - <span data-ttu-id="1acbb-323">客户端进程持续时间最大值，以秒为单位</span><span class="sxs-lookup"><span data-stu-id="1acbb-323">Client process duration maximum value, measured in seconds</span></span>  
  
  - <span data-ttu-id="1acbb-324">客户端进程持续时间最小值，以秒为单位</span><span class="sxs-lookup"><span data-stu-id="1acbb-324">Client process duration minimum value, measured in seconds</span></span>  
  
  - <span data-ttu-id="1acbb-325">BizTalk Server 请求/响应延迟，以秒为单位</span><span class="sxs-lookup"><span data-stu-id="1acbb-325">BizTalk Server request/response latency, measured in seconds</span></span>  
  
  - <span data-ttu-id="1acbb-326">每秒完成的业务流程</span><span class="sxs-lookup"><span data-stu-id="1acbb-326">Orchestrations completed per second</span></span>  
  
  - <span data-ttu-id="1acbb-327">%的时间上处理的消息</span><span class="sxs-lookup"><span data-stu-id="1acbb-327">% of messages processed on time</span></span>  
  
  - <span data-ttu-id="1acbb-328">值**TestResultsLocation**变量使用的 Visual Studio Team System 测试工具。</span><span class="sxs-lookup"><span data-stu-id="1acbb-328">Value of **TestResultsLocation** variable used by Visual Studio Team System testing tools.</span></span>  
  
  - <span data-ttu-id="1acbb-329">值**TestResultsLocation**使用 BizUnit 变量。</span><span class="sxs-lookup"><span data-stu-id="1acbb-329">Value of **TestResultsLocation** variable used by BizUnit.</span></span>  
  
  - <span data-ttu-id="1acbb-330">任何评论或建议</span><span class="sxs-lookup"><span data-stu-id="1acbb-330">Any comments or recommendations</span></span>  
  
    <span data-ttu-id="1acbb-331">正在收集结果，以及测试领导应确保它们监视每个测试运行以查看是否存在的趋势。</span><span class="sxs-lookup"><span data-stu-id="1acbb-331">As well as collecting the results, the test lead should ensure that they monitor each test run to see if there are any trends.</span></span> <span data-ttu-id="1acbb-332">性能改进应传达给团队的其余部分，以及应指示多少性能已提高和应用哪种优化程度地提升。</span><span class="sxs-lookup"><span data-stu-id="1acbb-332">Performance improvements should be communicated to the rest of the team and should indicate how much performance was improved and which optimization was applied to achieve the improvement.</span></span> <span data-ttu-id="1acbb-333">一天结束时非常重要的测试组长提供已在实验室中执行的测试的摘要。</span><span class="sxs-lookup"><span data-stu-id="1acbb-333">At the end of day it is important that the test lead provides a summary of the tests that have been performed in the lab.</span></span> <span data-ttu-id="1acbb-334">这样，利益干系人要保留实验室不断进步时得到通知。</span><span class="sxs-lookup"><span data-stu-id="1acbb-334">This allows the stakeholders to be kept informed of the continued progress of the lab.</span></span> <span data-ttu-id="1acbb-335">下表说明了如何此信息可能会将在示例更新电子邮件：</span><span class="sxs-lookup"><span data-stu-id="1acbb-335">The table below illustrates how this information might be put together in a sample update e-mail:</span></span>  
  
  ### <a name="test-results-summary"></a><span data-ttu-id="1acbb-336">测试结果摘要</span><span class="sxs-lookup"><span data-stu-id="1acbb-336">Test results summary</span></span>  
  
  |<span data-ttu-id="1acbb-337">“登录属性”</span><span class="sxs-lookup"><span data-stu-id="1acbb-337">Status</span></span>|<span data-ttu-id="1acbb-338">吞吐量</span><span class="sxs-lookup"><span data-stu-id="1acbb-338">Throughput</span></span>|<span data-ttu-id="1acbb-339">平均延迟</span><span class="sxs-lookup"><span data-stu-id="1acbb-339">Average Latency</span></span>|<span data-ttu-id="1acbb-340">%< 2 秒</span><span class="sxs-lookup"><span data-stu-id="1acbb-340">%< 2 seconds</span></span>|<span data-ttu-id="1acbb-341"># of 测试运行</span><span class="sxs-lookup"><span data-stu-id="1acbb-341"># of Test runs</span></span>|<span data-ttu-id="1acbb-342"># of BizTalk Server 计算机</span><span class="sxs-lookup"><span data-stu-id="1acbb-342"># of BizTalk Server Computers</span></span>|<span data-ttu-id="1acbb-343"># of 消息</span><span class="sxs-lookup"><span data-stu-id="1acbb-343"># of Messages</span></span>|<span data-ttu-id="1acbb-344">平均消息大小</span><span class="sxs-lookup"><span data-stu-id="1acbb-344">Average Message Size</span></span>|<span data-ttu-id="1acbb-345">Duration</span><span class="sxs-lookup"><span data-stu-id="1acbb-345">Duration</span></span>|  
  |------------|----------------|---------------------|-------------------|---------------------|------------------------------------|--------------------|--------------------------|--------------|  
  |<span data-ttu-id="1acbb-346">扩大</span><span class="sxs-lookup"><span data-stu-id="1acbb-346">Scale out</span></span>|<span data-ttu-id="1acbb-347">140 消息/秒</span><span class="sxs-lookup"><span data-stu-id="1acbb-347">140 messages/second</span></span>|<span data-ttu-id="1acbb-348">0.777 秒</span><span class="sxs-lookup"><span data-stu-id="1acbb-348">0.777 seconds</span></span>|<span data-ttu-id="1acbb-349">99.3%</span><span class="sxs-lookup"><span data-stu-id="1acbb-349">99.3%</span></span>|<span data-ttu-id="1acbb-350">2</span><span class="sxs-lookup"><span data-stu-id="1acbb-350">2</span></span>|<span data-ttu-id="1acbb-351">6</span><span class="sxs-lookup"><span data-stu-id="1acbb-351">6</span></span>|<span data-ttu-id="1acbb-352">270,000</span><span class="sxs-lookup"><span data-stu-id="1acbb-352">270,000</span></span>|<span data-ttu-id="1acbb-353">609 字节</span><span class="sxs-lookup"><span data-stu-id="1acbb-353">609 bytes</span></span>|<span data-ttu-id="1acbb-354">30 分钟</span><span class="sxs-lookup"><span data-stu-id="1acbb-354">30 minutes</span></span>|  
  |<span data-ttu-id="1acbb-355">最佳</span><span class="sxs-lookup"><span data-stu-id="1acbb-355">Best</span></span>|<span data-ttu-id="1acbb-356">50 消息/秒</span><span class="sxs-lookup"><span data-stu-id="1acbb-356">50 messages/second</span></span>|<span data-ttu-id="1acbb-357">1.12 秒</span><span class="sxs-lookup"><span data-stu-id="1acbb-357">1.12 seconds</span></span>|<span data-ttu-id="1acbb-358">99.12%</span><span class="sxs-lookup"><span data-stu-id="1acbb-358">99.12%</span></span>|<span data-ttu-id="1acbb-359">17</span><span class="sxs-lookup"><span data-stu-id="1acbb-359">17</span></span>|<span data-ttu-id="1acbb-360">2</span><span class="sxs-lookup"><span data-stu-id="1acbb-360">2</span></span>|<span data-ttu-id="1acbb-361">360,000</span><span class="sxs-lookup"><span data-stu-id="1acbb-361">360,000</span></span>|<span data-ttu-id="1acbb-362">609 字节</span><span class="sxs-lookup"><span data-stu-id="1acbb-362">609 bytes</span></span>|<span data-ttu-id="1acbb-363">2 小时</span><span class="sxs-lookup"><span data-stu-id="1acbb-363">2 hours</span></span>|  
  |<span data-ttu-id="1acbb-364">基线</span><span class="sxs-lookup"><span data-stu-id="1acbb-364">Baseline</span></span>|<span data-ttu-id="1acbb-365">30 消息/秒</span><span class="sxs-lookup"><span data-stu-id="1acbb-365">30 messages/second</span></span>|<span data-ttu-id="1acbb-366">1.52 秒</span><span class="sxs-lookup"><span data-stu-id="1acbb-366">1.52 seconds</span></span>|<span data-ttu-id="1acbb-367">92.9 %</span><span class="sxs-lookup"><span data-stu-id="1acbb-367">92.9 %</span></span>|<span data-ttu-id="1acbb-368">4</span><span class="sxs-lookup"><span data-stu-id="1acbb-368">4</span></span>|<span data-ttu-id="1acbb-369">2</span><span class="sxs-lookup"><span data-stu-id="1acbb-369">2</span></span>|<span data-ttu-id="1acbb-370">36,000</span><span class="sxs-lookup"><span data-stu-id="1acbb-370">36,000</span></span>|<span data-ttu-id="1acbb-371">609 字节</span><span class="sxs-lookup"><span data-stu-id="1acbb-371">609 bytes</span></span>|<span data-ttu-id="1acbb-372">20 分钟</span><span class="sxs-lookup"><span data-stu-id="1acbb-372">20 minutes</span></span>|  
  |<span data-ttu-id="1acbb-373">目标</span><span class="sxs-lookup"><span data-stu-id="1acbb-373">Goals</span></span>|<span data-ttu-id="1acbb-374">5 消息/秒</span><span class="sxs-lookup"><span data-stu-id="1acbb-374">5 messages/second</span></span>|<span data-ttu-id="1acbb-375">< 2 秒</span><span class="sxs-lookup"><span data-stu-id="1acbb-375">< 2 seconds</span></span>|<span data-ttu-id="1acbb-376">90%</span><span class="sxs-lookup"><span data-stu-id="1acbb-376">90%</span></span>|-|<span data-ttu-id="1acbb-377">2</span><span class="sxs-lookup"><span data-stu-id="1acbb-377">2</span></span>|-|-|-|  
  
## <a name="define-all-deliverables-that-are-required-at-the-onset-of-the-performance-assessment"></a><span data-ttu-id="1acbb-378">定义所有可交付结果所需在性能评估开始</span><span class="sxs-lookup"><span data-stu-id="1acbb-378">Define all deliverables that are required at the onset of the performance assessment</span></span>  
 <span data-ttu-id="1acbb-379">请务必达成一致的 BizTalk Server 性能评估在开始之前必须已存在的可交付结果。</span><span class="sxs-lookup"><span data-stu-id="1acbb-379">It is important to agree upon deliverables that must be in place before embarking on a BizTalk Server performance assessment.</span></span> <span data-ttu-id="1acbb-380">以下部分介绍应在性能评估开始准备就绪的可交付结果。</span><span class="sxs-lookup"><span data-stu-id="1acbb-380">The section below describes the deliverables that should be in place at the onset of the performance assessment.</span></span>  
  
- <span data-ttu-id="1acbb-381">**应用程序进行测试**– 将性能评估期间使用的完整应用程序必须可用。</span><span class="sxs-lookup"><span data-stu-id="1acbb-381">**Application to be tested** – The complete application that will be used during the performance assessment must be available.</span></span> <span data-ttu-id="1acbb-382">非常重要的应用程序开始性能评估之前处于完全正常运行状态，否则可能丢失有价值的实验室测试时间。</span><span class="sxs-lookup"><span data-stu-id="1acbb-382">It is important that the application is in a fully functioning state before beginning the performance assessment, otherwise there is risk of losing valuable lab testing time.</span></span>  
  
- <span data-ttu-id="1acbb-383">**自动的生成和部署规划**-前参与性能评估，应为要测试的 BizTalk Server 解决方案开发自动化的生成和部署过程。</span><span class="sxs-lookup"><span data-stu-id="1acbb-383">**Planning for automated build and deployment** - Before engaging in the performance assessment, an automated build and deployment process should be developed for the BizTalk Server solution to be tested.</span></span> <span data-ttu-id="1acbb-384">自动执行应用程序的生成过程可以执行的连续的每日生成过程，然后生成验证测试 (Bvt) 测试功能流过系统的一组附带的。</span><span class="sxs-lookup"><span data-stu-id="1acbb-384">Automating the build process for an application enables you to do a continuous daily build process, which can then be accompanied by a set of build validation tests (BVTs) which test the functional flows through the system.</span></span> <span data-ttu-id="1acbb-385">这使您能够检测编译和功能问题更快、 更容易在开发生命周期。</span><span class="sxs-lookup"><span data-stu-id="1acbb-385">This enables you to detect compilation and functional problems quicker and easier throughout the development lifecycle.</span></span> <span data-ttu-id="1acbb-386">在本实验中，这意味着，如果不需要任何代码更改则可以快速验证更新后的解决方案工作正常。</span><span class="sxs-lookup"><span data-stu-id="1acbb-386">Within the lab, this means that if any code changes are required you can quickly verify that the updated solution works without problems.</span></span> <span data-ttu-id="1acbb-387">手动构建、 部署和配置性能实验室的应用程序可以是一项枯燥乏味且错误容易任务。</span><span class="sxs-lookup"><span data-stu-id="1acbb-387">Manually building, deploying and configuring an application for a performance lab can be a tedious and error prone task.</span></span> <span data-ttu-id="1acbb-388">因此建议使用自动化方法来完成以下构建和部署活动：</span><span class="sxs-lookup"><span data-stu-id="1acbb-388">Therefore it is recommended that an automation technique be used to accomplish the following build and deployment activities:</span></span>  
  
  -   <span data-ttu-id="1acbb-389">从源代码管理获取最新的代码。</span><span class="sxs-lookup"><span data-stu-id="1acbb-389">Get latest code from source control.</span></span>  
  
  -   <span data-ttu-id="1acbb-390">生成完整的解决方案。</span><span class="sxs-lookup"><span data-stu-id="1acbb-390">Build the complete solution.</span></span>  
  
  -   <span data-ttu-id="1acbb-391">将解决方案部署到环境。</span><span class="sxs-lookup"><span data-stu-id="1acbb-391">Deploy the solution to the environment.</span></span>  
  
  -   <span data-ttu-id="1acbb-392">创建 BizTalk 应用程序。</span><span class="sxs-lookup"><span data-stu-id="1acbb-392">Create BizTalk applications.</span></span>  
  
  -   <span data-ttu-id="1acbb-393">将.dll 文件和绑定等的 BizTalk Server 资源添加到 BizTalk 应用程序。</span><span class="sxs-lookup"><span data-stu-id="1acbb-393">Add BizTalk Server resources such as .dll files and bindings to BizTalk applications.</span></span>  
  
  -   <span data-ttu-id="1acbb-394">导入绑定文件来创建端口并绑定到业务流程。</span><span class="sxs-lookup"><span data-stu-id="1acbb-394">Import binding file to create ports and bind to orchestrations.</span></span>  
  
  -   <span data-ttu-id="1acbb-395">导出 BizTalk 应用程序作为 Microsoft® Windows® Installer 包，以便它可以在测试或生产环境中部署。</span><span class="sxs-lookup"><span data-stu-id="1acbb-395">Export BizTalk applications as a Microsoft® Windows® Installer package so that it can be deployed in the testing or production environment.</span></span>  
  
  > [!NOTE]  
  >  <span data-ttu-id="1acbb-396">有关实施自动的生成过程的详细信息，请参阅[自动执行生成过程](../technical-guides/automating-the-build-process.md)</span><span class="sxs-lookup"><span data-stu-id="1acbb-396">For more information about implementing an automated build process, see[Automating the Build Process](../technical-guides/automating-the-build-process.md)</span></span>  
  
   <span data-ttu-id="1acbb-397">MSBuild 中引入了.NET framework 2.0 使开发人员能够之前自动执行任务，如所述。</span><span class="sxs-lookup"><span data-stu-id="1acbb-397">MSBuild was introduced with the .NET framework 2.0 to enable developers to automate tasks such as those described earlier.</span></span> <span data-ttu-id="1acbb-398">多个特定于 BizTalk Server – MSBuild 任务所含 SDC 任务库，它是可从下载[ http://go.microsoft.com/fwlink/?LinkId=119288 ](http://go.microsoft.com/fwlink/?LinkId=119288)。</span><span class="sxs-lookup"><span data-stu-id="1acbb-398">Several BizTalk Server–specific MSBuild tasks are included with the SDC Tasks library, which is available for download from  [http://go.microsoft.com/fwlink/?LinkId=119288](http://go.microsoft.com/fwlink/?LinkId=119288).</span></span>  
  
- <span data-ttu-id="1acbb-399">**测试性能评估过程中使用的数据**– 使用测试数据有显著的影响的整体效率和性能评估是否成功。</span><span class="sxs-lookup"><span data-stu-id="1acbb-399">**Test data to be used during the performance assessment** – The test data that is used has a considerable influence on the overall effectiveness and success of a performance assessment.</span></span>  <span data-ttu-id="1acbb-400">请考虑其中的 BizTalk Server 应用程序使用消息传送、 业务流程和规则引擎的情况。</span><span class="sxs-lookup"><span data-stu-id="1acbb-400">Consider the scenario where a BizTalk Server application utilizes messaging, orchestration and the Rules Engine.</span></span> <span data-ttu-id="1acbb-401">规则引擎是从内部调用的管道组件在接收端，以确定将使用哪个业务流程来处理该消息;也称为从不同位置来确定流在业务流程内。</span><span class="sxs-lookup"><span data-stu-id="1acbb-401">The Rules Engine is called from within a pipeline component on the receive side to determine which orchestration will be used to process the message; and it is also called from within the orchestration at various points to determine flow.</span></span> <span data-ttu-id="1acbb-402">规则引擎实现，以便优化规则策略执行缓存。</span><span class="sxs-lookup"><span data-stu-id="1acbb-402">The Rules Engine implements caching so that rules policy execution is optimized.</span></span> <span data-ttu-id="1acbb-403">因此，如果一条消息在性能评估期间用作测试数据，测试结果可能会扭曲 （由于缓存），您可能会获取不能在生产环境中复制的结果。</span><span class="sxs-lookup"><span data-stu-id="1acbb-403">Therefore, if a single message is used as test data during the performance assessment, test results may be skewed (due to caching) and you may obtain results that can’t be replicated in production.</span></span>  
  
   <span data-ttu-id="1acbb-404">理想情况下在性能评估期间使用的测试数据应是实际的生产数据或生产数据的子集。</span><span class="sxs-lookup"><span data-stu-id="1acbb-404">Ideally the test data used during the performance assessment should be actual production data or a subset of production data.</span></span> <span data-ttu-id="1acbb-405">测试数据还应模拟的负载和流量将流经生产系统的模式。</span><span class="sxs-lookup"><span data-stu-id="1acbb-405">The test data should also simulate the load and pattern of traffic that will be flowing through the production system.</span></span> <span data-ttu-id="1acbb-406">定义要求的测试数据时，请考虑以下因素：</span><span class="sxs-lookup"><span data-stu-id="1acbb-406">Consider the following factors when defining requirements for test data:</span></span>  
  
  - <span data-ttu-id="1acbb-407">**将一段给定时间从系统里的消息数**-这通常表示为消息数 / 秒或每小时的消息。</span><span class="sxs-lookup"><span data-stu-id="1acbb-407">**Number of messages that will be flowing through the system in a given period** - This is normally expressed as messages per second or messages per hour.</span></span>  
  
  - <span data-ttu-id="1acbb-408">**类型的消息**– 是消息的平面文件、 XML 或二进制文件？</span><span class="sxs-lookup"><span data-stu-id="1acbb-408">**Types of messages** – Are the messages flat file, XML, or binary?</span></span>  
  
  - <span data-ttu-id="1acbb-409">**消息的分发**– 占多少百分比将平面文件，将使用的每个 XML 消息类型占多少百分比？</span><span class="sxs-lookup"><span data-stu-id="1acbb-409">**Distribution of messages** – What percentage will be flat file, what percentage of each XML message type will be used?</span></span>  
  
  - <span data-ttu-id="1acbb-410">**处理要求的峰值负载**-在许多情况下，可能在非高峰时间处理大的交换。</span><span class="sxs-lookup"><span data-stu-id="1acbb-410">**Peak load processing requirements** - In many scenarios a large interchange may be processed during non-peak hours.</span></span> <span data-ttu-id="1acbb-411">例如大批的付款可能会在午夜发布到银行系统中。</span><span class="sxs-lookup"><span data-stu-id="1acbb-411">For example a large batch of payments may be posted to a bank’s systems at midnight.</span></span> <span data-ttu-id="1acbb-412">如果这种情况，请确保能够在测试期间复制此。</span><span class="sxs-lookup"><span data-stu-id="1acbb-412">If this is the case, ensure you are able to replicate this during testing.</span></span>  
  
  - <span data-ttu-id="1acbb-413">**用于接收/发送消息的终结点**-在许多环境中单独的接收位置配置为接收不同类型的消息。</span><span class="sxs-lookup"><span data-stu-id="1acbb-413">**Endpoints used to receive/send messages** - In many environments separate receive locations are configured to receive different types of messages.</span></span> <span data-ttu-id="1acbb-414">例如，可能会使用文件适配器接收平面文件消息或 MQSeries 适配器可用于接收 XML 消息。</span><span class="sxs-lookup"><span data-stu-id="1acbb-414">For example flat file messages may be received using the File adapter or the MQSeries adapter may be used to receive XML messages.</span></span> <span data-ttu-id="1acbb-415">消息可能所有处理由同一业务流程时，他们必须进入系统的不同入口点。</span><span class="sxs-lookup"><span data-stu-id="1acbb-415">While messages may all be processed by the same orchestration(s) they will have different entry points into the system.</span></span> <span data-ttu-id="1acbb-416">这些不同的每个接收位置可以托管在单独的主机;实际执行此操作通常会提高系统的整体性能。</span><span class="sxs-lookup"><span data-stu-id="1acbb-416">Each of these different receive locations can be hosted in a separate host; in fact doing this will often improve the overall performance of the system.</span></span>  
  
    <span data-ttu-id="1acbb-417">下表提供了确定测试数据规范时应捕获的信息的示例：</span><span class="sxs-lookup"><span data-stu-id="1acbb-417">The table below provides an example of the information that should be captured when determining test data specifications:</span></span>  
  
  ### <a name="sample-test-data-specification"></a><span data-ttu-id="1acbb-418">示例测试数据规范</span><span class="sxs-lookup"><span data-stu-id="1acbb-418">Sample test data specification</span></span>  
  
  |                                             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
  |---------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
  |           <span data-ttu-id="1acbb-419">**消息数 / 秒**</span><span class="sxs-lookup"><span data-stu-id="1acbb-419">**Messages per second**</span></span>           |                                                                                                                                                                                                                                                                                   <span data-ttu-id="1acbb-420">的在此方案中至关重要最大吞吐量</span><span class="sxs-lookup"><span data-stu-id="1acbb-420">-   Maximum throughput is key in this scenario</span></span><br /><span data-ttu-id="1acbb-421">的每秒 50 条消息目标</span><span class="sxs-lookup"><span data-stu-id="1acbb-421">-   Goal of 50 messages per second</span></span><br /><span data-ttu-id="1acbb-422">-低延迟不是一个目标</span><span class="sxs-lookup"><span data-stu-id="1acbb-422">-   Low-latency is not a goal</span></span>                                                                                                                                                                                                                                                                                    |
  |            <span data-ttu-id="1acbb-423">**消息类型**</span><span class="sxs-lookup"><span data-stu-id="1acbb-423">**Type of messages**</span></span>             |                                                                                                                                                                                                                                                                  <span data-ttu-id="1acbb-424">-小的 XML 消息，大约 25 KB 符合 XML 架构的*X*</span><span class="sxs-lookup"><span data-stu-id="1acbb-424">-   Small XML messages, approximately 25 KB that conform to XML schema *X*</span></span><br /><span data-ttu-id="1acbb-425">-中等 XML 消息，大约符合 XML 架构的 512 KB *Y*</span><span class="sxs-lookup"><span data-stu-id="1acbb-425">-   Medium XML messages, approximately 512 KB that conform to XML schema *Y*</span></span>                                                                                                                                                                                                                                                                  |
  |        <span data-ttu-id="1acbb-426">**消息的分发**</span><span class="sxs-lookup"><span data-stu-id="1acbb-426">**Distribution of messages**</span></span>         |                                                                                                                                                                                                          <span data-ttu-id="1acbb-427">-58 %25 KB （小型 XML 消息）</span><span class="sxs-lookup"><span data-stu-id="1acbb-427">-   58% 25 KB (small XML messages)</span></span><br /><span data-ttu-id="1acbb-428">-25 %512 KB （中等 XML 消息）</span><span class="sxs-lookup"><span data-stu-id="1acbb-428">-   25% 512 KB (medium XML messages)</span></span><br /><span data-ttu-id="1acbb-429">-11 %3 MB （中等二进制数据 – PDF）-非可压缩</span><span class="sxs-lookup"><span data-stu-id="1acbb-429">-   11% 3 MB (medium binary data – PDF) – non compressible</span></span><br /><span data-ttu-id="1acbb-430">-4 %7.5 MB （大型二进制数据 – PDF）-非可压缩)</span><span class="sxs-lookup"><span data-stu-id="1acbb-430">-   4% 7.5 MB (large binary data – PDF) – non compressible)</span></span><br /><span data-ttu-id="1acbb-431">-2 %20 MB （大型二进制数据 – PDF）-非可压缩</span><span class="sxs-lookup"><span data-stu-id="1acbb-431">-   2% 20 MB (large binary data – PDF) – non compressible</span></span>                                                                                                                                                                                                          |
  |    <span data-ttu-id="1acbb-432">**峰值负载处理要求**</span><span class="sxs-lookup"><span data-stu-id="1acbb-432">**Peak load processing requirements**</span></span>    |                                                                                                                                                                                                                                  <span data-ttu-id="1acbb-433">大型二进制数据 (20 MB) 将表示大约 2%的数据 （如上所示） 这处理的时间是不可预知。</span><span class="sxs-lookup"><span data-stu-id="1acbb-433">Large binary data (20MB) will represent approximately 2% of data (as specified above) the time at which this is processed is non-predictable.</span></span> <span data-ttu-id="1acbb-434">系统必须能够容纳这些大型消息在任何给定时间。</span><span class="sxs-lookup"><span data-stu-id="1acbb-434">The system must be able to accommodate these large messages at any given time.</span></span>                                                                                                                                                                                                                                  |
  | <span data-ttu-id="1acbb-435">**用于接收/发送消息的终结点**</span><span class="sxs-lookup"><span data-stu-id="1acbb-435">**Endpoints used to receive/send messages**</span></span> | <span data-ttu-id="1acbb-436">**小的 XML 消息 (25 KB)**</span><span class="sxs-lookup"><span data-stu-id="1acbb-436">**Small XML messages (25 KB)**</span></span><br /><br /> <span data-ttu-id="1acbb-437">-接收位置：PaymentXMLDocIn</span><span class="sxs-lookup"><span data-stu-id="1acbb-437">-   Receive location: PaymentXMLDocIn</span></span><br /><span data-ttu-id="1acbb-438">-主机：ReceiveHost</span><span class="sxs-lookup"><span data-stu-id="1acbb-438">-   Host: ReceiveHost</span></span><br /><span data-ttu-id="1acbb-439">-使用的管道：XMLReceive</span><span class="sxs-lookup"><span data-stu-id="1acbb-439">-   Pipeline used: XMLReceive</span></span><br /><br /> <span data-ttu-id="1acbb-440">**中等 XML 消息 (512 KB)**</span><span class="sxs-lookup"><span data-stu-id="1acbb-440">**Medium XML messages (512 KB)**</span></span><br /><br /> <span data-ttu-id="1acbb-441">-接收位置：PaymentXMLDocIn</span><span class="sxs-lookup"><span data-stu-id="1acbb-441">-   Receive location: PaymentXMLDocIn</span></span><br /><span data-ttu-id="1acbb-442">-主机：ReceiveHost</span><span class="sxs-lookup"><span data-stu-id="1acbb-442">-   Host: ReceiveHost</span></span><br /><span data-ttu-id="1acbb-443">-使用的管道：XMLReceive</span><span class="sxs-lookup"><span data-stu-id="1acbb-443">-   Pipeline used: XMLReceive</span></span><br /><br /> <span data-ttu-id="1acbb-444">**中等二进制数据 (3 MB)-PDF-非可压缩**</span><span class="sxs-lookup"><span data-stu-id="1acbb-444">**Medium binary data (3 MB) – PDF – non compressible**</span></span><br /><br /> <span data-ttu-id="1acbb-445">-接收位置：BinaryDataIn</span><span class="sxs-lookup"><span data-stu-id="1acbb-445">-   Receive location: BinaryDataIn</span></span><br /><span data-ttu-id="1acbb-446">-主机：ReceiveHost</span><span class="sxs-lookup"><span data-stu-id="1acbb-446">-   Host: ReceiveHost</span></span><br /><span data-ttu-id="1acbb-447">-使用的管道：PassThruReceive</span><span class="sxs-lookup"><span data-stu-id="1acbb-447">-   Pipeline used: PassThruReceive</span></span><br /><br /> <span data-ttu-id="1acbb-448">**大型二进制数据 (7.5 MB – 20 MB)-PDF-非可压缩**</span><span class="sxs-lookup"><span data-stu-id="1acbb-448">**Large binary data (7.5 MB – 20 MB) – PDF – non compressible**</span></span><br /><br /> <span data-ttu-id="1acbb-449">-接收位置：BinaryDataIn</span><span class="sxs-lookup"><span data-stu-id="1acbb-449">-   Receive location: BinaryDataIn</span></span><br /><span data-ttu-id="1acbb-450">-主机：ReceiveHost</span><span class="sxs-lookup"><span data-stu-id="1acbb-450">-   Host: ReceiveHost</span></span><br /><span data-ttu-id="1acbb-451">-使用的管道：PassThruReceive</span><span class="sxs-lookup"><span data-stu-id="1acbb-451">-   Pipeline used: PassThruReceive</span></span> |
  |          <span data-ttu-id="1acbb-452">**测试数据的位置**</span><span class="sxs-lookup"><span data-stu-id="1acbb-452">**Location of test data**</span></span>          |                                                                                                                                                                                                                                                                                                    <span data-ttu-id="1acbb-453">从本地访问测试数据文件共享，例如： \\\PerformanceLabs\July\Test Data\\</span><span class="sxs-lookup"><span data-stu-id="1acbb-453">Locally accessible test data file share, for example: \\\PerformanceLabs\July\Test Data\\</span></span>                                                                                                                                                                                                                                                                                                    |
  
   <span data-ttu-id="1acbb-454">将信息放入一个表可实现多个目的。</span><span class="sxs-lookup"><span data-stu-id="1acbb-454">Putting the information into a table accomplishes several things.</span></span> <span data-ttu-id="1acbb-455">首先，它便于利益干系人达成一致的测试数据所做的假设。</span><span class="sxs-lookup"><span data-stu-id="1acbb-455">First off, it makes it easier for stakeholders to agree on assumptions made about the test data.</span></span> <span data-ttu-id="1acbb-456">其次，它可用于确定潜在的性能评估优化的信息。</span><span class="sxs-lookup"><span data-stu-id="1acbb-456">Second, it provides you with information that can be used to decide on potential optimizations for the performance assessment.</span></span> <span data-ttu-id="1acbb-457">例如在表，您可以看到，ReceiveHost BizTalk 主机内托管用来处理所有不同的数据类型的所有接收位置。</span><span class="sxs-lookup"><span data-stu-id="1acbb-457">For example in the table above you can see that all the receive locations used to process all different data types are hosted within the ReceiveHost BizTalk host.</span></span> <span data-ttu-id="1acbb-458">这意味着此主机的每个实例将负责处理不同类型和大小的数据 （例如 XML 和非可压缩 PDF 的二进制数据）。</span><span class="sxs-lookup"><span data-stu-id="1acbb-458">This means that each instance of this host will be responsible for processing different types and sizes of data (e.g. XML and binary non-compressible PDF data).</span></span> <span data-ttu-id="1acbb-459">假定每个主机实例是单个实例的 BizTalk Server 进程 (BTSNTSVC。Exe 文件），这可能会成为处理瓶颈。</span><span class="sxs-lookup"><span data-stu-id="1acbb-459">Given that each host instance is a single instance of the BizTalk Server process (BTSNTSVC.EXE), this could become a processing bottleneck.</span></span> <span data-ttu-id="1acbb-460">因此在此方案中一个明显优化环境的方案是测试的性能改进的分隔每个接收到其自己单独的主机位置。</span><span class="sxs-lookup"><span data-stu-id="1acbb-460">Therefore in this scenario one immediately obvious optimization for the environment would be to test the performance improvement of separating each receive location into its own individual host.</span></span> <span data-ttu-id="1acbb-461">有权访问的测试数据信息摘要的表格格式便于仪表这种简单的优化。</span><span class="sxs-lookup"><span data-stu-id="1acbb-461">Having access to the test data information in a summary tabular format makes it easier to gauge simple optimizations such as this.</span></span>  
  
- <span data-ttu-id="1acbb-462">**规划进行自动负载测试和负载生成**-建立性能评估测试数据配置文件后，务必要考虑如何执行负载测试环境中。</span><span class="sxs-lookup"><span data-stu-id="1acbb-462">**Planning for automated load tests and load generation** - After the test data profile for the performance assessment is established, it is important to consider how to perform load testing within the environment.</span></span> <span data-ttu-id="1acbb-463">对于 BizTalk Server 2010 负载测试中，我们使用 Visual Studio 2010 负载测试。</span><span class="sxs-lookup"><span data-stu-id="1acbb-463">For BizTalk Server 2010 load test, we used Visual Studio 2010 load test.</span></span> <span data-ttu-id="1acbb-464">有关如何帮助使用 Visual Studio 2010 负载测试的详细信息，请参阅[促进自动测试使用 Visual Studio](../technical-guides/using-visual-studio-to-facilitate-automated-testing.md)。</span><span class="sxs-lookup"><span data-stu-id="1acbb-464">For more information about how to facilitate load testing using Visual Studio 2010, see [Using Visual Studio to Facilitate Automated Testing](../technical-guides/using-visual-studio-to-facilitate-automated-testing.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1acbb-465">请参阅</span><span class="sxs-lookup"><span data-stu-id="1acbb-465">See Also</span></span>  
 [<span data-ttu-id="1acbb-466">性能评估阶段</span><span class="sxs-lookup"><span data-stu-id="1acbb-466">Phases of a Performance Assessment</span></span>](../technical-guides/phases-of-a-performance-assessment.md)