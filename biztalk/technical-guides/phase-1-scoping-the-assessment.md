---
title: 阶段 1： 设置评估范围 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 667c3669-7314-4562-84bc-fbb1be1f0314
caps.latest.revision: 6
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 377abbb4ae14e3c3e1c13f7caf45ac998e9f5e9b
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/27/2018
ms.locfileid: "36986974"
---
# <a name="phase-1-scoping-the-assessment"></a>阶段 1： 设置评估范围
本主题介绍 BizTalk Server 性能评估的作用域阶段的方面。  
  
 当具有吸引力的性能评估中的一个常见错误是低估性能评估的范围。 如果没有预先分配足够的资源和时间，负责性能评估的团队不能完成所有生成并测试复杂的类似生产的环境所需的任务。 性能评估的团队应仔细选择其谨慎。 大多数性能评估进行非常有限的时间范围内，因此团队应确定，并重点放在一个或两个，可以在三个在大多数，关键性能目标。 要进行测试的应用程序应专门开发能够专注于标识的性能目标，并应挑选出所有尽可能多地其他技术变量。 本主题介绍 BizTalk Server 性能评估的作用域阶段的方面。  
  
## <a name="considerations-before-beginning-the-performance-assessment"></a>从性能评估开始前的注意事项  
 性能评估完成任何其他工作之前，应考虑以下因素。 这些因素有助于确定审视阶段的常规方向，性能评估的良好起点。  
  
### <a name="message-load"></a>消息负载  
 请务必要考虑直接从一开始就如何要复制的消息负载，实际上将经过生产系统。 例如，如果将在生产环境中的消息的 20%< 20 KB 的大小，将为 50%< 100 KB 大小和剩余 30%的可能是最多 1 MB 的大小，非常重要，这在实验室中复制。  
  
### <a name="develop-a-brief-detail-of-the-scenarios-to-be-tested"></a>开发要测试的方案的简要详细信息  
 确定要测试的测试用例后，务必确定在其中涉及的主要组件。 这包括 BizTalk Server 组件 （如消息传递和业务流程） 和其他组件，包括 MQSeries、 SAP 等第三方技术。 它是非常重要的都是了解的所有这些从一开始就因为它将帮助您衡量在实验室的复杂性，它使您规划在服务过程中所需的技术技能。  
  
### <a name="identify-which-adapters-will-be-used"></a>确定将使用的适配器  
 它是性能评估实验室使用将在生产环境中使用的实际适配器非常重要。 使用生产环境中使用的实际适配器失败会导致问题，因为不同的适配器的性能变化较大。 例如，文件适配器是最快的 BizTalk Server 适配器之一，但它缺乏一些的某些系统; 所需的功能特别文件适配器不提供事务支持。 事务支持可以读取消息并将其写入到 MessageBox 数据库，所有的 MSDTC 事务上下文中。 事务支持可能会产生开销。 因此，使用文件适配器来模拟生产方案中，对于需要事务支持不会是可行的比较。 在此方案中，性能结果是实质上是无效，因为它们是不太可能以反映实际生产系统的性能。  
  
### <a name="estimate-time-required-for-the-performance-assessment"></a>性能评估所需的估计时间  
 使用以下准则来估计性能评估所需的时间：  
  
- 设置测试环境中分配两周的准备时间。 一周将用于生成所需的基础结构，软件组件，并将软件更新应用。 第二周将专门用于设置特定环境，因为 BizTalk Server 生产环境。  
  
- 为将分析性能评估过程中每个测试用例分配额外一周。  
  
- 分配的实际性能评估来记录性能评估结果末尾一周。  
  
  因此典型性能评估与两个测试用例时，会为完成评估的估计的时间：  
  
  （两周的准备时间） + （两周的实际性能评估） + （将结果记录到一周） = 总五周。  
  
## <a name="documenting-the-performance-assessment"></a>记录性能评估  
 设置性能评估范围的一部分，评估的详细信息应记录在摘要的活动。 该文档应该清楚地定义目标和目的，利益干系人和性能评估的里程碑。 本文档将作为性能评估的规划图，帮助确保所有利益相关者达成一致的 engagement 详细信息，并用于确保性能评估保持正轨。本文档应在整个性能评估更新并包括性能评估结束后的结果的摘要。  
  
### <a name="goals-and-objectives"></a>目标和宗旨  
 **应仔细定义吞吐量和延迟目标**-性能条件是什么试图最大限度地？ 通常一个或多个以下的性能度量值是 BizTalk Server 性能评估的重点。  
  
- **吞吐量**– 通常测量的每个时间单位指定的时间间隔内可处理的消息数。 例如，吞吐量目标可能定义为处理的 3 个小时的时间内每秒 100 个消息的功能。  
  
- **延迟**– 通常定义为可以进行的所有消息的百分比的端到端内处理给定的时间间隔，例如：  
  
  -   95%的所有消息应在两秒内的端到端处理。  
  
  -   100%的所有消息的四个秒内应该处理的端到端。  
  
- **峰值负载**  
  
- **时间才能完成一批***X*   
  
- **突发高恢复方案**  
  
- **高级体系结构包括硬件和软件**  
  
  性能目标应衡量的"实现最大可能*X*提供硬件和软件的约束。" 确定如何将提前度量的目标。 例如，"最大可承受吞吐量*X*端到端度量由 XLang/s\orchestrations 已完成 / 秒计数器"。  
  
> [!NOTE]  
>  在上面的示例*X*是性能评估的焦点的单元的占位符。 *X*可表示业务流程、 消息或其他相关的 BizTalk 解决方案的性能指标。  
  
### <a name="is-the-desired-performance-attainable"></a>是所需的性能可以利用它来？  
 评估时的性能注意事项，首先应确定是否可用的硬件资源将不足以满足性能目标。 在某些情况下，所需的性能不只是可能没有额外硬件投资。 没有任何可用于确定哪些性能或不能提供许多因素影响性能的解决方案，其中包括的业务流程，复杂性使用的自定义代码的特定硬件配置的魔法公式将消息保存到 MessageBox 数据库中与外部系统的限制次数。 下表提供了用于实现特定的性能目标，对于某些方案的硬件摘要。  
  
> [!NOTE]  
>  下面的信息是仅提供指导。 不同的 BizTalk Server 解决方案的要求大不相同，以便在估计所需的硬件资源时，此表中的值将用作粗略"规则的经验法则"。  
  
### <a name="sample-hardware-scenarios"></a>硬件的示例方案  
  
|处理类型|BizTalk Server 计算机|SQL Server 计算机|得出的吞吐量|说明|  
|------------------------|------------------------------|--------------------------|-------------------------|-----------|  
|业务流程公开为 Web 服务，MQSeries 适配器|-6 BizTalk Server 2010 的计算机<br />-运行两个双核 3 GHZ 处理器每个服务器<br />Windows Server 2008 R2，8 GB 内存|-3 的 SQL Server 2008 R2 计算机<br />-运行四个双核 3 GHZ 处理器每个服务器<br />-64 位、 16 GB 内存<br />-单个 MessageBox 数据库|每秒 95 业务流程|-平均延迟 1.11s<br />-使用 99%的消息处理 < 2 秒的延迟|  
|消息传送|6 BizTalk Server 2010 的计算机|3 个 SQL Server 2008 R2 计算机|在 2 小时内获得的峰值吞吐量为 277 消息数 / 秒|优化解决方案之前, 峰值吞吐量为每秒 125 消息|  
|使用业务流程和 Web 服务的低延迟方案|一台 BizTalk Server 2010 的双处理器计算机|一台四核处理器 SQL Server 2008 R2 计算机|每秒 60 业务流程|实现 < 350 毫秒级延迟|  
|使用业务流程的低延迟方案|23 个四处理器 BizTalk Server 2010 的计算机|-3 的 SQL Server 2008 R2 计算机<br />-一个 16 个 CPU 主 MessageBox 数据库<br />-两个 8 个 CPU 辅助 MessageBox 数据库计算机|每秒 1156年业务流程|自 2010 年 1 月起已运行记录的业务流程的 BizTalk Server 的最高可承受性能|  
  
 可用的硬件基础结构被视为不足以实现所需的性能后，请考虑以下范围的 BizTalk Server 性能评估时：  
  
-   需要哪些适配器和/或加速器？  
  
-   在解决方案中实现业务流程要求是什么？  
  
-   文档的吞吐量要求： 解决方案的最大可承受吞吐量要求是什么？  
  
-   延迟要求： 响应能力如何解决方案需要位于要求-响应和请求-响应方案？  
  
-   如何从文档负载高峰期期间恢复解决方案？  
  
-   该解决方案的高可用性要求是什么？  
  
-   该解决方案的文档跟踪要求是什么？  
  
-   任何依赖的应用程序，如远程 Web 服务或其他系统的性能特征是什么？ 如果依赖的应用程序不会保留与所需的负载中，总体系统性能将被相应地降级。  
  
### <a name="hardware-information-to-consider-during-scope-phase"></a>要在审视阶段期间考虑的硬件信息  
 范围解决方案时创建的高级硬件关系图，包括以下：  
  
-   计算机体系结构 （如 x86、 x64 和 IA64）  
  
-   CPU 要求 （如类型、 速度、 数量、 内核数和使用超线程）  
  
-   每台计算机的 RAM 要求  
  
-   本地磁盘存储 （类型、 大小、 速度）  
  
-   SAN (存储要求： LUN; 的数字SAN 卡类型）  
  
-   网卡 （100 兆位 / 秒 (Mbps) 与 1 千兆位 / 秒 (1 Gbps) 的每台计算机中的编号）。  
  
-   如何将防火墙部署解决方案中？  
  
-   将使用网络负载平衡硬件？  
  
-   是特定计算机，其可以加入群集？  
  
### <a name="software-information-to-consider-during-the-scope-phase"></a>要考虑的作用域阶段的软件信息  
 同样的硬件信息作为重要的是将性能评估期间使用的软件堆栈。  您应确保记录以下信息：  
  
-   （32 或 64 位，群集或非群集） 的每台计算机的操作系统。  
  
-   若要在每台计算机上安装的服务器软件。  
  
-   使用虚拟化软件。  
  
-   通常不安装如 COM + 汇总修补了或 SQL Server 主机修复特定软件功能是必需的。  
  
### <a name="determine-if-code-changes-are-within-the-scope-of-the-performance-assessment"></a>确定是否性能评估作用域内进行代码更改  
 这是一个最重要的内容来确定在作用域的过程。  使用优化技术和本指南中所述的配置更改可以优化 BizTalk Server 和它所使用 （SQL Server、 Windows、 IIS 和更多） 的基础组件。 但是，如果还未一个应用程序开发以获得最佳性能，它可能妨碍这些性能提升。 因此，代码更改应仅从删除作用域有全面的代码评审已完成应用程序进入实验室之前的置信度。 如有必要，您可能会同意将允许只有某些更改，例如，业务流程中的持久化点删除。  
  
## <a name="roles-and-responsibilities"></a>角色和职责  
 正在运行的性能评估的最重要的领域之一是为了确保这些角色和职责被明确分配。 应在性能评估开始分配以下关键角色：  
  
- **Engagement 潜在顾客**-engagement 销售线索是负责拥有总体 engagement 端到端。  此角色通常将由资深顾问或架构师执行。  理想情况下此人应具有优化基于 BizTalk Server 系统中的体验。  SQL Server 和任何其他技术，包括第三方的知识的最好。  请注意没有必要销售线索是在所有方面的专家，但它们必须具有至少一个技术的应用知识，以便它们可以与这些区域中专家合作，并了解他们正在对其应用的优化。  
  
- **测试设计器**-需要具有专用于设计和实现过程在实验室中将执行的测试的人员。  这将涉及到决定将用于创建测试，测试每个测试以确保它将能够实现实验室的要求，并确保那些负责运行测试，必须知道如何使用客户端的测试框架。  
  
- **环境所有者**-实验室获得准确反映生产 BizTalk Server 中代表环境环境至关重要。  执行此角色的人员将负责检查所使用的软件和硬件堆栈每一项，确认有无显著差别。 例如 SQL Server 2008 R2 的 32 位平台上运行时仅可以解决 4 GB 的物理内存，而无需使用物理地址扩展 (PAE) 或地址窗口化扩展插件 (AWE)。 在 SQL Server 2008 R2 中，最大为 1 的 64 位内存 terabyte 可以进行寻址 （这是 Windows Server 2008 R2 支持的当前最大物理内存）。 因此显著区别客户和实验室环境将为 BizTalk Server 和 SQL Server 使用的 CPU 体系结构。 除了这些明显的因素，其他不太明显的因素，例如 service pack 级别和修补程序安装，可能会影响环境的性能。  
  
- **生成环境的潜在顾客**-在绘制详细的规范之后进行性能评估人应分配责任构建环境。 这将包括硬件和软件堆栈。 将负责这一个人在许多情况下 （这通常是环境所有者）。 但是在大型企业环境所有者可能需要将不同的团队，每个可能的解决方案的各种组件的纽带。 例如，一个团队可能需要为 Windows 生成，另一个用于 SQL Server 和另一个 BizTalk Server 的团队。  
  
- **部署潜在顾客**-有必要让外人负责确保应用程序正确部署到 BizTalk Server、 正确的绑定进行配置并应用任何自定义配置。 此角色将需要十分了解解决方案和将需要了解要将应用程序打包和部署应用程序，然后验证它在实验室环境中正常运行的状态。  
  
- **产品专家**– 务必要确定哪些产品专家所需的性能评估。 所需的确切技能取决于设计和 BizTalk Server 应用程序的目的。  
  
   所需的最常见的产品专家技能之一是性能优化 SQL Server 的额外知识。 这些技能所需的两个用途： 首先，它通常有必要执行 SQL Server 优化，以优化性能 BizTalk 数据库，第二个，许多 BizTalk 解决方案进行自定义数据库的使用。 如果正确优化不会应用于 SQL Server 环境，使用自定义数据库可以成为解决方案中的瓶颈。 若要识别并应用相应的数据库优化，以下 SQL Server 技能先决条件通常需要：  
  
  - 全面了解 SQL Server 存储过程代码中，包括优化现有的存储的过程的能力。  
  
  - 标识并生成数据库的缺失索引功能。  
  
  - 若要编写脚本，以将数据库拆分成多个文件的功能。  
  
    > [!NOTE]  
    >  应用此优化的详细信息，请参阅[优化文件组的数据库 2](../technical-guides/optimizing-filegroups-for-the-databases2.md)。  
  
  - 若要确定使用 SQL Server 2008 R2 性能面板报告的性能问题的功能。  
  
    > [!NOTE]  
    >  SQL Server 2008 R2 性能面板报告是可在下载[ http://go.microsoft.com/fwlink/?LinkId=118673 ](http://go.microsoft.com/fwlink/?LinkId=118673)。  
  
    对于每个性能评估中所涉及的专家技术，按如上所述适用于 SQL Server，应定义要求的列表。 这可确保资源获得的有什么需要其中的清晰的期望。 在性能评估期间经常需要具备专业的知识的另一种技术是 IBM Websphere MQ。 下面的列表说明了 IBM WebSphere MQ 产品专家要求规范：  
  
  - 在监视、 维护和 MQSeries 的自定义体验。  
  
  - 通过安装和新版本的 MQSeries 的迁移体验。  
  
  - 若要分析和优化 MQSeries 性能的功能。  
  
  - 执行分析 MQSeries 问题。  
  
  - 进程和相关的 MQSeries 安全性、 管理、 恢复和自动化过程的知识。  
  
- **文档潜在顾客**-是至关重要的不断更新实验室文档-的端到端整个性能评估。 直到优化已经成功地在生产环境中应用和系统已获取所需的性能级别，则不应评判实验室 engagement 总体 successfulness。 若要执行此操作，很重要的保存详细的记录的以下信息：  
  
  -   在实验室的高级结果摘要  
  
  -   未解决的问题  
  
  -   已解决的问题  
  
  -   在实验室的时间线  
  
  -   实验室进度  
  
  -   按类别实现的优化  
  
  -   按时间顺序 （以确保它们可以应用相同的顺序在生产系统中） 实现的优化  
  
  -   有关如何帮助使用 Visual Studio 2010 负载测试的详细信息，请参阅促进自动测试使用 Visual Studio。  
  
  -   要测试的方案的详细信息  
  
  -   所涉及的第三方技术  
  
  -   实验室硬件图  
  
  -   联系人列表  
  
  -   详细的硬件清单  
  
  -   附录，列出了完整的详细结果  
  
- **开发人员**-是否需要开发人员非常依赖于此服务的范围。 如果基本代码已被锁定，并且在实验室中，有测试基础结构和平台优化只有这样的开发人员服务应该不需要。 恰好在生产服务器的"可上线"日期之前执行性能测试时，可以发生这种情况。 通过这一次，代码应被锁住并完成或正在进行完整的回归测试。 对实验室中引入的代码的任何更改都可能引入了一个回归，并因此，引入生产系统与风险。 如果允许代码更改，则通常会需要执行开发人员。 下面的列表表示通常由开发人员参与 BizTalk Server 性能评估的所需的技能：  
  
  -   能够识别并修复性能问题与业务流程  
  
  -   能够识别并修复性能问题，可使用管道  
  
  -   熟悉.NET 包括：  
  
      -   企业库  
  
      -   Visual Studio F1 事件探查器专业知识  
  
      -   Microsoft Visual Studio 2010 Ultimate 或 Visual Studio 测试 Professional 2010  
  
- **测试领导**-确保获取准确、 完整和全面的结果集是关键。 测试领导负责确保捕获、 分析相应地，并适当地分发每个测试运行完成后所需的信息。 务必要考虑如何捕获的数据，通常情况下测试数据是适用于使用 Excel 电子表格的演示文稿。 以下列表说明了应捕获每个测试的运行在本实验中的数据：  
  
  - 测试运行数  
  
  - date  
  
  - 处理的消息总数  
  
  - 每秒处理的消息  
  
  - 开始时间  
  
  - 已停止的时间  
  
  - 以分钟为单位的测试持续时间  
  
  - 挂起消息 / 总消息处理-这可以从 BizTalk 管理控制台或通过测量使用性能监视器的 BizTalk Server 性能计数器捕获。  
  
  - \# 失败处理的消息  
  
  - \# 或已成功处理的消息  
  
  - 测试客户端响应  
  
  - 客户端进程持续时间的平均值，以秒为单位-通常情况下实现与 BizTalk Server 的同步消息传递解决方案时，此值进行测量，在这种情况下是必须知道客户端平均持续时间内的值，因为这通常是多长时间最终用户代表正在等待响应从解决方案。  
  
  - 客户端进程持续时间最大值，以秒为单位  
  
  - 客户端进程持续时间最小值，以秒为单位  
  
  - BizTalk Server 请求/响应延迟，以秒为单位  
  
  - 每秒完成的业务流程  
  
  - %的时间上处理的消息  
  
  - 值**TestResultsLocation**变量使用的 Visual Studio Team System 测试工具。  
  
  - 值**TestResultsLocation**使用 BizUnit 变量。  
  
  - 任何评论或建议  
  
    正在收集结果，以及测试领导应确保它们监视每个测试运行以查看是否存在的趋势。 性能改进应传达给团队的其余部分，以及应指示多少性能已提高和应用哪种优化程度地提升。 一天结束时非常重要的测试组长提供已在实验室中执行的测试的摘要。 这样，利益干系人要保留实验室不断进步时得到通知。 下表说明了如何此信息可能会将在示例更新电子邮件：  
  
  ### <a name="test-results-summary"></a>测试结果摘要  
  
  |“登录属性”|吞吐量|平均延迟|%< 2 秒|# of 测试运行|# of BizTalk Server 计算机|# of 消息|平均消息大小|Duration|  
  |------------|----------------|---------------------|-------------------|---------------------|------------------------------------|--------------------|--------------------------|--------------|  
  |扩大|140 消息/秒|0.777 秒|99.3%|2|6|270,000|609 字节|30 分钟|  
  |最佳|50 消息/秒|1.12 秒|99.12%|17|2|360,000|609 字节|2 小时|  
  |基线|30 消息/秒|1.52 秒|92.9 %|4|2|36,000|609 字节|20 分钟|  
  |目标|5 消息/秒|< 2 秒|90%|-|2|-|-|-|  
  
## <a name="define-all-deliverables-that-are-required-at-the-onset-of-the-performance-assessment"></a>定义所有可交付结果所需在性能评估开始  
 请务必达成一致的 BizTalk Server 性能评估在开始之前必须已存在的可交付结果。 以下部分介绍应在性能评估开始准备就绪的可交付结果。  
  
- **应用程序进行测试**– 将性能评估期间使用的完整应用程序必须可用。 非常重要的应用程序开始性能评估之前处于完全正常运行状态，否则可能丢失有价值的实验室测试时间。  
  
- **自动的生成和部署规划**-前参与性能评估，应为要测试的 BizTalk Server 解决方案开发自动化的生成和部署过程。 自动执行应用程序的生成过程可以执行的连续的每日生成过程，然后生成验证测试 (Bvt) 测试功能流过系统的一组附带的。 这使您能够检测编译和功能问题更快、 更容易在开发生命周期。 在本实验中，这意味着，如果不需要任何代码更改则可以快速验证更新后的解决方案工作正常。 手动构建、 部署和配置性能实验室的应用程序可以是一项枯燥乏味且错误容易任务。 因此建议使用自动化方法来完成以下构建和部署活动：  
  
  -   从源代码管理获取最新的代码。  
  
  -   生成完整的解决方案。  
  
  -   将解决方案部署到环境。  
  
  -   创建 BizTalk 应用程序。  
  
  -   将.dll 文件和绑定等的 BizTalk Server 资源添加到 BizTalk 应用程序。  
  
  -   导入绑定文件来创建端口并绑定到业务流程。  
  
  -   导出 BizTalk 应用程序作为 Microsoft® Windows® Installer 包，以便它可以在测试或生产环境中部署。  
  
  > [!NOTE]  
  >  有关实施自动的生成过程的详细信息，请参阅[自动执行生成过程](../technical-guides/automating-the-build-process.md)  
  
   MSBuild 中引入了.NET framework 2.0 使开发人员能够之前自动执行任务，如所述。 多个特定于 BizTalk Server – MSBuild 任务所含 SDC 任务库，它是可从下载[ http://go.microsoft.com/fwlink/?LinkId=119288 ](http://go.microsoft.com/fwlink/?LinkId=119288)。  
  
- **测试性能评估过程中使用的数据**– 使用测试数据有显著的影响的整体效率和性能评估是否成功。  请考虑其中的 BizTalk Server 应用程序使用消息传送、 业务流程和规则引擎的情况。 规则引擎是从内部调用的管道组件在接收端，以确定将使用哪个业务流程来处理该消息;也称为从不同位置来确定流在业务流程内。 规则引擎实现，以便优化规则策略执行缓存。 因此，如果一条消息在性能评估期间用作测试数据，测试结果可能会扭曲 （由于缓存），您可能会获取不能在生产环境中复制的结果。  
  
   理想情况下在性能评估期间使用的测试数据应是实际的生产数据或生产数据的子集。 测试数据还应模拟的负载和流量将流经生产系统的模式。 定义要求的测试数据时，请考虑以下因素：  
  
  - **将一段给定时间从系统里的消息数**-这通常表示为消息数 / 秒或每小时的消息。  
  
  - **类型的消息**– 是消息的平面文件、 XML 或二进制文件？  
  
  - **消息的分发**– 占多少百分比将平面文件，将使用的每个 XML 消息类型占多少百分比？  
  
  - **处理要求的峰值负载**-在许多情况下，可能在非高峰时间处理大的交换。 例如大批的付款可能会在午夜发布到银行系统中。 如果这种情况，请确保能够在测试期间复制此。  
  
  - **用于接收/发送消息的终结点**-在许多环境中单独的接收位置配置为接收不同类型的消息。 例如，可能会使用文件适配器接收平面文件消息或 MQSeries 适配器可用于接收 XML 消息。 消息可能所有处理由同一业务流程时，他们必须进入系统的不同入口点。 这些不同的每个接收位置可以托管在单独的主机;实际执行此操作通常会提高系统的整体性能。  
  
    下表提供了确定测试数据规范时应捕获的信息的示例：  
  
  ### <a name="sample-test-data-specification"></a>示例测试数据规范  
  
  |                                             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
  |---------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
  |           **消息数 / 秒**           |                                                                                                                                                                                                                                                                                   的在此方案中至关重要最大吞吐量<br />的每秒 50 条消息目标<br />-低延迟不是一个目标                                                                                                                                                                                                                                                                                    |
  |            **消息类型**             |                                                                                                                                                                                                                                                                  -小的 XML 消息，大约 25 KB 符合 XML 架构的*X*<br />-中等 XML 消息，大约符合 XML 架构的 512 KB *Y*                                                                                                                                                                                                                                                                  |
  |        **消息的分发**         |                                                                                                                                                                                                          -58 %25 KB （小型 XML 消息）<br />-25 %512 KB （中等 XML 消息）<br />-11 %3 MB （中等二进制数据 – PDF）-非可压缩<br />-4 %7.5 MB （大型二进制数据 – PDF）-非可压缩)<br />-2 %20 MB （大型二进制数据 – PDF）-非可压缩                                                                                                                                                                                                          |
  |    **峰值负载处理要求**    |                                                                                                                                                                                                                                  大型二进制数据 (20 MB) 将表示大约 2%的数据 （如上所示） 这处理的时间是不可预知。 系统必须能够容纳这些大型消息在任何给定时间。                                                                                                                                                                                                                                  |
  | **用于接收/发送消息的终结点** | **小的 XML 消息 (25 KB)**<br /><br /> -接收位置： PaymentXMLDocIn<br />-主机： ReceiveHost<br />的使用管道： XMLReceive<br /><br /> **中等 XML 消息 (512 KB)**<br /><br /> -接收位置： PaymentXMLDocIn<br />-主机： ReceiveHost<br />的使用管道： XMLReceive<br /><br /> **中等二进制数据 (3 MB)-PDF-非可压缩**<br /><br /> -接收位置： BinaryDataIn<br />-主机： ReceiveHost<br />的使用管道： PassThruReceive<br /><br /> **大型二进制数据 (7.5 MB – 20 MB)-PDF-非可压缩**<br /><br /> -接收位置： BinaryDataIn<br />-主机： ReceiveHost<br />的使用管道： PassThruReceive |
  |          **测试数据的位置**          |                                                                                                                                                                                                                                                                                                    从本地访问测试数据文件共享，例如： \\\PerformanceLabs\July\Test Data\                                                                                                                                                                                                                                                                                                    |
  
   将信息放入一个表可实现多个目的。 首先，它便于利益干系人达成一致的测试数据所做的假设。 其次，它可用于确定潜在的性能评估优化的信息。 例如在表，您可以看到，ReceiveHost BizTalk 主机内托管用来处理所有不同的数据类型的所有接收位置。 这意味着此主机的每个实例将负责处理不同类型和大小的数据 （例如 XML 和非可压缩 PDF 的二进制数据）。 假定每个主机实例是单个实例的 BizTalk Server 进程 (BTSNTSVC。Exe 文件），这可能会成为处理瓶颈。 因此在此方案中一个明显优化环境的方案是测试的性能改进的分隔每个接收到其自己单独的主机位置。 有权访问的测试数据信息摘要的表格格式便于仪表这种简单的优化。  
  
- **规划进行自动负载测试和负载生成**-建立性能评估测试数据配置文件后，务必要考虑如何执行负载测试环境中。 对于 BizTalk Server 2010 负载测试中，我们使用 Visual Studio 2010 负载测试。 有关如何帮助使用 Visual Studio 2010 负载测试的详细信息，请参阅[促进自动测试使用 Visual Studio](../technical-guides/using-visual-studio-to-facilitate-automated-testing.md)。  
  
## <a name="see-also"></a>请参阅  
 [性能评估阶段](../technical-guides/phases-of-a-performance-assessment.md)