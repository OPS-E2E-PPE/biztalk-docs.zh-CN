---
title: "测试结果： BizTalk Server 关键绩效指标 |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 902cdfc1-21ab-4f56-b97b-2f8979514b11
caps.latest.revision: "12"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: ab682b0d773a613e6dfcdf143ef0afbeb5af48fa
ms.sourcegitcommit: 3fc338e52d5dbca2c3ea1685a2faafc7582fe23a
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 12/01/2017
---
# <a name="test-results-biztalk-server-key-performance-indicators"></a><span data-ttu-id="a97d5-102">测试结果： BizTalk Server 关键绩效指标</span><span class="sxs-lookup"><span data-stu-id="a97d5-102">Test Results: BizTalk Server Key Performance Indicators</span></span>
<span data-ttu-id="a97d5-103">本主题总结了 BizTalk Server 关键绩效指标 (KPI) 测试方案期间观察到。</span><span class="sxs-lookup"><span data-stu-id="a97d5-103">This topic summarizes BizTalk Server Key Performance Indicators (KPI) observed during the test scenarios.</span></span> <span data-ttu-id="a97d5-104">具体而言，这些测试评估吞吐量测量"**BizTalk： 消息传送/文档处理数/秒**"性能监视器计数器和滞后时间，由 Visual studio 客户端响应时间度量。</span><span class="sxs-lookup"><span data-stu-id="a97d5-104">Specifically these tests evaluated throughput as measured by the "**BizTalk:Messaging/Documents processed/Sec**" performance monitor counter, and latency, as measured by the Visual studio client response time.</span></span>  
  
## <a name="summary-of-biztalk-server-key-performance-indicators"></a><span data-ttu-id="a97d5-105">BizTalk Server 关键绩效指标的摘要</span><span class="sxs-lookup"><span data-stu-id="a97d5-105">Summary of BizTalk Server Key Performance Indicators</span></span>  
 <span data-ttu-id="a97d5-106">每个方案的物理机被限制，以便已等效的逻辑处理器和虚拟处理器数。</span><span class="sxs-lookup"><span data-stu-id="a97d5-106">For each scenario the physical machines were restricted so that number of logical processors and virtual processors was equivalent.</span></span> <span data-ttu-id="a97d5-107">执行此操作使用 /maxmem 和 /numproc boot.ini 开关。</span><span class="sxs-lookup"><span data-stu-id="a97d5-107">This was done using the /maxmem and /numproc boot.ini switches.</span></span> <span data-ttu-id="a97d5-108">有关使用这些开关的详细信息，请参阅"启动 INI 选项参考"在[http://go.microsoft.com/fwlink/?LinkId=122139](http://go.microsoft.com/fwlink/?LinkId=122139)。</span><span class="sxs-lookup"><span data-stu-id="a97d5-108">For more information about using these switches, see “Boot INI Options Reference” at [http://go.microsoft.com/fwlink/?LinkId=122139](http://go.microsoft.com/fwlink/?LinkId=122139).</span></span>  
  
 <span data-ttu-id="a97d5-109">**比较 BizTalk Server 关键绩效指标 –** HYPER-V 虚拟机上运行 BizTalk Server 提供在物理硬件上为此测试方案的大约 95%的 BizTalk Server 的吞吐量和延迟性能。</span><span class="sxs-lookup"><span data-stu-id="a97d5-109">**Comparison of BizTalk Server Key Performance Indicators –** Running BizTalk Server on a Hyper-V virtual machine provided approximately 95% of the throughput and latency performance of BizTalk Server on physical hardware for this test scenario.</span></span> <span data-ttu-id="a97d5-110">无状态性质，因此[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]，其他 BizTalk Server 虚拟机可轻松添加到环境需要提供向外的扩展，并提高系统的整体性能。</span><span class="sxs-lookup"><span data-stu-id="a97d5-110">Because of the stateless nature of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], additional BizTalk Server virtual machines can be easily added to the environment as required to provide scale out and increase the overall performance of the system.</span></span> <span data-ttu-id="a97d5-111">可以通过使用 sysprep 实用工具从基本映像生成新的映像完成创建并将其他 BizTalk Server 添加到环境。</span><span class="sxs-lookup"><span data-stu-id="a97d5-111">Creating and adding additional BizTalk Server to the environment can be accomplished by using the sysprep utility to generate new images from a base image.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="a97d5-112">Sysprep 应答文件和脚本不提供与 BizTalk Server 以容纳使用 sysprep 从现有的计算机的映像创建其他映像安装 BizTalk Server。</span><span class="sxs-lookup"><span data-stu-id="a97d5-112">A sysprep answer file and scripts are provided with BizTalk Server to accommodate using sysprep to create additional images from an existing image of a computer that has BizTalk Server installed.</span></span> <span data-ttu-id="a97d5-113">这些示例脚本被旨在与安装在 32 位和 64 位版本的 Windows Server 2008 上的 BizTalk Server 一起使用。</span><span class="sxs-lookup"><span data-stu-id="a97d5-113">These sample scripts are designed for use with BizTalk Server installed on 32-bit and 64-bit versions of Windows Server 2008 only.</span></span> <span data-ttu-id="a97d5-114">有关详细信息请参阅 BizTalk Server 联机文档。</span><span class="sxs-lookup"><span data-stu-id="a97d5-114">For more information see the BizTalk Server online documentation.</span></span>  
  
 <span data-ttu-id="a97d5-115">设置、 整合和管理的虚拟机可以显著加快通过使用 System Center Virtual Machine Manager (VMM)。</span><span class="sxs-lookup"><span data-stu-id="a97d5-115">Provisioning, consolidation, and management of virtual machines can be significantly expedited through the use of System Center Virtual Machine Manager (VMM).</span></span> <span data-ttu-id="a97d5-116">有关 System Center Virtual Machine Manager 的详细信息，请参阅[http://go.microsoft.com/fwlink/?LinkID=111303](http://go.microsoft.com/fwlink/?LinkID=111303)</span><span class="sxs-lookup"><span data-stu-id="a97d5-116">For more information about System Center Virtual Machine Manager, see [http://go.microsoft.com/fwlink/?LinkID=111303](http://go.microsoft.com/fwlink/?LinkID=111303)</span></span>  
  
 <span data-ttu-id="a97d5-117">在此性能实验室中获得的结果显示从实现运行时的性能显著的改进[!INCLUDE[btsbiztalkserver2006r2](../includes/btsbiztalkserver2006r2-md.md)]上[!INCLUDE[btsWinSvr2k3](../includes/btswinsvr2k3-md.md)]HYPER-V 虚拟机中。</span><span class="sxs-lookup"><span data-stu-id="a97d5-117">The results obtained in this performance lab show a marked improvement from the performance achieved when running [!INCLUDE[btsbiztalkserver2006r2](../includes/btsbiztalkserver2006r2-md.md)] on [!INCLUDE[btsWinSvr2k3](../includes/btswinsvr2k3-md.md)] in a Hyper-V virtual machine.</span></span> <span data-ttu-id="a97d5-118">运行[!INCLUDE[btsbiztalkserver2006r2](../includes/btsbiztalkserver2006r2-md.md)]HYPER-V 上虚拟机提供大约为 75%的吞吐量和延迟性能[!INCLUDE[btsbiztalkserver2006r2](../includes/btsbiztalkserver2006r2-md.md)]与物理硬件上运行 BizTalk Server 时，观察到大约 95%的性能和[!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)]在 HYPER-V 虚拟机。</span><span class="sxs-lookup"><span data-stu-id="a97d5-118">Running [!INCLUDE[btsbiztalkserver2006r2](../includes/btsbiztalkserver2006r2-md.md)] on a Hyper-V virtual machine provided approximately 75% of the throughput and latency performance of [!INCLUDE[btsbiztalkserver2006r2](../includes/btsbiztalkserver2006r2-md.md)] on physical hardware versus the approximately 95% performance observed when running BizTalk Server and [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] on Hyper-V virtual machines.</span></span> <span data-ttu-id="a97d5-119">这种性能提高是很大程度上是由引起的性能提高[!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)]时作为来宾操作系统在 HYPER-V 上运行。</span><span class="sxs-lookup"><span data-stu-id="a97d5-119">This improved performance is largely attributable to the improved performance of [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] when running as a guest operating system on Hyper-V.</span></span> <span data-ttu-id="a97d5-120">从相关的性能比较[!INCLUDE[btsbiztalkserver2006r2](../includes/btsbiztalkserver2006r2-md.md)]HYPER-V 指南位于[http://go.microsoft.com/fwlink/?LinkId=147144](http://go.microsoft.com/fwlink/?LinkId=147144)。</span><span class="sxs-lookup"><span data-stu-id="a97d5-120">The related performance comparison from the [!INCLUDE[btsbiztalkserver2006r2](../includes/btsbiztalkserver2006r2-md.md)] Hyper-V guide is available at [http://go.microsoft.com/fwlink/?LinkId=147144](http://go.microsoft.com/fwlink/?LinkId=147144).</span></span>  
  
 <span data-ttu-id="a97d5-121">下图阐释了在不同的测试平台上的 BizTalk Server 性能：</span><span class="sxs-lookup"><span data-stu-id="a97d5-121">The graphic below illustrates the performance of BizTalk Server on the various test platforms:</span></span>  
  
 <span data-ttu-id="a97d5-122">![BizTalk 关键绩效指标](../technical-guides/media/biztalkkpi.gif "BizTAlkKPI")</span><span class="sxs-lookup"><span data-stu-id="a97d5-122">![BizTalk Key Performance Indicators](../technical-guides/media/biztalkkpi.gif "BizTAlkKPI")</span></span>  
  
 <span data-ttu-id="a97d5-123">下表说明了每个配置的收集 KPI 的相对性能。</span><span class="sxs-lookup"><span data-stu-id="a97d5-123">The table below illustrates the relative performance of the collected KPI’s for each configuration.</span></span> <span data-ttu-id="a97d5-124">每个结果集是按百分比计算的基线配置 KPI。</span><span class="sxs-lookup"><span data-stu-id="a97d5-124">Each result set is calculated as a percentage of the Baseline configuration KPI.</span></span>  
  
|<span data-ttu-id="a97d5-125">KPI</span><span class="sxs-lookup"><span data-stu-id="a97d5-125">KPI</span></span>|<span data-ttu-id="a97d5-126">虚拟 BizTalk/物理 SQL</span><span class="sxs-lookup"><span data-stu-id="a97d5-126">Virtual BizTalk/Physical SQL</span></span>|<span data-ttu-id="a97d5-127">在单独的主机的虚拟 BizTalk/虚拟 SQL</span><span class="sxs-lookup"><span data-stu-id="a97d5-127">Virtual BizTalk/Virtual SQL on separate Hosts</span></span>|<span data-ttu-id="a97d5-128">合并环境上的虚拟 BizTalk/虚拟 SQL</span><span class="sxs-lookup"><span data-stu-id="a97d5-128">Virtual BizTalk/Virtual SQL on Consolidated environment</span></span>|  
|---------|-----------------------------------|----------------------------------------------------|--------------------------------------------------------------|  
|<span data-ttu-id="a97d5-129">处理的 \BizTalk:Messaging\Documents 数/秒</span><span class="sxs-lookup"><span data-stu-id="a97d5-129">\BizTalk:Messaging\Documents processed/Sec</span></span>|<span data-ttu-id="a97d5-130">94.3%</span><span class="sxs-lookup"><span data-stu-id="a97d5-130">94.3%</span></span>|<span data-ttu-id="a97d5-131">79.8%</span><span class="sxs-lookup"><span data-stu-id="a97d5-131">79.8%</span></span>|<span data-ttu-id="a97d5-132">67%</span><span class="sxs-lookup"><span data-stu-id="a97d5-132">67%</span></span>|  
|<span data-ttu-id="a97d5-133">滞后时间为单位，由 Visual Studio 客户端</span><span class="sxs-lookup"><span data-stu-id="a97d5-133">Latency as measured by the Visual Studio client</span></span>|<span data-ttu-id="a97d5-134">94.3%</span><span class="sxs-lookup"><span data-stu-id="a97d5-134">94.3%</span></span>|<span data-ttu-id="a97d5-135">79.7%</span><span class="sxs-lookup"><span data-stu-id="a97d5-135">79.7%</span></span>|<span data-ttu-id="a97d5-136">66.9%</span><span class="sxs-lookup"><span data-stu-id="a97d5-136">66.9%</span></span>|  
  
 <span data-ttu-id="a97d5-137">有关如何优化 BizTalk Server 解决方案的性能的详细信息，请参阅 BizTalk Server 性能优化指南在[http://go.microsoft.com/fwlink/?LinkId=122477](http://go.microsoft.com/fwlink/?LinkId=122477)。</span><span class="sxs-lookup"><span data-stu-id="a97d5-137">For more information about how to optimize the performance of a BizTalk Server solution, see the BizTalk Server Performance Optimizations Guide available at [http://go.microsoft.com/fwlink/?LinkId=122477](http://go.microsoft.com/fwlink/?LinkId=122477).</span></span>  
  
## <a name="performance-comparison-results-summary"></a><span data-ttu-id="a97d5-138">性能比较结果摘要</span><span class="sxs-lookup"><span data-stu-id="a97d5-138">Performance Comparison Results Summary</span></span>  
 <span data-ttu-id="a97d5-139">94.3%吞吐量和实现仅运行时的 94.3%延迟[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]HYPER-V 上提供的建议，虚拟化解决方案使用 HYPER-V 此层提供了出色的性能，以及设置、 合并、 灵活性和易用性管理，还可能将解决方案部署到 HYPER-V 环境。</span><span class="sxs-lookup"><span data-stu-id="a97d5-139">The 94.3% throughput and 94.3% latency achieved when running only [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] on Hyper-V suggests that virtualizing this tier of your solution using Hyper-V provides excellent performance together with the provisioning, consolidation, flexibility and ease of management that are possible when deploying solutions to a Hyper-V environment.</span></span>  
  
### <a name="throughput-comparison-sample-results"></a><span data-ttu-id="a97d5-140">吞吐量比较示例结果</span><span class="sxs-lookup"><span data-stu-id="a97d5-140">Throughput Comparison Sample Results</span></span>  
 <span data-ttu-id="a97d5-141">当[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]在 BizTalk Server 环境中使用的计算机在 HYPER-V 虚拟机，BizTalk Server 解决方案测量吞吐量上运行"**BizTalk： 消息传送/文档处理数/秒**"范围是 67%到 94.3%可达成的吞吐量的 BizTalk Server 环境中使用的计算机的所有安装在物理硬件上时的性能监视器计数器。</span><span class="sxs-lookup"><span data-stu-id="a97d5-141">When the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers used in the BizTalk Server environment were run on Hyper-V virtual machines, throughput of the BizTalk Server solution as measured by the "**BizTalk:Messaging/Documents processed/Sec**" performance monitor counter ranged from 67% to 94.3% of the throughput attainable when all of the computers used in the BizTalk Server environment were installed on physical hardware.</span></span>  
  
### <a name="latency-comparison-sample-results"></a><span data-ttu-id="a97d5-142">延迟比较示例结果</span><span class="sxs-lookup"><span data-stu-id="a97d5-142">Latency Comparison Sample Results</span></span>  
 <span data-ttu-id="a97d5-143">当[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]在 BizTalk Server 环境中使用的计算机已 HYPER-V 虚拟机上运行，BizTalk Server 解决方案由 Visual Studio 客户端响应度量的延迟时间范围是从 66.9%到的延迟可达成 94.3%时所有在 BizTalk Server 环境中使用的计算机的已安装在物理硬件上。</span><span class="sxs-lookup"><span data-stu-id="a97d5-143">When the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers used in the BizTalk Server environment were run on Hyper-V virtual machines, latency of the BizTalk Server solution as measured by the Visual Studio client response time ranged from 66.9% to 94.3% of the latency attainable when all of the computers used in the BizTalk Server environment were installed on physical hardware.</span></span>