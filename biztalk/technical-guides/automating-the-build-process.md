---
title: "自动执行生成过程 |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 995dac20-82a1-46ed-b8a3-0aa6182cb821
caps.latest.revision: "7"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: d62380146f0bfba188843ed0e022340d88fcaceb
ms.sourcegitcommit: 3fc338e52d5dbca2c3ea1685a2faafc7582fe23a
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 12/01/2017
---
# <a name="automating-the-build-process"></a>自动执行生成过程
自动的生成过程编译，部署并按常规、 预先确定的时间间隔对项目的最新源代码然后运行生成验证测试 (Bvt)。 然后"生成报告，"详细信息是成功还是失败的生成过程，这是向项目利益干系人传送至。 生成报告分析以确定项目的方面需要注意和如果项目应将其回滚到以前的版本/生成。  
  
 自动的生成过程的电源也是可以计划在"关闭 hours。"过程中运行 这种方式，它可帮助确保无需使直接离开的开发时间周期的项目的稳定性。   
 本主题提供的生成过程概述，介绍如何生成验证测试适用于生成过程、 描述的生成验证测试过程中使用的功能测试方面并提供信息的重要性自动执行生成过程。  
  
## <a name="overview-of-the-build-process"></a>生成过程概述  
 看一看测试的详细信息之前, 务必考虑如何测试适用于整个生成进程的上下文。 所有 Microsoft 的产品组从基本原理操作，生成过程是任何软件项目的检测信号。 由许多世界上最顶部咨询生成任务关键型解决方案位于 Microsoft 软件堆栈顶部的企业还使用此方法。 如果不稳定的检测信号和它的正则检查，则无法了解项目的运行状况。 若要确保产品组可以连续深入了解项目的总体运行状况，生成过程每天运行，通常在午夜。 以下步骤总结了典型的自动的生成过程：  
  
1.  从源代码存储库获取源代码的最新版本。  
  
2.  编译源代码。  
  
3.  整理部署 – 通常使用脚本或 Microsoft Windows Installer 文件的二进制文件。  
  
4.  将项目部署到测试服务器。  
  
5.  自动运行一套完整的生成验证测试 (Bvt)。  
  
6.  将详细的构建报表发布到的项目团队成员。  
  
> [!NOTE]  
>  Bvt 的形式是功能测试，执行要测试其质量的解决方案的主要功能。  你需要确保你 bvt 的形式是不足以仪表生成质量，但小应该在分配的每日生成时间内执行 ！  
  
> [!NOTE]  
>  你应该将视为软件项目以进行测试的一部分的任何部署，取消部署、 配置和安装的脚本或进程。 应测试的项目，以及部署和配置它，这两种操作。  
  
 通常由早期早上大约 6 上午，团队的第一个成员，可在新的一天生成上启动工作完成此过程。 如果未能满足一个或多个从昨天晚上 bvt 的形式，它是团队的责任尽可能快地解决。  
  
 每日生成过程会有很多优点项目。 首先，它提供了正则检测信号 （由每日生成加上自动 bvt 的形式构成）。 其次，使用 bvt 的形式强制与系统的集成将是一个复杂的任务，并执行此操作尽早，本身并减少项目风险。 若要完成它们所需的时间，因为压力和性能测试通常以外执行每日生成过程。 压力和性能测试通常安排执行项目中的里程碑内部版本。  
  
 每日生成过程的准备，并有上使用过，非常有效地 BizTalk 解决方案。 但是，你需要确保从一开始以迭代方式完成通常保持为项目中结束的任务。 例如，BizTalk Server 中的部署是肯定的非普通。 务必要提前制定自动的部署脚本。 如果不这样做，将显示手动部署和未部署解决方案多次在整个项目，其成本中结束的更多时间。 有可用于驱动器每日的生成过程; 工具Visual Studio Team System 和 Team Foundation Server 是很多用户的主选择。 MSBuild 脚本可能用于在生成过程中驱动器步骤。 另一种方法是开源[CruiseControl.NET 工具](http://go.microsoft.com/fwlink/?LinkId=116093)(http://go.microsoft.com/fwlink/?LinkId=116093)。  
  
> [!NOTE]  
>  使用此工具不支持由 Microsoft 和 Microsoft 则没有此程序的适用性的保证。 使用此程序风险自负。  
  
 有关自动执行使用 Microsoft 测试管理器进行测试的详细信息，请参阅主题[运行自动测试](http://go.microsoft.com/fwlink/?LinkID=208368)(http://go.microsoft.com/fwlink/?LinkID=208368) 在 Visual Studio 2010 联机文档  
  
 有关自动执行生成过程使用 Visual Studio 2010 的详细信息，请参阅[生成应用程序](http://go.microsoft.com/fwlink/?LinkID=208369)（超链接"http://go.microsoft.com/fwlink/?LinkID = 208369"http://go.microsoft.com/fwlink/?LinkID = 208369) 中的 Visual Studio 2010 文档。  
  
## <a name="build-verification-testing"></a>生成验证测试  
 生成验证测试通常包含下列元素：  
  
-   **单元测试**-由于单元测试通常要开发的第一个测试，理想情况下它们应创建之前实际编写代码，如果你使用真实测试驱动开发方法。 通过将其添加到 bvt 的形式在项目的早期阶段，你提供至少某些代码覆盖率立即。 作为功能的测试的数量并因此测试覆盖率增长，你可以选择删除 bvt 的形式从单元测试。  
  
-   **冒烟测试**-端到端测试你的解决方案的基本功能的功能测试。 这些失败，有严重问题。 这些通常可以将运行相对快一点。  
  
-   **功能测试**-以下还目标端到端方案，但在这种情况下它们在项目中测试所有方案。 适用于大型项目可能有必要进行分类进一步的功能测试 (例如，若要启用快速、 可靠且隔离要测试的特定组件)。 对为功能上正确解决方案登录之后，应锁定这些功能的测试。  
  
-   **回归验证测试**-每次找到和修复，应添加测试用例来验证 bug 已修复和，它不重新移入更高版本在项目生命周期中的回归验证解决方案 bug。  通常，这些测试将为未覆盖的功能的测试用例的用例。 可以预见，即使该解决方案已进入实时地，如果新 bug 的发现和修复回归验证测试会增加数量。  
  
 在非常大型项目中，你可能需要使你 bvt 的形式 （由于执行它们所花的时间长度） 的完整功能的测试套件的子集。 对于较小的项目，bvt 的形式将构成的整个集。 显然，如果想要将 bvt 的形式作为每日生成的一部分进行集成，整个过程需要可来自动执行。 在本主题的其余部分，我们将重点介绍如何使用 BizUnit 和其他工具来实现此目的。  
  
## <a name="functional-testing"></a>功能测试  
 在 BizTalk 应用程序的上下文功能测试，测试特定的端到端方案。 在执行这种类型的测试时，它可用于为测试从外部透视的功能上的黑色框假设 BizTalk Server。 例如，测试可能涉及将输入的消息 （具有已知值） 传送到接收位置终结点 (示例中，URL，FTP 位置，无论是你选择的传输)。 测试然后像监视正确的发送方生成的正确输出的消息数。 这听起来可能很相对比较简单。 但是，当你考虑，某些情况下，需要输入想在特定的顺序并在某个时间，并且你复合这与其他解决方案要求时 (例如，在 BAM 记录跟踪数据时)，就变得显而易见工具和框架可用于安排此。  
  
 这一点至关重要，功能测试旨在涵盖通过你的解决方案的所有可能路径。 这应包括这些方案不只希望在生产中，但也失败路径和异常处理路径已实现但永远不会希望使用 – 一个短语通常用于描述此测试是否存在"错误天方案"。 你应确保所有的业务流程、 所有允许的消息类型和所有代码分支都执行的功能测试套件。 下列各节描述开发正值和负值功能测试用例以涵盖所有代码路径。  
  
 有关应投入生产，BizTalk Server 解决方案之前实现的其他测试的类别和有关功能测试的详细信息，请参阅主题[清单： 测试操作的准备情况](http://go.microsoft.com/fwlink/?LinkId=160138)中在 BizTalk Server 2010 操作指南[http://go.microsoft.com/fwlink/?LinkId=160138](http://go.microsoft.com/fwlink/?LinkId=160138)。  
  
### <a name="positive-tests"></a>正测试  
  
-   执行正测试，以确保所有的消息、 管道、 业务流程，组合时很重要，终结点传递解决方案，以便所有消息流被都执行。 若要确保测试所有代码路径将可能需要处理不同的消息具有不同内容。  
  
-   在测试时，使用将在生产中使用的传输类型。 遗憾的是，所有过于频繁，功能测试执行只能通过使用文件适配器时将在生产中使用某些其他传输。 采用此方法设置你和注册失败的总体项目更高版本上。  
  
-   验证从系统发送的所有消息的负载。 如果消息是 XML，则应验证其架构和消息使用 XPath 表达式中的键字段。  
  
-   验证 （如果使用） 的 BAM; 中存储的任何跟踪数据应考虑会保留在外部数据存储库的任何其他数据。  
  
-   如果你的解决方案使用 BRE，测试所有业务规则引擎 (BRE) 策略和规则的执行。  
  
### <a name="negative-tests"></a>负测试  
  
-   确保通过您的系统测试的无效消息的处理。 你应验证你选择的策略 （以拒绝它们之前，它们就应该考虑 BizTalk Server 中，或挂起其） 已经正确完成为止。  
  
-   在测试时的无效消息的处理，请确保测试已执行的任何接收方错误处理业务流程来处理挂起的消息。  
  
-   确保你失败的方案涵盖在你的业务流程中的所有异常块。  无法充分测试这是一个常见问题。  
  
-   如果你在使用与补偿行为的长时间运行事务，应非常仔细地测试这些方案。 这是另一个区域，其中不充分的测试将产生在生产环境中的严重后果。  
  
-   确保在相应的错误日志中正确登录失败。  
  
## <a name="automation-is-key"></a>自动化是密钥  
 若要高效且有效地执行所有这些操作，花些时间提前自动化的测试。 手动测试非常耗时，容易出错并且在产生很大 （影响时间和成本）。 每次执行通过手动测试，你添加项目资源 （团队中的人员） 必须处理的任务的另一个的批处理。 通过自动执行这最多前，你还能获得开发测试，每次运行时所需的初始投资回报。 良好的功能测试应执行快速、 高效地和可重复;每个测试还应自治 （它应是独立的任何其他; 采用此方法使你可以为测试套件按顺序运行多个测试。）功能测试应始终产生相同的结果。 编写不佳的功能测试或编写不佳的代码将导致测试运行，从而导致混淆并且调查失败的根本原因的浪费的时间之间的不同的测试结果。  
  
 请务必将每个功能的测试所需的开发工作量降至最低。 通常更昂贵很来生成内容 （在方面开发时间），你很可能最终会得到更少测试用例。 这意味着你将通过你的代码具有较低级别的测试覆盖率。 通过使用测试框架，你可以开发又快又简单的测试用例和，因此，使其更轻松地获得完整的代码覆盖率。 大多数很好的测试框架使用一种用于测试定义的声明性方式。 （即，为测试的配置存储在配置文件中，这通常是 XML 文件。）使用很好的测试框架使你能够开发完整功能 agile 和可靠的方式测试套件并可避免让"从头"反复，提升。  
  
## <a name="msbuild-support-for-biztalk-server-projects"></a>BizTalk Server 项目的 MSBUILD 支持  
 BizTalk Server 提供对 Microsoft 生成引擎 (MSBUILD) 平台，其中可容纳在不安装 Visual Studio 的生成实验室环境中的托管项目的生成的支持。 MSBUILD 还包含从命令行和高级的功能，包括日志记录和批处理的 MSBUILD 生成项目。 有关 MSBUILD 的详细信息，请参阅[MSBuild 概述](http://go.microsoft.com/fwlink/?LinkId=131739)(http://go.microsoft.com/fwlink/?LinkId=131739)。  
  
## <a name="see-also"></a>另请参阅  
 [实现自动测试](../technical-guides/implementing-automated-testing.md)