---
title: 自动执行生成过程 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 995dac20-82a1-46ed-b8a3-0aa6182cb821
caps.latest.revision: 7
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 8591440cf129ea8bf0dbd9bdb4a423d77be8026c
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65401316"
---
# <a name="automating-the-build-process"></a><span data-ttu-id="2fb7d-102">自动执行生成过程</span><span class="sxs-lookup"><span data-stu-id="2fb7d-102">Automating the Build Process</span></span>
<span data-ttu-id="2fb7d-103">自动的构建过程编译、 部署并按常规、 预先确定的时间间隔对项目的最新源代码然后运行生成验证测试 (Bvt)。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-103">An automated build process compiles, deploys and then runs build verification tests (BVTs) against the latest source code for a project at regular, predetermined intervals.</span></span> <span data-ttu-id="2fb7d-104">然后"生成报告，"详细信息是成功还是失败的生成过程，这被至项目利益关系人。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-104">Then a “build report,” which details the success or failure of the build process, is disseminated to the project stakeholders.</span></span> <span data-ttu-id="2fb7d-105">在生成报告分析以确定项目的方面需要注意，如果该项目应将其回滚到以前的版本/生成。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-105">The build report is analyzed to determine what areas of the project need attention and if the project should be rolled back to an earlier version/build.</span></span>  
  
 <span data-ttu-id="2fb7d-106">自动的生成过程的强大功能是可以为计划要运行在"关闭时间。"</span><span class="sxs-lookup"><span data-stu-id="2fb7d-106">The power of an automated build process is that it can be scheduled to be run during “off hours.”</span></span> <span data-ttu-id="2fb7d-107">这样一来，它可以帮助确保项目的稳定性，无需采用直接从开发时间周期。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-107">This way, it can help ensure the stability of the project without taking cycles directly away from the development time.</span></span>   
 <span data-ttu-id="2fb7d-108">本主题提供的生成过程概述，介绍如何生成验证测试适用于生成过程，介绍生成验证测试期间使用的功能测试并提供信息的重要性自动执行生成过程。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-108">This topic provides an overview of the build process, describes how build verification testing fits into the build process, describes aspects of functional testing used during build verification testing and provides information about the importance of automating the build process.</span></span>  
  
## <a name="overview-of-the-build-process"></a><span data-ttu-id="2fb7d-109">生成过程概述</span><span class="sxs-lookup"><span data-stu-id="2fb7d-109">Overview of the build process</span></span>  
 <span data-ttu-id="2fb7d-110">在之前查看的测试细节，务必要考虑测试如何适合整个生成过程的上下文。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-110">Before looking into the specifics of testing, it’s important to consider the context of how testing fits into the overall build process.</span></span> <span data-ttu-id="2fb7d-111">所有 Microsoft 的产品组从理念操作，生成过程是任何软件项目的检测信号。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-111">All of Microsoft’s product groups operate from the philosophy that the build process is the heartbeat of any software project.</span></span> <span data-ttu-id="2fb7d-112">此方法还使用由许多咨询公司生成关键任务解决方案位于 Microsoft 软件堆栈顶部的世界上最顶部。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-112">This approach is also used by many of the world’s top consulting firms that build mission-critical solutions on top of the Microsoft software stack.</span></span> <span data-ttu-id="2fb7d-113">如果不稳定的检测信号和常规检查，就无法了解项目的运行状况。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-113">Without a steady heartbeat and a regular check of it, it is impossible to know the health of the project.</span></span> <span data-ttu-id="2fb7d-114">若要确保产品组具有项目的总体运行状况持续见解，生成过程是每天运行，通常在午夜。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-114">To ensure that the product groups have a continuous insight into the overall health of the project, the build process is run daily, typically at midnight.</span></span> <span data-ttu-id="2fb7d-115">以下步骤总结了典型的自动的生成过程：</span><span class="sxs-lookup"><span data-stu-id="2fb7d-115">The following steps summarize a typical automated build process:</span></span>  
  
1.  <span data-ttu-id="2fb7d-116">从源代码存储库获取最新版本的源代码。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-116">Obtain the latest build of source code from the source code repository.</span></span>  
  
2.  <span data-ttu-id="2fb7d-117">编译的源代码。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-117">Compile the source code.</span></span>  
  
3.  <span data-ttu-id="2fb7d-118">打包部署 – 应用通常使用脚本或 Microsoft Windows Installer 文件的二进制文件。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-118">Pack up binaries for deployment – typically using scripts or Microsoft Windows Installer files.</span></span>  
  
4.  <span data-ttu-id="2fb7d-119">将项目部署到测试服务器。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-119">Deploy project to a test server.</span></span>  
  
5.  <span data-ttu-id="2fb7d-120">自动运行一套完整的生成验证测试 (Bvt)。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-120">Automatically run a full set of build verification tests (BVTs).</span></span>  
  
6.  <span data-ttu-id="2fb7d-121">将详细的生成报表发布到项目团队的成员。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-121">Publish a detailed build report to members of the project team.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="2fb7d-122">Bvt 是解决方案的功能测试，执行要测试其质量的主要功能。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-122">BVTs are functional tests that exercise the main features of the solution to test its quality.</span></span>  <span data-ttu-id="2fb7d-123">您必须确保你 Bvt 的全面，可以测量生成质量，但都比较大，已分配的每日生成时间内执行 ！</span><span class="sxs-lookup"><span data-stu-id="2fb7d-123">You need to ensure your BVTs are comprehensive enough to gauge the build quality, yet small enough to execute within the allocated daily build time!</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="2fb7d-124">您应将视为出于测试目的软件项目的一部分的任何部署、 取消部署、 配置和安装脚本或进程。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-124">You should also treat any deployment, un-deployment, configuration and installation scripts or processes as part of the software project for testing purposes.</span></span> <span data-ttu-id="2fb7d-125">应测试的项目，以及部署和配置它，这两种操作。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-125">Both the operations of the project, as well as the deployment and configuration of it, should be tested.</span></span>  
  
 <span data-ttu-id="2fb7d-126">按早期早上大约 6 上午，使要开始在新的一天生成的工作的第一个团队成员通常完成此过程。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-126">This process is typically completed by early morning around 6 A.M., which enables the first members of the team to start work on the new day’s build.</span></span> <span data-ttu-id="2fb7d-127">如果一个或多个来自前一天夜间 Bvt 失败，则团队的职责，若要尽可能快地解决。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-127">If one or more of the BVTs from the previous night failed, then it is the team’s responsibility to fix it as soon as possible.</span></span>  
  
 <span data-ttu-id="2fb7d-128">每日生成过程会有很多优点的项目。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-128">Following a daily build process has many advantages for the project.</span></span> <span data-ttu-id="2fb7d-129">首先，它提供了正则检测信号 （每日生成以及自动化的 Bvt 组成）。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-129">First, it provides a regular heartbeat (made up of the daily build plus the automated BVTs).</span></span> <span data-ttu-id="2fb7d-130">其次，使用 Bvt 强制与系统的集成，这是比较棘手的任务，并进行此早期本身减少项目风险。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-130">Second, using BVTs forces integration with systems which is a tricky task, and doing this early in and of itself reduces project risks.</span></span> <span data-ttu-id="2fb7d-131">由于完成所需的时间，压力和性能测试通常执行的每日生成进程之外。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-131">Due to the time required to complete them, stress and performance testing are typically performed outside of the daily build process.</span></span> <span data-ttu-id="2fb7d-132">压力和性能测试通常计划要执行项目中的里程碑内部版本。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-132">Stress and performance tests are typically scheduled to be performed on a milestone build in the project.</span></span>  
  
 <span data-ttu-id="2fb7d-133">每日生成过程的准备，并已被使用非常有效地对 BizTalk 解决方案。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-133">The daily build process can be, and has been used, very effectively on BizTalk solutions.</span></span> <span data-ttu-id="2fb7d-134">但是，您需要确保从一开始会以迭代方式完成通常保留为在项目中的任务。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-134">However, you need to ensure tasks that are typically left to the end in projects are done iteratively from the start.</span></span> <span data-ttu-id="2fb7d-135">例如，在 BizTalk Server 中的部署是当然不常用。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-135">For example, deployment in BizTalk Server is certainly non-trivial.</span></span> <span data-ttu-id="2fb7d-136">请务必提前开发自动的部署脚本。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-136">It is important that automated deployment scripts be developed up front.</span></span> <span data-ttu-id="2fb7d-137">如果不这样做，您就会手动部署和取消部署很多时候整个项目中，成本更多时间最终解决方案。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-137">If you do not do this, you’ll end up manually deploying and un-deploying the solution many times throughout the project, which will cost you more time in the end.</span></span> <span data-ttu-id="2fb7d-138">有一些工具可用来驱动每日生成过程;Visual Studio Team System 和 Team Foundation Server 是许多人的主选择。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-138">There are tools available to drive the daily build process; Visual Studio Team System and Team Foundation Server are the primary choice for many people.</span></span> <span data-ttu-id="2fb7d-139">MSBuild 脚本可能用于生成过程中驱动器的步骤。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-139">MSBuild scripts may be used to drive the steps in the build process.</span></span> <span data-ttu-id="2fb7d-140">另一种方法是开放源代码[CruiseControl.NET 工具](http://go.microsoft.com/fwlink/?LinkId=116093)(http://go.microsoft.com/fwlink/?LinkId=116093)。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-140">Another alternative is the open source [CruiseControl.NET tool](http://go.microsoft.com/fwlink/?LinkId=116093) (http://go.microsoft.com/fwlink/?LinkId=116093).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="2fb7d-141">使用此工具不受 Microsoft，因此 Microsoft 不保证此程序的适用性。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-141">Use of this tool is not supported by Microsoft, and Microsoft makes no guarantees about the suitability of this programs.</span></span> <span data-ttu-id="2fb7d-142">使用此程序是完全由您自己承担。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-142">Use of this program is entirely at your own risk.</span></span>  
  
 <span data-ttu-id="2fb7d-143">有关自动执行测试使用 Microsoft 测试管理器的详细信息，请参阅主题[运行自动测试](http://go.microsoft.com/fwlink/?LinkID=208368)(http://go.microsoft.com/fwlink/?LinkID=208368) Visual Studio 2010 联机文档中</span><span class="sxs-lookup"><span data-stu-id="2fb7d-143">For more information about automating testing using Microsoft Test manager, see the topic [Running Automated Tests](http://go.microsoft.com/fwlink/?LinkID=208368) (http://go.microsoft.com/fwlink/?LinkID=208368)  in the Visual Studio 2010 online documentation</span></span>  
  
 <span data-ttu-id="2fb7d-144">有关自动执行生成过程使用的 Visual Studio 2010 的详细信息，请参阅[生成应用程序](http://go.microsoft.com/fwlink/?LinkID=208369)(超链接"<http://go.microsoft.com/fwlink/?LinkID=208369>" <http://go.microsoft.com/fwlink/?LinkID=208369>) Visual Studio 2010 文档中。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-144">For more information about automating the build process using Visual Studio 2010, see [Building the Application](http://go.microsoft.com/fwlink/?LinkID=208369) ( HYPERLINK "<http://go.microsoft.com/fwlink/?LinkID=208369>" <http://go.microsoft.com/fwlink/?LinkID=208369>)  in the Visual Studio 2010 documentation.</span></span>  
  
## <a name="build-verification-testing"></a><span data-ttu-id="2fb7d-145">生成验证测试</span><span class="sxs-lookup"><span data-stu-id="2fb7d-145">Build verification testing</span></span>  
 <span data-ttu-id="2fb7d-146">生成验证测试通常包含下列元素：</span><span class="sxs-lookup"><span data-stu-id="2fb7d-146">Build verification testing usually comprises the following elements:</span></span>  
  
- <span data-ttu-id="2fb7d-147">**单元测试**-因为单元测试通常是要开发的第一个测试，理想情况下应之前创建它们实际编写代码，如果您真正使用的测试驱动的开发方法。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-147">**Unit Tests** - Because unit tests are typically the first tests to be developed, ideally they should be created before the code has actually been written, if you are truly using a test-driven development approach.</span></span> <span data-ttu-id="2fb7d-148">通过将其添加到 bvt 的形式在项目的早期阶段，你提供至少某些代码覆盖率立即。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-148">By adding them into BVTs during the early stages of a project, you provide at least some code coverage immediately.</span></span> <span data-ttu-id="2fb7d-149">功能测试的数，因此测试覆盖率的增长，你可以选择从 Bvt 删除单元测试。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-149">As the number of functional tests and hence test coverage grows, you may opt to remove unit tests from the BVTs.</span></span>  
  
- <span data-ttu-id="2fb7d-150">**冒烟测试**-测试你的解决方案的基本功能的端到端功能测试。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-150">**Smoke Tests** - End-to-end functional tests that test the basic functionality of your solution.</span></span> <span data-ttu-id="2fb7d-151">这些失败，有严重问题。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-151">If these fail, something is seriously wrong.</span></span> <span data-ttu-id="2fb7d-152">这些通常运行时能相对快。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-152">These can usually be run relatively quickly.</span></span>  
  
- <span data-ttu-id="2fb7d-153">**功能测试**-这些还针对端到端方案，但在这种情况下它们在项目中测试所有方案。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-153">**Functional Tests** - These also target end-to-end scenarios, but in this case they test all the scenarios in the project.</span></span> <span data-ttu-id="2fb7d-154">对于大型项目可能有意义进行分类进一步的功能测试 (例如，若要启用快速、 可靠以及隔离要测试的特定组件)。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-154">For large projects it may make sense to categorize your functional tests further (for instance, to enable a particular component to be tested quickly, reliably, and in isolation).</span></span> <span data-ttu-id="2fb7d-155">在你的解决方案为功能上正确注销后，应锁定这些功能测试。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-155">These functional tests should be locked down after you have signed off on your solution as being functionally correct.</span></span>  
  
- <span data-ttu-id="2fb7d-156">**回归验证测试**-每次找到和修复，应添加测试用例来验证 bug 固定的它不引入项目生命周期中更高版本的回归验证解决方案 bug。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-156">**Regression Verification Tests** - Every time a solution bug is found and fixed, regression verification test cases should be added to verify that the bug is fixed and that it is not reintroduced later in the project life cycle.</span></span>  <span data-ttu-id="2fb7d-157">这些测试通常是功能测试用例中未覆盖的情况。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-157">These tests will typically be cases that were not covered in the functional test cases.</span></span> <span data-ttu-id="2fb7d-158">可以预见，即使解决方案已实时，如果新 bug 将发现并修复回归验证测试会增加数量。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-158">You should expect that your regression verification tests will increase in number even after the solution has gone live, if new bugs are discovered and fixed.</span></span>  
  
  <span data-ttu-id="2fb7d-159">在非常大的项目，可能需要使你 Bvt （由于执行它们所花的时间长度） 的完整功能的测试套件的子集。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-159">On very large projects, you may need to make your BVTs a subset of the full functional test suite (due to length of time they take to execute).</span></span> <span data-ttu-id="2fb7d-160">对于较小项目，Bvt 将构成整个集。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-160">For smaller projects, BVTs will constitute the entire set.</span></span> <span data-ttu-id="2fb7d-161">显然，如果要将 Bvt 作为每日生成的一部分进行集成，需要自动执行整个过程。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-161">Obviously, if you are going to integrate the BVTs as part of your daily build, the whole process needs to be automated.</span></span> <span data-ttu-id="2fb7d-162">在本主题的其余部分，我们将重点介绍如何使用 BizUnit 和其他工具来实现此目的。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-162">In the rest of this topic, we will focus on how you can use BizUnit and other tools to accomplish this.</span></span>  
  
## <a name="functional-testing"></a><span data-ttu-id="2fb7d-163">功能测试</span><span class="sxs-lookup"><span data-stu-id="2fb7d-163">Functional testing</span></span>  
 <span data-ttu-id="2fb7d-164">在 BizTalk 应用程序的上下文中的功能测试，测试特定的端到端方案。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-164">In the context of BizTalk applications functional tests, test a specific end-to-end scenario.</span></span> <span data-ttu-id="2fb7d-165">在执行此类型的测试时，它可用于为功能上测试从外部的角度来看一个黑色框 imagine BizTalk Server。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-165">When performing this type of testing, it is useful to imagine BizTalk Server as a black box that you test functionally from an external perspective.</span></span> <span data-ttu-id="2fb7d-166">例如，测试可能涉及将 （与已知值） 的输入的消息馈送到接收位置终结点 (示例中，URL，FTP 位置，无论是你选择的传输)。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-166">For example, a test may involve feeding an input message (with known values) to a receive location end point (for example, URL, FTP location, whatever your choice of transport is).</span></span> <span data-ttu-id="2fb7d-167">然后，测试会监视正确的发送端生成的正确输出的消息数。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-167">The test would then monitor the correct number of messages with the correct output that is produced on the send side.</span></span> <span data-ttu-id="2fb7d-168">这可能听起来相对比较简单。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-168">This may sound relatively straightforward.</span></span> <span data-ttu-id="2fb7d-169">但是，当您考虑到一些情况下，需要输入以特定顺序并在某个时间，并与其他解决方案要求对此进行复合时 (例如，在 BAM 中记录跟踪数据时)，它就变得显而易见的工具和框架可用于这可以协调。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-169">However, when you consider that some scenarios require inputs to come in a certain order and at a certain time, and you compound this with other solution requirements (such as, when recording tracking data in BAM), it becomes clear that a tool and framework can be used to orchestrate this.</span></span>  
  
 <span data-ttu-id="2fb7d-170">很重要的功能测试的设计目的在于通过解决方案的所有可能路径。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-170">It is critical that functional testing is designed to cover all the possible paths through your solution.</span></span> <span data-ttu-id="2fb7d-171">这应包括这些方案不只希望在生产中，但还故障路径和异常处理路径中用过但永远不会希望使用 – 通常用于描述这一短语正在测试的"他们失意的时候方案"。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-171">This should include not only those scenarios you expect in production, but also the failure paths and exception handling paths you have implemented but hope never to use – one phrase commonly used to describe this is testing for the “bad day scenario.”</span></span> <span data-ttu-id="2fb7d-172">您应确保所有业务流程、 所有允许的消息类型和所有代码分支都执行的功能测试套件。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-172">You should ensure all orchestrations, all permissible message types, and all code branches are exercised by your functional test suite.</span></span> <span data-ttu-id="2fb7d-173">以下部分介绍开发正值和负值功能测试用例以涵盖所有代码路径。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-173">The following sections describe developing positive and negative functional test cases to cover all code paths.</span></span>  
  
 <span data-ttu-id="2fb7d-174">有关 BizTalk Server 解决方案投入生产之前, 应实现的其他测试的类别和功能测试详细信息，请参阅本主题[核对清单：测试操作准备情况](http://go.microsoft.com/fwlink/?LinkId=160138)在 BizTalk Server 2010 操作指南，网址[ http://go.microsoft.com/fwlink/?LinkId=160138 ](http://go.microsoft.com/fwlink/?LinkId=160138)。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-174">For more information about functional testing and the other testing categories that should be implemented before placing a BizTalk Server solution into production, see the topic [Checklist: Testing Operational Readiness](http://go.microsoft.com/fwlink/?LinkId=160138) in the BizTalk Server 2010 Operations Guide at [http://go.microsoft.com/fwlink/?LinkId=160138](http://go.microsoft.com/fwlink/?LinkId=160138).</span></span>  
  
### <a name="positive-tests"></a><span data-ttu-id="2fb7d-175">正向测试</span><span class="sxs-lookup"><span data-stu-id="2fb7d-175">Positive tests</span></span>  
  
-   <span data-ttu-id="2fb7d-176">执行正向测试以确保所有的消息、 管道、 业务流程，组合时，它很重要，终结点传递解决方案，以便执行所有消息流。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-176">It is important when performing positive tests to ensure all combinations of messages, pipelines, orchestrations, and endpoints are passed through the solution so that all the message flows are exercised.</span></span> <span data-ttu-id="2fb7d-177">若要确保测试所有代码路径将可能需要处理不同的内容不同的消息。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-177">To ensure that you test all code paths will likely require that you process different messages with different content.</span></span>  
  
-   <span data-ttu-id="2fb7d-178">在测试时，使用将在生产环境中使用的传输类型。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-178">When testing, use the transport type that will be used in production.</span></span> <span data-ttu-id="2fb7d-179">遗憾的是，经常，功能测试执行只能通过使用文件适配器时将在生产环境中使用某些其他传输。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-179">Unfortunately, all too often, functional testing is performed only by using the file adapter when some other transport will be used in production.</span></span> <span data-ttu-id="2fb7d-180">采用这种方法设置你和整体项目失败进行更高版本上。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-180">Adopting this approach is setting you and the overall project up for failure later on.</span></span>  
  
-   <span data-ttu-id="2fb7d-181">验证从系统发送的所有消息的有效负载。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-181">Validate the payload of all messages that are sent out from the system.</span></span> <span data-ttu-id="2fb7d-182">如果消息是 XML，则应验证其架构和消息使用 XPath 表达式中的键字段。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-182">If the messages are XML, you should validate their schema and key fields in the message using XPath expressions.</span></span>  
  
-   <span data-ttu-id="2fb7d-183">验证 BAM （如果使用）; 中存储的任何跟踪数据留在外部数据存储库中的任何其他数据应该考虑的。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-183">Validate any tracking data stored in BAM (if used); any other data that is left in external data repositories should be accounted for.</span></span>  
  
-   <span data-ttu-id="2fb7d-184">如果您的解决方案使用 BRE，则测试所有业务规则引擎 (BRE) 策略和规则的执行。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-184">Test the execution of all Business Rule Engine (BRE) policies and rules if your solution uses BRE.</span></span>  
  
### <a name="negative-tests"></a><span data-ttu-id="2fb7d-185">反向测试</span><span class="sxs-lookup"><span data-stu-id="2fb7d-185">Negative tests</span></span>  
  
-   <span data-ttu-id="2fb7d-186">请确保您的系统通过测试的无效消息的处理。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-186">Ensure you test the handling of invalid messages through your system.</span></span> <span data-ttu-id="2fb7d-187">您应验证在所选的策略 （若要拒绝它们之前，它们进入 BizTalk Server 中，或挂起） 具有正常运行。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-187">You should verify that your chosen strategy (to reject them before they come into BizTalk Server, or to suspend them) has worked correctly.</span></span>  
  
-   <span data-ttu-id="2fb7d-188">在测试时无效的消息的处理，请确保测试已实现的任何接收方错误处理业务流程来处理挂起的消息。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-188">When testing the handling of invalid messages, ensure you test that any receive-side error handling orchestrations have been implemented to handle suspended messages.</span></span>  
  
-   <span data-ttu-id="2fb7d-189">请确保故障方案，介绍您的业务流程中的所有异常块。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-189">Ensure that your failure scenarios cover all exception blocks in your orchestrations.</span></span>  <span data-ttu-id="2fb7d-190">无法充分地测试这是常见的问题。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-190">Failing to test this adequately is a common problem.</span></span>  
  
-   <span data-ttu-id="2fb7d-191">如果使用长时间运行的事务与补偿行为，请非常仔细地测试这些方案。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-191">If you are using long-running transactions with compensation behavior, test these scenarios very carefully.</span></span> <span data-ttu-id="2fb7d-192">这是另一个区域，其中不充分的测试将会产生在生产环境中导致严重的后果。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-192">This is another area where inadequate testing will incur serious consequences in a production environment.</span></span>  
  
-   <span data-ttu-id="2fb7d-193">请确保故障正确记录在相应的错误日志。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-193">Ensure failures are logged correctly in the appropriate error logs.</span></span>  
  
## <a name="automation-is-key"></a><span data-ttu-id="2fb7d-194">自动化是密钥</span><span class="sxs-lookup"><span data-stu-id="2fb7d-194">Automation is key</span></span>  
 <span data-ttu-id="2fb7d-195">若要有效地执行所有这些操作，花些时间提前自动执行测试。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-195">To do all of this efficiently and effectively, invest the time up front to automate testing.</span></span> <span data-ttu-id="2fb7d-196">手动测试是较长时间，且容易出错，消耗 （大量的时间和成本）。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-196">Manual testing is time consuming, error prone, and expensive (in terms of time and cost).</span></span> <span data-ttu-id="2fb7d-197">每次执行手动测试通过，您添加项目资源 （在团队中的人） 需要处理的任务的另一个的批处理。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-197">Every time you perform a manual test pass, you add another batch of tasks that have to be handled by project resources (people in the team).</span></span> <span data-ttu-id="2fb7d-198">通过自动执行这最多前，您还能获得开发测试，每次运行时所需的初始投资回报。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-198">By automating this up front, you are able to get a return on the initial investment that is required to develop the tests every time they are run.</span></span> <span data-ttu-id="2fb7d-199">很好的功能测试应快速高效地执行和可重复;每个测试也应是自治 （它应是独立于任何其他; 采用此方法可让你按顺序运行多个测试作为测试套件。）功能测试应始终生成相同的结果。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-199">Good functional tests should execute quickly and efficiently and be repeatable; each test should also be autonomous (It should be independent of any other; adopting this approach enables you to run multiple tests sequentially as a test suite.) The functional tests should always produce the same result.</span></span> <span data-ttu-id="2fb7d-200">编写不佳的功能测试或编写不佳的代码将导致不同的测试结果之间测试运行，从而导致产生混淆和浪费的时间来调查失败的根本原因。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-200">Poorly written functional tests or poorly written code will result in different tests results between test runs, leading to confusion and wasted time investigating the root cause of the failure.</span></span>  
  
 <span data-ttu-id="2fb7d-201">请务必最大程度减少写入每个功能测试所需的开发工作量。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-201">It is important to minimize the development effort required to write each functional test.</span></span> <span data-ttu-id="2fb7d-202">通常更昂贵它是生成内容 （从开发时间），你很可能会得到更少的测试用例。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-202">Usually the more expensive it is to produce something (in terms of development time), the fewer test cases you are likely to end up with.</span></span> <span data-ttu-id="2fb7d-203">这意味着会将在代码上具有较低级别的测试覆盖率。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-203">This means you will have a lower level of test coverage over your code.</span></span> <span data-ttu-id="2fb7d-204">通过使用测试框架，您可以开发更快、 更轻松的测试用例和，因此，使其更轻松地获得完整的代码覆盖率。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-204">By using a test framework, you can develop test cases quicker and easier and, hence, make it easier to get full code coverage.</span></span> <span data-ttu-id="2fb7d-205">大多数良好测试框架使用声明性方法进行定义的测试。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-205">Most good test frameworks use a declarative approach to defining tests.</span></span> <span data-ttu-id="2fb7d-206">（即，为测试配置存储在配置文件中，这通常是一个 XML 文件。）使用有效测试框架可以开发完整功能敏捷且可靠的方式测试套件和避免了必须"彻底改造"，然后反复众人皆知了。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-206">(That is, the configuration for a test is stored in a configuration file, which is typically an XML file.) Using a good test framework enables you to develop a full functional test suite in an agile and reliable manner and avoids having to “reinvent the wheel” over and over, so to speak.</span></span>  
  
## <a name="msbuild-support-for-biztalk-server-projects"></a><span data-ttu-id="2fb7d-207">对 BizTalk Server 项目的 MSBUILD 支持</span><span class="sxs-lookup"><span data-stu-id="2fb7d-207">MSBUILD support for BizTalk Server projects</span></span>  
 <span data-ttu-id="2fb7d-208">BizTalk Server 的 Microsoft 生成引擎 (MSBUILD) 平台，其中可容纳在未安装 Visual Studio 的生成实验室环境中托管项目的生成提供支持。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-208">BizTalk Server provides support for the Microsoft Build Engine (MSBUILD) platform, which accommodates the building of managed projects in build lab environments where Visual Studio is not installed.</span></span> <span data-ttu-id="2fb7d-209">MSBUILD 适合于从命令行和高级的功能包括日志记录和批处理的 MSBUILD 生成项目。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-209">MSBUILD accommodates building projects from a command line and advanced functionality including MSBUILD logging and batching.</span></span> <span data-ttu-id="2fb7d-210">有关 MSBUILD 的详细信息，请参阅[MSBuild 概述](http://go.microsoft.com/fwlink/?LinkId=131739)(http://go.microsoft.com/fwlink/?LinkId=131739)。</span><span class="sxs-lookup"><span data-stu-id="2fb7d-210">For more information about MSBUILD, see [MSBuild Overview](http://go.microsoft.com/fwlink/?LinkId=131739) (http://go.microsoft.com/fwlink/?LinkId=131739).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2fb7d-211">请参阅</span><span class="sxs-lookup"><span data-stu-id="2fb7d-211">See Also</span></span>  
 [<span data-ttu-id="2fb7d-212">实现自动测试</span><span class="sxs-lookup"><span data-stu-id="2fb7d-212">Implementing Automated Testing</span></span>](../technical-guides/implementing-automated-testing.md)