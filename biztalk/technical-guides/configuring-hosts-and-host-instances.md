---
title: 配置主机和主机实例 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: a36a73a4-cc5f-47d6-b56f-7871684c4489
caps.latest.revision: 2
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 286bdaaff66cf0b85caa3bb169bb506501ff386f
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/27/2018
ms.locfileid: "36968998"
---
# <a name="configuring-hosts-and-host-instances"></a><span data-ttu-id="a6339-102">配置主机和主机实例</span><span class="sxs-lookup"><span data-stu-id="a6339-102">Configuring Hosts and Host Instances</span></span>
<span data-ttu-id="a6339-103">BizTalk 主机表示的零个或多个运行时进程在其中可以部署一组逻辑[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]服务和项目 （例如适配器处理程序接收位置和业务流程）。</span><span class="sxs-lookup"><span data-stu-id="a6339-103">A BizTalk Host represents a logical set of zero or more run-time processes in which you can deploy [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] services and artifacts (such as adapter handlers, receive locations, and orchestrations).</span></span> <span data-ttu-id="a6339-104">主机实例是运行的计算机上的主机的物理实例[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="a6339-104">A host instance is the physical instance of a host on a computer running [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="a6339-105">有关 BizTalk 主机和主机实例的详细信息，请参阅[主机](http://go.microsoft.com/fwlink/?LinkId=154189)(<http://go.microsoft.com/fwlink/?LinkId=154189>) 和[主机实例](http://go.microsoft.com/fwlink/?LinkId=154190)(<http://go.microsoft.com/fwlink/?LinkId=154190>)。</span><span class="sxs-lookup"><span data-stu-id="a6339-105">For more information about BizTalk Hosts and host instances, see [Hosts](http://go.microsoft.com/fwlink/?LinkId=154189) (<http://go.microsoft.com/fwlink/?LinkId=154189>) and [Host Instances](http://go.microsoft.com/fwlink/?LinkId=154190) (<http://go.microsoft.com/fwlink/?LinkId=154190>).</span></span>  
  
 <span data-ttu-id="a6339-106">有关管理 BizTalk 主机和主机实例的详细信息，请参阅[管理 BizTalk 主机和主机实例](http://go.microsoft.com/fwlink/?LinkId=154191)(http://go.microsoft.com/fwlink/?LinkId=154191)。</span><span class="sxs-lookup"><span data-stu-id="a6339-106">For more information about managing BizTalk Hosts and host instances, see [Managing BizTalk Hosts and Host Instances](http://go.microsoft.com/fwlink/?LinkId=154191) (http://go.microsoft.com/fwlink/?LinkId=154191).</span></span>  
  
 <span data-ttu-id="a6339-107">有关如何配置专用的跟踪主机的信息，请参阅[配置专用跟踪主机](../technical-guides/configuring-a-dedicated-tracking-host.md)。</span><span class="sxs-lookup"><span data-stu-id="a6339-107">For information about how to configure a dedicated tracking host, see [Configuring a Dedicated Tracking Host](../technical-guides/configuring-a-dedicated-tracking-host.md).</span></span>  
  
## <a name="separating-host-instances-by-functionality"></a><span data-ttu-id="a6339-108">分隔主机实例的功能</span><span class="sxs-lookup"><span data-stu-id="a6339-108">Separating Host Instances by Functionality</span></span>  
 <span data-ttu-id="a6339-109">除了主机实例配置的高可用性方面，您应单独的发送、 接收、 处理和跟踪到多个主机的功能。</span><span class="sxs-lookup"><span data-stu-id="a6339-109">In addition to the high availability aspects of the host instance configuration, you should separate sending, receiving, processing, and tracking functionality into multiple hosts.</span></span> <span data-ttu-id="a6339-110">这提供了灵活性，在你的 BizTalk 组中配置工作负荷时，将处理分散 BizTalk 组的主要方式。</span><span class="sxs-lookup"><span data-stu-id="a6339-110">This provides flexibility when configuring the workload in your BizTalk group and is the primary means of distributing processing across a BizTalk group.</span></span> <span data-ttu-id="a6339-111">这还允许您停止一个主机，而不会影响其他主机。</span><span class="sxs-lookup"><span data-stu-id="a6339-111">This also allows you to stop one host without affecting other hosts.</span></span> <span data-ttu-id="a6339-112">例如，可能想要停止发送消息，以让他们队列在 MessageBox 数据库中，同时仍允许入站的接收的消息出现。</span><span class="sxs-lookup"><span data-stu-id="a6339-112">For example, you may want to stop sending messages to let them queue up in the MessageBox database, while still allowing the inbound receiving of messages to occur.</span></span>  
  
 <span data-ttu-id="a6339-113">主机实例分隔功能还提供以下优势：</span><span class="sxs-lookup"><span data-stu-id="a6339-113">Separating host instances by functionality also provides the following benefits:</span></span>  
  
- <span data-ttu-id="a6339-114">每个主机实例中的.NET 线程池具有其自己的内存、 句柄和线程等资源集。</span><span class="sxs-lookup"><span data-stu-id="a6339-114">Each host instance has its own set of resources such as memory, handles, and threads in the .NET thread pool.</span></span>  
  
- <span data-ttu-id="a6339-115">由于每个主机分配的 MessageBox 数据库中其自己的工作队列表，多个 BizTalk 主机还会减少 MessageBox 数据库主机队列表上的争用。</span><span class="sxs-lookup"><span data-stu-id="a6339-115">Multiple BizTalk Hosts will also reduce contention on the MessageBox database host queue tables since each host is assigned its own work queue tables in the MessageBox database.</span></span>  
  
- <span data-ttu-id="a6339-116">限制中实现[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]主机级别。</span><span class="sxs-lookup"><span data-stu-id="a6339-116">Throttling is implemented in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] at the host level.</span></span> <span data-ttu-id="a6339-117">这允许您设置的每个主机的不同限制的特征。</span><span class="sxs-lookup"><span data-stu-id="a6339-117">This allows you to set different throttling characteristics for each host.</span></span>  
  
- <span data-ttu-id="a6339-118">在主机级别，则实现安全每个主机在离散的 Windows 标识下运行。</span><span class="sxs-lookup"><span data-stu-id="a6339-118">Security is implemented at the host level; each host runs under a discrete Windows identity.</span></span> <span data-ttu-id="a6339-119">这将允许您，例如，若要为提供**Host_A**访问权限**FileShare_B**，同时不允许任何其他主机访问文件共享。</span><span class="sxs-lookup"><span data-stu-id="a6339-119">This would allow you, for example, to give **Host_A** access to **FileShare_B**, while not allowing any of the other hosts to access the file share.</span></span>  
  
  > [!NOTE]  
  >  <span data-ttu-id="a6339-120">虽然有与创建其他主机实例的优点，也有潜在的缺点如果创建了太多主机实例。</span><span class="sxs-lookup"><span data-stu-id="a6339-120">While there are benefits to creating additional host instances, there are also potential drawbacks if too many host instances are created.</span></span> <span data-ttu-id="a6339-121">每个主机实例是一个 Windows 服务 （BTSNTSvc.exe 或 BTSNTSvc64.exe），它可生成针对 MessageBox 数据库的更多负载，会占用计算机资源 （如 CPU、 内存、 线程)。</span><span class="sxs-lookup"><span data-stu-id="a6339-121">Each host instance is a Windows service (BTSNTSvc.exe or BTSNTSvc64.exe), which generates additional load against the MessageBox database and consumes computer resources (such as CPU, memory, threads).</span></span>  
  
  <span data-ttu-id="a6339-122">有关修改的详细信息[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]主机属性，请参阅[如何修改主机属性](http://go.microsoft.com/fwlink/?LinkId=154192)(<http://go.microsoft.com/fwlink/?LinkId=154192>)。</span><span class="sxs-lookup"><span data-stu-id="a6339-122">For more information about modifying [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Host properties, see [How to Modify Host Properties](http://go.microsoft.com/fwlink/?LinkId=154192) (<http://go.microsoft.com/fwlink/?LinkId=154192>).</span></span>  
  
##  <a name="BKMK_MemLimit"></a> <span data-ttu-id="a6339-123">32 位 BizTalk 主机实例的内存使用率的最大实际限制</span><span class="sxs-lookup"><span data-stu-id="a6339-123">Maximum Practical Limits of Memory Usage of a 32-bit BizTalk Host Instance</span></span>  
 <span data-ttu-id="a6339-124">使用 3 GB，集的 32 位 Windows 操作系统上的 32 位进程具有 3 个千兆字节 (GB) 的可寻址内存，如果过程"大地址注意"（即，可执行文件有映像标头中设置的 IMAGE_FILE_LARGE_ADDRESS_AWARE 标志）。</span><span class="sxs-lookup"><span data-stu-id="a6339-124">32-bit processes on 32-bit Windows operating system with /3GB set have 3 gigabytes (GB) of addressable memory if the process is "large address aware" (that is, the executable has the IMAGE_FILE_LARGE_ADDRESS_AWARE flag set in the image header).</span></span>  <span data-ttu-id="a6339-125">BizTalk 主机进程中，在"识别大地址"，可以寻址 3 GB 的内存使用 3 GB，组的 Windows 操作系统上。</span><span class="sxs-lookup"><span data-stu-id="a6339-125">The BizTalk host process, being "large address aware", can address 3 GB of memory on Windows operating system with /3GB set.</span></span>  <span data-ttu-id="a6339-126">同样，在 64 位 Windows 操作系统 (AMD64) 上的 32 位进程具有 4GB 可寻址内存，如果进程"注意大地址"。</span><span class="sxs-lookup"><span data-stu-id="a6339-126">Similarly, 32-bit processes on 64-bit Windows operating system (AMD64) have 4 GB of addressable memory, if the process is "large address aware".</span></span>  <span data-ttu-id="a6339-127">同样，BizTalk 主机进程中，"注意大地址"，可以解决 4 GB 的内存在 64 位 Windows 操作系统上作为 32 位进程运行时。</span><span class="sxs-lookup"><span data-stu-id="a6339-127">Again, the BizTalk host process, being "large address aware", can address 4 GB of memory when running as a 32-bit process on 64-bit Windows operating system.</span></span> <span data-ttu-id="a6339-128">在 64 位 Windows 操作系统 (AMD64) 上的 64 位进程具有 8tb 的可寻址内存。</span><span class="sxs-lookup"><span data-stu-id="a6339-128">64-bit processes on 64-bit Windows operating system (AMD64) have 8 terabytes of addressable memory.</span></span>  
  
 <span data-ttu-id="a6339-129">即使可寻址的 32 位 Windows 操作系统 （不带 /3GB 开关） 上的进程的最大内存是 2 GB，也是如此 （如 BizTalk 主机实例） 的.NET 应用程序将收到内存不足错误之前的"虚拟字节"达到 2 GB。</span><span class="sxs-lookup"><span data-stu-id="a6339-129">Even though the maximum memory addressable by a process on a 32-bit Windows operating system (without the /3GB switch) is 2 GB, a .NET application (such as a BizTalk host instance) will receive out of memory errors before the "virtual bytes" reaches 2 GB.</span></span> <span data-ttu-id="a6339-130">下表概述了这些不同，并包括虚拟字节和专用字节为单位的实际限制。</span><span class="sxs-lookup"><span data-stu-id="a6339-130">The table below summarizes this and includes the practical limits for virtual bytes and private bytes.</span></span>  
  
|<span data-ttu-id="a6339-131">处理</span><span class="sxs-lookup"><span data-stu-id="a6339-131">Process</span></span>|<span data-ttu-id="a6339-132">Windows OS</span><span class="sxs-lookup"><span data-stu-id="a6339-132">Windows OS</span></span>|<span data-ttu-id="a6339-133">（使用一个大型地址识别的过程） 的可寻址内存</span><span class="sxs-lookup"><span data-stu-id="a6339-133">Addressable Memory (with a Large Address Aware process)</span></span>|<span data-ttu-id="a6339-134">虚拟字节、 可行限制</span><span class="sxs-lookup"><span data-stu-id="a6339-134">Practical Limit for Virtual Bytes</span></span>|<span data-ttu-id="a6339-135">PrivateBytes、 可行限制</span><span class="sxs-lookup"><span data-stu-id="a6339-135">Practical Limit for PrivateBytes</span></span>|  
|-------------|----------------|---------------------------------------------------------------|---------------------------------------|--------------------------------------|  
|<span data-ttu-id="a6339-136">32 位</span><span class="sxs-lookup"><span data-stu-id="a6339-136">32-bit</span></span>|<span data-ttu-id="a6339-137">32 位</span><span class="sxs-lookup"><span data-stu-id="a6339-137">32-bit</span></span>|<span data-ttu-id="a6339-138">2 GB</span><span class="sxs-lookup"><span data-stu-id="a6339-138">2 GB</span></span>|<span data-ttu-id="a6339-139">1400 MB</span><span class="sxs-lookup"><span data-stu-id="a6339-139">1400 MB</span></span>|<span data-ttu-id="a6339-140">800 MB</span><span class="sxs-lookup"><span data-stu-id="a6339-140">800 MB</span></span>|  
|<span data-ttu-id="a6339-141">32 位</span><span class="sxs-lookup"><span data-stu-id="a6339-141">32-bit</span></span>|<span data-ttu-id="a6339-142">使用 3 GB 的 32 位</span><span class="sxs-lookup"><span data-stu-id="a6339-142">32-bit with /3GB</span></span>|<span data-ttu-id="a6339-143">3 GB</span><span class="sxs-lookup"><span data-stu-id="a6339-143">3 GB</span></span>|<span data-ttu-id="a6339-144">2400 MB</span><span class="sxs-lookup"><span data-stu-id="a6339-144">2400 MB</span></span>|<span data-ttu-id="a6339-145">1800 MB</span><span class="sxs-lookup"><span data-stu-id="a6339-145">1800 MB</span></span>|  
|<span data-ttu-id="a6339-146">32 位</span><span class="sxs-lookup"><span data-stu-id="a6339-146">32-bit</span></span>|<span data-ttu-id="a6339-147">64 位</span><span class="sxs-lookup"><span data-stu-id="a6339-147">64-bit</span></span>|<span data-ttu-id="a6339-148">4 GB</span><span class="sxs-lookup"><span data-stu-id="a6339-148">4 GB</span></span>|<span data-ttu-id="a6339-149">3400 MB</span><span class="sxs-lookup"><span data-stu-id="a6339-149">3400 MB</span></span>|<span data-ttu-id="a6339-150">2800 MB</span><span class="sxs-lookup"><span data-stu-id="a6339-150">2800 MB</span></span>|  
|<span data-ttu-id="a6339-151">64 位</span><span class="sxs-lookup"><span data-stu-id="a6339-151">64-bit</span></span>|<span data-ttu-id="a6339-152">64 位</span><span class="sxs-lookup"><span data-stu-id="a6339-152">64-bit</span></span>|<span data-ttu-id="a6339-153">8 千吉字节</span><span class="sxs-lookup"><span data-stu-id="a6339-153">8 terabytes</span></span>|-|-|  
  
 <span data-ttu-id="a6339-154">有关详细信息，请参阅：</span><span class="sxs-lookup"><span data-stu-id="a6339-154">For more information, see:</span></span>  
  
-   <span data-ttu-id="a6339-155">[ASP.NET 性能监视及何时更换管理员](http://go.microsoft.com/fwlink/?LinkId=151856)(http://go.microsoft.com/fwlink/?LinkId=151856)</span><span class="sxs-lookup"><span data-stu-id="a6339-155">[ASP.NET Performance Monitoring, and When to Alert Administrators](http://go.microsoft.com/fwlink/?LinkId=151856) (http://go.microsoft.com/fwlink/?LinkId=151856)</span></span>  
  
-   <span data-ttu-id="a6339-156">[Windows 版本的内存限制](http://go.microsoft.com/fwlink/?LinkId=151857)(http://go.microsoft.com/fwlink/?LinkId=151857)</span><span class="sxs-lookup"><span data-stu-id="a6339-156">[Memory Limits for Windows Releases](http://go.microsoft.com/fwlink/?LinkId=151857) (http://go.microsoft.com/fwlink/?LinkId=151857)</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a6339-157">请参阅</span><span class="sxs-lookup"><span data-stu-id="a6339-157">See Also</span></span>  
 <span data-ttu-id="a6339-158">[清单： 配置 BizTalk Server](../technical-guides/checklist-configuring-biztalk-server.md) </span><span class="sxs-lookup"><span data-stu-id="a6339-158">[Checklist: Configuring BizTalk Server](../technical-guides/checklist-configuring-biztalk-server.md) </span></span>  
 [<span data-ttu-id="a6339-159">配置专用跟踪主机</span><span class="sxs-lookup"><span data-stu-id="a6339-159">Configuring a Dedicated Tracking Host</span></span>](../technical-guides/configuring-a-dedicated-tracking-host.md)