---
title: "配置主机和主机实例 |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: a36a73a4-cc5f-47d6-b56f-7871684c4489
caps.latest.revision: "2"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 55dda06d447d9e27c7c8b491986b499003c0bb73
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
---
# <a name="configuring-hosts-and-host-instances"></a><span data-ttu-id="6c896-102">配置主机和主机实例</span><span class="sxs-lookup"><span data-stu-id="6c896-102">Configuring Hosts and Host Instances</span></span>
<span data-ttu-id="6c896-103">BizTalk 主机表示的零个或多个运行时进程，在其中你可以将部署的逻辑组[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]服务和项目 （如适配器处理程序接收位置和业务流程）。</span><span class="sxs-lookup"><span data-stu-id="6c896-103">A BizTalk Host represents a logical set of zero or more run-time processes in which you can deploy [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] services and artifacts (such as adapter handlers, receive locations, and orchestrations).</span></span> <span data-ttu-id="6c896-104">主机实例是运行的计算机上的主机的物理实例[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="6c896-104">A host instance is the physical instance of a host on a computer running [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="6c896-105">有关 BizTalk 主机和主机实例的详细信息，请参阅[主机](http://go.microsoft.com/fwlink/?LinkId=154189)(http://go.microsoft.com/fwlink/?LinkId=154189) 和[主机实例](http://go.microsoft.com/fwlink/?LinkId=154190)(http://go.microsoft.com/fwlink/?LinkId=154190)。</span><span class="sxs-lookup"><span data-stu-id="6c896-105">For more information about BizTalk Hosts and host instances, see [Hosts](http://go.microsoft.com/fwlink/?LinkId=154189) (http://go.microsoft.com/fwlink/?LinkId=154189) and [Host Instances](http://go.microsoft.com/fwlink/?LinkId=154190) (http://go.microsoft.com/fwlink/?LinkId=154190).</span></span>  
  
 <span data-ttu-id="6c896-106">有关管理 BizTalk 主机和主机实例的详细信息，请参阅[管理 BizTalk 主机和主机实例](http://go.microsoft.com/fwlink/?LinkId=154191)(http://go.microsoft.com/fwlink/?LinkId=154191)。</span><span class="sxs-lookup"><span data-stu-id="6c896-106">For more information about managing BizTalk Hosts and host instances, see [Managing BizTalk Hosts and Host Instances](http://go.microsoft.com/fwlink/?LinkId=154191) (http://go.microsoft.com/fwlink/?LinkId=154191).</span></span>  
  
 <span data-ttu-id="6c896-107">有关如何配置专用的跟踪主机的信息，请参阅[配置专用的跟踪主机](../technical-guides/configuring-a-dedicated-tracking-host.md)。</span><span class="sxs-lookup"><span data-stu-id="6c896-107">For information about how to configure a dedicated tracking host, see [Configuring a Dedicated Tracking Host](../technical-guides/configuring-a-dedicated-tracking-host.md).</span></span>  
  
## <a name="separating-host-instances-by-functionality"></a><span data-ttu-id="6c896-108">分隔按功能的主机实例</span><span class="sxs-lookup"><span data-stu-id="6c896-108">Separating Host Instances by Functionality</span></span>  
 <span data-ttu-id="6c896-109">除了主机实例配置的高可用性方面，你应该将发送、 接收、 处理和跟踪到多个主机的功能。</span><span class="sxs-lookup"><span data-stu-id="6c896-109">In addition to the high availability aspects of the host instance configuration, you should separate sending, receiving, processing, and tracking functionality into multiple hosts.</span></span> <span data-ttu-id="6c896-110">这提供了灵活性，在你的 BizTalk 组中配置工作负荷时，将处理分散 BizTalk 组的主要方式。</span><span class="sxs-lookup"><span data-stu-id="6c896-110">This provides flexibility when configuring the workload in your BizTalk group and is the primary means of distributing processing across a BizTalk group.</span></span> <span data-ttu-id="6c896-111">这还允许您停止一台主机，而不影响其他主机。</span><span class="sxs-lookup"><span data-stu-id="6c896-111">This also allows you to stop one host without affecting other hosts.</span></span> <span data-ttu-id="6c896-112">例如，你可能想要停止发送消息，告知对方队列在 MessageBox 数据库中，同时仍允许入站的接收的消息发生。</span><span class="sxs-lookup"><span data-stu-id="6c896-112">For example, you may want to stop sending messages to let them queue up in the MessageBox database, while still allowing the inbound receiving of messages to occur.</span></span>  
  
 <span data-ttu-id="6c896-113">将主机实例分离的功能还提供以下好处：</span><span class="sxs-lookup"><span data-stu-id="6c896-113">Separating host instances by functionality also provides the following benefits:</span></span>  
  
-   <span data-ttu-id="6c896-114">每个主机实例中.NET 线程池具有其自己的内存、 句柄和线程等资源集。</span><span class="sxs-lookup"><span data-stu-id="6c896-114">Each host instance has its own set of resources such as memory, handles, and threads in the .NET thread pool.</span></span>  
  
-   <span data-ttu-id="6c896-115">多个 BizTalk 主机也将减少 MessageBox 数据库主机队列表上的争用，因为每个主机分配其自己的 MessageBox 数据库中的工作队列表。</span><span class="sxs-lookup"><span data-stu-id="6c896-115">Multiple BizTalk Hosts will also reduce contention on the MessageBox database host queue tables since each host is assigned its own work queue tables in the MessageBox database.</span></span>  
  
-   <span data-ttu-id="6c896-116">限制中实现[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]主机级别。</span><span class="sxs-lookup"><span data-stu-id="6c896-116">Throttling is implemented in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] at the host level.</span></span> <span data-ttu-id="6c896-117">这可以为每个主机设置不同的限制特征。</span><span class="sxs-lookup"><span data-stu-id="6c896-117">This allows you to set different throttling characteristics for each host.</span></span>  
  
-   <span data-ttu-id="6c896-118">在主机级别; 实现安全性每个主机将离散的 Windows 标识下运行。</span><span class="sxs-lookup"><span data-stu-id="6c896-118">Security is implemented at the host level; each host runs under a discrete Windows identity.</span></span> <span data-ttu-id="6c896-119">这将允许您，例如，以便**Host_A**访问**FileShare_B**，同时不允许任何其他主机，以访问文件共享。</span><span class="sxs-lookup"><span data-stu-id="6c896-119">This would allow you, for example, to give **Host_A** access to **FileShare_B**, while not allowing any of the other hosts to access the file share.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="6c896-120">尽管为创建额外的主机实例带来的好处，还有潜在缺点如果创建过多的主机实例。</span><span class="sxs-lookup"><span data-stu-id="6c896-120">While there are benefits to creating additional host instances, there are also potential drawbacks if too many host instances are created.</span></span> <span data-ttu-id="6c896-121">每个主机实例是一个 Windows 服务 （BTSNTSvc.exe 或 BTSNTSvc64.exe），它生成额外的负载，针对 MessageBox 数据库，并会占用计算机资源 （如 CPU、 内存、 线程)。</span><span class="sxs-lookup"><span data-stu-id="6c896-121">Each host instance is a Windows service (BTSNTSvc.exe or BTSNTSvc64.exe), which generates additional load against the MessageBox database and consumes computer resources (such as CPU, memory, threads).</span></span>  
  
 <span data-ttu-id="6c896-122">有关修改[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]主机属性，请参阅[如何修改主机属性](http://go.microsoft.com/fwlink/?LinkId=154192)(http://go.microsoft.com/fwlink/?LinkId=154192)。</span><span class="sxs-lookup"><span data-stu-id="6c896-122">For more information about modifying [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Host properties, see [How to Modify Host Properties](http://go.microsoft.com/fwlink/?LinkId=154192) (http://go.microsoft.com/fwlink/?LinkId=154192).</span></span>  
  
##  <a name="BKMK_MemLimit"></a><span data-ttu-id="6c896-123">最大的实际的 32 位 BizTalk 主机实例的内存使用量限制</span><span class="sxs-lookup"><span data-stu-id="6c896-123">Maximum Practical Limits of Memory Usage of a 32-bit BizTalk Host Instance</span></span>  
 <span data-ttu-id="6c896-124">在使用 3 GB 集的 32 位 Windows 操作系统上的 32 位进程具有 3 千兆字节 (GB) 的可寻址的内存，如果进程"大的地址感知"（即，可执行文件具有映像标头中设置的 IMAGE_FILE_LARGE_ADDRESS_AWARE 标志）。</span><span class="sxs-lookup"><span data-stu-id="6c896-124">32-bit processes on 32-bit Windows operating system with /3GB set have 3 gigabytes (GB) of addressable memory if the process is "large address aware" (that is, the executable has the IMAGE_FILE_LARGE_ADDRESS_AWARE flag set in the image header).</span></span>  <span data-ttu-id="6c896-125">BizTalk 主机过程中，"感知大地址"，可以处理 3 GB 的内存使用 3 GB 组的 Windows 操作系统上。</span><span class="sxs-lookup"><span data-stu-id="6c896-125">The BizTalk host process, being "large address aware", can address 3 GB of memory on Windows operating system with /3GB set.</span></span>  <span data-ttu-id="6c896-126">同样，在 64 位 Windows 操作系统 (AMD64) 上的 32 位进程具有 4 GB 的内存，如果进程"大的地址感知"。</span><span class="sxs-lookup"><span data-stu-id="6c896-126">Similarly, 32-bit processes on 64-bit Windows operating system (AMD64) have 4 GB of addressable memory, if the process is "large address aware".</span></span>  <span data-ttu-id="6c896-127">同样，BizTalk 主机过程中，"感知大地址"，可以解决 4 GB 的内存在 64 位 Windows 操作系统上作为 32 位进程运行时。</span><span class="sxs-lookup"><span data-stu-id="6c896-127">Again, the BizTalk host process, being "large address aware", can address 4 GB of memory when running as a 32-bit process on 64-bit Windows operating system.</span></span> <span data-ttu-id="6c896-128">在 64 位 Windows 操作系统 (AMD64) 上的 64 位进程具有 8 千吉字节的可寻址的内存。</span><span class="sxs-lookup"><span data-stu-id="6c896-128">64-bit processes on 64-bit Windows operating system (AMD64) have 8 terabytes of addressable memory.</span></span>  
  
 <span data-ttu-id="6c896-129">即使可寻址 （不带 /3GB 开关） 32 位 Windows 操作系统上某个进程的最大内存是 2 GB，在"虚拟字节"到达 2 GB 之前将收到的.NET 应用程序 （例如 BizTalk 主机实例），内存不足错误。</span><span class="sxs-lookup"><span data-stu-id="6c896-129">Even though the maximum memory addressable by a process on a 32-bit Windows operating system (without the /3GB switch) is 2 GB, a .NET application (such as a BizTalk host instance) will receive out of memory errors before the "virtual bytes" reaches 2 GB.</span></span> <span data-ttu-id="6c896-130">下表概述了这些不同，并包括虚拟字节和专用字节的实际限制。</span><span class="sxs-lookup"><span data-stu-id="6c896-130">The table below summarizes this and includes the practical limits for virtual bytes and private bytes.</span></span>  
  
|<span data-ttu-id="6c896-131">处理</span><span class="sxs-lookup"><span data-stu-id="6c896-131">Process</span></span>|<span data-ttu-id="6c896-132">Windows 操作系统</span><span class="sxs-lookup"><span data-stu-id="6c896-132">Windows OS</span></span>|<span data-ttu-id="6c896-133">（使用大型地址感知进程） 的可寻址内存</span><span class="sxs-lookup"><span data-stu-id="6c896-133">Addressable Memory (with a Large Address Aware process)</span></span>|<span data-ttu-id="6c896-134">虚拟字节、 可行限制</span><span class="sxs-lookup"><span data-stu-id="6c896-134">Practical Limit for Virtual Bytes</span></span>|<span data-ttu-id="6c896-135">PrivateBytes、 可行限制</span><span class="sxs-lookup"><span data-stu-id="6c896-135">Practical Limit for PrivateBytes</span></span>|  
|-------------|----------------|---------------------------------------------------------------|---------------------------------------|--------------------------------------|  
|<span data-ttu-id="6c896-136">32 位</span><span class="sxs-lookup"><span data-stu-id="6c896-136">32-bit</span></span>|<span data-ttu-id="6c896-137">32 位</span><span class="sxs-lookup"><span data-stu-id="6c896-137">32-bit</span></span>|<span data-ttu-id="6c896-138">2 GB</span><span class="sxs-lookup"><span data-stu-id="6c896-138">2 GB</span></span>|<span data-ttu-id="6c896-139">1400 MB</span><span class="sxs-lookup"><span data-stu-id="6c896-139">1400 MB</span></span>|<span data-ttu-id="6c896-140">800 MB</span><span class="sxs-lookup"><span data-stu-id="6c896-140">800 MB</span></span>|  
|<span data-ttu-id="6c896-141">32 位</span><span class="sxs-lookup"><span data-stu-id="6c896-141">32-bit</span></span>|<span data-ttu-id="6c896-142">32 位有 3 GB</span><span class="sxs-lookup"><span data-stu-id="6c896-142">32-bit with /3GB</span></span>|<span data-ttu-id="6c896-143">3 GB</span><span class="sxs-lookup"><span data-stu-id="6c896-143">3 GB</span></span>|<span data-ttu-id="6c896-144">2400 MB</span><span class="sxs-lookup"><span data-stu-id="6c896-144">2400 MB</span></span>|<span data-ttu-id="6c896-145">1800 MB</span><span class="sxs-lookup"><span data-stu-id="6c896-145">1800 MB</span></span>|  
|<span data-ttu-id="6c896-146">32 位</span><span class="sxs-lookup"><span data-stu-id="6c896-146">32-bit</span></span>|<span data-ttu-id="6c896-147">64 位</span><span class="sxs-lookup"><span data-stu-id="6c896-147">64-bit</span></span>|<span data-ttu-id="6c896-148">4 GB</span><span class="sxs-lookup"><span data-stu-id="6c896-148">4 GB</span></span>|<span data-ttu-id="6c896-149">3400 MB</span><span class="sxs-lookup"><span data-stu-id="6c896-149">3400 MB</span></span>|<span data-ttu-id="6c896-150">2800 MB</span><span class="sxs-lookup"><span data-stu-id="6c896-150">2800 MB</span></span>|  
|<span data-ttu-id="6c896-151">64 位</span><span class="sxs-lookup"><span data-stu-id="6c896-151">64-bit</span></span>|<span data-ttu-id="6c896-152">64 位</span><span class="sxs-lookup"><span data-stu-id="6c896-152">64-bit</span></span>|<span data-ttu-id="6c896-153">8 千吉字节</span><span class="sxs-lookup"><span data-stu-id="6c896-153">8 terabytes</span></span>|-|-|  
  
 <span data-ttu-id="6c896-154">有关详细信息，请参阅：</span><span class="sxs-lookup"><span data-stu-id="6c896-154">For more information, see:</span></span>  
  
-   <span data-ttu-id="6c896-155">[ASP.NET 性能监视，以及何时向管理员发出警报](http://go.microsoft.com/fwlink/?LinkId=151856)(http://go.microsoft.com/fwlink/?LinkId=151856)</span><span class="sxs-lookup"><span data-stu-id="6c896-155">[ASP.NET Performance Monitoring, and When to Alert Administrators](http://go.microsoft.com/fwlink/?LinkId=151856) (http://go.microsoft.com/fwlink/?LinkId=151856)</span></span>  
  
-   <span data-ttu-id="6c896-156">[Windows 版本的内存限制](http://go.microsoft.com/fwlink/?LinkId=151857)(http://go.microsoft.com/fwlink/?LinkId=151857)</span><span class="sxs-lookup"><span data-stu-id="6c896-156">[Memory Limits for Windows Releases](http://go.microsoft.com/fwlink/?LinkId=151857) (http://go.microsoft.com/fwlink/?LinkId=151857)</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6c896-157">另请参阅</span><span class="sxs-lookup"><span data-stu-id="6c896-157">See Also</span></span>  
 <span data-ttu-id="6c896-158">[清单： 配置 BizTalk Server](../technical-guides/checklist-configuring-biztalk-server.md) </span><span class="sxs-lookup"><span data-stu-id="6c896-158">[Checklist: Configuring BizTalk Server](../technical-guides/checklist-configuring-biztalk-server.md) </span></span>  
 [<span data-ttu-id="6c896-159">配置专用的跟踪主机</span><span class="sxs-lookup"><span data-stu-id="6c896-159">Configuring a Dedicated Tracking Host</span></span>](../technical-guides/configuring-a-dedicated-tracking-host.md)