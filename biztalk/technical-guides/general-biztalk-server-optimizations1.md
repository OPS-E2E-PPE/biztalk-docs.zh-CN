---
title: 常规 BizTalk Server Optimizations1 |Microsoft 文档
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: e8032553-bae3-440d-9197-b926160b0bdf
caps.latest.revision: 28
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 2e9e799822c63cb78eda1b989cb157c71fd357d8
ms.sourcegitcommit: 3fd1c85d9dc2ce7b77da75a5c2087cc48cfcbe50
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/17/2018
ms.locfileid: "25976787"
---
# <a name="general-biztalk-server-optimizations"></a><span data-ttu-id="aefac-102">一般 BizTalk Server 优化</span><span class="sxs-lookup"><span data-stu-id="aefac-102">General BizTalk Server Optimizations</span></span>
<span data-ttu-id="aefac-103">可以使用以下建议以提高 BizTalk Server 性能。</span><span class="sxs-lookup"><span data-stu-id="aefac-103">The following recommendations can be used to increase BizTalk Server performance.</span></span> <span data-ttu-id="aefac-104">安装并配置 BizTalk Server 之后，将应用本主题中列出的优化。</span><span class="sxs-lookup"><span data-stu-id="aefac-104">The optimizations listed in this topic are applied after BizTalk Server has been installed and configured.</span></span>  
  
## <a name="configure-msdtc"></a><span data-ttu-id="aefac-105">配置 MSDTC</span><span class="sxs-lookup"><span data-stu-id="aefac-105">Configure MSDTC</span></span>  
 <span data-ttu-id="aefac-106">若要简化 SQL Server 和 BizTalk Server 之间的事务，必须启用 Microsoft 分布式事务处理协调器 (MS DTC)。</span><span class="sxs-lookup"><span data-stu-id="aefac-106">To facilitate transactions between SQL Server and BizTalk Server, you must enable Microsoft Distributed Transaction Coordinator (MS DTC).</span></span> <span data-ttu-id="aefac-107">若要配置 BizTalk Server 上的 MSDTC，请参阅主题[提高操作系统性能的一般准则](../technical-guides/general-guidelines-for-improving-operating-system-performance.md)。</span><span class="sxs-lookup"><span data-stu-id="aefac-107">To configure MSDTC on BizTalk Server, see the topic [General Guidelines for Improving Operating System Performance](../technical-guides/general-guidelines-for-improving-operating-system-performance.md).</span></span>  
  
## <a name="recommendations-for-configuring-biztalk-server-hosts"></a><span data-ttu-id="aefac-108">配置 BizTalk Server 主机的建议</span><span class="sxs-lookup"><span data-stu-id="aefac-108">Recommendations for configuring BizTalk Server hosts</span></span>  
 <span data-ttu-id="aefac-109">本部分提供配置 BizTalk Server 主机的建议。</span><span class="sxs-lookup"><span data-stu-id="aefac-109">This section provides recommendations for configuring BizTalk Server hosts.</span></span>  
  
### <a name="create-multiple-biztalk-server-hosts-and-separate-host-instances-by-functionality"></a><span data-ttu-id="aefac-110">按功能创建多个 BizTalk Server 主机和单独的主机实例</span><span class="sxs-lookup"><span data-stu-id="aefac-110">Create multiple BizTalk Server hosts and separate host instances by functionality</span></span>  
 <span data-ttu-id="aefac-111">请遵循以下准则来创建多个 BizTalk Server 主机和跨这些主机分配工作负荷：</span><span class="sxs-lookup"><span data-stu-id="aefac-111">Follow these guidelines to create multiple BizTalk Server hosts and allocate workload across those hosts:</span></span>  
  
-   <span data-ttu-id="aefac-112">为发送、 接收、 处理和跟踪功能创建单独的主机。</span><span class="sxs-lookup"><span data-stu-id="aefac-112">Create separate hosts for sending, receiving, processing, and tracking functionality.</span></span> <span data-ttu-id="aefac-113">创建多个 BizTalk 主机提供灵活性，在你的 BizTalk 组中配置工作负荷时，并且不在 BizTalk 组中运行 BizTalk Server 的计算机之间分布处理的主要方式。</span><span class="sxs-lookup"><span data-stu-id="aefac-113">Creating multiple BizTalk hosts provides flexibility when configuring the workload in your BizTalk group and is the primary means of distributing processing across the computers running BizTalk Server in a BizTalk group.</span></span> <span data-ttu-id="aefac-114">使用多个主机允许一台主机停止而不会影响其他主机。</span><span class="sxs-lookup"><span data-stu-id="aefac-114">Using multiple hosts allows you to stop one host without affecting other hosts.</span></span> <span data-ttu-id="aefac-115">例如，你可能想要停止发送消息，告知对方队列 MessageBox 数据库中同时仍然允许不同的主机实例中运行的接收适配器能够接收传入的消息。</span><span class="sxs-lookup"><span data-stu-id="aefac-115">For example, you may want to stop sending messages to let them queue up in the MessageBox database while still allowing a receive adapter running in a different host instance to receive inbound messages.</span></span> <span data-ttu-id="aefac-116">将主机实例分离的功能还提供以下好处：</span><span class="sxs-lookup"><span data-stu-id="aefac-116">Separating host instances by functionality also provides the following benefits:</span></span>  
  
    -   <span data-ttu-id="aefac-117">运行多个 BizTalk 主机减少 MessageBox 数据库主机队列表上的争用，因为每个主机分配其自己的 MessageBox 数据库中的工作队列表。</span><span class="sxs-lookup"><span data-stu-id="aefac-117">Running multiple BizTalk hosts reduces contention on the MessageBox database host queue tables because each host is assigned its own work queue tables in the MessageBox database.</span></span>  
  
    -   <span data-ttu-id="aefac-118">在主机级别情况下，限制实现在 BizTalk Server 中。</span><span class="sxs-lookup"><span data-stu-id="aefac-118">Throttling is implemented in BizTalk Server at the host-level.</span></span> <span data-ttu-id="aefac-119">这可以为每个主机设置不同的限制特征。</span><span class="sxs-lookup"><span data-stu-id="aefac-119">This allows you to set different throttling characteristics for each host.</span></span>  
  
    -   <span data-ttu-id="aefac-120">在主机级别; 实现安全每个主机将离散的 Windows 标识下运行。</span><span class="sxs-lookup"><span data-stu-id="aefac-120">Security is implemented at the host-level; each host runs under a discrete Windows identity.</span></span> <span data-ttu-id="aefac-121">这允许您，例如，为 Host_A 访问到 FileShare_B，同时不允许任何其他主机，以访问文件共享。</span><span class="sxs-lookup"><span data-stu-id="aefac-121">This allows you to, for example, give Host_A access to FileShare_B, while not allowing any of the other hosts to access the file share.</span></span>  
  
-   <span data-ttu-id="aefac-122">每个主机实例中.NET 线程池具有其自己的内存、 句柄和线程等资源集。</span><span class="sxs-lookup"><span data-stu-id="aefac-122">Each host instance has its own set of resources such as memory, handles, and threads in the .NET thread pool.</span></span> <span data-ttu-id="aefac-123">跨主机分配工作负荷时考虑将进行整体缩放的资源放在同一主机中。</span><span class="sxs-lookup"><span data-stu-id="aefac-123">When allocating workload across hosts consider placing resources that scale together in the same host.</span></span>  
  
-   <span data-ttu-id="aefac-124">单独的适配器和不同的主机具有不同的优先级别的资源的业务流程。</span><span class="sxs-lookup"><span data-stu-id="aefac-124">Separate adapters and orchestrations that have different priorities for resources in different hosts.</span></span> <span data-ttu-id="aefac-125">此方法还包含专用的 BizTalk Server 计算机上运行高优先级的应用程序的主机的放置。</span><span class="sxs-lookup"><span data-stu-id="aefac-125">This technique accommodates the placement of hosts running high-priority applications on dedicated BizTalk Server computers.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="aefac-126">尽管为创建额外的主机实例带来的好处，还有潜在缺点如果创建过多的主机实例。</span><span class="sxs-lookup"><span data-stu-id="aefac-126">While there are benefits to creating additional host instances, there are also potential drawbacks if too many host instances are created.</span></span> <span data-ttu-id="aefac-127">每个主机实例是一个 Windows 服务 (BTSNTSvc.exe)，它生成额外的负载，针对 MessageBox 数据库，并会占用计算机资源 （如 CPU、 内存、 线程）。</span><span class="sxs-lookup"><span data-stu-id="aefac-127">Each host instance is a Windows service (BTSNTSvc.exe), which generates additional load against the MessageBox database and consumes computer resources (such as CPU, memory, threads).</span></span>  
  
 <span data-ttu-id="aefac-128">有关修改 BizTalk Server 主机属性，请参阅[如何修改主机属性](http://go.microsoft.com/fwlink/?LinkID=154359)(http://go.microsoft.com/fwlink/?LinkID=154359) 在 BizTalk Server 2010 帮助中。</span><span class="sxs-lookup"><span data-stu-id="aefac-128">For more information about modifying BizTalk Server host properties, see [How to Modify Host Properties](http://go.microsoft.com/fwlink/?LinkID=154359) (http://go.microsoft.com/fwlink/?LinkID=154359) in the BizTalk Server 2010 Help.</span></span>  
  
### <a name="configure-a-dedicated-tracking-host"></a><span data-ttu-id="aefac-129">配置专用的跟踪主机</span><span class="sxs-lookup"><span data-stu-id="aefac-129">Configure a dedicated tracking host</span></span>  
 <span data-ttu-id="aefac-130">BizTalk Server 进行了优化吞吐量，因此主要业务流程和消息传送引擎不实际移动消息直接到 BizTalk 跟踪或 BAM 数据库，因为这将会从其主作业的执行业务流程这些引擎将转换。</span><span class="sxs-lookup"><span data-stu-id="aefac-130">BizTalk Server is optimized for throughput, so the main orchestration and messaging engines do not actually move messages directly to the BizTalk Tracking or BAM databases, as this would divert these engines from their primary job of executing business processes.</span></span> <span data-ttu-id="aefac-131">相反，BizTalk Server 使 MessageBox 数据库中的消息，并将其标记为需要迁移到 BizTalk 跟踪数据库。</span><span class="sxs-lookup"><span data-stu-id="aefac-131">Instead, BizTalk Server leaves the messages in the MessageBox database and marks them as requiring a move to the BizTalk Tracking database.</span></span> <span data-ttu-id="aefac-132">后台进程 （跟踪主机），然后移动消息到 BizTalk 跟踪和 BAM 数据库。</span><span class="sxs-lookup"><span data-stu-id="aefac-132">A background process (the tracking host) then moves the messages to the BizTalk Tracking and BAM databases.</span></span> <span data-ttu-id="aefac-133">由于跟踪是资源密集型操作，单独的主机应创建专用于跟踪，从而将跟踪已与消息处理专用的主机上的影响降至最低。</span><span class="sxs-lookup"><span data-stu-id="aefac-133">Because tracking is a resource-intensive operation, a separate host should be created that is dedicated to tracking, thereby minimizing the impact that tracking has on hosts dedicated to message processing.</span></span> <span data-ttu-id="aefac-134">为了获得最佳性能，应至少一个跟踪每个 MessageBox 数据库的主机实例。</span><span class="sxs-lookup"><span data-stu-id="aefac-134">For optimal performance, there should be least one tracking host instance per MessageBox database.</span></span> <span data-ttu-id="aefac-135">跟踪主机实例的实际数应为 N + 1，其中 N = MessageBox 数据库的数目。</span><span class="sxs-lookup"><span data-stu-id="aefac-135">The actual number of tracking host instances should be N + 1, where N = the number of MessageBox databases.</span></span> <span data-ttu-id="aefac-136">"+ 1"是以实现冗余，一台计算机承载跟踪失败的情况下。</span><span class="sxs-lookup"><span data-stu-id="aefac-136">The "+ 1" is for redundancy, in case one of the computers hosting tracking fails.</span></span>  
  
 <span data-ttu-id="aefac-137">使用专用的跟踪主机还使你可以在不干扰 BizTalk Server 跟踪的情况下停止其他 BizTalk 主机。</span><span class="sxs-lookup"><span data-stu-id="aefac-137">Using a dedicated tracking host also allows you to stop other BizTalk hosts without interfering with BizTalk Server tracking.</span></span> <span data-ttu-id="aefac-138">跟踪从 MessageBox 的数据库的数据的移动是正常的 BizTalk Server 系统的关键。</span><span class="sxs-lookup"><span data-stu-id="aefac-138">The movement of tracking data out of the MessageBox database is critical for a healthy BizTalk Server system.</span></span> <span data-ttu-id="aefac-139">如果停止 BizTalk 主机负责将跟踪数据移动 BizTalk 组中，跟踪数据解码服务将不会运行。</span><span class="sxs-lookup"><span data-stu-id="aefac-139">If the BizTalk Host responsible for moving tracking data in the BizTalk group is stopped, the Tracking Data Decode service will not run.</span></span> <span data-ttu-id="aefac-140">此方法的影响是，如下所示：</span><span class="sxs-lookup"><span data-stu-id="aefac-140">The impact of this is as follows:</span></span>  
  
-   <span data-ttu-id="aefac-141">HAT 跟踪数据不会从 MessageBox 数据库移至 BizTalk 跟踪数据库。</span><span class="sxs-lookup"><span data-stu-id="aefac-141">HAT tracking data will not be moved from the MessageBox database to the BizTalk Tracking database.</span></span>  
  
-   <span data-ttu-id="aefac-142">BAM 跟踪数据不会从 MessageBox 数据库移至 BAM 主导入数据库。</span><span class="sxs-lookup"><span data-stu-id="aefac-142">BAM tracking data will not be moved from the MessageBox database to the BAM Primary Import database.</span></span>  
  
-   <span data-ttu-id="aefac-143">因为不移动数据时，它不能从 MessageBox 数据库中删除。</span><span class="sxs-lookup"><span data-stu-id="aefac-143">Because data is not moved, it cannot be deleted from the MessageBox database.</span></span>  
  
-   <span data-ttu-id="aefac-144">当停止跟踪数据解码服务时，跟踪拦截器仍将激发并将跟踪数据写入到 MessageBox 数据库。</span><span class="sxs-lookup"><span data-stu-id="aefac-144">When the Tracking Data Decode service is stopped, tracking interceptors will still fire and write tracking data to the MessageBox database.</span></span> <span data-ttu-id="aefac-145">如果不移动数据时，这将导致 MessageBox 数据库变得臃肿，这将影响随时间推移的性能。</span><span class="sxs-lookup"><span data-stu-id="aefac-145">If the data is not moved, this will cause the MessageBox database to become bloated, which will impact performance over time.</span></span> <span data-ttu-id="aefac-146">即使自定义属性不会跟踪或 BAM 配置文件未设置，默认情况下的某些数据跟踪 （如管道接收 / 发送事件和业务流程事件）。</span><span class="sxs-lookup"><span data-stu-id="aefac-146">Even if custom properties are not tracked or BAM profiles are not set up, by default some data is tracked (such as pipeline receive / send events and orchestration events).</span></span> <span data-ttu-id="aefac-147">如果您不想要运行的跟踪数据解码的服务，请关闭所有跟踪，以便不拦截器将数据保存到数据库。</span><span class="sxs-lookup"><span data-stu-id="aefac-147">If you do not want to run the Tracking Data Decode service, turn off all tracking so that no interceptors save data to the database.</span></span> <span data-ttu-id="aefac-148">若要禁用全局跟踪，请参阅[如何打开关闭全局跟踪](http://go.microsoft.com/fwlink/?LinkID=154193)(http://go.microsoft.com/fwlink/?LinkID=154193) 在 BizTalk Server 2010 帮助中。</span><span class="sxs-lookup"><span data-stu-id="aefac-148">To disable global tracking, see [How to Turn Off Global Tracking](http://go.microsoft.com/fwlink/?LinkID=154193) (http://go.microsoft.com/fwlink/?LinkID=154193) in BizTalk Server 2010 Help.</span></span> <span data-ttu-id="aefac-149">使用 BizTalk Server 管理控制台有选择性地禁用跟踪事件。</span><span class="sxs-lookup"><span data-stu-id="aefac-149">Use the BizTalk Server Administration console to selectively disable tracking events.</span></span>  
  
 <span data-ttu-id="aefac-150">跟踪主机应运行 BizTalk Server （适用于在其中一个发生故障的情况下的冗余） 的在至少两台计算机上运行。</span><span class="sxs-lookup"><span data-stu-id="aefac-150">The tracking host should be run on at least two computers running BizTalk Server (for redundancy in case one fails).</span></span> <span data-ttu-id="aefac-151">为了获得最佳性能，应具有至少一个跟踪每个 MessageBox 数据库的主机实例。</span><span class="sxs-lookup"><span data-stu-id="aefac-151">For optimal performance, you should have at least one tracking host instance per MessageBox database.</span></span> <span data-ttu-id="aefac-152">跟踪主机实例的实际数应 （N + 1），其中 N = MessageBox 数据库的数目。</span><span class="sxs-lookup"><span data-stu-id="aefac-152">The actual number of tracking host instances should be (N + 1), where N = the number of MessageBox databases.</span></span> <span data-ttu-id="aefac-153">"+ 1"是以实现冗余，一台计算机承载跟踪失败的情况下。</span><span class="sxs-lookup"><span data-stu-id="aefac-153">The "+ 1" is for redundancy, in case one of the computers hosting tracking fails.</span></span>  
  
 <span data-ttu-id="aefac-154">跟踪主机实例移动特定的 MessageBox 数据库的跟踪数据，但将永远不会有多个跟踪主机实例特定的 MessageBox 数据库的数据移动。</span><span class="sxs-lookup"><span data-stu-id="aefac-154">A tracking host instance moves tracking data for specific MessageBox databases, but there will never be more than one tracking host instance moving data for a specific MessageBox database.</span></span> <span data-ttu-id="aefac-155">例如，如果你有三个 MessageBox 数据库，并只有两个跟踪主机实例，然后其中一个主机实例需要 MessageBox 数据库中的两个移动数据。</span><span class="sxs-lookup"><span data-stu-id="aefac-155">For example, if you have three MessageBox databases, and only two tracking host instances, then one of the host instances needs to move data for two of the MessageBox databases.</span></span> <span data-ttu-id="aefac-156">添加第三个跟踪主机实例将分发跟踪主机到另一台计算机运行 BizTalk Server 的工作。</span><span class="sxs-lookup"><span data-stu-id="aefac-156">Adding a third tracking host instance distributes the tracking host work to another computer running BizTalk Server.</span></span> <span data-ttu-id="aefac-157">在此方案中，程序将添加第四个跟踪主机实例将不会将任何详细的跟踪主机的分发工作，但将提供一个额外跟踪容错能力的主机实例。</span><span class="sxs-lookup"><span data-stu-id="aefac-157">In this scenario, adding a fourth tracking host instance would not distribute any more tracking host work, but would provide an extra tracking host instance for fault tolerance.</span></span>  
  
 <span data-ttu-id="aefac-158">有关 BAM 事件总线服务的详细信息，请参阅 BizTalk Server 2010 帮助中的下列主题：</span><span class="sxs-lookup"><span data-stu-id="aefac-158">For more information about the BAM Event Bus service, see the following topics in BizTalk Server 2010 Help:</span></span>  
  
-   <span data-ttu-id="aefac-159">[管理 BAM 事件总线服务](http://go.microsoft.com/fwlink/?LinkID=154194)(http://go.microsoft.com/fwlink/?LinkID=154194)。</span><span class="sxs-lookup"><span data-stu-id="aefac-159">[Managing the BAM Event Bus Service](http://go.microsoft.com/fwlink/?LinkID=154194) (http://go.microsoft.com/fwlink/?LinkID=154194).</span></span>  
  
-   <span data-ttu-id="aefac-160">[创建 BAM 事件总线服务的实例](http://go.microsoft.com/fwlink/?LinkID=154195)(http://go.microsoft.com/fwlink/?LinkID=154195)。</span><span class="sxs-lookup"><span data-stu-id="aefac-160">[Creating Instances of the BAM Event Bus Service](http://go.microsoft.com/fwlink/?LinkID=154195) (http://go.microsoft.com/fwlink/?LinkID=154195).</span></span>  
  
### <a name="do-not-cluster-biztalk-hosts-unless-absolutely-necessary"></a><span data-ttu-id="aefac-161">未群集 BizTalk 主机除非绝对必要</span><span class="sxs-lookup"><span data-stu-id="aefac-161">Do not cluster BizTalk hosts unless absolutely necessary</span></span>  
 <span data-ttu-id="aefac-162">虽然 BizTalk Server 2010 使你可以将 BizTalk 主机配置为群集资源，则还应考虑执行此操作，如果你需要提供到的资源，不能跨多个 BizTalk 计算机托管的高可用性。</span><span class="sxs-lookup"><span data-stu-id="aefac-162">While BizTalk Server 2010 allows you to configure a BizTalk host as a cluster resource, you should only consider doing this if you need to provide high availability to a resource that cannot be hosted across multiple BizTalk computers.</span></span> <span data-ttu-id="aefac-163">例如，使用 FTP 适配器的端口应仅位于一台主机实例上，为 FTP 协议不提供文件锁定。</span><span class="sxs-lookup"><span data-stu-id="aefac-163">As an example, ports using the FTP adapter should only reside on one host instance, as the FTP protocol does not provide file locking.</span></span> <span data-ttu-id="aefac-164">但是，这样还引入了单点故障，群集会带来好处。</span><span class="sxs-lookup"><span data-stu-id="aefac-164">However, this introduces a single point of failure, which would benefit from clustering.</span></span> <span data-ttu-id="aefac-165">包含适配器，如文件、 SQL、 HTTP 或处理仅限的主机，主机可以内部负载平衡跨计算机，并不会得益于群集。</span><span class="sxs-lookup"><span data-stu-id="aefac-165">Hosts that contain adapters, such as file, SQL, HTTP or processing only hosts, can be internally load balanced across computers, and do not benefit from clustering.</span></span>  
  
## <a name="increase-the-number-of--http-concurrent-connections-allowed-by-changing-the-value-for-the-maxconnection-parameter"></a><span data-ttu-id="aefac-166">增加允许的更改 maxconnection 参数的值的 HTTP 并发连接数</span><span class="sxs-lookup"><span data-stu-id="aefac-166">Increase the number of  HTTP concurrent connections allowed by changing the value for the maxconnection parameter</span></span>  
 <span data-ttu-id="aefac-167">默认情况下，（包括基于 WCF 的 HTTP 适配器） 的 HTTP 适配器从每台计算机到任何特定的目标服务器运行 BizTalk Server 打开只有两个并发的 HTTP 连接。</span><span class="sxs-lookup"><span data-stu-id="aefac-167">By default, the  HTTP adapters (including WCF-based HTTP adapters) open only two concurrent HTTP connections from each computer running BizTalk Server to any specific destination server.</span></span>  
  
 <span data-ttu-id="aefac-168">此设置符合 HTTP 1.1 规范中，IETF RFC 并虽然很适合用户方案，但是它不针对高吞吐量优化。</span><span class="sxs-lookup"><span data-stu-id="aefac-168">This setting conforms to the IETF RFC for the HTTP 1.1 specification, and although it is suitable for user scenarios, it is not optimized for high throughput.</span></span> <span data-ttu-id="aefac-169">设置有效地从运行 BizTalk Server 每个计算机到两个并发发送限制对每个服务器的出站 HTTP 调用。</span><span class="sxs-lookup"><span data-stu-id="aefac-169">The setting effectively throttles outbound  HTTP calls to each server to two concurrent sends from each computer running BizTalk Server.</span></span>  
  
 <span data-ttu-id="aefac-170">若要增加的并发连接数，可以修改 BizTalk Server 配置文件，BTSNTSvc.exe.config （或 64 位主机 BTSNTSvc64.exe.config），每个 BizTalk Server 中的 maxconnection 参数的值。</span><span class="sxs-lookup"><span data-stu-id="aefac-170">To increase the number of concurrent connections, you can modify the value for the maxconnection parameter in the BizTalk Server configuration file, BTSNTSvc.exe.config (or BTSNTSvc64.exe.config for 64-bit hosts), on each BizTalk Server.</span></span> <span data-ttu-id="aefac-171">可以将其调用的特定服务器增加。</span><span class="sxs-lookup"><span data-stu-id="aefac-171">You can increase this for the specific servers being called.</span></span> <span data-ttu-id="aefac-172">根据经验，maxconnection 参数的值应设置为 12 \* 的 Cpu 或承载 web 应用程序的计算机上的内核数。</span><span class="sxs-lookup"><span data-stu-id="aefac-172">As a rule of thumb, the value for the maxconnection parameter should be set to 12 \* the number of CPUs or cores on the computer hosting the web application.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="aefac-173">不要提高到此类较大的值，使用 HTTP 连接被调用的 Web 服务器处于过载状态而 maxconnection 参数的值。</span><span class="sxs-lookup"><span data-stu-id="aefac-173">Do not increase the value for the maxconnection parameter to such a large value that the Web server being called is overwhelmed with HTTP connections.</span></span> <span data-ttu-id="aefac-174">Maxconnection 参数值更改后，请执行压力通过将请求发送到每个目标 Web 服务器，以确定将提供良好的性能和 HTTP 的 maxconnection 的值发送而不导致超出目标 Web 测试服务器。</span><span class="sxs-lookup"><span data-stu-id="aefac-174">After changing the value for the maxconnection parameter, perform stress testing by sending requests to each destination Web server to determine a value for maxconnection that will provide good performance  and HTTP sends without overwhelming the target Web servers.</span></span>  
  
 <span data-ttu-id="aefac-175">以下为最大连接数属性的配置示例：</span><span class="sxs-lookup"><span data-stu-id="aefac-175">The following is an example of the configuration for the maximum connections property:</span></span>  
  
```  
<configuration>  
  <system.net>  
    <connectionManagement>  
      <add address="http://www.contoso.com" maxconnection="24" />  
      <add address="*" maxconnection="48" />  
    </connectionManagement>  
  </system.net>  
</configuration>  
```  
  
 <span data-ttu-id="aefac-176">设置 maxconnection 属性时，可以指定 HTTP、 HTTPS、 web 站点 IP 地址和端口号。</span><span class="sxs-lookup"><span data-stu-id="aefac-176">When setting the maxconnection property, HTTP, HTTPS, the web site IP address, and the port number can be specified.</span></span> <span data-ttu-id="aefac-177">其他示例包括：</span><span class="sxs-lookup"><span data-stu-id="aefac-177">Other examples include:</span></span>  
  
 <span data-ttu-id="aefac-178">**\<add address="https://www.contoso.com" maxconnection="24" /\>** </span><span class="sxs-lookup"><span data-stu-id="aefac-178">**\<add address="https://www.contoso.com" maxconnection="24" /\>** </span></span>  
<span data-ttu-id="aefac-179">**\<add address="http://www.contoso.com:8080" maxconnection="24" /\>** </span><span class="sxs-lookup"><span data-stu-id="aefac-179">**\<add address="http://www.contoso.com:8080" maxconnection="24" /\>** </span></span>  
<span data-ttu-id="aefac-180">**\<添加地址 ="http://*IPAddress*"maxconnection ="24"/\>** 有关优化 IIS 和 ASP.NET Web 服务的设置的详细信息，请参阅可能会影响 HTTP 适配器的"ASP.NET 设置性能"部分[配置参数会影响适配器性能](http://go.microsoft.com/fwlink/?LinkID=154200)(http://go.microsoft.com/fwlink/?LinkID=154200) 在 BizTalk Server 2010 帮助中。</span><span class="sxs-lookup"><span data-stu-id="aefac-180">**\<add address="http://*IPAddress*" maxconnection="24" /\>**  For more information about tuning IIS and ASP.NET settings for Web services, see the "ASP.NET settings that can impact HTTP  Adapter performance" section of [Configuration Parameters that Affect Adapter Performance](http://go.microsoft.com/fwlink/?LinkID=154200) (http://go.microsoft.com/fwlink/?LinkID=154200) in BizTalk Server 2010 Help.</span></span>  
  
## <a name="manage-aspnet-thread-usage-or-concurrently-executing-requests-for-web-applications-that-can-host--isolated-received-locations-back-end-web-services-and-wcf-services"></a><span data-ttu-id="aefac-181">管理 ASP.NET 线程使用情况或并发执行的请求的 Web 应用程序可以承载独立接收到的位置后, 端 Web 服务和 WCF 服务</span><span class="sxs-lookup"><span data-stu-id="aefac-181">Manage ASP.NET thread usage or concurrently executing requests for Web applications that can host  isolated received locations, back-end Web services and WCF services</span></span>  
 <span data-ttu-id="aefac-182">辅助和 I/O 线程 （IIS 7.5 和 IIS 7.0 在经典模式下） 或的同时执行的请求 （IIS 7.5 和 7.0 集成模式下） ASP.NET Web 应用程序主机隔离接收到的位置后, 端 Web 服务和 WCF 服务数目的数量应在以下情况下修改：</span><span class="sxs-lookup"><span data-stu-id="aefac-182">The number of worker and I/O threads (IIS 7.5 and IIS 7.0 in classic mode) or the number of concurrently executing requests (IIS 7.5 and 7.0 integrated mode) for an ASP.NET Web application that hosts isolated received locations, back-end Web services and WCF services should be modified under the following conditions:</span></span>  
  
-   <span data-ttu-id="aefac-183">CPU 使用率不成为瓶颈的宿主的 Web 服务器上。</span><span class="sxs-lookup"><span data-stu-id="aefac-183">CPU utilization is not a bottleneck on the hosting Web server.</span></span>  
  
-   <span data-ttu-id="aefac-184">值：</span><span class="sxs-lookup"><span data-stu-id="aefac-184">The value of:</span></span>  
  
    -   <span data-ttu-id="aefac-185">**ASP.NET 应用 v4.0.30319 \Request Wait Time**或**的 ASP.NET 应用程序 v4.0.30319 \Request 执行时间**性能计数器是异常高。</span><span class="sxs-lookup"><span data-stu-id="aefac-185">**ASP.NET Apps v4.0.30319 \Request Wait Time** or **ASP.NET Apps v4.0.30319 \Request Execution Time** performance counters is unusually high.</span></span>  
  
    -   <span data-ttu-id="aefac-186">**ASP.NET 应用 v2.0.50727\Request Wait Time**或**的 ASP.NET 应用程序 v2.0.50727\Request 执行时间**性能计数器是异常高。</span><span class="sxs-lookup"><span data-stu-id="aefac-186">**ASP.NET Apps v2.0.50727\Request Wait Time** or **ASP.NET Apps v2.0.50727\Request Execution Time** performance counters is unusually high.</span></span>  
  
-   <span data-ttu-id="aefac-187">承载 Web 应用程序的计算机的应用程序日志中将生成类似于以下错误。</span><span class="sxs-lookup"><span data-stu-id="aefac-187">An error similar to the following is generated in the Application log of the computer that hosts the Web application.</span></span>  
  
    ```  
    Event Type: Warning  
    Event Source: W3SVC Event Category: None  
    Event ID: 1013  
    Date: 11/4/2010  
    Time: 1:03:47 PM  
    User: N/A  
    Computer: <ComputerName>  
    Description: A process serving application pool 'DefaultAppPool' exceeded time limits during shut down. The process id was '<xxxx>'  
    ```  
  
### <a name="manage-aspnet-thread-usage-for-web-applications-that-can-host-isolated-received-locations-back-end-web-services-and-wcf-services-on-iis-75-and-iis-70-running-in-classic-mode"></a><span data-ttu-id="aefac-188">管理 ASP.NET 的 Web 应用程序可以承载独立接收到的位置后, 端 Web 服务和在 IIS 7.5 和 IIS 7.0 以经典模式运行的 WCF 服务的线程使用情况</span><span class="sxs-lookup"><span data-stu-id="aefac-188">Manage ASP.NET thread usage for Web applications that can host isolated received locations, back-end Web services and WCF services on IIS 7.5 and IIS 7.0 running in Classic mode</span></span>  
 <span data-ttu-id="aefac-189">当**autoConfig**以经典模式运行的 IIS 7.5 和 IIS 7.0 服务器的 machine.config 文件中的值设置为**true**，ASP.NET 2.0 和 ASP.NET 4 管理的工作线程和 I/O 线程数分配给任何关联的 IIS 工作进程。</span><span class="sxs-lookup"><span data-stu-id="aefac-189">When the **autoConfig** value in the machine.config file of an IIS 7.5 and IIS 7.0 server running in Classic mode is set to **true**, ASP.NET 2.0  and ASP.NET 4 manages the number of worker threads and I/O threads that are allocated to any associated IIS worker processes.</span></span>  
  
```  
<processModel autoConfig="true" />  
```  
  
 <span data-ttu-id="aefac-190">若要手动修改的辅助角色和 ASP.NET 2.0 和 ASP.Net 4 Web 应用程序的 I/O 线程数，请打开关联的 machine.config 文件中，，然后输入的新值**maxWorkerThreads**和**maxIoThreads**参数。</span><span class="sxs-lookup"><span data-stu-id="aefac-190">To manually modify the number of worker and I/O threads for an ASP.NET 2.0 and ASP.Net 4 Web application, open the associated machine.config file, and then enter new values for the **maxWorkerThreads** and **maxIoThreads** parameters.</span></span>  
  
```  
<!-- <processModel autoConfig="true" /> -->  
    <processModel maxWorkerThreads="200" maxIoThreads="200" />  
```  
  
> [!NOTE]  
>  <span data-ttu-id="aefac-191">这些值是仅; 作为指导确保测试对这些参数的更改。</span><span class="sxs-lookup"><span data-stu-id="aefac-191">These values are for guidance only; ensure you test changes to these parameters.</span></span>  
  
 <span data-ttu-id="aefac-192">有关调整 ASP.NET 2.0 Web 应用程序的 machine.config 文件中的参数的详细信息，请参阅 Microsoft 知识库文章 821268[争用、 性能不佳和死锁时从 ASP 发出 Web 服务请求。NET 应用程序](http://go.microsoft.com/fwlink/?LinkID=144169)(http://go.microsoft.com/fwlink/?LinkID=144169)。</span><span class="sxs-lookup"><span data-stu-id="aefac-192">For more information about tuning parameters in the machine.config file for an ASP.NET 2.0 Web application, see the Microsoft Knowledge Base article 821268 [Contention, poor performance, and deadlocks when you make Web service requests from ASP.NET applications](http://go.microsoft.com/fwlink/?LinkID=144169) (http://go.microsoft.com/fwlink/?LinkID=144169).</span></span>  
  
### <a name="manage-the-number-of-concurrently-executing-requests-for-aspnet-20-web-applications-that-can-host-isolated-received-locations-back-end-web-services-and-wcf-services-on-iis-75-and-iis-70-running-in-integrated-mode"></a><span data-ttu-id="aefac-193">管理并发执行的 ASP.NET 2.0 Web 应用程序可以承载独立接收到的位置后, 端 Web 服务和在 IIS 7.5 和 IIS 7.0 在集成模式下运行的 WCF 服务的请求的数量</span><span class="sxs-lookup"><span data-stu-id="aefac-193">Manage the number of concurrently executing requests for ASP.NET 2.0 Web applications that can host isolated received locations, back-end Web services and WCF services on IIS 7.5 and IIS 7.0 running in Integrated mode</span></span>  
 <span data-ttu-id="aefac-194">当在集成模式下情况下，ASP.NET 2.0 承载于 IIS 7.5 和 IIS 7.0 上时，使用线程处理以不同的方式比在 IIS 7.5 和 IIS 7.0 上在经典模式下。</span><span class="sxs-lookup"><span data-stu-id="aefac-194">When ASP.NET 2.0 is hosted on IIS 7.5 and IIS 7.0 in integrated mode, the use of threads is handled differently than on  IIS 7.5 and IIS 7.0 in classic mode.</span></span> <span data-ttu-id="aefac-195">当在集成模式下情况下，ASP.NET 2.0 承载于 IIS 7.5 和 IIS 7.0 上时，ASP.NET 2.0 限制并发执行的次数**请求**而不是数**线程**并发执行请求。</span><span class="sxs-lookup"><span data-stu-id="aefac-195">When ASP.NET 2.0 is hosted on IIS 7.5 and IIS 7.0 in integrated mode, ASP.NET 2.0 restricts the number of concurrently executing **requests** rather than the number of **threads** concurrently executing requests.</span></span> <span data-ttu-id="aefac-196">对于同步方案这间接将限制线程数，但对于异步方案将可能非常不同的请求和线程数。</span><span class="sxs-lookup"><span data-stu-id="aefac-196">For synchronous scenarios this will indirectly limit the number of threads but for asynchronous scenarios the number of requests and threads will likely be very different.</span></span> <span data-ttu-id="aefac-197">在集成模式下，在 IIS 7.5 和 IIS 7.0 上运行 ASP.NET 2.0 时**maxWorkerThreads**和**maxIoThreads** machine.config 文件中的参数不用于管理正在运行的线程数。</span><span class="sxs-lookup"><span data-stu-id="aefac-197">When running ASP.NET 2.0 on IIS 7.5 and IIS 7.0 in integrated mode, the **maxWorkerThreads** and **maxIoThreads** parameters in the machine.config file are not used to govern the number of running threads.</span></span> <span data-ttu-id="aefac-198">相反的同时执行的请求数可以更改从每个 CPU 的 12 的默认值修改为指定的值**maxconcurrentrequestspercpu 配置**。</span><span class="sxs-lookup"><span data-stu-id="aefac-198">Instead, the number of concurrently executing requests can be changed from the default value of 12 per CPU by modifying the value specified for **maxConcurrentRequestsPerCPU**.</span></span> <span data-ttu-id="aefac-199">**Maxconcurrentrequestspercpu 配置**reqistry 中或在配置节的 aspnet.config 文件中，可以指定值。</span><span class="sxs-lookup"><span data-stu-id="aefac-199">The **maxConcurrentRequestsPerCPU** value can be specified either in the reqistry or in the config section of an aspnet.config file.</span></span> <span data-ttu-id="aefac-200">执行这些步骤可更改的默认值为**maxconcurrentrequestspercpu 配置**可管理的同时执行的请求数：</span><span class="sxs-lookup"><span data-stu-id="aefac-200">Follow these steps to change the default value for **maxConcurrentRequestsPerCPU** to govern the number of concurrently executing requests:</span></span>  
  
 <span data-ttu-id="aefac-201">**在注册表中设置 maxconcurrentrequestspercpu 配置值**</span><span class="sxs-lookup"><span data-stu-id="aefac-201">**To set the maxConcurrentRequestsPerCPU value in the registry**</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="aefac-202">对注册表编辑器的不当使用可能会引起问题，而必须重新安装操作系统。</span><span class="sxs-lookup"><span data-stu-id="aefac-202">Incorrect use of Registry Editor may cause problems requiring you to reinstall your operating system.</span></span> <span data-ttu-id="aefac-203">请慎用注册表编辑器，风险自负。</span><span class="sxs-lookup"><span data-stu-id="aefac-203">Use Registry Editor at your own risk.</span></span> <span data-ttu-id="aefac-204">有关如何备份、 还原和修改注册表的详细信息，请参阅 Microsoft 知识库文章 256986[高级用户的 Windows 注册表信息](http://go.microsoft.com/fwlink/?LinkId=62729)(http://go.microsoft.com/fwlink/?LinkId=62729)。</span><span class="sxs-lookup"><span data-stu-id="aefac-204">For more information about how to back up, restore, and modify the registry, see Microsoft Knowledge Base article 256986 [Windows registry information for advanced users](http://go.microsoft.com/fwlink/?LinkId=62729) (http://go.microsoft.com/fwlink/?LinkId=62729).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="aefac-205">此设置是全局设置，无法为单个应用程序池或应用程序的更改。</span><span class="sxs-lookup"><span data-stu-id="aefac-205">This setting is global and cannot be changed for individual application pools or applications.</span></span>  
  
1.  <span data-ttu-id="aefac-206">依次单击 **启动”** 和 **运行”**，键入 **regedit.exe**，然后单击 **确定”** 以启动注册表编辑器。</span><span class="sxs-lookup"><span data-stu-id="aefac-206">Click **Start**, click **Run**, type **regedit.exe**, and then click **OK** to start Registry Editor.</span></span>  
  
2.  <span data-ttu-id="aefac-207">导航到**HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\2.0.50727.0**</span><span class="sxs-lookup"><span data-stu-id="aefac-207">Navigate to **HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\2.0.50727.0**</span></span>  
  
3.  <span data-ttu-id="aefac-208">通过执行以下步骤创建项：</span><span class="sxs-lookup"><span data-stu-id="aefac-208">Create the key by following these steps:</span></span>  
  
    1.  <span data-ttu-id="aefac-209">上**编辑**菜单上，单击**新建**，然后单击**密钥**。</span><span class="sxs-lookup"><span data-stu-id="aefac-209">On the **Edit** menu, click **New**, and then click **Key**.</span></span>  
  
    2.  <span data-ttu-id="aefac-210">类型**maxconcurrentrequestspercpu 配置**，然后按**ENTER**。</span><span class="sxs-lookup"><span data-stu-id="aefac-210">Type **maxConcurrentRequestsPerCPU**, and then press **ENTER**.</span></span>  
  
    3.  <span data-ttu-id="aefac-211">下**maxconcurrentrequestspercpu 配置**密钥，创建 DWORD 条目 maxconcurrentrequestspercpu 配置的新值。</span><span class="sxs-lookup"><span data-stu-id="aefac-211">Under the **maxConcurrentRequestsPerCPU** key, create a DWORD entry with the new value for maxConcurrentRequestsPerCPU.</span></span>  
  
    4.  <span data-ttu-id="aefac-212">关闭“注册表编辑器”。</span><span class="sxs-lookup"><span data-stu-id="aefac-212">Close Registry Editor.</span></span>  
  
 <span data-ttu-id="aefac-213">**在 aspnet.config 文件的配置部分中设置应用程序池的 maxconcurrentrequestspercpu 配置值**</span><span class="sxs-lookup"><span data-stu-id="aefac-213">**To set the maxConcurrentRequestsPerCPU value for an application pool in the config section of an aspnet.config file**</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="aefac-214">必须安装 Microsoft.NET Framework 3.5 Service Pack 1，以适应通过配置文件中设置下面的值。</span><span class="sxs-lookup"><span data-stu-id="aefac-214">Microsoft .NET Framework 3.5 Service Pack 1 must be installed to accommodate setting the values below via configuration file.</span></span> <span data-ttu-id="aefac-215">你可以下载 Microsoft.NET Framework 3.5 Service Pack 1 从[Microsoft.NET Framework 3.5 Service Pack 1](http://go.microsoft.com/fwlink/?LinkID=136345) (http://go.microsoft.com/fwlink/?LinkID=136345)。</span><span class="sxs-lookup"><span data-stu-id="aefac-215">You can download Microsoft .NET Framework 3.5 Service Pack 1 from [Microsoft .NET Framework 3.5 Service Pack 1](http://go.microsoft.com/fwlink/?LinkID=136345) (http://go.microsoft.com/fwlink/?LinkID=136345).</span></span>  
  
 <span data-ttu-id="aefac-216">打开应用程序池下的 aspnet.config 文件，然后输入新值**maxconcurrentrequestspercpu 配置**和**requestQueueLimit**参数。</span><span class="sxs-lookup"><span data-stu-id="aefac-216">Open the aspnet.config file for the application pool, and then enter new values for the **maxConcurrentRequestsPerCPU** and **requestQueueLimit** parameters.</span></span>  
  
```  
<system.web>  
    <applicationPool maxConcurrentRequestsPerCPU="12" requestQueueLimit="5000"/>  
</system.web>  
```  
  
> [!NOTE]  
>  <span data-ttu-id="aefac-217">此值将覆盖指定的值**maxconcurrentrequestspercpu 配置**注册表中。</span><span class="sxs-lookup"><span data-stu-id="aefac-217">This value overrides the value specified for **maxConcurrentRequestsPerCPU** in the registry.</span></span> <span data-ttu-id="aefac-218">RequestQueueLimit 设置操作 processModel/requestQueueLimit 相同，只不过 aspnet.config 文件中的设置将重写 machine.config 文件中的设置。</span><span class="sxs-lookup"><span data-stu-id="aefac-218">The requestQueueLimit setting is the same as processModel/requestQueueLimit, except that the setting in the aspnet.config file will override the setting in the machine.config file.</span></span>  
  
 <span data-ttu-id="aefac-219">有关在 IIS 7.0 上配置 ASP.NET 线程使用情况的详细信息，请参阅[ASP.NET 在 IIS 7.0 上的线程使用情况的 Thomas Marquardt 博客](http://go.microsoft.com/fwlink/?LinkId=157518)(http://go.microsoft.com/fwlink/?LinkId=157518)。</span><span class="sxs-lookup"><span data-stu-id="aefac-219">For more information about configuring ASP.NET Thread Usage on IIS 7.0, see [Thomas Marquardt's Blog on ASP.NET Thread Usage on IIS 7.0](http://go.microsoft.com/fwlink/?LinkId=157518) (http://go.microsoft.com/fwlink/?LinkId=157518).</span></span>  
  
### <a name="manage-the-number-of-concurrently-executing-requests-for-aspnet-4web-applications-that-can-host-isolated-received-locations-back-end-web-services-and-wcf-services-on-iis-75-and-70-running-in-integrated-mode"></a><span data-ttu-id="aefac-220">管理同时执行的 ASP.NET 4Web 托管应用程序可以独立接收到的位置、 后端 Web 服务和在 IIS 7.5 和 7.0 在集成模式下运行的 WCF 服务的请求的数</span><span class="sxs-lookup"><span data-stu-id="aefac-220">Manage the number of concurrently executing requests for ASP.NET 4Web applications that can host isolated received locations, back-end Web services and WCF services on IIS 7.5 and 7.0 running in Integrated mode</span></span>  
 <span data-ttu-id="aefac-221">.NET Framework 4，maxconcurrentrequestspercpu 配置的默认设置是 5000，这是一个非常大的数字，因此将留出足够的并发执行的异步请求。</span><span class="sxs-lookup"><span data-stu-id="aefac-221">With .NET Framework 4, the default setting for maxConcurrentRequestsPerCPU is 5000, which is a very large number and therefore will allow plenty of asynchronous requests to execute concurrently.</span></span> <span data-ttu-id="aefac-222">有关详细信息，请参阅[ \<applicationPool\>元素 （Web 设置）](http://go.microsoft.com/fwlink/?LinkID=205339) (http://go.microsoft.com/fwlink/?LinkID=205339)。</span><span class="sxs-lookup"><span data-stu-id="aefac-222">For more information, see [\<applicationPool\> Element (Web Settings)](http://go.microsoft.com/fwlink/?LinkID=205339) (http://go.microsoft.com/fwlink/?LinkID=205339).</span></span>  
  
 <span data-ttu-id="aefac-223">对于 IIS 7.5 和 IIS 7.0 集成模式，名为内 HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0 maxconcurrentrequestspercpu 配置一个 dword 值确定每个 CPU 的并发请求数。</span><span class="sxs-lookup"><span data-stu-id="aefac-223">For IIS 7.5 and IIS 7.0 Integrated mode, a DWORD named MaxConcurrentRequestsPerCPU within HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0 determines the number of concurrent requests per CPU.</span></span> <span data-ttu-id="aefac-224">默认情况下，注册表项不存在并且每 CPU 的请求数限制为 5000。</span><span class="sxs-lookup"><span data-stu-id="aefac-224">By default, the registry key does not exist and the number of requests per CPU is limited to 5000.</span></span>  
  
 <span data-ttu-id="aefac-225">**在注册表中设置 maxconcurrentrequestspercpu 配置值**</span><span class="sxs-lookup"><span data-stu-id="aefac-225">**To set the maxConcurrentRequestsPerCPU value in the registry**</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="aefac-226">对注册表编辑器的不当使用可能会引起问题，而必须重新安装操作系统。</span><span class="sxs-lookup"><span data-stu-id="aefac-226">Incorrect use of Registry Editor may cause problems requiring you to reinstall your operating system.</span></span> <span data-ttu-id="aefac-227">请慎用注册表编辑器，风险自负。</span><span class="sxs-lookup"><span data-stu-id="aefac-227">Use Registry Editor at your own risk.</span></span> <span data-ttu-id="aefac-228">有关如何备份、 还原和修改注册表的详细信息，请参阅 Microsoft 知识库文章 256986[高级用户的 Windows 注册表信息](http://go.microsoft.com/fwlink/?LinkId=62729)(http://go.microsoft.com/fwlink/?LinkId=62729)。</span><span class="sxs-lookup"><span data-stu-id="aefac-228">For more information about how to back up, restore, and modify the registry, see Microsoft Knowledge Base article 256986 [Windows registry information for advanced users](http://go.microsoft.com/fwlink/?LinkId=62729) (http://go.microsoft.com/fwlink/?LinkId=62729).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="aefac-229">此设置是全局设置，无法为单个应用程序池或应用程序的更改。</span><span class="sxs-lookup"><span data-stu-id="aefac-229">This setting is global and cannot be changed for individual application pools or applications.</span></span>  
  
1.  <span data-ttu-id="aefac-230">依次单击 **启动”** 和 **运行”**，键入 **regedit.exe**，然后单击 **确定”** 以启动注册表编辑器。</span><span class="sxs-lookup"><span data-stu-id="aefac-230">Click **Start**, click **Run**, type **regedit.exe**, and then click **OK** to start Registry Editor.</span></span>  
  
2.  <span data-ttu-id="aefac-231">导航到**HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0**。</span><span class="sxs-lookup"><span data-stu-id="aefac-231">Navigate to **HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0**.</span></span>  
  
3.  <span data-ttu-id="aefac-232">通过执行以下步骤创建项：</span><span class="sxs-lookup"><span data-stu-id="aefac-232">Create the key by following these steps:</span></span>  
  
    1.  <span data-ttu-id="aefac-233">上**编辑**菜单上，单击**新建**，然后单击**密钥**。</span><span class="sxs-lookup"><span data-stu-id="aefac-233">On the **Edit** menu, click **New**, and then click **Key**.</span></span>  
  
    2.  <span data-ttu-id="aefac-234">类型**maxconcurrentrequestspercpu 配置**，然后按**ENTER**。</span><span class="sxs-lookup"><span data-stu-id="aefac-234">Type **maxConcurrentRequestsPerCPU**, and then press **ENTER**.</span></span>  
  
    3.  <span data-ttu-id="aefac-235">下**maxconcurrentrequestspercpu 配置**密钥，创建 DWORD 条目 maxconcurrentrequestspercpu 配置的新值。</span><span class="sxs-lookup"><span data-stu-id="aefac-235">Under the **maxConcurrentRequestsPerCPU** key, create a DWORD entry with the new value for maxConcurrentRequestsPerCPU.</span></span>  
  
    4.  <span data-ttu-id="aefac-236">关闭“注册表编辑器”。</span><span class="sxs-lookup"><span data-stu-id="aefac-236">Close Registry Editor.</span></span>  
  
 <span data-ttu-id="aefac-237">**在 aspnet.config 文件的配置部分中设置应用程序池的 maxconcurrentrequestspercpu 配置值**</span><span class="sxs-lookup"><span data-stu-id="aefac-237">**To set the maxConcurrentRequestsPerCPU value for an application pool in the config section of an aspnet.config file**</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="aefac-238">必须安装 Microsoft.NET Framework 4 以适应通过配置文件中设置下面的值。</span><span class="sxs-lookup"><span data-stu-id="aefac-238">Microsoft .NET Framework 4 must be installed to accommodate setting the values below via configuration file.</span></span> <span data-ttu-id="aefac-239">您可以下载 Microsoft.NET Framework 4 从[Microsoft.NET Framework 4 (Web Installer)](http://go.microsoft.com/fwlink/?LinkID=189318) (http://go.microsoft.com/fwlink/?LinkID=189318)。</span><span class="sxs-lookup"><span data-stu-id="aefac-239">You can download Microsoft .NET Framework 4 from [Microsoft .NET Framework 4 (Web Installer)](http://go.microsoft.com/fwlink/?LinkID=189318) (http://go.microsoft.com/fwlink/?LinkID=189318).</span></span>  
  
-   <span data-ttu-id="aefac-240">打开应用程序池下的 aspnet.config 文件，然后输入新值**maxconcurrentrequestspercpu 配置**和**requestQueueLimit**参数。</span><span class="sxs-lookup"><span data-stu-id="aefac-240">Open the aspnet.config file for the application pool, and then enter new values for the **maxConcurrentRequestsPerCPU** and **requestQueueLimit** parameters.</span></span>  
  
     <span data-ttu-id="aefac-241">下面的示例中的值是默认值。</span><span class="sxs-lookup"><span data-stu-id="aefac-241">The values in the following example are the default values.</span></span>  
  
    ```  
    <system.web>  
        <applicationPool maxConcurrentRequestsPerCPU="5000" requestQueueLimit="5000"/>  
    </system.web>  
    ```  
  
> [!NOTE]  
>  <span data-ttu-id="aefac-242">此值将覆盖指定的值**maxconcurrentrequestspercpu 配置**注册表中。</span><span class="sxs-lookup"><span data-stu-id="aefac-242">This value overrides the value specified for **maxConcurrentRequestsPerCPU** in the registry.</span></span> <span data-ttu-id="aefac-243">**RequestQueueLimit**设置等同于 processModel/requestQueueLimit，只不过 aspnet.config 文件中的设置将重写 machine.config 文件中的设置。</span><span class="sxs-lookup"><span data-stu-id="aefac-243">The **requestQueueLimit** setting is the same as processModel/requestQueueLimit, except that the setting in the aspnet.config file will override the setting in the machine.config file.</span></span>  
  
## <a name="define-clr-hosting-thread-values-for-biztalk-host-instances"></a><span data-ttu-id="aefac-244">定义 CLR 承载 BizTalk 主机实例的线程值</span><span class="sxs-lookup"><span data-stu-id="aefac-244">Define CLR hosting thread values for BizTalk host instances</span></span>  
 <span data-ttu-id="aefac-245">因为 Windows 线程是 Windows 进程可用的最基本的可执行单元，因此，有必要为与 BizTalk 主机实例相关联的 .NET 线程池分配足够的线程以防止线程不足。</span><span class="sxs-lookup"><span data-stu-id="aefac-245">Because a Windows thread is the most basic executable unit available to a Windows process, it is important to allocate enough threads to the .NET thread pool associated with an instance of a BizTalk host to prevent thread starvation.</span></span> <span data-ttu-id="aefac-246">当线程资源不足出现时，并不足够可用来执行请求对性能造成负面影响的工作的线程。</span><span class="sxs-lookup"><span data-stu-id="aefac-246">When thread starvation occurs, there are not enough threads available to perform the requested work that negatively impacts performance.</span></span> <span data-ttu-id="aefac-247">在同一时间，应格外小心以防止分配到与主机比所需的.net 线程池的多个线程。</span><span class="sxs-lookup"><span data-stu-id="aefac-247">At the same time, care should be taken to prevent allocating more threads to the.NET thread pool associated with a host than is necessary.</span></span> <span data-ttu-id="aefac-248">为与主机相关联的 .NET 线程池分配过多的线程会增加上下文切换。</span><span class="sxs-lookup"><span data-stu-id="aefac-248">The allocation of too many threads to the .NET thread pool associated with a host may increase context switching.</span></span> <span data-ttu-id="aefac-249">Windows 内核切换为不同的线程，产生的性能开销运行一个线程时发生上下文切换。</span><span class="sxs-lookup"><span data-stu-id="aefac-249">Context switching occurs when the Windows kernel switches from running one thread to a different thread, which incurs a performance cost.</span></span> <span data-ttu-id="aefac-250">过多线程分配可能会导致过多的上下文切换，这将带来负面影响整体性能。</span><span class="sxs-lookup"><span data-stu-id="aefac-250">Excessive thread allocation can cause excessive context switching, which will negatively impact overall performance.</span></span> <span data-ttu-id="aefac-251">默认分配给一个 BizTalk 主机实例.NET 线程池的线程数取决于所安装的.NET Framework 的版本。</span><span class="sxs-lookup"><span data-stu-id="aefac-251">The default number of threads allocated to a BizTalk host instance’s .NET thread pool depends on which version of the .NET Framework is installed.</span></span> <span data-ttu-id="aefac-252">.NET Framework 4 和.NET Framework 3.5 SP1 极大地增加了默认值，这可能导致过多线程分配的 BizTalk Server 计算机和 MessageBox 数据库上的过多的锁争用上。</span><span class="sxs-lookup"><span data-stu-id="aefac-252">The .NET Framework 4 and the .NET Framework 3.5 SP1 greatly increased the defaults, which can cause excessive thread allocation on the BizTalk Server computers and excessive lock contention on the MessageBox database.</span></span>  
  
 <span data-ttu-id="aefac-253">使用**BizTalk 设置仪表板**，你可以修改默认值为在.NET 中可用的 Windows 线程数线程池与一个 BizTalk 主机实例相关联。</span><span class="sxs-lookup"><span data-stu-id="aefac-253">Using the **BizTalk Settings Dashboard**, you can modify the default value for the number of Windows threads available in the .NET thread pool associated with an instance of a BizTalk host.</span></span> <span data-ttu-id="aefac-254">有关如何修改.NET CLR 设置的详细信息，请参阅[如何修改.NET CLR 设置](http://go.microsoft.com/fwlink/?LinkID=205344)(http://go.microsoft.com/fwlink/?LinkID=205344)。</span><span class="sxs-lookup"><span data-stu-id="aefac-254">For more information about how to modify .NET CLR settings, see [How to Modify .NET CLR Settings](http://go.microsoft.com/fwlink/?LinkID=205344) (http://go.microsoft.com/fwlink/?LinkID=205344).</span></span> <span data-ttu-id="aefac-255">.NET CLR 设置因 CPU 核心而异。</span><span class="sxs-lookup"><span data-stu-id="aefac-255">.NET CLR Settings are per-core CPU.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="aefac-256">**工作线程**用于处理排队的工作项和**I/O 线程**I/O 完成端口来处理已完成的异步 I/O 请求与关联的专用的回调线程。</span><span class="sxs-lookup"><span data-stu-id="aefac-256">**Worker threads** are used to handle queued work items and **I/O threads** are dedicated callback threads associated with an I/O completion port to handle a completed asynchronous I/O request.</span></span>  
  
|<span data-ttu-id="aefac-257">线程处理设置</span><span class="sxs-lookup"><span data-stu-id="aefac-257">Threading settings</span></span>|<span data-ttu-id="aefac-258">默认值</span><span class="sxs-lookup"><span data-stu-id="aefac-258">Default value</span></span>|<span data-ttu-id="aefac-259">推荐值</span><span class="sxs-lookup"><span data-stu-id="aefac-259">Recommended value</span></span>|  
|------------------------|-------------------|-----------------------|  
|<span data-ttu-id="aefac-260">最大 IO 线程</span><span class="sxs-lookup"><span data-stu-id="aefac-260">Maximum IO Threads</span></span>|<span data-ttu-id="aefac-261">250</span><span class="sxs-lookup"><span data-stu-id="aefac-261">250</span></span>|<span data-ttu-id="aefac-262">250</span><span class="sxs-lookup"><span data-stu-id="aefac-262">250</span></span>|  
|<span data-ttu-id="aefac-263">最大工作线程</span><span class="sxs-lookup"><span data-stu-id="aefac-263">Maximum Worker Threads</span></span>|<span data-ttu-id="aefac-264">25</span><span class="sxs-lookup"><span data-stu-id="aefac-264">25</span></span>|<span data-ttu-id="aefac-265">100**重要说明：** 增加 100 超出此值可以对承载 BizTalk Server MessageBox 数据库的 SQL Server 计算机的性能产生负面影响。</span><span class="sxs-lookup"><span data-stu-id="aefac-265">100 **Important:**  Increasing this value beyond 100 can have an adverse effect on the performance of the SQL Server computer hosting the BizTalk Server MessageBox database.</span></span> <span data-ttu-id="aefac-266">当发生此问题时，SQL Server 可能会遇到死锁情况。</span><span class="sxs-lookup"><span data-stu-id="aefac-266">When this problem occurs, SQL Server may encounter a deadlock condition.</span></span> <span data-ttu-id="aefac-267">我们建议不增加 100 的值超出此参数。</span><span class="sxs-lookup"><span data-stu-id="aefac-267">We recommend not increasing this parameter beyond a value of 100.</span></span>|  
|<span data-ttu-id="aefac-268">最小的 IO 线程</span><span class="sxs-lookup"><span data-stu-id="aefac-268">Minimum IO Threads</span></span>|<span data-ttu-id="aefac-269">25</span><span class="sxs-lookup"><span data-stu-id="aefac-269">25</span></span>|<span data-ttu-id="aefac-270">25</span><span class="sxs-lookup"><span data-stu-id="aefac-270">25</span></span>|  
|<span data-ttu-id="aefac-271">最小工作线程</span><span class="sxs-lookup"><span data-stu-id="aefac-271">Minimum Worker Threads</span></span>|<span data-ttu-id="aefac-272">5</span><span class="sxs-lookup"><span data-stu-id="aefac-272">5</span></span>|<span data-ttu-id="aefac-273">25</span><span class="sxs-lookup"><span data-stu-id="aefac-273">25</span></span>|  
  
> [!NOTE]  
>  <span data-ttu-id="aefac-274">建议的值并不是绝对，可能需要进行调整，具体取决于 BizTalk 应用程序。</span><span class="sxs-lookup"><span data-stu-id="aefac-274">The recommended values are not absolutes and may need to be adjusted depending on the BizTalk application.</span></span> <span data-ttu-id="aefac-275">一次更改一个参数，然后进行其他更改之前测量的性能和 BizTalk 平台的稳定性影响。</span><span class="sxs-lookup"><span data-stu-id="aefac-275">Change one parameter at a time, and then measure the impact on the performance and stability of the BizTalk platform before making additional changes.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="aefac-276">这些值隐式乘以在服务器上的处理器数。</span><span class="sxs-lookup"><span data-stu-id="aefac-276">These values are implicitly multiplied by the number of processors on the server.</span></span> <span data-ttu-id="aefac-277">例如，设置**MaxWorkerThreads**到 100 的值将有效地设置项的值为 400 4 的 CPU 服务器上。</span><span class="sxs-lookup"><span data-stu-id="aefac-277">For example, setting the **MaxWorkerThreads** entry to a value of 100 would effectively set a value of 400 on a 4 CPU server.</span></span>  
  
## <a name="disable-biztalk-server-group-level-tracking"></a><span data-ttu-id="aefac-278">禁用 BizTalk 服务器组级别跟踪</span><span class="sxs-lookup"><span data-stu-id="aefac-278">Disable BizTalk Server Group-level tracking</span></span>  
 <span data-ttu-id="aefac-279">跟踪可能会产生开销在 BizTalk Server 中的性能，因为数据具有要写入到 MessageBox 数据库，然后以异步方式移动到 BizTalk 跟踪数据库。</span><span class="sxs-lookup"><span data-stu-id="aefac-279">Tracking incurs performance overhead within BizTalk Server as data has to be written to the MessageBox database and then asynchronously moved to the BizTalk Tracking database.</span></span> <span data-ttu-id="aefac-280">在生产 BizTalk Server 环境中配置跟踪时，应考虑以下事项：</span><span class="sxs-lookup"><span data-stu-id="aefac-280">The following considerations apply when configuring tracking in a production BizTalk Server environment:</span></span>  
  
-   <span data-ttu-id="aefac-281">根据经验，如果跟踪不是一项业务要求，请禁用组级别跟踪，以降低开销和提高性能。</span><span class="sxs-lookup"><span data-stu-id="aefac-281">As a rule of thumb, if tracking is not a business requirement, then disable group-level tracking to reduce overhead and increase performance.</span></span>  
  
     <span data-ttu-id="aefac-282">若要禁用 BizTalk Server 组级别跟踪，请执行以下步骤：</span><span class="sxs-lookup"><span data-stu-id="aefac-282">To disable BizTalk Server group-level tracking, perform the following steps:</span></span>  
  
    1.  <span data-ttu-id="aefac-283">在**BizTalk Server 管理控制台**，展开**BizTalk Server 管理**，右键单击**BizTalk 组**，然后单击**设置**.</span><span class="sxs-lookup"><span data-stu-id="aefac-283">In the **BizTalk Server Administration Console**, expand **BizTalk Server Administration**, right-click **BizTalk Group**, and then click **Settings**.</span></span>  
  
    2.  <span data-ttu-id="aefac-284">在 BizTalk 设置仪表板对话框中的在组页上，清除**启用组级别跟踪**复选框。</span><span class="sxs-lookup"><span data-stu-id="aefac-284">In the BizTalk Settings Dashboard dialog box, on the Group page, clear the **Enable group-level tracking** check box.</span></span>  
  
    3.  <span data-ttu-id="aefac-285">单击**确定**应用进行修改并退出设置仪表板。</span><span class="sxs-lookup"><span data-stu-id="aefac-285">Click **OK** to apply the modifications and exit the Settings Dashboard.</span></span>  
  
-   <span data-ttu-id="aefac-286">仅使用跟踪如有必要的消息正文。</span><span class="sxs-lookup"><span data-stu-id="aefac-286">Only use message body tracking if necessary.</span></span> <span data-ttu-id="aefac-287">根据消息吞吐量和消息大小，跟踪的消息正文可能导致很大的开销。</span><span class="sxs-lookup"><span data-stu-id="aefac-287">Depending on message throughput and message size, message body tracking can cause significant overhead.</span></span> <span data-ttu-id="aefac-288">虽然 BizTalk 活动跟踪具有用于调试和审核的明显优势，但它也具有很大的性能和可伸缩性的影响。</span><span class="sxs-lookup"><span data-stu-id="aefac-288">While BizTalk activity tracking has obvious benefits for debugging and auditing, it also has considerable performance and scalability implications.</span></span> <span data-ttu-id="aefac-289">因此，您应该跟踪需要严格出于调试和安全原因，并可避免跟踪冗余信息的数据。</span><span class="sxs-lookup"><span data-stu-id="aefac-289">Therefore, you should track only data that is strictly necessary for debugging and security reasons, and avoids tracking redundant information.</span></span>  
  
-   <span data-ttu-id="aefac-290">默认情况下，为业务流程启用以下的跟踪选项：</span><span class="sxs-lookup"><span data-stu-id="aefac-290">By default, the following tracking options are enabled for orchestrations:</span></span>  
  
    -   <span data-ttu-id="aefac-291">业务流程开始和结束</span><span class="sxs-lookup"><span data-stu-id="aefac-291">Orchestration start and end</span></span>  
  
    -   <span data-ttu-id="aefac-292">消息发送和接收</span><span class="sxs-lookup"><span data-stu-id="aefac-292">Message send and receive</span></span>  
  
    -   <span data-ttu-id="aefac-293">形状开始和结束</span><span class="sxs-lookup"><span data-stu-id="aefac-293">Shape start and end</span></span>  
  
     <span data-ttu-id="aefac-294">跟踪选项"形状开始和结束"业务流程会产生很大的开销，并且不应在其中高吞吐量是必要的生产环境中启用。</span><span class="sxs-lookup"><span data-stu-id="aefac-294">The orchestration tracking option “Shape start and end” incurs significant overhead and should not be enabled in a production environment where high throughput is necessary.</span></span> <span data-ttu-id="aefac-295">业务流程跟踪选项中均可访问上的 BizTalk 管理控制台**跟踪**业务流程属性对话框中的页。</span><span class="sxs-lookup"><span data-stu-id="aefac-295">Orchestration tracking options are accessible in the BizTalk Administration console on the **Tracking** page of the Orchestration Properties dialog box.</span></span>  
  
 <span data-ttu-id="aefac-296">有关配置跟踪的详细信息，请参阅[配置跟踪使用 BizTalk Server 管理控制台](http://go.microsoft.com/fwlink/?LinkId=158021)(http://go.microsoft.com/fwlink/?LinkId=158021)。</span><span class="sxs-lookup"><span data-stu-id="aefac-296">For more information about configuring tracking, see [Configuring Tracking Using the BizTalk Server Administration Console](http://go.microsoft.com/fwlink/?LinkId=158021) (http://go.microsoft.com/fwlink/?LinkId=158021).</span></span>  
  
## <a name="decrease-the-purging-period-for-the-dta-purge-and-archive-job-from-7-days-to-2-days-in-high-throughput-scenarios"></a><span data-ttu-id="aefac-297">清除周期越短 DTA 清除和从 7 天到高吞吐量方案中的 2 天的存档作业</span><span class="sxs-lookup"><span data-stu-id="aefac-297">Decrease the purging period for the DTA Purge and Archive job from 7 days to 2 days in high throughput scenarios</span></span>  
 <span data-ttu-id="aefac-298">默认情况下，跟踪 BizTalk Server 中的数据的清除间隔设置为 7 天。</span><span class="sxs-lookup"><span data-stu-id="aefac-298">By default, the purging interval for tracking data in BizTalk Server is set to 7 days.</span></span> <span data-ttu-id="aefac-299">在高吞吐量方案中，这可能导致在跟踪数据库中，最终影响 MessageBox 和反过来产生负面影响消息处理吞吐量的性能数据上的过多生成。</span><span class="sxs-lookup"><span data-stu-id="aefac-299">In a high throughput scenario, this can result in an excessive build up of data in the Tracking database, which will eventually impact the performance of the MessageBox and in turn negatively impact message processing throughput.</span></span>  
  
 <span data-ttu-id="aefac-300">在高吞吐量的情况下，减少硬件和软件为 2 天清除从默认值 7 天的间隔。</span><span class="sxs-lookup"><span data-stu-id="aefac-300">In high throughput scenarios, reduce the hard and soft purging interval from the default of 7 days to 2 days.</span></span> <span data-ttu-id="aefac-301">有关配置清除间隔的详细信息，请参阅[如何配置 DTA 清除和存档作业](http://go.microsoft.com/fwlink/?LinkID=153814)(http://go.microsoft.com/fwlink/?LinkID=153814) 在 BizTalk Server 2010 帮助中。</span><span class="sxs-lookup"><span data-stu-id="aefac-301">For more information about configuring the purging interval, see [How to Configure the DTA Purge and Archive Job](http://go.microsoft.com/fwlink/?LinkID=153814) (http://go.microsoft.com/fwlink/?LinkID=153814) in the BizTalk Server 2010 Help.</span></span>  
  
## <a name="configure-the-temp-path-for-the-biztalk-service-account-to-point-to-a-separate-disk-or-lun"></a><span data-ttu-id="aefac-302">配置为指向一个单独的磁盘或 LUN 的 BizTalk 服务帐户的 %temp%路径</span><span class="sxs-lookup"><span data-stu-id="aefac-302">Configure the %temp% path for the BizTalk Service account to point to a separate disk or LUN</span></span>  
 <span data-ttu-id="aefac-303">应因为 BizTalk 使用到流文件的临时位置磁盘执行复杂的映射操作时完成此操作。</span><span class="sxs-lookup"><span data-stu-id="aefac-303">This should be done because BizTalk uses the temp location to stream files to disk when performing complex mapping operations.</span></span>  
  
## <a name="install-the-latest-service-packs"></a><span data-ttu-id="aefac-304">安装最新的 service pack</span><span class="sxs-lookup"><span data-stu-id="aefac-304">Install the latest service packs</span></span>  
 <span data-ttu-id="aefac-305">应安装 BizTalk Server 和.NET Framework 的最新服务包，因为这些文件组包含的修补程序可以更正你可能会遇到性能问题。</span><span class="sxs-lookup"><span data-stu-id="aefac-305">The latest service packs for both BizTalk Server and the .NET Framework should be installed, as these contain fixes that can correct performance issues you may encounter.</span></span>  
  
## <a name="performance-optimizations-in-the-biztalk-server-documentation"></a><span data-ttu-id="aefac-306">BizTalk Server 文档中的性能优化</span><span class="sxs-lookup"><span data-stu-id="aefac-306">Performance optimizations in the BizTalk Server documentation</span></span>  
 <span data-ttu-id="aefac-307">请遵循以下建议根据 BizTalk Server 文档中：</span><span class="sxs-lookup"><span data-stu-id="aefac-307">Apply the following recommendations from the BizTalk Server documentation as appropriate:</span></span>  
  
-   <span data-ttu-id="aefac-308">[MessageBox 延迟问题疑难解答](http://go.microsoft.com/fwlink/?LinkId=158019)(http://go.microsoft.com/fwlink/?LinkId=158019)</span><span class="sxs-lookup"><span data-stu-id="aefac-308">[Troubleshooting MessageBox Latency Issues](http://go.microsoft.com/fwlink/?LinkId=158019) (http://go.microsoft.com/fwlink/?LinkId=158019)</span></span>  
  
-   <span data-ttu-id="aefac-309">[识别性能瓶颈](http://go.microsoft.com/fwlink/?LinkID=154238)(http://go.microsoft.com/fwlink/?LinkID=154238)</span><span class="sxs-lookup"><span data-stu-id="aefac-309">[Identifying Performance Bottlenecks](http://go.microsoft.com/fwlink/?LinkID=154238) (http://go.microsoft.com/fwlink/?LinkID=154238)</span></span>  
  
-   <span data-ttu-id="aefac-310">[避免 DBNETLIB 异常](http://go.microsoft.com/fwlink/?LinkID=155308)(http://go.microsoft.com/fwlink/?LinkID=155308)</span><span class="sxs-lookup"><span data-stu-id="aefac-310">[Avoiding DBNETLIB Exceptions](http://go.microsoft.com/fwlink/?LinkID=155308) (http://go.microsoft.com/fwlink/?LinkID=155308)</span></span>  
  
-   <span data-ttu-id="aefac-311">[避免 TCP/IP 端口耗尽](http://go.microsoft.com/fwlink/?LinkID=153240)(http://go.microsoft.com/fwlink/?LinkID=153240)</span><span class="sxs-lookup"><span data-stu-id="aefac-311">[Avoiding TCP/IP Port Exhaustion](http://go.microsoft.com/fwlink/?LinkID=153240) (http://go.microsoft.com/fwlink/?LinkID=153240)</span></span>  
  
-   <span data-ttu-id="aefac-312">[设置 EPM 线程池大小](http://go.microsoft.com/fwlink/?LinkId=158020)(http://go.microsoft.com/fwlink/?LinkId=158020)</span><span class="sxs-lookup"><span data-stu-id="aefac-312">[Setting the EPM Threadpool Size](http://go.microsoft.com/fwlink/?LinkId=158020) (http://go.microsoft.com/fwlink/?LinkId=158020)</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="aefac-313">另请参阅</span><span class="sxs-lookup"><span data-stu-id="aefac-313">See Also</span></span>  
 [<span data-ttu-id="aefac-314">优化 BizTalk Server 性能</span><span class="sxs-lookup"><span data-stu-id="aefac-314">Optimizing BizTalk Server Performance</span></span>](../technical-guides/optimizing-biztalk-server-performance.md)