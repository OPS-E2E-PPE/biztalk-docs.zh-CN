---
title: 清单： 执行每周性能检查 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: c36fe78d-1be8-49f2-97ce-b6d0cadffab8
caps.latest.revision: 3
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: dee2dd8711d944aa8823b3a3a5954e7280b7a205
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/27/2018
ms.locfileid: "36990966"
---
# <a name="checklist-performing-weekly-performance-checks"></a>清单： 执行每周性能检查
本主题列出了最佳做法，以避免性能问题时应遵循每周都会[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]系统。  


|                                       步骤                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         参考                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                     设置为固定数量的数据库自动增长                     | 数据库自动增长应设置为固定数量的兆字节为单位，而不是百分比，尤其是对于 MessageBox 和跟踪 (DTA) 数据库。 具体取决于你[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]应用程序和吞吐量、 MessageBox 和跟踪数据库可能会非常大。 如果自动增长设置为百分比，则自动增长可能是重大。<br />-如果系统为新系统，并且没有已明确建立静态大小，然后将文件配置为启用自动增长选项，并指定文件增长等手段在兆字节为单位。 增长增量应通常不能大于 100 MB （对于大型文件）、 （适用于中型文件），10 MB 或 1 MB （对于小文件）。 请参阅**附录 B – 建议使用 BizTalk Server 数据库配置**一部分[BizTalk Server 数据库优化白皮书](http://go.microsoft.com/fwlink/p/?LinkID=153594)(<http://go.microsoft.com/fwlink/p/?LinkID=153594>) 具有的建议的文件大小的表每个[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]数据库。 |
|             限制您使用 SQL Server Profiler 来监视的事件             |                                                                                                                                                                                                                                                                                                                                                                 使用 SQL Server Profiler 来监视感兴趣的事件。 如果跟踪变得太大，可以筛选它们基于所需的信息，以便收集事件数据的一个子集。 监视过多事件会增加服务器和监视进程的开销，并且可能导致跟踪文件或跟踪表变得很大，尤其是当监视进程持续很长时间时。                                                                                                                                                                                                                                                                                                                                                                 |
|             配置消息批处理以提高适配器性能             |                                                                                                                                                                                                                                                                                                                                                                             -执行由适配器通过组合多个到单个批处理操作的事务的数量降至最低。<br />-限制基于总消息计数除了在批处理中的字节数的批大小。 有关限制批处理大小的详细信息，请参阅[提高适配器性能配置批处理](../technical-guides/configuring-batching-to-improve-adapter-performance.md)。                                                                                                                                                                                                                                                                                                                                                                              |
|                         调整大消息阈值                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      若要增加吞吐量，增加大消息阈值，这样就降低了大型进行缓冲的消息数为在映射期间的磁盘。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 调查内存泄漏或 BizTalk Server 进程中的内存不足异常 |                                                                                                                                                                                                                                                                                                                                                                                       BizTalk 进程中的内存泄漏可能由于各种原因。 请参阅 Microsoft 知识库文章 918643，[如何排查内存泄漏或 BizTalk Server 进程中的出现内存不足异常](http://go.microsoft.com/fwlink/p/?LinkId=157212)(<http://go.microsoft.com/fwlink/p/?LinkId=157212>) 的方案中可能发生内存泄漏，有关信息和如何修复此错误。                                                                                                                                                                                                                                                                                                                                                                                        |

## <a name="see-also"></a>请参阅  
 [例程性能清单](../technical-guides/routine-performance-checklists.md)   
 [清单：执行每月性能检查](../technical-guides/checklist-performing-monthly-performance-checks.md)