---
title: 扩展 BizTalk ESB 工具包功能使用 SOA Governance |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: b66a121b-d86f-4f97-a05f-5141ffe719e8
caps.latest.revision: 14
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: a770599e082d2f25062588247acfeb6a0449b974
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/27/2018
ms.locfileid: "36977502"
---
# <a name="extending-biztalk-esb-toolkit-capabilities-with-soa-governance"></a><span data-ttu-id="ff7f5-102">使用 SOA Governance 扩展 BizTalk ESB 工具包功能</span><span class="sxs-lookup"><span data-stu-id="ff7f5-102">Extending BizTalk ESB Toolkit Capabilities with SOA Governance</span></span>
<span data-ttu-id="ff7f5-103">[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]随[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]是一系列工具和扩展的库和[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]支持松散耦合和动态的消息传递体系结构的功能。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-103">The [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] is shipped with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and is a collection of tools and libraries that extend [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] capabilities of supporting a loosely coupled and dynamic messaging architecture.</span></span> <span data-ttu-id="ff7f5-104">它充当快速中介服务及其使用者之间提供了工具的中间件。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-104">It functions as middleware that provides tools for rapid mediation between services and their consumers.</span></span> <span data-ttu-id="ff7f5-105">在运行时，启用最大的灵活性[!INCLUDE[esbToolkit_short](../includes/esbtoolkit-short-md.md)]简化了松散耦合的服务终结点组合和管理服务的交互。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-105">Enabling maximum flexibility at run time, the [!INCLUDE[esbToolkit_short](../includes/esbtoolkit-short-md.md)] simplifies loosely coupled composition of service endpoints and management of service interactions.</span></span>  
  
 <span data-ttu-id="ff7f5-106">Sentinet BizTalk Server 扩展增强的功能[!INCLUDE[esbToolkit_short](../includes/esbtoolkit-short-md.md)]通过将其与 Sentinet，SOA 监管和适用于 Microsoft 平台的 API 管理软件解决方案。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-106">Sentinet BizTalk Server Extensions enhance the capabilities of [!INCLUDE[esbToolkit_short](../includes/esbtoolkit-short-md.md)] by integrating it with Sentinet, an SOA governance and API management software solution for the Microsoft platform.</span></span> <span data-ttu-id="ff7f5-107">首次发布 Sentinet[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]扩展产品/服务[!INCLUDE[esbToolkit_short](../includes/esbtoolkit-short-md.md)]SOA 存储库解析程序，它与 BizTalk Server 2013 集成[!INCLUDE[esbToolkit_short](../includes/esbtoolkit-short-md.md)]，和 Visual Studio 2012。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-107">The first release of the Sentinet [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Extensions offers a [!INCLUDE[esbToolkit_short](../includes/esbtoolkit-short-md.md)] SOA Repository Resolver that integrates with BizTalk Server 2013, [!INCLUDE[esbToolkit_short](../includes/esbtoolkit-short-md.md)], and Visual Studio 2012.</span></span>  
  
 <span data-ttu-id="ff7f5-108">此白皮书讨论的是如何 Sentinet SOA 冲突解决程序扩展了[!INCLUDE[esbToolkit_short](../includes/esbtoolkit-short-md.md)]功能，如何配置 Sentinet SOA 的冲突解决程序，并最后演示如何使用 Sentinet SOA 冲突解决程序的示例。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-108">This whitepaper talks about the how Sentinet SOA Resolver extends [!INCLUDE[esbToolkit_short](../includes/esbtoolkit-short-md.md)] capabilities, how to configure the Sentinet SOA Resolver, and finally a sample demonstrating how to use the Sentinet SOA Resolver.</span></span>  
  
## <a name="esb-toolkit-and-sentinet-soa-resolver"></a><span data-ttu-id="ff7f5-109">ESB 工具包和 Sentinet SOA 冲突解决程序</span><span class="sxs-lookup"><span data-stu-id="ff7f5-109">ESB Toolkit and Sentinet SOA Resolver</span></span>  
 <span data-ttu-id="ff7f5-110">除此之外，ESB 工具包解析程序必须提供以下信息：</span><span class="sxs-lookup"><span data-stu-id="ff7f5-110">Among other things, an ESB Toolkit Resolver must provide the following:</span></span>  
  
- <span data-ttu-id="ff7f5-111">运行时解析服务终结点和它们的配置</span><span class="sxs-lookup"><span data-stu-id="ff7f5-111">Runtime resolution of service endpoints and their configurations</span></span>  
  
- <span data-ttu-id="ff7f5-112">BizTalk ESB 松散耦合的消息传送解决方案。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-112">BizTalk ESB solutions with loosely coupled messaging.</span></span>  
  
  <span data-ttu-id="ff7f5-113">Sentinet 提供一个可靠的、 全面[SOA 存储库](http://www.nevatech.com/sentinet/soa-repository)SOA 的集成解决方案，以及高级 SOA 管理和运行时提供管理功能。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-113">Sentinet offers a robust and comprehensive [SOA Repository](http://www.nevatech.com/sentinet/soa-repository) that provides SOA integration solutions along with advanced SOA governance and runtime management capabilities.</span></span> <span data-ttu-id="ff7f5-114">结合 Sentinet SOA 存储库，Sentinet SOA 冲突解决程序提供了[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]ESB 体系结构和高级且易于使用 ESB 配置、 动态消息路由和消息安全实现功能。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-114">Combined with Sentinet SOA Repository, Sentinet SOA Resolver provides [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ESB architectures with advanced and easy to use ESB configurations, dynamic message routing, and message security implementation capabilities.</span></span>  
  
  <span data-ttu-id="ff7f5-115">下面概要关系图显示了如何 Sentinet SOA 冲突解决程序适应[!INCLUDE[esbToolkit_short](../includes/esbtoolkit-short-md.md)]体系结构。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-115">A high-level diagram below shows how the Sentinet SOA Resolver fits in the [!INCLUDE[esbToolkit_short](../includes/esbtoolkit-short-md.md)] architecture.</span></span>  
  
  <span data-ttu-id="ff7f5-116">![含 BizTalk ESB 工具包的 Sentinet](../technical-guides/media/sentinetwp-arch.png "SentinetWP_Arch")</span><span class="sxs-lookup"><span data-stu-id="ff7f5-116">![Sentinet with BizTalk ESB Toolkit](../technical-guides/media/sentinetwp-arch.png "SentinetWP_Arch")</span></span>  
  
  <span data-ttu-id="ff7f5-117">在运行时，**终结点解析和路由**组件图 （这是 ESB 工具包冲突解决程序框架的一部分） 中使用 （在 Visual Studio 路线设计器中创建） 的路线文档来实例化特定冲突解决程序，并请求冲突解决程序提供服务终结点和其配置。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-117">At runtime, the **Endpoint Resolution and Routing** component in the illustration above (which is part of the ESB Toolkit Resolver Framework) uses an Itinerary document (created in Visual Studio Itinerary Designer) to instantiate specific Resolver and to request Resolver to provide service endpoint and its configuration.</span></span> <span data-ttu-id="ff7f5-118">路线本身必须使用服务终结点，对引用进行配置，以便解析程序可以使用此引用要在注册表或存储库中查找请求的终结点。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-118">Itinerary itself has to be configured with the reference to the service endpoint, so that resolver can use this reference to find requested endpoint in the Registry or Repository.</span></span> <span data-ttu-id="ff7f5-119">在设计时 （在创建路线） 时，不知道服务终结点的实际物理地址，并且不会需要执行此服务的安全策略。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-119">At design-time (when Itinerary is created), actual physical address of the service endpoint is not known, and neither are the security policies that the service requires.</span></span> <span data-ttu-id="ff7f5-120">在后续阶段中，运行时使用的 ESB 工具包解析服务终结点配置关闭负载增加动态发送端口以将消息发送到使用所需的服务的安全设置的实际物理服务地址。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-120">At later stages, ESB Toolkit runtime uses resolved service endpoint to configure Off-Ramp dynamic Send Port to send the message to the actual physical service address with required service security settings.</span></span> <span data-ttu-id="ff7f5-121">如果服务终结点地址、 通信协议或安全要求更改专用注册表/存储库配置必须进行更新。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-121">If service endpoint address, communication protocols, or security requirements change only the registry/repository configuration has to be updated.</span></span> <span data-ttu-id="ff7f5-122">ESB 或 BizTalk Server 项目的运行时配置不需要进行更新。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-122">The runtime configuration of the ESB or BizTalk Server artifacts does not require to be updated.</span></span>  
  
## <a name="how-does-the-sentinet-resolver-add-value-to-an-esb-toolkit-application"></a><span data-ttu-id="ff7f5-123">如何 Sentinet 冲突解决程序 does 到 ESB 工具包应用程序添加值？</span><span class="sxs-lookup"><span data-stu-id="ff7f5-123">How does the Sentinet Resolver add value to an ESB Toolkit application?</span></span>  
 <span data-ttu-id="ff7f5-124">SOA 存储库以及使用 Sentinet 冲突解决程序的两个主要优点是：</span><span class="sxs-lookup"><span data-stu-id="ff7f5-124">The two key benefits of using the Sentinet Resolver along with the SOA repository are:</span></span>  
  
- <span data-ttu-id="ff7f5-125">将客户端标识分配给已解析的外部服务终结点 – 大多数情况下，解析的 ESB 终结点需要特定的客户端标识来调用外部服务 （例如用户名/密码、 特定的 Windows 帐户凭据或特定的 X.509证书）。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-125">Assigning client identities to the resolved external service endpoint – Most of the time, the resolved ESB endpoint requires specific client identity to call external service (like username/password, specific Windows account credentials or specific X.509 certificate).</span></span> <span data-ttu-id="ff7f5-126">这是很常见的安全要求，这不由其他 ESB 解析程序/注册表适当地处理。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-126">This is a very common security requirement which is not appropriately handled by other ESB resolvers/registries.</span></span>  
  
- <span data-ttu-id="ff7f5-127">对安全信息 – 若要解决以前的限制，限制访问其他冲突解决程序可能使用 Tmodel 的手动的配置包含与所需的安全标识的复杂 XML。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-127">Restricting access to security information – To work around the previous limitation, other resolvers might use manual configuration of tModels to include complex XML with the required security identities.</span></span> <span data-ttu-id="ff7f5-128">但是，注册表/存储库的一部分保存的安全信息不是正确的方法。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-128">However, saving the security information as part of registries/repositories is not the right approach.</span></span> <span data-ttu-id="ff7f5-129">这提供了服务使用者轻松访问用户名、 密码等访问该服务的安全详细信息。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-129">This provides service consumers easy access to the security details such as username, password, etc. to access the service.</span></span>  
  
  <span data-ttu-id="ff7f5-130">Sentinet 冲突解决程序和 Sentinet SOA 存储库功能，灵活地提供了对功能和安全地将任何特定的客户端标识分配给通过标准或自定义 WCF 终结点行为的解析 ESB 终结点。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-130">Sentinet Resolver and Sentinet SOA Repository provide capabilities to flexibly and securely assign any specific client identity to the resolved ESB endpoint via standard or custom WCF endpoint behaviors.</span></span> <span data-ttu-id="ff7f5-131">Sentinet 来实现此安全信息通过使用配置 Sentinet 冲突解决程序，并不 Sentinet SOA 存储库。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-131">Sentinet achieves this by configuring Sentinet Resolver, and not the Sentinet SOA Repository with the security information.</span></span> <span data-ttu-id="ff7f5-132">使用 Sentinet 解析程序配置的所有客户端凭据以加密形式存储。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-132">All client credentials that are configured with the Sentinet Resolver are stored in an encrypted form.</span></span>  
  
  <span data-ttu-id="ff7f5-133">除此之外，以下是一些使用 Sentinet 冲突解决程序和 Sentinet SOA 存储库的其他好处。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-133">Over and above this, following are some of the other benefits of using the Sentinet Resolver and Sentinet SOA Repository.</span></span>  
  
- <span data-ttu-id="ff7f5-134">提供了全面的 SOA 存储库。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-134">Provides a comprehensive SOA repository.</span></span> <span data-ttu-id="ff7f5-135">存储库提供访问服务元数据内容、 服务标识和策略，对服务版本等的支持。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-135">The repository provides access to service metadata content, service identities and policies, support for service versions, etc.</span></span>  
  
- <span data-ttu-id="ff7f5-136">易于通过上传服务 WSDL Sentinet 注册表中注册物理服务。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-136">Ease of registering physical services in the Sentinet registry by uploading service WSDL.</span></span>  
  
- <span data-ttu-id="ff7f5-137">全面且易于使用 Sentinet 管理控制台。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-137">Comprehensive and easy-to-use Sentinet Administrative Console.</span></span> <span data-ttu-id="ff7f5-138">在控制台提供管理访问权限的所有服务元数据和项目，与访问服务操作及其数据架构、 服务终结点、 安全策略和等等的简单用户界面。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-138">The console provides management access to all service metadata and associated artifacts, with simple user interface to access service operations and their data schemas, service endpoints, security policies, etc.</span></span>  
  
- <span data-ttu-id="ff7f5-139">管理和配置为解析终结点的自定义行为。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-139">Management and configuration of custom behaviors for resolved endpoints.</span></span> <span data-ttu-id="ff7f5-140">Sentinet 冲突解决程序解决终结点提供完全可自定义且易于配置的终结点行为。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-140">Sentinet Resolver provides fully customizable and easily configurable endpoint behaviors for the resolved endpoints.</span></span>  
  
- <span data-ttu-id="ff7f5-141">若要配置不同的搜索条件 Sentinet 冲突解决程序的选项。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-141">Option to configure the Sentinet Resolver with a variety of search criteria.</span></span> <span data-ttu-id="ff7f5-142">路线可以定义分配给服务终结点，任何关键字，或使用指向存储库服务层次结构中的服务的服务路径。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-142">Itineraries can define any keyword that is assigned to a service endpoint, or use a service path that points to a service in the Repository services hierarchy.</span></span>  
  
- <span data-ttu-id="ff7f5-143">测试功能的高级解析程序。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-143">Advanced resolver testing capabilities.</span></span> <span data-ttu-id="ff7f5-144">Sentinet 解析程序配置可以直接从 Visual Studio 路线设计器进行测试。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-144">Sentinet Resolver configurations can be tested straight from the Visual Studio Itinerary Designer.</span></span> <span data-ttu-id="ff7f5-145">其他冲突解决程序可以仅提供有关终结点的基本属性的信息，Sentinet 冲突解决程序提供了有关解决终结点的扩展的信息。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-145">While other resolvers can only provide information about basic properties of the endpoint, Sentinet Resolver provides extended information about resolved endpoints.</span></span> <span data-ttu-id="ff7f5-146">终结点的基本属性，除了 Sentinet 冲突解决程序显示的属性标识的已解析的 Sentinet 存储库中的服务和终结点位置。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-146">In addition to endpoint basic properties, Sentinet Resolver reveals the properties that identify resolved service and endpoint location in the Sentinet Repository.</span></span> <span data-ttu-id="ff7f5-147">路线设计器可以测试如何 Sentinet 冲突解决程序和不同的搜索条件对其影响解析结果之前在运行时使用自身的路线。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-147">Itinerary designers can test how Sentinet Resolver and its different search criteria affect resolution results before Itinerary itself is used at runtime.</span></span>  
  
## <a name="installing-the-sentinet-biztalk-server-extensions"></a><span data-ttu-id="ff7f5-148">安装 Sentinet BizTalk Server 扩展</span><span class="sxs-lookup"><span data-stu-id="ff7f5-148">Installing the Sentinet BizTalk Server Extensions</span></span>  
 <span data-ttu-id="ff7f5-149">可以下载并安装中的 Sentinet BizTalk 扩展[此处](http://www.nevatech.com/download)。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-149">You can download and install the Sentinet BizTalk Extensions from [here](http://www.nevatech.com/download).</span></span> <span data-ttu-id="ff7f5-150">安装扩展的 ESB 工具包、 文档和有关如何使用扩展的示例安装 Sentinet 冲突解决程序。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-150">Installing the extension installs the Sentinet Resolver for ESB Toolkit, documentation, and samples on how to use the extension.</span></span>  
  
 <span data-ttu-id="ff7f5-151">详细说明了如何安装和配置 Sentinet BizTalk Server 扩展的文档是可用的产品下载的一部分。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-151">A document detailing how to install and configure the Sentinet BizTalk Server extension is available as part of the product download.</span></span>  
  
## <a name="using-the-sentinet-biztalk-server-extensions"></a><span data-ttu-id="ff7f5-152">使用 Sentinet BizTalk Server 扩展</span><span class="sxs-lookup"><span data-stu-id="ff7f5-152">Using the Sentinet BizTalk Server Extensions</span></span>  
 <span data-ttu-id="ff7f5-153">在本部分中，我们介绍了如何使用 Sentinet BizTalk Server 扩展并展示上面提到的功能。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-153">In this section, we look at how to use the Sentinet BizTalk Server extensions and showcase the capabilities mentioned above.</span></span>  
  
### <a name="prerequisites"></a><span data-ttu-id="ff7f5-154">必要條件</span><span class="sxs-lookup"><span data-stu-id="ff7f5-154">Prerequisites</span></span>  
 <span data-ttu-id="ff7f5-155">在本白皮书中的说明假定有以下安装和配置：</span><span class="sxs-lookup"><span data-stu-id="ff7f5-155">Instructions in this whitepaper assume that you have the following installed and configured:</span></span>  
  
-   <span data-ttu-id="ff7f5-156">Visual Studio 2012。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-156">Visual Studio 2012.</span></span>  
  
-   <span data-ttu-id="ff7f5-157">BizTalk Server 2013。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-157">BizTalk Server 2013.</span></span> <span data-ttu-id="ff7f5-158">有关说明，请参阅[安装 BizTalk Server 2013](http://msdn.microsoft.com/library/jj248688\(v=bts.80\).aspx)。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-158">For instructions, see [Installing BizTalk Server 2013](http://msdn.microsoft.com/library/jj248688\(v=bts.80\).aspx).</span></span>  
  
-   <span data-ttu-id="ff7f5-159">BizTalk Server ESB 工具包。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-159">BizTalk Server ESB Toolkit.</span></span> <span data-ttu-id="ff7f5-160">有关说明，请参阅[安装和配置 Microsoft BizTalk ESB 工具包](http://msdn.microsoft.com/library/jj684558\(v=bts.80\).aspx)。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-160">For instructions, see [Install and Configure the Microsoft BizTalk ESB Toolkit](http://msdn.microsoft.com/library/jj684558\(v=bts.80\).aspx).</span></span>  
  
-   <span data-ttu-id="ff7f5-161">Sentinet BizTalk Server 扩展。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-161">Sentinet BizTalk Server Extensions.</span></span> <span data-ttu-id="ff7f5-162">有关说明，请参阅提供的文档作为产品下载可用的一部分[此处](http://www.nevatech.com/download)。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-162">For instructions, refer to the documentation available as part of the product download available [here](http://www.nevatech.com/download).</span></span>  
  
### <a name="register-a-web-service"></a><span data-ttu-id="ff7f5-163">注册 web 服务</span><span class="sxs-lookup"><span data-stu-id="ff7f5-163">Register a web service</span></span>  
 <span data-ttu-id="ff7f5-164">必须在存储库中注册由 Sentinet 基础结构管理的 web 服务。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-164">Web services that are managed by the Sentinet infrastructure must be registered in the Repository.</span></span> <span data-ttu-id="ff7f5-165">本白皮书将附带的 WCF 客户搜索示例服务使用 Sentinet 安装包。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-165">This whitepaper uses a WCF Customer Search sample service that is shipped with the Sentinet installation package.</span></span>  
  
1. <span data-ttu-id="ff7f5-166">启动**客户搜索**示例安装由 Sentinet 安装包的服务。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-166">Start the **Customer Search** sample service installed by the Sentinet installation package.</span></span> <span data-ttu-id="ff7f5-167">启动以管理员身份客户搜索示例中，选择策略绑定 (例如**wsHttpBinding**)，然后单击**启动**。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-167">Launch the Customer Search sample as an administrator, select a policy binding (e.g. **wsHttpBinding**) and then click **Start**.</span></span>  
  
2. <span data-ttu-id="ff7f5-168">服务开始运行后，单击**视图 Wsdl**链接以打开浏览器使用服务元数据 URL 和 WSDL 的服务。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-168">Once the service is running, click the **View Wsdl** link to open a browser with the service metadata URL and the service WSDL.</span></span> <span data-ttu-id="ff7f5-169">从浏览器地址栏复制元数据 URL。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-169">Copy the metadata URL from the browser address bar.</span></span>  
  
3. <span data-ttu-id="ff7f5-170">打开浏览器并输入 URL (`https://[computer-name]/sentinet`) 以启动 Sentinet 管理控制台。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-170">Open a browser and enter the URL (`https://[computer-name]/sentinet`) to start the Sentinet Administrative Console.</span></span> <span data-ttu-id="ff7f5-171">登录名，然后选择**存储库**中的根元素**存储库**视图面板。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-171">Login and select the **Repository** root element in the **Repository** view panel.</span></span> <span data-ttu-id="ff7f5-172">右键单击**存储库**根元素，并单击**添加 > 服务 > SOAP**菜单选项。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-172">Right-click the **Repository** root element and click the **Add > Service > SOAP** menu option.</span></span>  
  
4. <span data-ttu-id="ff7f5-173">在**添加的服务**对话框中，对于**URL 从 WSDL**选项，粘贴前面复制的服务元数据 URL，然后单击**下一步**。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-173">In the **Add Service** dialog box, for the **WSDL from URL** option, paste the service metadata URL you copied earlier, and then click **Next**.</span></span>  
  
    <span data-ttu-id="ff7f5-174">![添加服务 URL](../technical-guides/media/sentinetwp-addserviceurl.png "SentinetWP_AddServiceURL")</span><span class="sxs-lookup"><span data-stu-id="ff7f5-174">![Add Service URL](../technical-guides/media/sentinetwp-addserviceurl.png "SentinetWP_AddServiceURL")</span></span>  
  
5. <span data-ttu-id="ff7f5-175">向导将启动下载服务元数据。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-175">The wizard starts downloading the service metadata.</span></span> <span data-ttu-id="ff7f5-176">下载完成后，向导将显示 Web 服务树状结构。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-176">Once the download is complete, the wizard displays the Web Service tree structure.</span></span> <span data-ttu-id="ff7f5-177">提供服务的名称，然后单击**完成**服务元数据上载到 Sentinet 存储库。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-177">Provide a name for the service and click **Finish** to upload the service metadata to the Sentinet Repository.</span></span>  
  
    <span data-ttu-id="ff7f5-178">![Web 服务结构](../technical-guides/media/sentinetwp-servicestructure.png "SentinetWP_ServiceStructure")</span><span class="sxs-lookup"><span data-stu-id="ff7f5-178">![Web service structure](../technical-guides/media/sentinetwp-servicestructure.png "SentinetWP_ServiceStructure")</span></span>  
  
6. <span data-ttu-id="ff7f5-179">该服务将作为导入到存储库版本 1。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-179">The service is imported to the repository as version 1.</span></span> <span data-ttu-id="ff7f5-180">选择的版本，然后选择该终结点。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-180">Select the version, and then select the endpoint.</span></span> <span data-ttu-id="ff7f5-181">在中**终结点详细信息**窗格的底部，单击**附件**选项卡，然后依次**修改**。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-181">In the **Endpoint Details** pane at the bottom, click the **Attachments** tab, and then click **Modify**.</span></span>  
  
    <span data-ttu-id="ff7f5-182">![修改服务终结点](../technical-guides/media/sentinetwp-serviceendpoint.png "SentinetWP_ServiceEndpoint")</span><span class="sxs-lookup"><span data-stu-id="ff7f5-182">![Modify service endpoint](../technical-guides/media/sentinetwp-serviceendpoint.png "SentinetWP_ServiceEndpoint")</span></span>  
  
7. <span data-ttu-id="ff7f5-183">在终结点详细信息选项卡中单击 (**+**) 对登录**关键字**，输入与该终结点相关联的关键字 (例如， **TestKeyword**)，和然后单击**保存**。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-183">In the Endpoint Details tab, click the (**+**) sign against **Keywords**, enter a keyword to associate with the endpoint (for example, **TestKeyword**), and then click **Save**.</span></span> <span data-ttu-id="ff7f5-184">SOA 存储库中作为终结点标记 （或标识符） 使用了关键字。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-184">The keyword is used as an endpoint tag (or identifier) in the SOA repository.</span></span>  
  
    <span data-ttu-id="ff7f5-185">![指定一个关键字](../technical-guides/media/sentinetwp-enterkeyword.png "SentinetWP_EnterKeyword")</span><span class="sxs-lookup"><span data-stu-id="ff7f5-185">![Specify a keyword](../technical-guides/media/sentinetwp-enterkeyword.png "SentinetWP_EnterKeyword")</span></span>  
  
   <span data-ttu-id="ff7f5-186">重复上述步骤来添加的新版本**CustomerSearch**服务，但具有不同的绑定，例如**basicHttpBinding**。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-186">Repeat the steps above to add a new version of the **CustomerSearch** service, but with a different binding, e.g. **basicHttpBinding**.</span></span> <span data-ttu-id="ff7f5-187">稍后在本白皮书中，我们将演示如何 Sentinet 冲突解决程序可以解析为不同的服务 （或相同服务的不同版本） 只需通过将关联到服务终结点搜索关键字。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-187">Later in this whitepaper, we’ll demonstrate how the Sentinet Resolver can resolve to different services (or different versions of the same service) just by associating a search keyword to the service endpoint.</span></span>  
  
### <a name="configure-sentinet-resolver"></a><span data-ttu-id="ff7f5-188">配置 Sentinet 冲突解决程序</span><span class="sxs-lookup"><span data-stu-id="ff7f5-188">Configure Sentinet Resolver</span></span>  
 <span data-ttu-id="ff7f5-189">本部分介绍如何在简单 BizTalk ESB 路线设计器项目中，配置 Sentinet 冲突解决程序，特别是如何使用关键字来唯一地解析为服务终结点。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-189">This section shows how to configure the Sentinet Resolver in simple BizTalk ESB Itinerary Designer project, and specifically how to use keywords to uniquely resolve to a service endpoint.</span></span> <span data-ttu-id="ff7f5-190">本部分还演示了如何测试而不发送任何 ESB 消息本身，Visual Studio 中的冲突解决程序。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-190">This section also demonstrates how to test the resolver from Visual Studio itself, without sending any ESB messages.</span></span>  
  
1.  <span data-ttu-id="ff7f5-191">启动 Visual Studio 并创建**BizTalk ESB 路线设计器**项目。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-191">Start Visual Studio and create a **BizTalk ESB Itinerary Designer** project.</span></span>  
  
2.  <span data-ttu-id="ff7f5-192">在解决方案资源管理器，双击路线以便在路线设计器中打开它。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-192">In the Solution Explorer, double-click the itinerary to open it in the Itinerary Designer.</span></span>  
  
3.  <span data-ttu-id="ff7f5-193">从工具箱拖放**路线服务**设计器图面上的形状。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-193">From the Toolbox, drag and drop the **Itinerary Service** shape on the designer surface.</span></span>  
  
4.  <span data-ttu-id="ff7f5-194">选择**路线服务**形状，然后更改**路线服务扩展器**属性设置为**消息扩展器**从下拉列表。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-194">Select the **Itinerary Service** shape and change the **Itinerary Service Extender** property to **Messaging Extender** from the drop-down list.</span></span>  
  
     <span data-ttu-id="ff7f5-195">![设置消息扩展程序属性](../technical-guides/media/sentinetwp-setmessageextender.png "SentinetWP_SetMessageExtender")</span><span class="sxs-lookup"><span data-stu-id="ff7f5-195">![Set the Message Extender Property](../technical-guides/media/sentinetwp-setmessageextender.png "SentinetWP_SetMessageExtender")</span></span>  
  
5.  <span data-ttu-id="ff7f5-196">右键单击**冲突解决程序**中的元素**路线服务**形状，然后单击**添加新解析程序**。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-196">Right-click the **Resolver** element in the **Itinerary Service** shape and click **Add new Resolver**.</span></span>  
  
     <span data-ttu-id="ff7f5-197">![添加新的冲突解决程序](../technical-guides/media/sentinetwp-addnewresolver.png "SentinetWP_AddNewResolver")</span><span class="sxs-lookup"><span data-stu-id="ff7f5-197">![Add a new resolver](../technical-guides/media/sentinetwp-addnewresolver.png "SentinetWP_AddNewResolver")</span></span>  
  
6.  <span data-ttu-id="ff7f5-198">选择新的冲突解决程序元素，将其重命名 (例如， **MyResolver**)，并为**解析程序实现**属性中，选择**Sentinet 冲突解决程序扩展**。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-198">Select the new resolver element, rename it (e.g., **MyResolver**), and the for the **Resolver Implementation** property, select **Sentinet Resolver Extension**.</span></span>  
  
     <span data-ttu-id="ff7f5-199">![设置解析程序实现](../technical-guides/media/sentinetwp-addresolverimplementation.png "SentinetWP_AddResolverImplementation")</span><span class="sxs-lookup"><span data-stu-id="ff7f5-199">![Set the resolver implementation](../technical-guides/media/sentinetwp-addresolverimplementation.png "SentinetWP_AddResolverImplementation")</span></span>  
  
7.  <span data-ttu-id="ff7f5-200">指定**操作**并**关键字**Sentinet 冲突解决程序扩展的属性。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-200">Specify the **Action** and **Keywords** properties for the Sentinet Resolver Extension.</span></span> <span data-ttu-id="ff7f5-201">我们将使用这些属性来唯一地解析为我们之前添加到 Sentinet 存储库的服务。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-201">We’ll use these properties to resolve uniquely to services we added earlier to the Sentinet Repository.</span></span> <span data-ttu-id="ff7f5-202">有也可以指定 Sentinet 冲突解决程序扩展的其他属性。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-202">There are other properties as well that you can specify for the Sentinet Resolver Extension.</span></span> <span data-ttu-id="ff7f5-203">若要了解有关这些属性的详细信息，请参阅 Sentinet BizTalk 扩展用户指南。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-203">To learn more about those properties, refer to the Sentinet BizTalk Extensions User Guide.</span></span>  
  
    |<span data-ttu-id="ff7f5-204">“属性”</span><span class="sxs-lookup"><span data-stu-id="ff7f5-204">Property</span></span>|<span data-ttu-id="ff7f5-205">Description</span><span class="sxs-lookup"><span data-stu-id="ff7f5-205">Description</span></span>|  
    |--------------|-----------------|  
    |<span data-ttu-id="ff7f5-206">操作</span><span class="sxs-lookup"><span data-stu-id="ff7f5-206">Action</span></span>|<span data-ttu-id="ff7f5-207">消息操作标头，用于唯一地标识而调用的服务操作。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-207">Message Action header that uniquely identifies service operation that is called.</span></span> <span data-ttu-id="ff7f5-208">此操作标头是服务 WSDL 的一部分，可在服务 WSDL、 中或从 Sentinet 管理控制台用户界面 （在下操作的请求消息属性。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-208">This action header is part of the service WSDL and can be found either in the service WSDL, or from the Sentinet Administrative Console User Interface (under the operation’s Request message properties.</span></span>|  
    |<span data-ttu-id="ff7f5-209">关键字</span><span class="sxs-lookup"><span data-stu-id="ff7f5-209">Keywords</span></span>|<span data-ttu-id="ff7f5-210">提供关键字 (例如**TestKeyword**) 分配给 Sentinet 管理控制台中的服务。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-210">Provide the keyword (e.g. **TestKeyword**) that you assigned to the service in the Sentinet Administrative Console.</span></span>|  
  
     <span data-ttu-id="ff7f5-211">下面的屏幕截图显示了为指定的操作和关键字属性**MyResolver**配置。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-211">The following screenshot shows the Action and Keywords property specified for the **MyResolver** configuration.</span></span>  
  
     <span data-ttu-id="ff7f5-212">![Sentinet Resolver 配置](../technical-guides/media/sentinetwp-resolverconfig.png "SentinetWP_ResolverConfig")</span><span class="sxs-lookup"><span data-stu-id="ff7f5-212">![Sentinet Resolvery configuration](../technical-guides/media/sentinetwp-resolverconfig.png "SentinetWP_ResolverConfig")</span></span>  
  
8.  <span data-ttu-id="ff7f5-213">将更改保存到配置。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-213">Save changes to the configuration.</span></span>  
  
#### <a name="advanced-resolver-configuration"></a><span data-ttu-id="ff7f5-214">高级的解析程序配置</span><span class="sxs-lookup"><span data-stu-id="ff7f5-214">Advanced Resolver Configuration</span></span>  
 <span data-ttu-id="ff7f5-215">Sentinet BizTalk 扩展配置应用程序修改**Sentinet.BizTalk.config**位于包安装文件夹的根目录中的文件 (默认位置是`<installation drive>:\Program Files\Nevatech\Sentinet BizTalk Extensions\Sentinet.BizTalk.config`)。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-215">Sentinet BizTalk Extensions Configuration application modifies **Sentinet.BizTalk.config** file located in the root of the package installation folder (the default location is `<installation drive>:\Program Files\Nevatech\Sentinet BizTalk Extensions\Sentinet.BizTalk.config`).</span></span> <span data-ttu-id="ff7f5-216">可以修改的文件之外**Sentinet BizTalk 扩展配置**应用程序以提供高级的配置选项。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-216">The file can be modified outside of **Sentinet BizTalk Extensions Configuration** application to provide advanced configuration options.</span></span> <span data-ttu-id="ff7f5-217">例如，在很多实用的 ESB 方案解决终结点必须不仅与服务终结点地址和绑定，而且还具有特定的客户端标识 （用户名/密码、 特定 Windows 帐户凭据或 X.509 客户端提供证书）。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-217">For example, in many practical ESB scenarios resolved endpoints have to be provided not only with service endpoint addresses and bindings, but also with specific client identities (username/password, specific Windows account credentials, or a client X.509 certificate).</span></span> <span data-ttu-id="ff7f5-218">如果没有正确的客户端标识，ESB 接入点关闭发送端口无法调用外部服务。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-218">Without the proper client identity, ESB Off-Ramp Send Ports fail to call external services.</span></span> <span data-ttu-id="ff7f5-219">Sentinet 冲突解决程序，将分配提供相应的客户端终结点标识的特定终结点行为的路线开发人员。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-219">Sentinet Resolver lets Itinerary developer assign specific endpoint behavior that provides appropriate client endpoint identity.</span></span> <span data-ttu-id="ff7f5-220">多个终结点行为可以是预配置为在标准 WCF 终结点行为**Sentinet.BizTalk.config**文件，然后特定终结点行为可以在从 Sentinet 冲突解决程序路线的情况下引用配置中，通过指定名称的行为**解析终结点行为**属性。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-220">Multiple endpoint behaviors can be pre-configured as standard WCF endpoint behaviors in the **Sentinet.BizTalk.config** file, and then specific endpoint behavior can be referenced in the Itinerary from the Sentinet Resolver configuration, by specifying the name of the behavior for the **Resolved Endpoint Behavior** property.</span></span>  
  
### <a name="test-the-resolver-configuration"></a><span data-ttu-id="ff7f5-221">测试冲突解决程序配置</span><span class="sxs-lookup"><span data-stu-id="ff7f5-221">Test the Resolver Configuration</span></span>  
 <span data-ttu-id="ff7f5-222">通过指定相关的属性值来配置 Sentinet 冲突解决程序后，可以测试从 Visual Studio 本身的冲突解决程序。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-222">After you have configured the Sentinet Resolver by specifying the relevant property values, you can test the Resolver from Visual Studio itself.</span></span>  
  
1. <span data-ttu-id="ff7f5-223">在设计图面上，右键单击 Sentinet 冲突解决程序添加到**路线服务**形状，然后依次**测试解析程序配置**。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-223">From the design surface, right-click the Sentinet Resolver you added to the **Itinerary Service** shape, and then click **Test Resolver Configuration**.</span></span>  
  
    <span data-ttu-id="ff7f5-224">输出窗格中显示测试结果，其中的一段摘录是类似于如下所示：</span><span class="sxs-lookup"><span data-stu-id="ff7f5-224">The output pane shows the test results, an excerpt of which is similar to shown below:</span></span>  
  
   ```  
   ***** Resolved Service Endpoint *****  
  
   Service Path and Name          : /CustomerSearch  
   Service Id                     : 2b6d686a-cae1-4b7b-93da-99affef98478  
   Service Version                : 1  
   Endpoint Name                  : WSHttpBinding_ICustomerSearch  
   Endpoint Address               : http://btscloudcar/CustomerSearch/1  
   ```  
  
    <span data-ttu-id="ff7f5-225">请注意，冲突解决程序返回的终结点**CustomerSearch**服务**版本 1**到搜索条件 (**TestKeyword**) 连接。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-225">Note that the Resolver returned the endpoint for the **CustomerSearch** service **Version 1** to which the search criteria (**TestKeyword**) is attached.</span></span>  
  
2. <span data-ttu-id="ff7f5-226">删除**TestKeyword**与关联**版本 1**的**CustomerSearch**服务并将其与服务的第二个版本的终结点相关联。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-226">Remove the **TestKeyword** associated with the **Version 1** of the **CustomerSearch** service and associate it with endpoint of the service’s second version.</span></span>  
  
   1.  <span data-ttu-id="ff7f5-227">打开 Sentinet 管理控制台中，单击**第 1 版**下**CustomerSearch**服务，单击 wsHttpBinding 终结点，然后单击**附件**选项卡，然后依次**修改**。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-227">Open the Sentinet Administrative Console, click **Version 1** under the **CustomerSearch** service, click the wsHttpBinding endpoint, and then click the **Attachments** tab, and then click **Modify**.</span></span>  
  
        <span data-ttu-id="ff7f5-228">![从 CustomerSearch 服务删除关键字](../technical-guides/media/sentinetwp-removekeyword.png "SentinetWP_RemoveKeyword")</span><span class="sxs-lookup"><span data-stu-id="ff7f5-228">![Remove keyword from the CustomerSearch service](../technical-guides/media/sentinetwp-removekeyword.png "SentinetWP_RemoveKeyword")</span></span>  
  
   2.  <span data-ttu-id="ff7f5-229">单击以删除关键字时，单击以前输入的关键字对按钮**是**在消息框，然后单击**保存**。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-229">Click the button against the keyword you entered before to delete the keyword, click **Yes** in the message box, and then click **Save**.</span></span>  
  
        <span data-ttu-id="ff7f5-230">![从 CustomerSearch 服务删除关键字](../technical-guides/media/sentinetwp-removekeyword-2.png "SentinetWP_RemoveKeyword_2")</span><span class="sxs-lookup"><span data-stu-id="ff7f5-230">![Remove keyword from CustomerSearch service](../technical-guides/media/sentinetwp-removekeyword-2.png "SentinetWP_RemoveKeyword_2")</span></span>  
  
   3.  <span data-ttu-id="ff7f5-231">现在，将分配相同的关键字 (**TestKeyword**) 到**basicHttpBinding**下的终结点**版本 2**的同一个服务。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-231">Now, assign the same keyword (**TestKeyword**) to the **basicHttpBinding** endpoint under the **Version 2** of the same service.</span></span>  
  
3. <span data-ttu-id="ff7f5-232">返回到 Visual Studio 和测试的冲突解决程序配置。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-232">Go back to Visual Studio and test the resolver configuration again.</span></span> <span data-ttu-id="ff7f5-233">右键单击 Sentinet 冲突解决程序添加到**路线服务**形状，然后依次**测试解析程序配置**。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-233">Right-click the Sentinet Resolver you added to the **Itinerary Service** shape, and then click **Test Resolver Configuration**.</span></span>  
  
    <span data-ttu-id="ff7f5-234">输出窗格中显示测试结果，其中的一段摘录是类似于如下所示：</span><span class="sxs-lookup"><span data-stu-id="ff7f5-234">The output pane shows the test results, an excerpt of which is similar to shown below:</span></span>  
  
   ```  
   ***** Resolved Service Endpoint *****  
  
   Service Path and Name          : /CustomerSearch  
   Service Id                     : 5b9e5878-7016-44ab-9f0e-5282a8c3e508  
   Service Version                : 2  
   Endpoint Name                  : BasicHttpBinding_ICustomerSearch  
   Endpoint Address               : http://btscloudcar/CustomerSearch/2  
   ```  
  
4. <span data-ttu-id="ff7f5-235">请注意，冲突解决程序现在在返回方式的详细信息**版本 2**服务的即使未更改 ESB 路线应用程序中的任何内容。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-235">Notice how the Resolver now returned the details for the **Version 2** of the service even though you did not change anything in the ESB Itinerary application.</span></span>  
  
   <span data-ttu-id="ff7f5-236">分配关键字 (**TestKeyword**) 返回到该服务的版本 1 (与**WSHttpBinding**终结点)。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-236">Assign the keyword (**TestKeyword**) back to the version 1 of the service (with the **WSHttpBinding** endpoint).</span></span>  
  
## <a name="using-the-sentinet-biztalk-server-extensions"></a><span data-ttu-id="ff7f5-237">使用 Sentinet BizTalk Server 扩展</span><span class="sxs-lookup"><span data-stu-id="ff7f5-237">Using the Sentinet BizTalk Server Extensions</span></span>  
 <span data-ttu-id="ff7f5-238">在本部分中，我们将介绍如何使用 Sentinet BizTalk 扩展，与 ESB 冲突解决程序，一起唯一地标识服务并将消息与该服务，只需极少或无需更改路由到服务或客户端发送消息。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-238">In this section, we will look at how the Sentinet BizTalk Extension, together with ESB Resolver, can be used to uniquely identify a service and route the message to that service, with minimal or no changes to the service or the client sending the message.</span></span> <span data-ttu-id="ff7f5-239">我们将测试两个方案：</span><span class="sxs-lookup"><span data-stu-id="ff7f5-239">We will test two scenarios:</span></span>  
  
- <span data-ttu-id="ff7f5-240">将示例消息发送到 （使用附加的关键字） Sentinet 存储库中注册的服务。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-240">Send a sample message to a service registered in the Sentinet repository (with the keyword attached).</span></span> <span data-ttu-id="ff7f5-241">然后，使用 Sentinet 管理控制台的服务的策略绑定更改并发送另一个示例消息。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-241">Then, change the policy binding for the service using the Sentinet Administrative Console and send another sample message.</span></span> <span data-ttu-id="ff7f5-242">此方案演示如何更改服务的安全策略都不会影响客户端应用程序，也不 ESB 路线。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-242">This scenario demonstrates how changing the service’s security policy neither affects the client application nor the ESB itinerary.</span></span>  
  
- <span data-ttu-id="ff7f5-243">将示例消息发送到服务终结点在 Sentinet 存储库中注册 （使用附加的关键字）。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-243">Send a sample message to a service endpoint registered in the Sentinet repository (with keyword attached).</span></span> <span data-ttu-id="ff7f5-244">然后，将该关键字附加到同一服务的另一个版本并重新发送该消息。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-244">Then, attach the same keyword to another version of the same service, and send the message again.</span></span> <span data-ttu-id="ff7f5-245">此方案演示如何将关键字自动附加到不同的服务版本将消息路由到新的服务版本。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-245">This scenario demonstrates how attaching a keyword to a different service version automatically routes messages to a new service version.</span></span>  
  
  <span data-ttu-id="ff7f5-246">若要测试这些方案，我们将使用下面的示例：</span><span class="sxs-lookup"><span data-stu-id="ff7f5-246">To test these scenarios, we’ll use the following samples:</span></span>  
  
- <span data-ttu-id="ff7f5-247">**客户搜索服务**随附 Sentinet 安装程序。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-247">**Customer Search Service** provided with the Sentinet installer.</span></span> <span data-ttu-id="ff7f5-248">可以从开始菜单启动此服务。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-248">This service can be started from the Start menu.</span></span>  
  
- <span data-ttu-id="ff7f5-249">**Nevatech.Vsb.BizTalk.Samples**将 Sentinet 安装程序随附的解决方案。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-249">**Nevatech.Vsb.BizTalk.Samples** solution provided with the Sentinet installer.</span></span> <span data-ttu-id="ff7f5-250">此示例位于`<installation drive>:\Program Files\Nevatech\Sentinet BizTalk Extensions\Samples`。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-250">This sample is available at `<installation drive>:\Program Files\Nevatech\Sentinet BizTalk Extensions\Samples`.</span></span>  
  
- <span data-ttu-id="ff7f5-251">ESB。Itinerary.Test 示例附带[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-251">ESB.Itinerary.Test sample shipped with [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)].</span></span> <span data-ttu-id="ff7f5-252">这是在`<install drive>:\Program Files (x86)\Microsoft BizTalk ESB Toolkit\ESBSource.zip\Source\Samples\Itinerary\Source\ESB.Itinerary.Test`和用于测试与客户搜索服务的示例消息。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-252">This is available at `<install drive>:\Program Files (x86)\Microsoft BizTalk ESB Toolkit\ESBSource.zip\Source\Samples\Itinerary\Source\ESB.Itinerary.Test` and is used to test sample messages to the Customer Search Service.</span></span>  
  
#### <a name="to-test-the-sentinet-resolver-by-changing-the-service-policy-binding"></a><span data-ttu-id="ff7f5-253">若要测试通过更改服务策略绑定的 Sentinet 冲突解决程序</span><span class="sxs-lookup"><span data-stu-id="ff7f5-253">To test the Sentinet Resolver by changing the service policy binding</span></span>  
  
1. <span data-ttu-id="ff7f5-254">请确保**CustomerSearch**使用 wsHttpBinding 部署的服务是否正在运行。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-254">Make sure the **CustomerSearch** service that you deployed with the wsHttpBinding is running.</span></span>  
  
2. <span data-ttu-id="ff7f5-255">从**Nevatech.Vsb.BizTalk.Samples**示例中，打开**CustomerSearch.Search.itinerary**，选择**解析服务终结点**下**消息扩展程序**内**将邮件路由**形状，以及**关键字**属性，指定一个关键字，如**TestKeyword**。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-255">From the **Nevatech.Vsb.BizTalk.Samples** sample, open **CustomerSearch.Search.itinerary**, select **Resolve Service Endpoint** under the **Message Extender** within the **Route Message** shape, and for the **Keywords** property, specify a keyword, such as **TestKeyword**.</span></span>  
  
    <span data-ttu-id="ff7f5-256">![分配关键字](../technical-guides/media/sentinetwp-assignkeyword.png "SentinetWP_AssignKeyword")</span><span class="sxs-lookup"><span data-stu-id="ff7f5-256">![Assign keyword](../technical-guides/media/sentinetwp-assignkeyword.png "SentinetWP_AssignKeyword")</span></span>  
  
3. <span data-ttu-id="ff7f5-257">将所做的更改保存到路线，并导出该模型。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-257">Save the changes to the itinerary, and export the model.</span></span> <span data-ttu-id="ff7f5-258">右键单击任意路线设计器图面，然后单击**导出模型**。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-258">Right-click anywhere on the itinerary designer surface, and lick **Export Model**.</span></span>  
  
4. <span data-ttu-id="ff7f5-259">在 BizTalk Server 管理控制台中，右键单击**Microsoft.Practices.ESB**应用程序中，单击导入、，然后单击绑定。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-259">In the BizTalk Server Administration Console, right-click the **Microsoft.Practices.ESB** application, click Import, and then click Bindings.</span></span> <span data-ttu-id="ff7f5-260">导航到的 ESB 解析程序示例位置`<installation drive>:\Program Files\Nevatech\Sentinet BizTalk Extensions\Samples\ESB Resolver`，并打开**BizTalk.Bindings.xml**文件。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-260">Navigate to the ESB Resolver sample location at `<installation drive>:\Program Files\Nevatech\Sentinet BizTalk Extensions\Samples\ESB Resolver`, and open the **BizTalk.Bindings.xml** file.</span></span> <span data-ttu-id="ff7f5-261">这将创建**Sentinet 要求-响应**并**Sentinet 单向**发送端口所需的示例路线。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-261">This creates the **Sentinet Solicit-Response** and **Sentinet One-Way** send ports required for the sample itineraries.</span></span>  
  
    <span data-ttu-id="ff7f5-262">此外，请确保所有发送端口和接收位置的**Microsoft.Practices.ESB**登记和启动 BizTalk 应用程序。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-262">Also, make sure all send ports and receive locations of the **Microsoft.Practices.ESB** BizTalk application are enlisted and started.</span></span>  
  
5. <span data-ttu-id="ff7f5-263">打开**ESB。Itinerary.Test**应用程序中，生成它，并运行它。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-263">Open the **ESB.Itinerary.Test** application, build it, and run it.</span></span> <span data-ttu-id="ff7f5-264">在启动路线测试客户端，请执行以下步骤：</span><span class="sxs-lookup"><span data-stu-id="ff7f5-264">In the Itinerary Test Client that launches, perform the following steps:</span></span>  
  
   1.  <span data-ttu-id="ff7f5-265">在路线测试客户端下, **Web 服务选项**，清除**使用 WCF 服务**，然后选择**两种方式服务**。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-265">In the Itinerary Test Client, under **Web Service Options**, clear **Use WCF Service**, and select **Two Way Service**.</span></span>  
  
   2.  <span data-ttu-id="ff7f5-266">从**服务类型**下拉列表中，选择**消息传送**。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-266">From the **Service Type** drop-down, select **Messaging**.</span></span>  
  
   3.  <span data-ttu-id="ff7f5-267">单击**负载路线**并导航到**CustomerSearch.Search.Itinerary.xml**文件中的示例项目位于**ExportedItineraries**文件夹`<installation drive>:\Program Files\Nevatech\Sentinet BizTalk Extensions\Samples\ESB Resolver\ExportedItineraries`.</span><span class="sxs-lookup"><span data-stu-id="ff7f5-267">Click **Load Itinerary** and navigate to the **CustomerSearch.Search.Itinerary.xml** file located in the sample project's **ExportedItineraries** folder at `<installation drive>:\Program Files\Nevatech\Sentinet BizTalk Extensions\Samples\ESB Resolver\ExportedItineraries`.</span></span>  
  
   4.  <span data-ttu-id="ff7f5-268">单击省略号按钮 (**...**) 下**负载消息**组，并导航到**CustomerSearch.Search.Request.xml**位于项目的**SampleMessages** 文件夹`<installation drive>:\Program Files\Nevatech\Sentinet BizTalk Extensions\Samples\ESB Resolver\SampleMessages`.</span><span class="sxs-lookup"><span data-stu-id="ff7f5-268">Click the ellipsis button (**..**) under **Load Message** group and navigate to **CustomerSearch.Search.Request.xml** located in the project's **SampleMessages** folder at `<installation drive>:\Program Files\Nevatech\Sentinet BizTalk Extensions\Samples\ESB Resolver\SampleMessages`.</span></span>  
  
   5.  <span data-ttu-id="ff7f5-269">单击**提交请求**和确认收到的响应。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-269">Click **Submit Request** and verify that the response in received.</span></span>  
  
6. <span data-ttu-id="ff7f5-270">上**CustomerSearch**对话框中，请注意，该计数器增加 1。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-270">On the **CustomerSearch** dialog box, notice that the counter increases by one.</span></span>  
  
7. <span data-ttu-id="ff7f5-271">在 Sentinet 管理控制台中，更新终结点详细信息，若要使用 basicHttpBinding 替代 wsHttpBinding。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-271">In the Sentinet Administrative Console, update the endpoint details to use the basicHttpBinding instead of wsHttpBinding.</span></span>  
  
   1.  <span data-ttu-id="ff7f5-272">选择服务终结点，请单击**详细信息**选项卡，然后依次**修改**。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-272">Select the service endpoint, click the **Details** tab, and then click **Modify**.</span></span>  
  
   2.  <span data-ttu-id="ff7f5-273">在中**详细信息**选项卡上，单击省略号 (**...**) 中**策略**部分中，以启动**修改策略**向导。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-273">In the **Details** tab, click the ellipsis (**…**) in the **Policy** section, to launch the **Modify Policy** wizard.</span></span>  
  
        <span data-ttu-id="ff7f5-274">![启动修改策略向导](../technical-guides/media/sentinetwp-modifypolicy-1.png "SentinetWP_ModifyPolicy_1")</span><span class="sxs-lookup"><span data-stu-id="ff7f5-274">![Launch Modify Policy wizard](../technical-guides/media/sentinetwp-modifypolicy-1.png "SentinetWP_ModifyPolicy_1")</span></span>  
  
   3.  <span data-ttu-id="ff7f5-275">在第一页上，保留策略类型作为**私有**，然后单击**下一步**。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-275">On the first page, retain the policy type as **Private** and then click **Next**.</span></span>  
  
   4.  <span data-ttu-id="ff7f5-276">在第二页上，更改**wsHttpBinding** XML 元素**basicHttpBinding** （区分大小写），然后单击**完成**。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-276">On the second page, change the **wsHttpBinding** XML element to **basicHttpBinding** (case-sensitive), and then click **Finish**.</span></span>  
  
        <span data-ttu-id="ff7f5-277">![更新策略绑定](../technical-guides/media/sentinetwp-modifypolicy-2.png "SentinetWP_ModifyPolicy_2")</span><span class="sxs-lookup"><span data-stu-id="ff7f5-277">![Updating the policy binding](../technical-guides/media/sentinetwp-modifypolicy-2.png "SentinetWP_ModifyPolicy_2")</span></span>  
  
   5.  <span data-ttu-id="ff7f5-278">单击**保存**将更改保存到的终结点详细信息。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-278">Click **Save** to save changes to the endpoint details.</span></span>  
  
8. <span data-ttu-id="ff7f5-279">停止**CustomerSearch**服务，请从绑定更改**wsHttpBinding**到**basicHttpBinding**，然后再次启动该服务。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-279">Stop the **CustomerSearch** service, change the binding from **wsHttpBinding** to **basicHttpBinding**, and then start the service again.</span></span>  
  
    <span data-ttu-id="ff7f5-280">![使用其他绑定重新启动服务](../technical-guides/media/sentinetwp-restartcustservice.png "SentinetWP_RestartCustService")</span><span class="sxs-lookup"><span data-stu-id="ff7f5-280">![Restart service with different binding](../technical-guides/media/sentinetwp-restartcustservice.png "SentinetWP_RestartCustService")</span></span>  
  
9. <span data-ttu-id="ff7f5-281">从**测试客户端路线**，再次将测试消息发送到客户搜索服务。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-281">From the **Test Itinerary Client**, send a test message again to the Customer Search service.</span></span> <span data-ttu-id="ff7f5-282">请注意，客户搜索服务对话框中的计数器再次增加 1。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-282">Notice that the counter in the Customer Search Service dialog box is again incremented by 1.</span></span>  
  
     <span data-ttu-id="ff7f5-283">已成功收到消息，Sentinet 管理控制台中，从后更改的详细信息返回到的策略**wsHttpBinding**。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-283">Once the message is successfully received, from the Sentinet Administration Console, change the policy details back to **wsHttpBinding**.</span></span> <span data-ttu-id="ff7f5-284">同样，停止**客户搜索**服务、 将策略更改回为 wsHttpBinding 和启动服务。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-284">Similarly, stop the **Customer Search** service, change the policy back to wsHttpBinding and start the service.</span></span>  
  
   <span data-ttu-id="ff7f5-285">此示例演示如何 Sentinet 存储库中的服务详细信息可以更新为目标的已更新的服务终结点而无需更改路线或客户端。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-285">This demonstrates how the service details in the Sentinet Repository can be updated on the fly to target an updated service endpoint without changing the itinerary or the client.</span></span>  
  
#### <a name="to-test-the-sentinet-resolver-by-changing-keyword-assignments"></a><span data-ttu-id="ff7f5-286">若要通过更改关键字分配测试 Sentinet 冲突解决程序</span><span class="sxs-lookup"><span data-stu-id="ff7f5-286">To test the Sentinet Resolver by changing keyword assignments</span></span>  
  
1.  <span data-ttu-id="ff7f5-287">请确保的两个实例**CustomerSearch**使用 basicHttpBinding 和 wsHttpBinding 部署的服务是否正在运行。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-287">Make sure the two instances of **CustomerSearch** service that you deployed with the wsHttpBinding and basicHttpBinding are running.</span></span>  
  
2.  <span data-ttu-id="ff7f5-288">从**Nevatech.Vsb.BizTalk.Samples**示例中，打开**CustomerSearch.Search.itinerary**，选择**解析服务终结点**下**消息扩展程序**内**将邮件路由**形状，以及**关键字**属性，指定一个关键字，如**TestKeyword**。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-288">From the **Nevatech.Vsb.BizTalk.Samples** sample, open **CustomerSearch.Search.itinerary**, select **Resolve Service Endpoint** under the **Message Extender** within the **Route Message** shape, and for the **Keywords** property, specify a keyword, such as **TestKeyword**.</span></span>  
  
     <span data-ttu-id="ff7f5-289">![分配关键字](../technical-guides/media/sentinetwp-assignkeyword.png "SentinetWP_AssignKeyword")</span><span class="sxs-lookup"><span data-stu-id="ff7f5-289">![Assign keyword](../technical-guides/media/sentinetwp-assignkeyword.png "SentinetWP_AssignKeyword")</span></span>  
  
3.  <span data-ttu-id="ff7f5-290">将所做的更改保存到路线，并导出该模型。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-290">Save the changes to the itinerary, and export the model.</span></span> <span data-ttu-id="ff7f5-291">右键单击任意路线设计器图面，然后单击**导出模型**。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-291">Right-click anywhere on the itinerary designer surface, and lick **Export Model**.</span></span>  
  
4.  <span data-ttu-id="ff7f5-292">在 BizTalk Server 管理控制台中，右键单击**Microsoft.Practices.ESB**应用程序中，单击导入、，然后单击绑定。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-292">In the BizTalk Server Administration Console, right-click the **Microsoft.Practices.ESB** application, click Import, and then click Bindings.</span></span> <span data-ttu-id="ff7f5-293">导航到的 ESB 解析程序示例位置`<installation drive>:\Program Files\Nevatech\Sentinet BizTalk Extensions\Samples\ESB Resolver`，并打开**BizTalk.Bindings.xml**文件。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-293">Navigate to the ESB Resolver sample location at `<installation drive>:\Program Files\Nevatech\Sentinet BizTalk Extensions\Samples\ESB Resolver`, and open the **BizTalk.Bindings.xml** file.</span></span> <span data-ttu-id="ff7f5-294">这将创建**Sentinet 要求-响应**并**Sentinet 单向**发送端口所需的示例路线。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-294">This creates the **Sentinet Solicit-Response** and **Sentinet One-Way** send ports required for the sample itineraries.</span></span>  
  
     <span data-ttu-id="ff7f5-295">此外，请确保所有发送端口和接收位置的**Microsoft.Practices.ESB**登记和启动 BizTalk 应用程序。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-295">Also, make sure all send ports and receive locations of the **Microsoft.Practices.ESB** BizTalk application are enlisted and started.</span></span>  
  
5.  <span data-ttu-id="ff7f5-296">打开**ESB。Itinerary.Test**应用程序中，生成它，并运行它。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-296">Open the **ESB.Itinerary.Test** application, build it, and run it.</span></span> <span data-ttu-id="ff7f5-297">在启动路线测试客户端，请执行以下步骤：</span><span class="sxs-lookup"><span data-stu-id="ff7f5-297">In the Itinerary Test Client that launches, perform the following steps:</span></span>  
  
    1.  <span data-ttu-id="ff7f5-298">在路线测试客户端下, **Web 服务选项**，清除**使用 WCF 服务**，然后选择**两种方式服务**。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-298">In the Itinerary Test Client, under **Web Service Options**, clear **Use WCF Service**, and select **Two Way Service**.</span></span>  
  
    2.  <span data-ttu-id="ff7f5-299">从**服务类型**下拉列表中，选择**消息传送**。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-299">From the **Service Type** drop-down, select **Messaging**.</span></span>  
  
    3.  <span data-ttu-id="ff7f5-300">单击**负载路线**并导航到**CustomerSearch.Search.Itinerary.xml**文件中的示例项目位于**ExportedItineraries**文件夹`<installation drive>:\Program Files\Nevatech\Sentinet BizTalk Extensions\Samples\ESB Resolver\ExportedItineraries`.</span><span class="sxs-lookup"><span data-stu-id="ff7f5-300">Click **Load Itinerary** and navigate to the **CustomerSearch.Search.Itinerary.xml** file located in the sample project's **ExportedItineraries** folder at `<installation drive>:\Program Files\Nevatech\Sentinet BizTalk Extensions\Samples\ESB Resolver\ExportedItineraries`.</span></span>  
  
    4.  <span data-ttu-id="ff7f5-301">单击省略号按钮 (**...**) 下**负载消息**组，并导航到**CustomerSearch.Search.Request.xml**位于项目的**SampleMessages** 文件夹`<installation drive>:\Program Files\Nevatech\Sentinet BizTalk Extensions\Samples\ESB Resolver\SampleMessages`.</span><span class="sxs-lookup"><span data-stu-id="ff7f5-301">Click the ellipsis button (**..**) under **Load Message** group and navigate to **CustomerSearch.Search.Request.xml** located in the project's **SampleMessages** folder at `<installation drive>:\Program Files\Nevatech\Sentinet BizTalk Extensions\Samples\ESB Resolver\SampleMessages`.</span></span>  
  
    5.  <span data-ttu-id="ff7f5-302">单击**提交请求**和确认收到的响应。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-302">Click **Submit Request** and verify that the response in received.</span></span>  
  
6.  <span data-ttu-id="ff7f5-303">上**CustomerSearch**对话框中，请注意，该计数器增加 1。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-303">On the **CustomerSearch** dialog box, notice that the counter increases by one.</span></span>  
  
7.  <span data-ttu-id="ff7f5-304">从 Sentinet 管理控制台中，删除**TestKeyword**与关联**版本 1**的**CustomerSearch**服务并将其与**版本 2**的服务。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-304">From the Sentinet Administration Console, remove the **TestKeyword** associated with the **Version 1** of the **CustomerSearch** service and associate it with **Version 2** of the service.</span></span>  
  
    1.  <span data-ttu-id="ff7f5-305">打开 Sentinet 管理控制台中，单击**第 1 版**下**CustomerSearch**服务，单击 wsHttpBinding 终结点，然后单击**附件**选项卡，然后依次**修改**。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-305">Open the Sentinet Administrative Console, click **Version 1** under the **CustomerSearch** service, click the wsHttpBinding endpoint, and then click the **Attachments** tab, and then click **Modify**.</span></span>  
  
         <span data-ttu-id="ff7f5-306">![从 CustomerSearch 服务删除关键字](../technical-guides/media/sentinetwp-removekeyword.png "SentinetWP_RemoveKeyword")</span><span class="sxs-lookup"><span data-stu-id="ff7f5-306">![Remove keyword from the CustomerSearch service](../technical-guides/media/sentinetwp-removekeyword.png "SentinetWP_RemoveKeyword")</span></span>  
  
    2.  <span data-ttu-id="ff7f5-307">单击以删除关键字时，单击以前输入的关键字对按钮**是**在消息框，然后单击**保存**。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-307">Click the button against the keyword you entered before to delete the keyword, click **Yes** in the message box, and then click **Save**.</span></span>  
  
         <span data-ttu-id="ff7f5-308">![从 CustomerSearch 服务删除关键字](../technical-guides/media/sentinetwp-removekeyword-2.png "SentinetWP_RemoveKeyword_2")</span><span class="sxs-lookup"><span data-stu-id="ff7f5-308">![Remove keyword from CustomerSearch service](../technical-guides/media/sentinetwp-removekeyword-2.png "SentinetWP_RemoveKeyword_2")</span></span>  
  
    3.  <span data-ttu-id="ff7f5-309">现在，将分配相同的关键字 (**TestKeyword**) 到**basicHttpBinding**下的终结点**版本 2**的同一个服务。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-309">Now, assign the same keyword (**TestKeyword**) to the **basicHttpBinding** endpoint under the **Version 2** of the same service.</span></span>  
  
8.  <span data-ttu-id="ff7f5-310">发送测试消息从重新**测试客户端路线**并请注意，这一次，此计数器递增在对话框中，表示与的 basicHttpBinding 一起部署的服务的版本 2。</span><span class="sxs-lookup"><span data-stu-id="ff7f5-310">Send a test message again from the **Test Itinerary Client** and notice that this time, the counter is incremented in the dialog box that represents version 2 of the service, deployed with the basicHttpBinding.</span></span>