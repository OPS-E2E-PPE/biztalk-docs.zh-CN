---
title: "清单： 执行每月性能检查 |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: fa103777-af4d-480d-abc7-3c4718f493c1
caps.latest.revision: "2"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: e3c1c84248fc3f5a7efdcc7e4df3f62b23bfcc82
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
---
# <a name="checklist-performing-monthly-performance-checks"></a><span data-ttu-id="28503-102">清单： 执行每月性能检查</span><span class="sxs-lookup"><span data-stu-id="28503-102">Checklist: Performing Monthly Performance Checks</span></span>
<span data-ttu-id="28503-103">本主题列出了应遵循按月以避免性能问题的最佳做法[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]系统。</span><span class="sxs-lookup"><span data-stu-id="28503-103">This topic lists best practices that you should follow on a monthly basis to avoid performance issues with a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] system.</span></span>  
  
|<span data-ttu-id="28503-104">步骤</span><span class="sxs-lookup"><span data-stu-id="28503-104">Steps</span></span>|<span data-ttu-id="28503-105">参考</span><span class="sxs-lookup"><span data-stu-id="28503-105">Reference</span></span>|  
|-----------|---------------|  
|<span data-ttu-id="28503-106">确定需要跟踪在规划过程的信息</span><span class="sxs-lookup"><span data-stu-id="28503-106">Determine the information you need to track during planning</span></span>|<span data-ttu-id="28503-107">应当在计划阶段确定需要跟踪的信息，以便在部署项目后可以设置跟踪选项并限制跟踪的数据量，从而仅为您提供所需的信息。</span><span class="sxs-lookup"><span data-stu-id="28503-107">You should decide during the planning stages which information you need to track, so that after you deploy the project you can set the tracking options and limit the amount of tracked data to give you only the information you need.</span></span> <span data-ttu-id="28503-108">**注意：**有关与跟踪相关的最佳做法的详细信息，请参阅[规划跟踪](../technical-guides/planning-for-tracking.md)本指南中和[运行状况和活动跟踪](http://go.microsoft.com/fwlink/?LinkId=154187)(http://go.microsoft.com/fwlink/?LinkId = 154187) 中[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]文档。</span><span class="sxs-lookup"><span data-stu-id="28503-108">**Note:**  For more information about best practices related to tracking, see [Planning for Tracking](../technical-guides/planning-for-tracking.md) in this guide and [Health and Activity Tracking](http://go.microsoft.com/fwlink/?LinkId=154187) (http://go.microsoft.com/fwlink/?LinkId=154187) in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] documentation.</span></span>|  
|<span data-ttu-id="28503-109">不跟踪所有消息</span><span class="sxs-lookup"><span data-stu-id="28503-109">Do not track all messages</span></span>|<span data-ttu-id="28503-110">我们建议你不跟踪所有消息，因为每次一条消息接触，[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]使另一个副本。</span><span class="sxs-lookup"><span data-stu-id="28503-110">We recommend that you not track all messages, because each time a message is touched, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] makes another copy.</span></span> <span data-ttu-id="28503-111">通过跟踪特定端口，而是可以缩小范围。</span><span class="sxs-lookup"><span data-stu-id="28503-111">You can instead narrow the scope by tracking only a specific port.</span></span> <span data-ttu-id="28503-112">这有助于你的系统的性能最大化，并以使数据库整洁。</span><span class="sxs-lookup"><span data-stu-id="28503-112">This helps to maximize the performance of your system and to keep the databases uncluttered.</span></span>|  
|<span data-ttu-id="28503-113">不跟踪业务流程的所有事件</span><span class="sxs-lookup"><span data-stu-id="28503-113">Do not track all events for orchestrations</span></span>|<span data-ttu-id="28503-114">跟踪业务流程的所有事件可能会增加 dta_DebugTrace 和 dta_MessageInoutEvents 表的大小。</span><span class="sxs-lookup"><span data-stu-id="28503-114">Tracking all events for an orchestration might increase the size of dta_DebugTrace and dta_MessageInoutEvents tables.</span></span> <span data-ttu-id="28503-115">有关如何禁用跟踪为业务流程的说明，请参阅[禁用跟踪为业务流程](../technical-guides/how-to-disable-tracking.md#BKMK_DisableOrchTracking)。</span><span class="sxs-lookup"><span data-stu-id="28503-115">For instructions on how to disable tracking for an orchestration, see [To disable tracking for an orchestration](../technical-guides/how-to-disable-tracking.md#BKMK_DisableOrchTracking).</span></span>|  
|<span data-ttu-id="28503-116">在发送端口上设置跟踪和接收管道上的而不是端口</span><span class="sxs-lookup"><span data-stu-id="28503-116">Set tracking on send ports and receive ports instead of on a pipeline</span></span>|<span data-ttu-id="28503-117">如果你设置跟踪选项卡上的管道，你还将设置使用管道的每个端口全局跟踪选项。</span><span class="sxs-lookup"><span data-stu-id="28503-117">If you set tracking options on pipelines, you will also set the tracking options globally for every port that uses the pipeline.</span></span> <span data-ttu-id="28503-118">反过来，这可能会在导致被跟踪比你预期，这将降低系统性能的更多数据。</span><span class="sxs-lookup"><span data-stu-id="28503-118">This in turn may result in far more data being tracked than you intend, which will slow system performance.</span></span> <span data-ttu-id="28503-119">相反，你可以将端口设置跟踪选项卡上的发送和接收端口。</span><span class="sxs-lookup"><span data-stu-id="28503-119">Instead, you can set tracking options on send ports and receive ports.</span></span>|  
|<span data-ttu-id="28503-120">调整限制基于资源使用率</span><span class="sxs-lookup"><span data-stu-id="28503-120">Adjust throttling based on resource utilization</span></span>|<span data-ttu-id="28503-121">限制在[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]配置默认情况下提供系统的有效保护方式。</span><span class="sxs-lookup"><span data-stu-id="28503-121">Throttling in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] is configured by default to provide good protection for the system.</span></span> <span data-ttu-id="28503-122">监视性能计数器限制状态以查看是否限制是否正在进行，然后亲自仪表，如果基于上限制的资源 （例如，数据库大小或内存使用率） 低于或使用过度，，然后调整，限制阈值正常运行，或相应地关闭。</span><span class="sxs-lookup"><span data-stu-id="28503-122">Monitor the performance counters for throttling states to see if throttling is taking place, then gauge for yourself if the resource on which throttling is based (for example, database size or memory usage) is under or overutilized, and then adjust the throttling thresholds up or down accordingly.</span></span> <span data-ttu-id="28503-123">有关详细信息，请参阅[调整限制阈值： 何时和为何](http://go.microsoft.com/fwlink/?LinkId=154188)(http://go.microsoft.com/fwlink/?LinkId=154188)。</span><span class="sxs-lookup"><span data-stu-id="28503-123">For more information, see [Adjusting Throttling Thresholds: When and Why](http://go.microsoft.com/fwlink/?LinkId=154188) (http://go.microsoft.com/fwlink/?LinkId=154188).</span></span>|  
|<span data-ttu-id="28503-124">如有可能使用 PassThruTransmit 管道</span><span class="sxs-lookup"><span data-stu-id="28503-124">Use the PassThruTransmit pipeline if possible</span></span>|<span data-ttu-id="28503-125">如果在将消息发送到其目标之前需要没有文档处理，而不是 XML 发送管道使用 PassThruTransmit 管道。</span><span class="sxs-lookup"><span data-stu-id="28503-125">If no document processing is required before sending a message to its destination, use the PassThruTransmit pipeline instead of the XML send pipeline.</span></span>|  
|<span data-ttu-id="28503-126">各种各样的因素时考虑你调整 BizTalk 跟踪数据库的大小</span><span class="sxs-lookup"><span data-stu-id="28503-126">Take into account various factors when you size the BizTalk Tracking database</span></span>|<span data-ttu-id="28503-127">-当 BizTalk 跟踪数据库的大小调整，可以通过将应变乘数添加到您的计算考虑 SQL Server 因素，如索引大小。</span><span class="sxs-lookup"><span data-stu-id="28503-127">-   When sizing the BizTalk Tracking database, account for SQL Server factors, such as index size, by adding a contingency multiplier to your calculations.</span></span><br /><span data-ttu-id="28503-128">-当确定 BizTalk 跟踪数据库中的消息的大小，将添加消息上下文的平均大小到的消息大小如果一点很重要，相比的消息大小。</span><span class="sxs-lookup"><span data-stu-id="28503-128">-   When determining the size of messages in the BizTalk Tracking database, add the average size of the message context to the message size if it is significant compared to the message size.</span></span><br /><span data-ttu-id="28503-129">-若要限制 BizTalk 跟踪数据库中的消息的大小，则将提升的属性数目的限制。</span><span class="sxs-lookup"><span data-stu-id="28503-129">-   To limit the size of messages in the BizTalk Tracking database, limit the number of properties that you promote.</span></span><br /><span data-ttu-id="28503-130">-如果启用业务流程调试器选项，考虑到每个形状中业务流程的状态保存到 BizTalk 跟踪数据库中。</span><span class="sxs-lookup"><span data-stu-id="28503-130">-   If the orchestration debugger option is enabled, take into account that the status of each shape in the orchestration is saved in the BizTalk Tracking database.</span></span>|  
|<span data-ttu-id="28503-131">将硬件解决方案，若要避免磁盘争用应用</span><span class="sxs-lookup"><span data-stu-id="28503-131">Apply hardware solutions to avoid disk contention</span></span>|<span data-ttu-id="28503-132">若要避免 MessageBox 数据库中的磁盘争用，请执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="28503-132">To avoid disk contention in the MessageBox database, do the following:</span></span><br /><br /> <span data-ttu-id="28503-133">-使用高速磁盘</span><span class="sxs-lookup"><span data-stu-id="28503-133">-   Use high-speed disks</span></span><br /><span data-ttu-id="28503-134">-部署高速 SAN 上的数据库</span><span class="sxs-lookup"><span data-stu-id="28503-134">-   Deploy the databases on a high-speed SAN</span></span><br /><span data-ttu-id="28503-135">-分隔 MessageBox 数据库分别放在独立于跟踪数据库的专用服务器</span><span class="sxs-lookup"><span data-stu-id="28503-135">-   Separate the MessageBox database onto a dedicated server that is separate from the tracking databases</span></span><br /><span data-ttu-id="28503-136">-Cpu 向上扩展并将更多的 Cpu 添加到专用的 MessageBox 数据库服务器</span><span class="sxs-lookup"><span data-stu-id="28503-136">-   Scale up the CPUs and add more CPUs to the dedicated MessageBox database server</span></span><br /><span data-ttu-id="28503-137">-将页面文件和/或 MSDTC 日志移到单独的驱动器</span><span class="sxs-lookup"><span data-stu-id="28503-137">-   Move the PageFile and/or MSDTC log to a separate drive</span></span><br /><br /> <span data-ttu-id="28503-138">有关如何避免数据库争用的详细信息，请参阅[如何避免磁盘争用](http://go.microsoft.com/fwlink/?LinkId=158809)(http://go.microsoft.com/fwlink/?LinkId=158809)。</span><span class="sxs-lookup"><span data-stu-id="28503-138">For more information about avoiding database contention, see [How to Avoid Disk Contention](http://go.microsoft.com/fwlink/?LinkId=158809) (http://go.microsoft.com/fwlink/?LinkId=158809).</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="28503-139">另请参阅</span><span class="sxs-lookup"><span data-stu-id="28503-139">See Also</span></span>  
 <span data-ttu-id="28503-140">[例程性能清单](../technical-guides/routine-performance-checklists.md) </span><span class="sxs-lookup"><span data-stu-id="28503-140">[Routine Performance Checklists](../technical-guides/routine-performance-checklists.md) </span></span>  
 [<span data-ttu-id="28503-141">清单： 执行每周性能检查</span><span class="sxs-lookup"><span data-stu-id="28503-141">Checklist: Performing Weekly Performance Checks</span></span>](../technical-guides/checklist-performing-weekly-performance-checks.md)