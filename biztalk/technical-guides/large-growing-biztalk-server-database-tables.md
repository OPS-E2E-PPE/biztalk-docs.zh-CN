---
title: "大型增长 BizTalk Server 数据库表 |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: f30372f7-ab90-4ebb-9022-ac3ae3309459
caps.latest.revision: "3"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: f427862d90c119c831bffc59e1a6e55a25700a68
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
---
# <a name="large-growing-biztalk-server-database-tables"></a><span data-ttu-id="feb83-102">大型增长 BizTalk Server 数据库表</span><span class="sxs-lookup"><span data-stu-id="feb83-102">Large-growing BizTalk Server Database Tables</span></span>
<span data-ttu-id="feb83-103">下表列出[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]通常增长最大的表。</span><span class="sxs-lookup"><span data-stu-id="feb83-103">The following table lists the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] tables that typically grow the largest.</span></span> <span data-ttu-id="feb83-104">可以使用此数据以确定其中可能存在的潜在问题。</span><span class="sxs-lookup"><span data-stu-id="feb83-104">You can use this data to determine where a potential problem may exist.</span></span>  
  
|<span data-ttu-id="feb83-105">表</span><span class="sxs-lookup"><span data-stu-id="feb83-105">Table</span></span>|<span data-ttu-id="feb83-106">Description</span><span class="sxs-lookup"><span data-stu-id="feb83-106">Description</span></span>|<span data-ttu-id="feb83-107">注释</span><span class="sxs-lookup"><span data-stu-id="feb83-107">Comments</span></span>|  
|-----------|-----------------|--------------|  
|<span data-ttu-id="feb83-108">*HostNameQ*_Suspended 表</span><span class="sxs-lookup"><span data-stu-id="feb83-108">*HostNameQ*_Suspended table</span></span>|<span data-ttu-id="feb83-109">此表包含与特定主机的挂起的实例关联的消息假脱机表中的引用。</span><span class="sxs-lookup"><span data-stu-id="feb83-109">This table contains a reference to messages in the Spool table that are associated with suspended instances for the particular host.</span></span> <span data-ttu-id="feb83-110">此表是 BizTalkMsgBoxDb 数据库中。</span><span class="sxs-lookup"><span data-stu-id="feb83-110">This table is in the BizTalkMsgBoxDb database.</span></span>|<span data-ttu-id="feb83-111">如果*HostNameQ*_Suspended 表具有多个记录，表可以包含有效挂起的实例出现在**组中心数据库**页。</span><span class="sxs-lookup"><span data-stu-id="feb83-111">If the *HostNameQ*_Suspended tables have many records, the tables could be containing valid suspended instances that appear in the **Group Hub** page.</span></span> <span data-ttu-id="feb83-112">你可以终止这些实例。</span><span class="sxs-lookup"><span data-stu-id="feb83-112">You can terminate these instances.</span></span> <span data-ttu-id="feb83-113">如果这些实例不会出现在**组中心数据库**，实例可能缓存实例或孤立路由故障报告。</span><span class="sxs-lookup"><span data-stu-id="feb83-113">If these instances do not appear in the **Group Hub**, the instances are probably caching instances or orphaned routing failure reports.</span></span> <span data-ttu-id="feb83-114">终止挂起的实例时，你清除此表中的项和假脱机和实例表中的其关联的行。</span><span class="sxs-lookup"><span data-stu-id="feb83-114">When you terminate suspended instances, you clean up the items in this table and their associated rows in the Spool and Instances tables.</span></span>|  
|<span data-ttu-id="feb83-115">*HostNameQ*表</span><span class="sxs-lookup"><span data-stu-id="feb83-115">*HostNameQ* table</span></span>|<span data-ttu-id="feb83-116">此表包含对与特定主机相关联，并且不会挂起的消息假脱机表中的引用。</span><span class="sxs-lookup"><span data-stu-id="feb83-116">This table contains a reference to messages in the Spool table that are associated with the particular host and are not suspended.</span></span> <span data-ttu-id="feb83-117">此表是 BizTalkMsgBoxDb 数据库中。</span><span class="sxs-lookup"><span data-stu-id="feb83-117">This table is in the BizTalkMsgBoxDb database.</span></span>|<span data-ttu-id="feb83-118">如果*HostNameQ*表具有多个记录，则可能存在以下类型的实例：</span><span class="sxs-lookup"><span data-stu-id="feb83-118">If the *HostNameQ* tables have many records, the following kinds of instances may exist:</span></span><br /><br /> <span data-ttu-id="feb83-119">已准备的运行实例</span><span class="sxs-lookup"><span data-stu-id="feb83-119">-   Ready-to-run instances</span></span><br /><span data-ttu-id="feb83-120">-活动实例</span><span class="sxs-lookup"><span data-stu-id="feb83-120">-   Active instances</span></span><br /><span data-ttu-id="feb83-121">-已冻结实例</span><span class="sxs-lookup"><span data-stu-id="feb83-121">-   Dehydrated instances</span></span><br /><br /> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="feb83-122">需要时间来"追赶"和处理实例。</span><span class="sxs-lookup"><span data-stu-id="feb83-122"> needs time to "catch up" and process the instances.</span></span> <span data-ttu-id="feb83-123">此表可以增长时处理的传入速率 outpaces 传出处理速度。</span><span class="sxs-lookup"><span data-stu-id="feb83-123">This table can grow when the incoming rate of processing outpaces the outgoing rate of processing.</span></span> <span data-ttu-id="feb83-124">这种情况下也可能导致大型 BizTalkDTADb 数据库或 SQL Server 磁盘延迟。</span><span class="sxs-lookup"><span data-stu-id="feb83-124">This scenario can also occur due to large BizTalkDTADb database or SQL Server disk delays.</span></span>|  
|<span data-ttu-id="feb83-125">假脱机、 部件，即和片段表</span><span class="sxs-lookup"><span data-stu-id="feb83-125">Spool, Parts, and Fragments tables</span></span>|<span data-ttu-id="feb83-126">这些表 BizTalkMsgBoxDb 数据库中存储实际消息数据。</span><span class="sxs-lookup"><span data-stu-id="feb83-126">These tables store actual message data in the BizTalkMsgBoxDb database.</span></span>|<span data-ttu-id="feb83-127">冻结，或挂起，具有多个记录意味着是大量消息的假脱机、 部件和片段表是当前处于活动状态。</span><span class="sxs-lookup"><span data-stu-id="feb83-127">The Spool, Parts, and Fragments tables having many records imply that there are a large number of messages are currently active, dehydrated, or suspended.</span></span> <span data-ttu-id="feb83-128">根据大小、 的部分，数和这些表中的碎片设置，一条消息可能会生成所有这些表。</span><span class="sxs-lookup"><span data-stu-id="feb83-128">Depending on the size, the number of parts, and the fragmentation settings in these tables, a single message may spawn all these tables.</span></span> <span data-ttu-id="feb83-129">每个消息具有假脱机表中的恰好一个行和部件表中的至少有一行。</span><span class="sxs-lookup"><span data-stu-id="feb83-129">Each message has exactly one row in the Spool table and at least one row in the Parts table.</span></span>|  
|<span data-ttu-id="feb83-130">实例表</span><span class="sxs-lookup"><span data-stu-id="feb83-130">Instances table</span></span>|<span data-ttu-id="feb83-131">此表存储 BizTalkMsgBoxDb 数据库中的所有实例和其当前状态。</span><span class="sxs-lookup"><span data-stu-id="feb83-131">This table stores all instances and their current status in the BizTalkMsgBoxDb database.</span></span>|<span data-ttu-id="feb83-132">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理员不应允许多个已挂起的实例保持实例表中。</span><span class="sxs-lookup"><span data-stu-id="feb83-132">The [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrator should not allow for many suspended instances to remain in the Instances table.</span></span> <span data-ttu-id="feb83-133">如果业务逻辑需要长时间运行业务流程，仅应保留多个已冻结的实例。</span><span class="sxs-lookup"><span data-stu-id="feb83-133">Many dehydrated instances should only remain if the business logic requires long-running orchestrations.</span></span> <span data-ttu-id="feb83-134">请记住，一个服务实例可能与假脱机表中的许多消息。</span><span class="sxs-lookup"><span data-stu-id="feb83-134">Remember that one service instance can be associated with many messages in the Spool table.</span></span>|  
|<span data-ttu-id="feb83-135">TrackingData*_x_x*表</span><span class="sxs-lookup"><span data-stu-id="feb83-135">TrackingData*_x_x* table</span></span>|<span data-ttu-id="feb83-136">此表 BizTalkMsgBoxDb 数据库的跟踪数据解码服务 (TDDS) 将事件移到 BizTalkDTADb 数据库中存储的跟踪的事件。</span><span class="sxs-lookup"><span data-stu-id="feb83-136">This table stores the tracked events in the BizTalkMsgBoxDb database for Tracking Data Decode Service (TDDS) to move the events to the BizTalkDTADb database.</span></span>|<span data-ttu-id="feb83-137">如果 TrackingData_*x_x*表非常大，任一 TDDS 未运行或未成功运行。</span><span class="sxs-lookup"><span data-stu-id="feb83-137">If the TrackingData_*x_x* tables are large, either the TDDS is not running or is not running successfully.</span></span> <span data-ttu-id="feb83-138">如果 TDDS 正在运行，查看事件日志和 BizTalkDTADb 数据库中的错误信息中的 TDDS_FailedTrackingData 表。</span><span class="sxs-lookup"><span data-stu-id="feb83-138">If the TDDS is running, review the event logs and the TDDS_FailedTrackingData table in the BizTalkDTADb database for error information.</span></span>|  
|<span data-ttu-id="feb83-139">Tracking_Fragments*x*，Tracking_Parts*x*，Tracking_Spool*x*表</span><span class="sxs-lookup"><span data-stu-id="feb83-139">Tracking_Fragments*x*, Tracking_Parts*x*, Tracking_Spool*x* tables</span></span>|<span data-ttu-id="feb83-140">其中每个表的两个是 BizTalkMsgBoxDb 和 BizTalkDTADb 数据库中。</span><span class="sxs-lookup"><span data-stu-id="feb83-140">Two of each of these tables is in the BizTalkMsgBoxDb and BizTalkDTADb databases.</span></span> <span data-ttu-id="feb83-141">一个处于联机状态，并且另处于脱机状态。</span><span class="sxs-lookup"><span data-stu-id="feb83-141">One is online, and the other is offline.</span></span>|<span data-ttu-id="feb83-142">**TrackedMessages_Copy_BizTalkMsgBoxDb** SQL Server 代理作业的跟踪的消息正文直接移到 BizTalkDTADb 数据库中的这些表。</span><span class="sxs-lookup"><span data-stu-id="feb83-142">The **TrackedMessages_Copy_BizTalkMsgBoxDb** SQL Server Agent job moves tracked message bodies directly to these tables in the BizTalkDTADb database.</span></span>|  
|<span data-ttu-id="feb83-143">dta_ServiceInstances 表</span><span class="sxs-lookup"><span data-stu-id="feb83-143">dta_ServiceInstances table</span></span>|<span data-ttu-id="feb83-144">此表的 BizTalkDTADb 数据库中存储服务实例的跟踪的的事件。</span><span class="sxs-lookup"><span data-stu-id="feb83-144">This table stores tracked events for service instances in the BizTalkDTADb database.</span></span>|<span data-ttu-id="feb83-145">如果此表非常庞大，则可能大 BizTalkDTADb 数据库。</span><span class="sxs-lookup"><span data-stu-id="feb83-145">If this table is large, the BizTalkDTADb database is probably large.</span></span>|  
|<span data-ttu-id="feb83-146">dta_DebugTrace 表</span><span class="sxs-lookup"><span data-stu-id="feb83-146">dta_DebugTrace table</span></span>|<span data-ttu-id="feb83-147">此表的 BizTalkDTADb 数据库中存储的业务流程调试器事件。</span><span class="sxs-lookup"><span data-stu-id="feb83-147">This table stores the Orchestration debugger events in the BizTalkDTADb database.</span></span>|<span data-ttu-id="feb83-148">如果 dta_DebugTrace 表具有多个记录，业务流程形状跟踪正在使用或正在使用。</span><span class="sxs-lookup"><span data-stu-id="feb83-148">If the dta_DebugTrace table has many records, orchestration shape tracking is being used or was being used.</span></span> <span data-ttu-id="feb83-149">如果业务流程调试不是常规操作所必需的则禁用跟踪所有业务流程的业务流程形状。</span><span class="sxs-lookup"><span data-stu-id="feb83-149">If orchestration debugging is not required for regular operations, disable orchestration shape tracking for all orchestrations.</span></span> <span data-ttu-id="feb83-150">如果已禁用跟踪的业务流程形状并且 BizTalkMsgBoxDb 数据库中存在的积压工作，dta_DebugTrace 表可能会继续增大，因为 TDDS 继续将此数据移动到 dta_DebugTrace 表。</span><span class="sxs-lookup"><span data-stu-id="feb83-150">If orchestration shape tracking is already disabled and a backlog exists in the BizTalkMsgBoxDb database, the dta_DebugTrace table may continue to grow because TDDS continues to move this data into the dta_DebugTrace table.</span></span><br /><br /> <span data-ttu-id="feb83-151">若要控制 BizTalkDTADb 跟踪数据库的大小，你可以选择禁用全局跟踪。</span><span class="sxs-lookup"><span data-stu-id="feb83-151">To control the size of the BizTalkDTADb tracking database, you may choose to disable global tracking.</span></span> <span data-ttu-id="feb83-152">有关详细信息请参阅[如何打开关闭全局跟踪](http://go.microsoft.com/fwlink/p/?LinkId=153687)(http://go.microsoft.com/fwlink/p/?LinkId=153687)。</span><span class="sxs-lookup"><span data-stu-id="feb83-152">For more information see [How to Turn Off Global Tracking](http://go.microsoft.com/fwlink/p/?LinkId=153687) (http://go.microsoft.com/fwlink/p/?LinkId=153687).</span></span> <span data-ttu-id="feb83-153">有关跟踪数据库大小调整指导原则的详细信息，请参阅[跟踪数据库大小调整准则](http://go.microsoft.com/fwlink/p/?LinkId=153688)(http://go.microsoft.com/fwlink/p/?LinkId=153688)。</span><span class="sxs-lookup"><span data-stu-id="feb83-153">For more information about tracking database sizing guidelines, see [Tracking Database Sizing Guidelines](http://go.microsoft.com/fwlink/p/?LinkId=153688) (http://go.microsoft.com/fwlink/p/?LinkId=153688).</span></span>|  
|<span data-ttu-id="feb83-154">dta_MessageInOutEvents 表</span><span class="sxs-lookup"><span data-stu-id="feb83-154">dta_MessageInOutEvents table</span></span>|<span data-ttu-id="feb83-155">此表将跟踪的事件消息存储在 BizTalkDTADb 数据库。</span><span class="sxs-lookup"><span data-stu-id="feb83-155">This table stores tracked event messages in the BizTalkDTADb database.</span></span> <span data-ttu-id="feb83-156">这些跟踪的事件消息包括消息上下文信息。</span><span class="sxs-lookup"><span data-stu-id="feb83-156">These tracked event messages include message context information.</span></span>|<span data-ttu-id="feb83-157">如果 dta_DebugTrace 表和 BizTalkTrackingDb 数据库中的 dta_MessageInOutEvents 表来说太大，你可以在停止跟踪主机之后手动截断表。</span><span class="sxs-lookup"><span data-stu-id="feb83-157">If the dta_DebugTrace table and the dta_MessageInOutEvents table in the BizTalkTrackingDb database are too large, you can truncate the tables manually after you stop the tracking host.</span></span> <span data-ttu-id="feb83-158">对于说明如何截断表，请按照 Microsoft 知识库文章 952555，"dta_DebugTrace table"部分下的过程[如何维护和故障排除 BizTalk Server 数据库](http://go.microsoft.com/fwlink/p/?LinkId=158847)(http://go.microsoft.com/fwlink/p/？LinkId = 158847)。</span><span class="sxs-lookup"><span data-stu-id="feb83-158">For instructions on how to truncate the tables, follow the procedures under the section "dta_DebugTrace table" of Microsoft Knowledge Base article 952555, [How to maintain and troubleshoot BizTalk Server databases](http://go.microsoft.com/fwlink/p/?LinkId=158847) (http://go.microsoft.com/fwlink/p/?LinkId=158847).</span></span>|  
|<span data-ttu-id="feb83-159">dta_ServiceInstanceExceptions 表</span><span class="sxs-lookup"><span data-stu-id="feb83-159">dta_ServiceInstanceExceptions table</span></span>|<span data-ttu-id="feb83-160">此表 BizTalkDTADb 数据库中存储信息的任何挂起的服务实例时出错。</span><span class="sxs-lookup"><span data-stu-id="feb83-160">This table stores error information for any suspended service instance in the BizTalkDTADb database.</span></span>|<span data-ttu-id="feb83-161">Dta_ServiceInstanceExceptions 表通常变大定期已挂起实例的环境中。</span><span class="sxs-lookup"><span data-stu-id="feb83-161">The dta_ServiceInstanceExceptions table typically becomes large in an environment that regularly has suspended instances.</span></span>|