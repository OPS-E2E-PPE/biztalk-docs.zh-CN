---
title: "停止处理源系统上的应用程序 |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: cde5fc62-4bc2-4ef0-81bc-c7d39ff36cb6
caps.latest.revision: "2"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 70fe980e3f29e2bd4cf13aa2b74a1923126fcec2
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
---
# <a name="stopping-application-processing-on-the-source-system"></a><span data-ttu-id="ed3df-102">停止处理源系统上的应用程序</span><span class="sxs-lookup"><span data-stu-id="ed3df-102">Stopping Application Processing on the Source System</span></span>
<span data-ttu-id="ed3df-103">应用程序处理应停止时源[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]运行时服务器是仍能够参与使用现有的数据库服务器的文档处理。</span><span class="sxs-lookup"><span data-stu-id="ed3df-103">Application processing should be stopped when the source [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] runtime servers are still able to participate in document processing using the existing database servers.</span></span> <span data-ttu-id="ed3df-104">在此方案中，处理活动必须先停止，以便可以在完成一致还原操作。</span><span class="sxs-lookup"><span data-stu-id="ed3df-104">In this scenario, processing activity must be stopped so that a consistent restore operation can be completed.</span></span>  
  
 <span data-ttu-id="ed3df-105">若要停止应用程序处理源系统上，确保没有连接处于打开状态之间生产[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]运行时计算机和[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]容纳的计算机[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]数据库。</span><span class="sxs-lookup"><span data-stu-id="ed3df-105">To stop application processing on the source system, ensure that no connections are open between the production [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] runtime computers and the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers that house the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="ed3df-106">请按照下列步骤以停止对生产应用程序处理[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]运行时计算机：</span><span class="sxs-lookup"><span data-stu-id="ed3df-106">Follow these steps to stop application processing on the production [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] runtime computers:</span></span>  
  
1.  <span data-ttu-id="ed3df-107">禁用所有接收位置[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]BizTalk 组中的计算机。</span><span class="sxs-lookup"><span data-stu-id="ed3df-107">Disable all receive locations on the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers in the BizTalk group.</span></span> <span data-ttu-id="ed3df-108">记下的所有接收可以以后重新启用已禁用，以便这些接收位置的位置。</span><span class="sxs-lookup"><span data-stu-id="ed3df-108">Make a note of all receive locations that are disabled so that these receive locations can be re-enabled later.</span></span> <span data-ttu-id="ed3df-109">这将停止[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]处理传入消息。</span><span class="sxs-lookup"><span data-stu-id="ed3df-109">This will stop [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] from processing incoming messages.</span></span>  
  
2.  <span data-ttu-id="ed3df-110">停止从上运行的所有主机实例[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]组中的计算机。</span><span class="sxs-lookup"><span data-stu-id="ed3df-110">Stop all host instances from running on the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers in the group.</span></span> <span data-ttu-id="ed3df-111">这可以从[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理控制台。</span><span class="sxs-lookup"><span data-stu-id="ed3df-111">This can be done from the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span> <span data-ttu-id="ed3df-112">记下已停止，以便可以更高版本重新启动这些主机实例的所有主机实例。</span><span class="sxs-lookup"><span data-stu-id="ed3df-112">Make a note of all the host instances that were stopped so that these host instances can be restarted later.</span></span>  
  
3.  <span data-ttu-id="ed3df-113">停止所有[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]代理作业与[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]上[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]容纳的计算机[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]数据库。</span><span class="sxs-lookup"><span data-stu-id="ed3df-113">Stop all [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] Agent jobs related to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] on the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers that house [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span>  
  
4.  <span data-ttu-id="ed3df-114">如果 BAM 正在使用中，禁用任何 BAM 多维数据集更新和数据维护 SSIS 包。</span><span class="sxs-lookup"><span data-stu-id="ed3df-114">If BAM is in use, disable any BAM cube update and data maintenance SSIS packages.</span></span> <span data-ttu-id="ed3df-115">这可以通过使用[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]Management Studio。</span><span class="sxs-lookup"><span data-stu-id="ed3df-115">This can be done by using [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] Management Studio.</span></span>  
  
5.  <span data-ttu-id="ed3df-116">上停止 Analysis Services[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]容纳的计算机[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]数据库。</span><span class="sxs-lookup"><span data-stu-id="ed3df-116">Stop Analysis Services on the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers that house [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="ed3df-117">这可以通过停止 MSSQLServerOLAPService 的所有实例上完成[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]安装 Analysis Services 的计算机。</span><span class="sxs-lookup"><span data-stu-id="ed3df-117">This can be done by stopping all instances of MSSQLServerOLAPService on the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers where Analysis Services is installed.</span></span>  
  
6.  <span data-ttu-id="ed3df-118">停止任何其他[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]在可能正在运行的服务管理器服务[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]计算机的组中，例如，企业单一登录服务和规则引擎更新服务。</span><span class="sxs-lookup"><span data-stu-id="ed3df-118">Stop any other [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] services in Services Manager that may be running on the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers in the group, for example, the Enterprise Single Sign-On Service and the Rule Engine Update Service.</span></span> <span data-ttu-id="ed3df-119">记下，以便它们可以在稍后重新启动停止的服务。</span><span class="sxs-lookup"><span data-stu-id="ed3df-119">Make a note of the services that are stopped so that they can be restarted later.</span></span>  
  
7.  <span data-ttu-id="ed3df-120">关闭所有应用程序连接到[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]容纳的计算机[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]数据库。</span><span class="sxs-lookup"><span data-stu-id="ed3df-120">Close all applications that connect to the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers that house [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="ed3df-121">这包括的实例[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理控制台中， [!INCLUDE[btsVStudio2008](../includes/btsvstudio2008-md.md)]，和任何其他已安装 BizTalk 应用程序。</span><span class="sxs-lookup"><span data-stu-id="ed3df-121">This includes instances of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, [!INCLUDE[btsVStudio2008](../includes/btsvstudio2008-md.md)], and any other installed BizTalk applications.</span></span>  
  
8.  <span data-ttu-id="ed3df-122">验证不是否有生成的任何数据库活动[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="ed3df-122">Verify that there is no database activity generated by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="ed3df-123">使用[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]Management Studio，若要查看哪些过程连接到[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]容纳的计算机[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]数据库。</span><span class="sxs-lookup"><span data-stu-id="ed3df-123">Use [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] Management Studio to see what processes are connected to the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers that house [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="ed3df-124">这可以通过展开**管理**双击**活动监视器**中[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]Management Studio。</span><span class="sxs-lookup"><span data-stu-id="ed3df-124">This can be done by expanding **Management** and double-clicking **Activity Monitor** in [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] Management Studio.</span></span> <span data-ttu-id="ed3df-125">然后单击以选择**进程信息**。</span><span class="sxs-lookup"><span data-stu-id="ed3df-125">Then click to select **Process Info**.</span></span> <span data-ttu-id="ed3df-126">或者使用系统存储过程**sp_who**或**sp_who2**来标识到任何打开的连接[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]容纳的计算机[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]数据库。</span><span class="sxs-lookup"><span data-stu-id="ed3df-126">Alternatively use the system stored procedures **sp_who** or **sp_who2** to identify any open connections to the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers that house [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="ed3df-127">如果有连接任何进程，找到它们，并终止这些通常;或者作为最后一招，请右键单击每个进程中的**进程信息**窗格中的[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]Management Studio，然后单击**终止进程**可以终止的连接。</span><span class="sxs-lookup"><span data-stu-id="ed3df-127">If there are any processes connected, locate them and terminate them normally; or as a last resort, right-click each process in the **Process Info** pane in [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] Management Studio and click **Kill process** to terminate the connection.</span></span>  
  
9. <span data-ttu-id="ed3df-128">附加数据库处理可能发生在应用程序数据库。</span><span class="sxs-lookup"><span data-stu-id="ed3df-128">Additional database processing may be occurring in application databases.</span></span> <span data-ttu-id="ed3df-129">如果将恢复这些数据库，请确保所有处理已都停止。</span><span class="sxs-lookup"><span data-stu-id="ed3df-129">If these databases will be restored, ensure that all processing is stopped.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ed3df-130">另请参阅</span><span class="sxs-lookup"><span data-stu-id="ed3df-130">See Also</span></span>  
 [<span data-ttu-id="ed3df-131">还原 BizTalk 组</span><span class="sxs-lookup"><span data-stu-id="ed3df-131">Restoring the BizTalk Group</span></span>](../technical-guides/restoring-the-biztalk-group.md)