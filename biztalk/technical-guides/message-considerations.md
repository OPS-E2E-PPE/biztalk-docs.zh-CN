---
title: 消息注意事项 |Microsoft 文档
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 5ca466fa-426c-46f6-a400-747ff51ff8f4
caps.latest.revision: 6
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: a277149a47fa60dda4df9291ec437ac67c518fdd
ms.sourcegitcommit: 3fc338e52d5dbca2c3ea1685a2faafc7582fe23a
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 12/01/2017
ms.locfileid: "26010830"
---
# <a name="message-considerations"></a><span data-ttu-id="245fc-102">消息注意事项</span><span class="sxs-lookup"><span data-stu-id="245fc-102">Message Considerations</span></span>
[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="245fc-103">提供一套全面的功能发送、 接收、 转换和处理消息。</span><span class="sxs-lookup"><span data-stu-id="245fc-103"> provides an extensive set of capabilities for sending, receiving, transforming, and processing messages.</span></span> <span data-ttu-id="245fc-104">这些功能包括：</span><span class="sxs-lookup"><span data-stu-id="245fc-104">Some of these capabilities include:</span></span>  
  
-   <span data-ttu-id="245fc-105">能够发送和接收使用多个行业标准传输，如 HTTP、 SMTP、 FTP/FTPS 和 WCF 的消息。</span><span class="sxs-lookup"><span data-stu-id="245fc-105">Ability to send and receive messages using multiple industry standard transports such as HTTP, SMTP, FTP/FTPS  and WCF.</span></span> <span data-ttu-id="245fc-106">使用完成针对发送和接收消息的传输级支持[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]适配器。</span><span class="sxs-lookup"><span data-stu-id="245fc-106">Transport level support for sending and receiving messages is accomplished using [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] adapters.</span></span> <span data-ttu-id="245fc-107">集成[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]使用各种"业务线"处理的消息 (LOB) 应用程序使用许多可用之一来完成[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]加速器或多个适配器，如 HIPAA、 BizTalk Accelerator for SWIFT，BizTalk 快捷键或 BizTalk SAP 适配器。</span><span class="sxs-lookup"><span data-stu-id="245fc-107">Integration of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] message processing with various “line of business” (LOB) applications is accomplished using one of many available [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] accelerators or adapters, such as the BizTalk Accelerator for HIPAA, BizTalk Accelerator for SWIFT, or the BizTalk SAP adapter.</span></span> <span data-ttu-id="245fc-108">这些快捷键和适配器符合行业标准其中反过来可容纳的简单集成[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]与符合特定的行业标准的系统。</span><span class="sxs-lookup"><span data-stu-id="245fc-108">These accelerators and adapters conform to industry standards which in turn accommodates straightforward integration of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] with systems that conform to particular industry standard.</span></span>  
  
-   <span data-ttu-id="245fc-109">能够处理多个消息格式，如纯文本、 XML、 二进制和其他人。</span><span class="sxs-lookup"><span data-stu-id="245fc-109">Ability to process multiple message formats, such as plain text, XML, binary, and others.</span></span> <span data-ttu-id="245fc-110">此功能至关重要提供集成[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]具有广泛的贸易合作伙伴。</span><span class="sxs-lookup"><span data-stu-id="245fc-110">This functionality is crucial to providing integration of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] with a broad spectrum of trading partners.</span></span>  
  
-   <span data-ttu-id="245fc-111">支持的消息转换或文档映射。</span><span class="sxs-lookup"><span data-stu-id="245fc-111">Support for message transformation or document mapping.</span></span> <span data-ttu-id="245fc-112">映射能够适应不同的架构之间的数据的转换。</span><span class="sxs-lookup"><span data-stu-id="245fc-112">Mapping accommodates the transformation of data between different schemas.</span></span> <span data-ttu-id="245fc-113">例如，映射无法用于将接收的客户采购订单的内容转换为与传送通知的发送回客户回执。</span><span class="sxs-lookup"><span data-stu-id="245fc-113">For example, mapping could be used to transform the contents of a received customer purchase order into a receipt with shipping notification to be sent back to the customer.</span></span>  
  
-   <span data-ttu-id="245fc-114">BizTalk Server 业务流程提供用于创建跨时间、 组织、 应用程序和人员的业务流程的功能。</span><span class="sxs-lookup"><span data-stu-id="245fc-114">BizTalk Server orchestrations provide functionality for creating business processes that span time, organizations, applications, and people.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="245fc-115">提供用于开发包括支持事务 （传统"原子"MSDTC 类型和长时间运行） 的业务流程的业务流程设计器图形界面异常处理、 调试、 跟踪和调用扩展性外部代码。</span><span class="sxs-lookup"><span data-stu-id="245fc-115"> provides the Orchestration Designer graphical interface to develop business processes that include support for transactions (both traditional “atomic” MSDTC type and long running), exception handling, debugging, tracking, and extensibility for calling external code.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="245fc-116">请参阅[优化业务流程性能](../technical-guides/optimizing-orchestration-performance.md)有关使用中的业务流程时应遵循最佳做法指南[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="245fc-116">See [Optimizing Orchestration Performance](../technical-guides/optimizing-orchestration-performance.md) for guidance about best practices to follow when using orchestrations in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="245fc-117">请参阅主题[创建业务流程使用 Orchestration 设计器](http://go.microsoft.com/fwlink/?LinkId=158997)(http://go.microsoft.com/fwlink/?LinkId=158997) 中[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]文档了解有关使用 Orchestration 设计器的深入信息。</span><span class="sxs-lookup"><span data-stu-id="245fc-117">See the topic [Creating Orchestrations Using Orchestration Designer](http://go.microsoft.com/fwlink/?LinkId=158997) (http://go.microsoft.com/fwlink/?LinkId=158997) in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] documentation for in-depth information about using Orchestration Designer.</span></span>  
  
 <span data-ttu-id="245fc-118">本主题的其余部分介绍与 BizTalk Server 环境中处理的消息的大小、 复杂性和分发配置文件相关的性能注意事项。</span><span class="sxs-lookup"><span data-stu-id="245fc-118">The remainder of this topic describes performance considerations related to the size, complexity, and distribution profile of messages that are processed in a BizTalk Server environment.</span></span>  
  
## <a name="message-size-considerations"></a><span data-ttu-id="245fc-119">消息大小考虑事项</span><span class="sxs-lookup"><span data-stu-id="245fc-119">Message size considerations</span></span>  
 <span data-ttu-id="245fc-120">BizTalk Server 规定了对消息大小没有限制，而实际限制和依赖项可能要求你为了尽量减少你的消息的大小，因为大消息需要更多的处理资源。</span><span class="sxs-lookup"><span data-stu-id="245fc-120">While BizTalk Server imposes no restriction on message size, practical limits and dependencies might require you to minimize the size of your messages because large messages require more processing resources.</span></span> <span data-ttu-id="245fc-121">按消息大小增加，总体吞吐量 （每秒处理的消息） 会降低。</span><span class="sxs-lookup"><span data-stu-id="245fc-121">As message size increases, overall throughput (messages processed per second) decreases.</span></span> <span data-ttu-id="245fc-122">当设计你的方案和规划容量，请考虑平均消息大小、 消息类型和 BizTalk 服务器处理的消息数。</span><span class="sxs-lookup"><span data-stu-id="245fc-122">When designing your scenario and planning for capacity, consider the average message size, message type, and number of messages BizTalk Server processes.</span></span> <span data-ttu-id="245fc-123">不要使用不必要地长属性和标记名称;如果可能，使时长保持在 50 个字符。</span><span class="sxs-lookup"><span data-stu-id="245fc-123">Do not use unnecessarily long attribute and tag names; if possible, keep the length under 50 characters.</span></span> <span data-ttu-id="245fc-124">例如，不使用仅有 1 个字节的消息大小的 200 个字符标记名称。</span><span class="sxs-lookup"><span data-stu-id="245fc-124">For example, do not use a 200-character tag name for a message size of only 1 byte.</span></span>  
  
 <span data-ttu-id="245fc-125">如果收到的消息的内存中大小超过 （可配置 BizTalk Server 管理控制台中的 BizTalk 组的组属性页上） 最大的消息片段大小为指定的字节数，消息拆分为片段指定的大小。</span><span class="sxs-lookup"><span data-stu-id="245fc-125">If the in-memory size of a received message exceeds the number of bytes specified for the Large message fragment size (configurable on the Group Properties page for the BizTalk Group in the BizTalk Server Administration console), the message is split into fragments of the specified size.</span></span> <span data-ttu-id="245fc-126">此外，片段写入 Messagebox 的 Microsoft 分布式事务处理协调器 (MSDTC) 事务上下文，如下所示：</span><span class="sxs-lookup"><span data-stu-id="245fc-126">Additionally, the fragments are written into the Messagebox under the context of a Microsoft Distributed Transaction Coordinator (MSDTC) transaction as follows:</span></span>  
  
1.  <span data-ttu-id="245fc-127">如果现有 MSDTC 事务的上下文中发布的传入消息后，BizTalk MessageBox 数据库中写入的消息片段时，则使用此事务。</span><span class="sxs-lookup"><span data-stu-id="245fc-127">If the incoming message is being published in the context of an existing MSDTC transaction, this transaction is used when writing the message fragments to the BizTalk MessageBox database.</span></span> <span data-ttu-id="245fc-128">例如，如果由事务适配器配置为需要事务发布的传入消息后，现有的事务将使用的消息片段写入 MessageBox 数据库时。</span><span class="sxs-lookup"><span data-stu-id="245fc-128">For example, if the incoming message is being published by a transactional adapter configured to require transactions, the existing transaction would be used when writing the message fragments to the MessageBox database.</span></span>  
  
2.  <span data-ttu-id="245fc-129">如果传入的消息未发布的现有 MSDTC 事务的上下文中，会创建一个新的 MSDTC 事务的消息片段写入 MessageBox 数据库。</span><span class="sxs-lookup"><span data-stu-id="245fc-129">If the incoming message is not being published in the context of an existing MSDTC transaction, a new MSDTC transaction is created to write the message fragments to the MessageBox database.</span></span> <span data-ttu-id="245fc-130">在此方案中，下列注意事项适用：</span><span class="sxs-lookup"><span data-stu-id="245fc-130">In this scenario, the following considerations apply:</span></span>  
  
    -   <span data-ttu-id="245fc-131">值增加**大型消息片段大小**以减少大型消息已分段且减少创建关联的 MSDTC 事务的发生的频率。</span><span class="sxs-lookup"><span data-stu-id="245fc-131">Increase the value for **Large message fragment size** to reduce the frequency with which large messages are fragmented and reduce the incidence of creating the associated MSDTC transactions.</span></span> <span data-ttu-id="245fc-132">因此应该增大此值，因为过多使用 MSDTC 事务将极大地影响系统性能。</span><span class="sxs-lookup"><span data-stu-id="245fc-132">This should be done because excessive use of MSDTC transactions is expensive from a performance standpoint.</span></span> <span data-ttu-id="245fc-133">请注意，增大此值还可能增加要使用的可用内存量。</span><span class="sxs-lookup"><span data-stu-id="245fc-133">Note that increasing this value may also increase the amount of available memory that is used.</span></span>  
  
    -   <span data-ttu-id="245fc-134">如果所用时间长于 60 分钟将消息写入到 MessageBox 的最大允许 MSDTC 事务超时，事务将会超时，发生错误，并且尝试将消息写入失败且不回滚。</span><span class="sxs-lookup"><span data-stu-id="245fc-134">If it takes longer than the maximum allowable MSDTC transaction timeout of 60 minutes to write a message to the MessageBox, the transaction times out, an error occurs, and the attempt to write the message fails and is rolled back.</span></span> <span data-ttu-id="245fc-135">**大型消息片段大小**值应增加足以处理非常大的消息时避免此问题。</span><span class="sxs-lookup"><span data-stu-id="245fc-135">The **Large message fragment size** value should be increased enough to avoid this problem when processing very large messages.</span></span> <span data-ttu-id="245fc-136">根据可用内存的大小，可将此值提高到 1000000 字节的最大值。</span><span class="sxs-lookup"><span data-stu-id="245fc-136">Depending on available memory, this value should be increased up to a maximum value of 1000000 bytes.</span></span>  
  
    -   <span data-ttu-id="245fc-137">消息中的每个消息片段都可针对 MessageBox 数据库创建一个或多个 SQL Server 数据库锁定。</span><span class="sxs-lookup"><span data-stu-id="245fc-137">Each message fragment in a message creates one or more SQL Server database locks against the MessageBox database.</span></span> <span data-ttu-id="245fc-138">当锁的数目超过几个几十万时，有可能，SQL Server 将生成"超出锁"错误。</span><span class="sxs-lookup"><span data-stu-id="245fc-138">When the number of locks exceeds several hundred thousand, it is possible that SQL Server will generate “out of lock” errors.</span></span> <span data-ttu-id="245fc-139">如果出现此问题，增加的值**大型消息片段大小**以减少碎片数 （这将降低对 MessageBox 数据库的 SQL Server 数据库锁的数目） 或请考虑住房你MessageBox 64 位版本的 SQL Server 上的数据库。</span><span class="sxs-lookup"><span data-stu-id="245fc-139">If this problem occurs, increase the value for **Large message fragment size** to reduce the number of fragments (which decreases the number of SQL Server database locks made against the MessageBox database) or consider housing your MessageBox database on a 64-bit version of SQL Server.</span></span> <span data-ttu-id="245fc-140">可用锁的数目是明显更高，比 SQL server 上的 SQL Server 的 32 位版本的 64 位版本上。</span><span class="sxs-lookup"><span data-stu-id="245fc-140">The number of available locks is significantly higher on the 64-bit version of SQL Server than on a 32-bit version of SQL Server.</span></span> <span data-ttu-id="245fc-141">可以使用以下公式来估计每交换消息的最大数 MessageBox 数据库驻留在 32 位版本的 SQL Server 时：</span><span class="sxs-lookup"><span data-stu-id="245fc-141">The following formula can be used to estimate the maximum number of messages per interchange when the MessageBox database is housed on a 32-bit version of SQL Server:</span></span>  
  
        ```  
        200,000 / (Number of CPUs * BatchSize * MessagingThreadPoolSize)  
        ```  
  
 <span data-ttu-id="245fc-142">BizTalk Server 如何处理大消息，包括用于处理大消息的指南的详细信息请参阅[如何 BizTalk 服务器进程大消息](http://go.microsoft.com/fwlink/?LinkID=154680)(http://go.microsoft.com/fwlink/?LinkID=154680)。</span><span class="sxs-lookup"><span data-stu-id="245fc-142">For more information about how BizTalk Server processes large messages, including guidelines for processing large messages, see [How BizTalk Server Processes Large Messages](http://go.microsoft.com/fwlink/?LinkID=154680) (http://go.microsoft.com/fwlink/?LinkID=154680).</span></span>  
  
## <a name="message-type-considerations"></a><span data-ttu-id="245fc-143">消息类型注意事项</span><span class="sxs-lookup"><span data-stu-id="245fc-143">Message type considerations</span></span>  
 <span data-ttu-id="245fc-144">到 BizTalk Server 中两个主要格式之一接收消息： XML 文件或平面文件。</span><span class="sxs-lookup"><span data-stu-id="245fc-144">Messages are received into BizTalk Server in one of two primary formats: XML files or flat files.</span></span> <span data-ttu-id="245fc-145">消息类型应始终体现消息分布配置文件由于 XML 以及平面文件消息的资源要求不尽相同。</span><span class="sxs-lookup"><span data-stu-id="245fc-145">Message type should always be factored into the message distribution profile because of the varying resource requirements of XML and flat file messages.</span></span>  
  
-   <span data-ttu-id="245fc-146">**XML 文件**顺序 BizTalk Server 来执行任何处理以外传递路由的消息，消息必须为 XML 文件格式。</span><span class="sxs-lookup"><span data-stu-id="245fc-146">**XML files** In order for BizTalk Server to perform any processing on a message other than pass-through routing, the message must be in the XML file format.</span></span>  
  
-   <span data-ttu-id="245fc-147">**平面文件**BizTalk Server 才能执行传递路由以外的任何处理平面文件必须解析为 XML 格式。</span><span class="sxs-lookup"><span data-stu-id="245fc-147">**Flat files** Flat files must be parsed into an XML format before BizTalk Server can perform any processing other than pass-through routing.</span></span> <span data-ttu-id="245fc-148">将平面文件解析为 XML 文件将极大地增加文件大小。</span><span class="sxs-lookup"><span data-stu-id="245fc-148">Parsing a flat file into an XML file can greatly increase the size of the file.</span></span> <span data-ttu-id="245fc-149">因为平面文件不包含带有关于其数据的描述性信息的 XML 标记。</span><span class="sxs-lookup"><span data-stu-id="245fc-149">Flat files do not contain XML tags with descriptive information about their data.</span></span> <span data-ttu-id="245fc-150">另一方面，XML 文件还在描述性 XML 标记中包装了其所有数据。</span><span class="sxs-lookup"><span data-stu-id="245fc-150">XML files, on the other hand, wrap all of their data in descriptive XML tags.</span></span> <span data-ttu-id="245fc-151">在某些情况下，分析可以增加平面文件的大小的 10 个或多个，具体取决于多少描述性的数据包含在该文件的 XML 标记的因素。</span><span class="sxs-lookup"><span data-stu-id="245fc-151">In some scenarios, parsing can increase the size of a flat file by a factor of 10 or more, depending on how much descriptive data is contained in the XML tags for the file.</span></span>  
  
-   <span data-ttu-id="245fc-152">**平面文件文档包装在 XML 文档中的单个 CDATA 部分节点**这种类型的文档为 XML 和平面文件的组合，并且通常是占用大量内存的则整个由于 BizTalk Server 必须加载包装到平面文件文档在处理它之前的内存。</span><span class="sxs-lookup"><span data-stu-id="245fc-152">**Flat file documents wrapped in a single CDATA section node in an XML document** This type of document is a combination of both XML and flat file, and is often memory-intensive, since BizTalk Server must load the entire wrapped flat file document into memory before processing it.</span></span>  
  
## <a name="overload-considerations"></a><span data-ttu-id="245fc-153">重载注意事项</span><span class="sxs-lookup"><span data-stu-id="245fc-153">Overload considerations</span></span>  
 <span data-ttu-id="245fc-154">大多数 BizTalk 服务器应用程序不会收到消息的特定的常量的速率。</span><span class="sxs-lookup"><span data-stu-id="245fc-154">Most BizTalk Server applications do not receive messages at a specific, constant rate.</span></span> <span data-ttu-id="245fc-155">通常情况下，消息处理受到高峰和低谷。</span><span class="sxs-lookup"><span data-stu-id="245fc-155">Typically, message processing is subject to peaks and valleys.</span></span> <span data-ttu-id="245fc-156">例如，联机银行应用程序可能处理更多消息的第一波在清晨，然后在中间天，然后在一天结束。</span><span class="sxs-lookup"><span data-stu-id="245fc-156">, For example, an online banking application may process a higher volume of messages first thing in the morning, then during the middle of the day, and at the end of the day.</span></span> <span data-ttu-id="245fc-157">BizTalk Server 解决方案应进行测试以确保它们都将能够处理这些重载方案。</span><span class="sxs-lookup"><span data-stu-id="245fc-157">BizTalk Server solutions should be tested to ensure that they will be able to handle these overload scenarios.</span></span> <span data-ttu-id="245fc-158">若要确定解决方案可以处理与 BizTalk Server 重载方案的程度，应确定 BizTalk Server 解决方案的最大可持续吞吐量 (MST)。</span><span class="sxs-lookup"><span data-stu-id="245fc-158">To determine how well a BizTalk Server solution can handle overload scenarios, the maximum sustainable throughput (MST) of the BizTalk Server solution should be determined.</span></span> <span data-ttu-id="245fc-159">MST 是一个系统可以无限期地处理在生产环境中的消息流量的最高负载。</span><span class="sxs-lookup"><span data-stu-id="245fc-159">The MST is the highest load of message traffic that a system can handle indefinitely in a production environment.</span></span> <span data-ttu-id="245fc-160">有关 MST 的详细信息，请参阅[持续性能规划](http://go.microsoft.com/fwlink/?LinkID=158065)(http://go.microsoft.com/fwlink/?LinkID=158065) 和[什么是可持续的性能？](http://go.microsoft.com/fwlink/?LinkID=132304)</span><span class="sxs-lookup"><span data-stu-id="245fc-160">For more information about MST, see [Planning for Sustained Performance](http://go.microsoft.com/fwlink/?LinkID=158065) (http://go.microsoft.com/fwlink/?LinkID=158065) and [What Is Sustainable Performance?](http://go.microsoft.com/fwlink/?LinkID=132304)</span></span> <span data-ttu-id="245fc-161">(http://go.microsoft.com/fwlink/?LinkID=132304) 中[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]文档。</span><span class="sxs-lookup"><span data-stu-id="245fc-161">(http://go.microsoft.com/fwlink/?LinkID=132304) in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] documentation.</span></span>  
  
## <a name="schema-complexity"></a><span data-ttu-id="245fc-162">架构复杂性</span><span class="sxs-lookup"><span data-stu-id="245fc-162">Schema complexity</span></span>  
 <span data-ttu-id="245fc-163">分析 （尤其是平面文件分析） 的消息吞吐量受影响的架构的复杂性。</span><span class="sxs-lookup"><span data-stu-id="245fc-163">The throughput for message parsing (especially flat-file parsing) is affected by the complexity of the schemas.</span></span> <span data-ttu-id="245fc-164">随着架构复杂性增加，总体性能会降低。</span><span class="sxs-lookup"><span data-stu-id="245fc-164">As schema complexity increases, overall performance decreases.</span></span> <span data-ttu-id="245fc-165">在设计时架构，减少节点名称的长度，并将升级的属性移到架构的顶部。</span><span class="sxs-lookup"><span data-stu-id="245fc-165">When designing schemas, reduce the length of node names, and move promoted properties to the top of the schema.</span></span> <span data-ttu-id="245fc-166">这可以减少检索时间并从而提高性能。</span><span class="sxs-lookup"><span data-stu-id="245fc-166">This reduces retrieval time and thereby increases performance.</span></span>  
  
## <a name="map-complexity"></a><span data-ttu-id="245fc-167">映射复杂性</span><span class="sxs-lookup"><span data-stu-id="245fc-167">Map complexity</span></span>  
 <span data-ttu-id="245fc-168">根据映射的复杂性，映射表转换可能占用大量资源。</span><span class="sxs-lookup"><span data-stu-id="245fc-168">Depending on the complexity of the maps, map transformation can be resource-intensive.</span></span> <span data-ttu-id="245fc-169">作为映射复杂性增加，总体性能下降。</span><span class="sxs-lookup"><span data-stu-id="245fc-169">As map complexity increases, overall performance decreases.</span></span> <span data-ttu-id="245fc-170">若要提高整体性能，尽量减少链接和 functoid 在你的映射，尤其是调用数据库查找 functoid 等外部资源的 functoid 中使用的数。</span><span class="sxs-lookup"><span data-stu-id="245fc-170">To improve overall performance, minimize the number of links and functoids used in your maps, especially functoids that call external resources such as the DB Lookup functoid.</span></span>  
  
## <a name="flat-file-parsing-considerations"></a><span data-ttu-id="245fc-171">平面文件分析注意事项</span><span class="sxs-lookup"><span data-stu-id="245fc-171">Flat-file parsing considerations</span></span>  
 <span data-ttu-id="245fc-172">对分析平面文件的性能影响最大的两个因素是文件大小和架构复杂性。</span><span class="sxs-lookup"><span data-stu-id="245fc-172">The two factors that have the highest impact on the performance of flat-file parsing are file size and schema complexity.</span></span> <span data-ttu-id="245fc-173">不明确的架构是架构包含多个可选字段。</span><span class="sxs-lookup"><span data-stu-id="245fc-173">An ambiguous schema is a schema that contains many optional fields.</span></span> <span data-ttu-id="245fc-174">大文件大小使用时，具有可选的多个字段的架构会降低性能，因为较大的文件可能匹配的架构的不同分支。</span><span class="sxs-lookup"><span data-stu-id="245fc-174">When large file sizes are used, a schema with many optional fields can degrade performance because larger files may match different branches of the schema.</span></span> <span data-ttu-id="245fc-175">架构复杂性对较小的文件，比上较大的文件的影响更小。</span><span class="sxs-lookup"><span data-stu-id="245fc-175">Schema complexity has less impact on smaller files than on larger files.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="245fc-176">另请参阅</span><span class="sxs-lookup"><span data-stu-id="245fc-176">See Also</span></span>  
 [<span data-ttu-id="245fc-177">优化 BizTalk Server 应用程序</span><span class="sxs-lookup"><span data-stu-id="245fc-177">Optimizing BizTalk Server Applications</span></span>](../technical-guides/optimizing-biztalk-server-applications.md)