---
title: 消息注意事项 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 5ca466fa-426c-46f6-a400-747ff51ff8f4
caps.latest.revision: 6
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 9981dbce13f613afeb5c061a96d319cddd6c5c94
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65298446"
---
# <a name="message-considerations"></a><span data-ttu-id="30b9a-102">消息注意事项</span><span class="sxs-lookup"><span data-stu-id="30b9a-102">Message Considerations</span></span>
[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] <span data-ttu-id="30b9a-103">提供发送、 接收、 转换和处理消息的一组广泛的功能。</span><span class="sxs-lookup"><span data-stu-id="30b9a-103">provides an extensive set of capabilities for sending, receiving, transforming, and processing messages.</span></span> <span data-ttu-id="30b9a-104">这些功能包括：</span><span class="sxs-lookup"><span data-stu-id="30b9a-104">Some of these capabilities include:</span></span>  
  
- <span data-ttu-id="30b9a-105">若要发送和接收消息使用多个行业标准传输，如 HTTP、 SMTP、 FTP/FTPS 和 WCF 的功能。</span><span class="sxs-lookup"><span data-stu-id="30b9a-105">Ability to send and receive messages using multiple industry standard transports such as HTTP, SMTP, FTP/FTPS  and WCF.</span></span> <span data-ttu-id="30b9a-106">针对发送和接收消息的传输级支持通过[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]适配器。</span><span class="sxs-lookup"><span data-stu-id="30b9a-106">Transport level support for sending and receiving messages is accomplished using [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] adapters.</span></span> <span data-ttu-id="30b9a-107">集成[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]使用各种"的业务线"消息处理 (LOB) 应用程序使用许多可用之一来完成[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]加速器或适配器，如 BizTalk Accelerator for HIPAA，BizTalk Accelerator for SWIFT或 BizTalk SAP 适配器。</span><span class="sxs-lookup"><span data-stu-id="30b9a-107">Integration of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] message processing with various “line of business” (LOB) applications is accomplished using one of many available [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] accelerators or adapters, such as the BizTalk Accelerator for HIPAA, BizTalk Accelerator for SWIFT, or the BizTalk SAP adapter.</span></span> <span data-ttu-id="30b9a-108">这些加速器和适配器符合行业标准，其中又可容纳的简单集成[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]与符合特定的行业标准的系统。</span><span class="sxs-lookup"><span data-stu-id="30b9a-108">These accelerators and adapters conform to industry standards which in turn accommodates straightforward integration of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] with systems that conform to particular industry standard.</span></span>  
  
- <span data-ttu-id="30b9a-109">处理多个消息格式，如纯文本、 XML、 二进制和其他功能。</span><span class="sxs-lookup"><span data-stu-id="30b9a-109">Ability to process multiple message formats, such as plain text, XML, binary, and others.</span></span> <span data-ttu-id="30b9a-110">此功能对提供的集成至关重要[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]范围广泛的贸易合作伙伴使用。</span><span class="sxs-lookup"><span data-stu-id="30b9a-110">This functionality is crucial to providing integration of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] with a broad spectrum of trading partners.</span></span>  
  
- <span data-ttu-id="30b9a-111">对消息的转换或文档映射的支持。</span><span class="sxs-lookup"><span data-stu-id="30b9a-111">Support for message transformation or document mapping.</span></span> <span data-ttu-id="30b9a-112">映射可容纳不同的架构之间的数据转换。</span><span class="sxs-lookup"><span data-stu-id="30b9a-112">Mapping accommodates the transformation of data between different schemas.</span></span> <span data-ttu-id="30b9a-113">例如，可以使用映射将接收的客户采购订单的内容转换为与发送回客户传送通知回执。</span><span class="sxs-lookup"><span data-stu-id="30b9a-113">For example, mapping could be used to transform the contents of a received customer purchase order into a receipt with shipping notification to be sent back to the customer.</span></span>  
  
- <span data-ttu-id="30b9a-114">BizTalk Server 业务流程提供用于创建跨时间、 组织、 应用程序和人员的业务流程的功能。</span><span class="sxs-lookup"><span data-stu-id="30b9a-114">BizTalk Server orchestrations provide functionality for creating business processes that span time, organizations, applications, and people.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] <span data-ttu-id="30b9a-115">提供了业务流程设计器图形界面来开发业务流程，包括支持事务 （传统"原子"MSDTC 类型和长时间运行），异常处理、 调试、 跟踪和调用的可扩展性外部代码。</span><span class="sxs-lookup"><span data-stu-id="30b9a-115">provides the Orchestration Designer graphical interface to develop business processes that include support for transactions (both traditional “atomic” MSDTC type and long running), exception handling, debugging, tracking, and extensibility for calling external code.</span></span>  
  
  > [!NOTE]
  >  <span data-ttu-id="30b9a-116">请参阅[优化业务流程性能](../technical-guides/optimizing-orchestration-performance.md)有关使用中的业务流程时应遵循最佳做法指南[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="30b9a-116">See [Optimizing Orchestration Performance](../technical-guides/optimizing-orchestration-performance.md) for guidance about best practices to follow when using orchestrations in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="30b9a-117">请参阅主题[业务流程使用业务流程设计器创建](http://go.microsoft.com/fwlink/?LinkId=158997)(<http://go.microsoft.com/fwlink/?LinkId=158997>) 中[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]文档了解有关使用业务流程设计器的深入信息。</span><span class="sxs-lookup"><span data-stu-id="30b9a-117">See the topic [Creating Orchestrations Using Orchestration Designer](http://go.microsoft.com/fwlink/?LinkId=158997) (<http://go.microsoft.com/fwlink/?LinkId=158997>) in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] documentation for in-depth information about using Orchestration Designer.</span></span>  
  
  <span data-ttu-id="30b9a-118">本主题的其余部分介绍了与 BizTalk Server 环境中处理的消息的大小、 复杂性和分发配置文件相关的性能注意事项。</span><span class="sxs-lookup"><span data-stu-id="30b9a-118">The remainder of this topic describes performance considerations related to the size, complexity, and distribution profile of messages that are processed in a BizTalk Server environment.</span></span>  
  
## <a name="message-size-considerations"></a><span data-ttu-id="30b9a-119">消息大小注意事项</span><span class="sxs-lookup"><span data-stu-id="30b9a-119">Message size considerations</span></span>  
 <span data-ttu-id="30b9a-120">BizTalk Server 规定了对消息大小没有限制，而实际限制和依赖项可能要求你尽量减少消息的大小，因为大型消息需要更多的处理资源。</span><span class="sxs-lookup"><span data-stu-id="30b9a-120">While BizTalk Server imposes no restriction on message size, practical limits and dependencies might require you to minimize the size of your messages because large messages require more processing resources.</span></span> <span data-ttu-id="30b9a-121">为消息大小的增加，整体吞吐量 （每秒处理的消息） 会降低。</span><span class="sxs-lookup"><span data-stu-id="30b9a-121">As message size increases, overall throughput (messages processed per second) decreases.</span></span> <span data-ttu-id="30b9a-122">当设计使用方案和计划容量，请考虑平均消息大小、 消息类型和 BizTalk Server 处理的消息数。</span><span class="sxs-lookup"><span data-stu-id="30b9a-122">When designing your scenario and planning for capacity, consider the average message size, message type, and number of messages BizTalk Server processes.</span></span> <span data-ttu-id="30b9a-123">不要使用不必要地长属性和标记名称;如果可能，请保留长度少于 50 个字符。</span><span class="sxs-lookup"><span data-stu-id="30b9a-123">Do not use unnecessarily long attribute and tag names; if possible, keep the length under 50 characters.</span></span> <span data-ttu-id="30b9a-124">例如，不使用只有 1 个字节的消息大小为 200 个字符标记名称。</span><span class="sxs-lookup"><span data-stu-id="30b9a-124">For example, do not use a 200-character tag name for a message size of only 1 byte.</span></span>  
  
 <span data-ttu-id="30b9a-125">如果收到的消息的内存中大小超过为大消息片断大小 （可在 BizTalk Server 管理控制台中的 BizTalk 组的组属性页上配置） 指定的字节数，该消息将拆分为的片段指定的大小。</span><span class="sxs-lookup"><span data-stu-id="30b9a-125">If the in-memory size of a received message exceeds the number of bytes specified for the Large message fragment size (configurable on the Group Properties page for the BizTalk Group in the BizTalk Server Administration console), the message is split into fragments of the specified size.</span></span> <span data-ttu-id="30b9a-126">此外，这些片段写入 Messagebox Microsoft 分布式事务处理协调器 (MSDTC) 事务的上下文，如下所示：</span><span class="sxs-lookup"><span data-stu-id="30b9a-126">Additionally, the fragments are written into the Messagebox under the context of a Microsoft Distributed Transaction Coordinator (MSDTC) transaction as follows:</span></span>  
  
1. <span data-ttu-id="30b9a-127">如果正在现有的 MSDTC 事务上下文中发布传入消息，消息片段写入到 BizTalk MessageBox 数据库时使用此事务。</span><span class="sxs-lookup"><span data-stu-id="30b9a-127">If the incoming message is being published in the context of an existing MSDTC transaction, this transaction is used when writing the message fragments to the BizTalk MessageBox database.</span></span> <span data-ttu-id="30b9a-128">例如，如果配置为需要事务的事务性适配器正在发布传入消息，现有的事务将使用的消息片段写入 MessageBox 数据库时。</span><span class="sxs-lookup"><span data-stu-id="30b9a-128">For example, if the incoming message is being published by a transactional adapter configured to require transactions, the existing transaction would be used when writing the message fragments to the MessageBox database.</span></span>  
  
2. <span data-ttu-id="30b9a-129">如果不现有的 MSDTC 事务上下文中发布传入消息，被创建一个新的 MSDTC 事务的消息片段写入 MessageBox 数据库。</span><span class="sxs-lookup"><span data-stu-id="30b9a-129">If the incoming message is not being published in the context of an existing MSDTC transaction, a new MSDTC transaction is created to write the message fragments to the MessageBox database.</span></span> <span data-ttu-id="30b9a-130">在此方案中，以下注意事项适用：</span><span class="sxs-lookup"><span data-stu-id="30b9a-130">In this scenario, the following considerations apply:</span></span>  
  
   -   <span data-ttu-id="30b9a-131">值增加**大消息片段大小**来降低的频率与大消息被分割为碎片，并减少创建关联的 MSDTC 事务的发生率。</span><span class="sxs-lookup"><span data-stu-id="30b9a-131">Increase the value for **Large message fragment size** to reduce the frequency with which large messages are fragmented and reduce the incidence of creating the associated MSDTC transactions.</span></span> <span data-ttu-id="30b9a-132">这样应做因为过多使用 MSDTC 事务将极大地影响系统性能。</span><span class="sxs-lookup"><span data-stu-id="30b9a-132">This should be done because excessive use of MSDTC transactions is expensive from a performance standpoint.</span></span> <span data-ttu-id="30b9a-133">请注意，增加此值还可以增加使用的可用内存量。</span><span class="sxs-lookup"><span data-stu-id="30b9a-133">Note that increasing this value may also increase the amount of available memory that is used.</span></span>  
  
   -   <span data-ttu-id="30b9a-134">如果它花费的时间超过 60 分钟，可将消息写入到 MessageBox 的最大允许 MSDTC 事务超时，事务超时时，出现错误，并且写入消息的尝试失败，且不回滚。</span><span class="sxs-lookup"><span data-stu-id="30b9a-134">If it takes longer than the maximum allowable MSDTC transaction timeout of 60 minutes to write a message to the MessageBox, the transaction times out, an error occurs, and the attempt to write the message fails and is rolled back.</span></span> <span data-ttu-id="30b9a-135">**大消息片段大小**值应足够大才能在处理非常大的消息时避免出现此问题。</span><span class="sxs-lookup"><span data-stu-id="30b9a-135">The **Large message fragment size** value should be increased enough to avoid this problem when processing very large messages.</span></span> <span data-ttu-id="30b9a-136">具体取决于可用内存，此值应提高到 1000000 字节的最大值。</span><span class="sxs-lookup"><span data-stu-id="30b9a-136">Depending on available memory, this value should be increased up to a maximum value of 1000000 bytes.</span></span>  
  
   -   <span data-ttu-id="30b9a-137">在消息中的每个消息片段将创建一个或多个 SQL Server 数据库锁定对 MessageBox 数据库。</span><span class="sxs-lookup"><span data-stu-id="30b9a-137">Each message fragment in a message creates one or more SQL Server database locks against the MessageBox database.</span></span> <span data-ttu-id="30b9a-138">当锁的数目超过数十万时，很可能 SQL Server 将生成"内存不足"错误。</span><span class="sxs-lookup"><span data-stu-id="30b9a-138">When the number of locks exceeds several hundred thousand, it is possible that SQL Server will generate “out of lock” errors.</span></span> <span data-ttu-id="30b9a-139">如果出现此问题，请增加的值**大消息片段大小**以减少 （这将降低对 MessageBox 数据库所做的 SQL Server 数据库锁的数目） 的片段数或考虑底座你在 64 位版本的 SQL Server 的 MessageBox 数据库。</span><span class="sxs-lookup"><span data-stu-id="30b9a-139">If this problem occurs, increase the value for **Large message fragment size** to reduce the number of fragments (which decreases the number of SQL Server database locks made against the MessageBox database) or consider housing your MessageBox database on a 64-bit version of SQL Server.</span></span> <span data-ttu-id="30b9a-140">可用锁的数目是比 SQL Server 的 32 位版本的 SQL Server 上的 64 位版本上高得多。</span><span class="sxs-lookup"><span data-stu-id="30b9a-140">The number of available locks is significantly higher on the 64-bit version of SQL Server than on a 32-bit version of SQL Server.</span></span> <span data-ttu-id="30b9a-141">可以使用下面的公式估算时 MessageBox 数据库存储在 SQL Server 的 32 位版本上可用的最大的每个交换的消息数：</span><span class="sxs-lookup"><span data-stu-id="30b9a-141">The following formula can be used to estimate the maximum number of messages per interchange when the MessageBox database is housed on a 32-bit version of SQL Server:</span></span>  
  
       ```  
       200,000 / (Number of CPUs * BatchSize * MessagingThreadPoolSize)  
       ```  
  
   <span data-ttu-id="30b9a-142">有关 BizTalk Server 如何处理大消息，包括处理大消息的指导原则的详细信息请参阅[如何 BizTalk Server 处理大消息](http://go.microsoft.com/fwlink/?LinkID=154680)(http://go.microsoft.com/fwlink/?LinkID=154680)。</span><span class="sxs-lookup"><span data-stu-id="30b9a-142">For more information about how BizTalk Server processes large messages, including guidelines for processing large messages, see [How BizTalk Server Processes Large Messages](http://go.microsoft.com/fwlink/?LinkID=154680) (http://go.microsoft.com/fwlink/?LinkID=154680).</span></span>  
  
## <a name="message-type-considerations"></a><span data-ttu-id="30b9a-143">消息类型注意事项</span><span class="sxs-lookup"><span data-stu-id="30b9a-143">Message type considerations</span></span>  
 <span data-ttu-id="30b9a-144">BizTalk server 以两种主要格式之一接收消息：XML 文件或平面文件。</span><span class="sxs-lookup"><span data-stu-id="30b9a-144">Messages are received into BizTalk Server in one of two primary formats: XML files or flat files.</span></span> <span data-ttu-id="30b9a-145">消息类型都应始终考虑到消息分发配置文件的 XML 和平面文件消息的不同资源要求。</span><span class="sxs-lookup"><span data-stu-id="30b9a-145">Message type should always be factored into the message distribution profile because of the varying resource requirements of XML and flat file messages.</span></span>  
  
-   <span data-ttu-id="30b9a-146">**XML 文件**使 BizTalk Server 之外传递路由的消息执行任何处理，消息必须为 XML 文件格式。</span><span class="sxs-lookup"><span data-stu-id="30b9a-146">**XML files** In order for BizTalk Server to perform any processing on a message other than pass-through routing, the message must be in the XML file format.</span></span>  
  
-   <span data-ttu-id="30b9a-147">**平面文件**BizTalk Server 可以执行任何处理而不是直通路由之前，必须为 XML 格式解析平面文件。</span><span class="sxs-lookup"><span data-stu-id="30b9a-147">**Flat files** Flat files must be parsed into an XML format before BizTalk Server can perform any processing other than pass-through routing.</span></span> <span data-ttu-id="30b9a-148">将平面文件解析到一个 XML 文件可以极大地增加文件的大小。</span><span class="sxs-lookup"><span data-stu-id="30b9a-148">Parsing a flat file into an XML file can greatly increase the size of the file.</span></span> <span data-ttu-id="30b9a-149">平面文件不包含有关其数据的描述性信息的 XML 标记。</span><span class="sxs-lookup"><span data-stu-id="30b9a-149">Flat files do not contain XML tags with descriptive information about their data.</span></span> <span data-ttu-id="30b9a-150">XML 文件，但是，包装其所有数据在描述性 XML 标记。</span><span class="sxs-lookup"><span data-stu-id="30b9a-150">XML files, on the other hand, wrap all of their data in descriptive XML tags.</span></span> <span data-ttu-id="30b9a-151">在某些情况下，分析可以将大小增加的平面文件的文件的 XML 标记中包含的 10 个或多个，具体取决于多少描述性数据的因素。</span><span class="sxs-lookup"><span data-stu-id="30b9a-151">In some scenarios, parsing can increase the size of a flat file by a factor of 10 or more, depending on how much descriptive data is contained in the XML tags for the file.</span></span>  
  
-   <span data-ttu-id="30b9a-152">**平面文件文档包装在 XML 文档中的单个 CDATA 部分节点**这种类型的文档是 XML 文件和平面文件的组合，并且通常是占用大量内存的因为 BizTalk Server 必须加载整个包装到的平面文件文档在处理它之前的内存。</span><span class="sxs-lookup"><span data-stu-id="30b9a-152">**Flat file documents wrapped in a single CDATA section node in an XML document** This type of document is a combination of both XML and flat file, and is often memory-intensive, since BizTalk Server must load the entire wrapped flat file document into memory before processing it.</span></span>  
  
## <a name="overload-considerations"></a><span data-ttu-id="30b9a-153">重载注意事项</span><span class="sxs-lookup"><span data-stu-id="30b9a-153">Overload considerations</span></span>  
 <span data-ttu-id="30b9a-154">大多数 BizTalk Server 应用程序不会收到消息以特定的常量的速率。</span><span class="sxs-lookup"><span data-stu-id="30b9a-154">Most BizTalk Server applications do not receive messages at a specific, constant rate.</span></span> <span data-ttu-id="30b9a-155">通常情况下，消息处理受到的高峰和低谷。</span><span class="sxs-lookup"><span data-stu-id="30b9a-155">Typically, message processing is subject to peaks and valleys.</span></span> <span data-ttu-id="30b9a-156">例如，联机银行业务应用程序可以处理更多的消息首先要做的事情在第二天早上，然后在中间天，并在一天结束时。</span><span class="sxs-lookup"><span data-stu-id="30b9a-156">, For example, an online banking application may process a higher volume of messages first thing in the morning, then during the middle of the day, and at the end of the day.</span></span> <span data-ttu-id="30b9a-157">BizTalk Server 解决方案应进行测试以确保它们能够处理这些重载的方案。</span><span class="sxs-lookup"><span data-stu-id="30b9a-157">BizTalk Server solutions should be tested to ensure that they will be able to handle these overload scenarios.</span></span> <span data-ttu-id="30b9a-158">若要确定 BizTalk Server 解决方案可以处理重载方案的程度，应确定 BizTalk Server 解决方案的最大可承受吞吐量 (MST)。</span><span class="sxs-lookup"><span data-stu-id="30b9a-158">To determine how well a BizTalk Server solution can handle overload scenarios, the maximum sustainable throughput (MST) of the BizTalk Server solution should be determined.</span></span> <span data-ttu-id="30b9a-159">MST 是一个系统可以无限期地处理在生产环境中的消息流量的最高负载。</span><span class="sxs-lookup"><span data-stu-id="30b9a-159">The MST is the highest load of message traffic that a system can handle indefinitely in a production environment.</span></span> <span data-ttu-id="30b9a-160">有关 MST 的详细信息，请参阅[规划可持续性能](http://go.microsoft.com/fwlink/?LinkID=158065)(<http://go.microsoft.com/fwlink/?LinkID=158065>) 和[可承受性能？](http://go.microsoft.com/fwlink/?LinkID=132304)</span><span class="sxs-lookup"><span data-stu-id="30b9a-160">For more information about MST, see [Planning for Sustained Performance](http://go.microsoft.com/fwlink/?LinkID=158065) (<http://go.microsoft.com/fwlink/?LinkID=158065>) and [What Is Sustainable Performance?](http://go.microsoft.com/fwlink/?LinkID=132304)</span></span> <span data-ttu-id="30b9a-161">(<http://go.microsoft.com/fwlink/?LinkID=132304>) 中[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]文档。</span><span class="sxs-lookup"><span data-stu-id="30b9a-161">(<http://go.microsoft.com/fwlink/?LinkID=132304>) in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] documentation.</span></span>  
  
## <a name="schema-complexity"></a><span data-ttu-id="30b9a-162">架构复杂性</span><span class="sxs-lookup"><span data-stu-id="30b9a-162">Schema complexity</span></span>  
 <span data-ttu-id="30b9a-163">架构的复杂性会影响分析 （尤其是平面文件解析） 的消息吞吐量。</span><span class="sxs-lookup"><span data-stu-id="30b9a-163">The throughput for message parsing (especially flat-file parsing) is affected by the complexity of the schemas.</span></span> <span data-ttu-id="30b9a-164">随着架构复杂性的增加，总体性能下降。</span><span class="sxs-lookup"><span data-stu-id="30b9a-164">As schema complexity increases, overall performance decreases.</span></span> <span data-ttu-id="30b9a-165">在设计时架构，减少的节点名称的长度，并将升级的属性移到架构的顶部。</span><span class="sxs-lookup"><span data-stu-id="30b9a-165">When designing schemas, reduce the length of node names, and move promoted properties to the top of the schema.</span></span> <span data-ttu-id="30b9a-166">这可以减少检索时间，从而可以提高性能。</span><span class="sxs-lookup"><span data-stu-id="30b9a-166">This reduces retrieval time and thereby increases performance.</span></span>  
  
## <a name="map-complexity"></a><span data-ttu-id="30b9a-167">映射复杂性</span><span class="sxs-lookup"><span data-stu-id="30b9a-167">Map complexity</span></span>  
 <span data-ttu-id="30b9a-168">根据所映射的复杂性，映射表转换可以是需要消耗大量资源。</span><span class="sxs-lookup"><span data-stu-id="30b9a-168">Depending on the complexity of the maps, map transformation can be resource-intensive.</span></span> <span data-ttu-id="30b9a-169">为映射复杂性增加，总体性能下降。</span><span class="sxs-lookup"><span data-stu-id="30b9a-169">As map complexity increases, overall performance decreases.</span></span> <span data-ttu-id="30b9a-170">若要提高整体性能，最大程度减少链接和 functoid 在映射中，尤其是调用外部资源，例如数据库查找 functoid 的 functoid 中使用的数量。</span><span class="sxs-lookup"><span data-stu-id="30b9a-170">To improve overall performance, minimize the number of links and functoids used in your maps, especially functoids that call external resources such as the DB Lookup functoid.</span></span>  
  
## <a name="flat-file-parsing-considerations"></a><span data-ttu-id="30b9a-171">平面文件解析注意事项</span><span class="sxs-lookup"><span data-stu-id="30b9a-171">Flat-file parsing considerations</span></span>  
 <span data-ttu-id="30b9a-172">对平面文件分析的性能最高影响的两个因素是文件大小和架构的复杂性。</span><span class="sxs-lookup"><span data-stu-id="30b9a-172">The two factors that have the highest impact on the performance of flat-file parsing are file size and schema complexity.</span></span> <span data-ttu-id="30b9a-173">不明确的架构是包含很多可选字段的架构。</span><span class="sxs-lookup"><span data-stu-id="30b9a-173">An ambiguous schema is a schema that contains many optional fields.</span></span> <span data-ttu-id="30b9a-174">如果使用大型文件大小时，具有许多可选字段的架构会降低性能，因为较大的文件可能匹配的架构的不同分支。</span><span class="sxs-lookup"><span data-stu-id="30b9a-174">When large file sizes are used, a schema with many optional fields can degrade performance because larger files may match different branches of the schema.</span></span> <span data-ttu-id="30b9a-175">架构复杂性上比对较大的文件较小的文件具有的影响更小。</span><span class="sxs-lookup"><span data-stu-id="30b9a-175">Schema complexity has less impact on smaller files than on larger files.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="30b9a-176">请参阅</span><span class="sxs-lookup"><span data-stu-id="30b9a-176">See Also</span></span>  
 [<span data-ttu-id="30b9a-177">优化 BizTalk Server 应用程序</span><span class="sxs-lookup"><span data-stu-id="30b9a-177">Optimizing BizTalk Server Applications</span></span>](../technical-guides/optimizing-biztalk-server-applications.md)