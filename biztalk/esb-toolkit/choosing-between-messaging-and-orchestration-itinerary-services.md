---
title: "选择消息传送和业务流程路线服务 |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 694f929a-c830-4906-8e97-4fbd50e70133
caps.latest.revision: "3"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 735d8411f2587e8e241773c4ebb8f98d29f3abed
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
---
# <a name="choosing-between-messaging-and-orchestration-itinerary-services"></a><span data-ttu-id="18c57-102">选择消息传送和业务流程路线服务</span><span class="sxs-lookup"><span data-stu-id="18c57-102">Choosing Between Messaging and Orchestration Itinerary Services</span></span>
<span data-ttu-id="18c57-103">可以配置路线服务的消息传递子系统或的业务流程子系统中出现[!INCLUDE[prague](../includes/prague-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="18c57-103">Itinerary services can be configured to occur in either the messaging subsystem or the orchestration subsystem of [!INCLUDE[prague](../includes/prague-md.md)].</span></span> <span data-ttu-id="18c57-104">这些 ESB 路线的消息传递服务配置为处理该消息，并且可能在 BizTalk Server 管道中使用 （入口或出口） 执行。</span><span class="sxs-lookup"><span data-stu-id="18c57-104">These ESB itinerary messaging services are configured to process the message and may be executed in a BizTalk Server pipeline (on-ramp or off-ramp).</span></span> <span data-ttu-id="18c57-105">此选项允许开发人员定义完全在其中在管道中的服务将执行。</span><span class="sxs-lookup"><span data-stu-id="18c57-105">This option enables the developer to define exactly where in the pipeline the service will execute.</span></span> <span data-ttu-id="18c57-106">当然，配置为在业务流程子系统处理服务将执行 BizTalk 业务流程中。</span><span class="sxs-lookup"><span data-stu-id="18c57-106">Naturally, services configured to process in the orchestration subsystem will be executed in a BizTalk orchestration.</span></span>  
  
## <a name="esb-itinerary-messaging-services"></a><span data-ttu-id="18c57-107">ESB 路线的消息传递服务</span><span class="sxs-lookup"><span data-stu-id="18c57-107">ESB Itinerary Messaging Services</span></span>  
 <span data-ttu-id="18c57-108">在 BizTalk Server 管道中正在处理一条消息，当使用 ESB 路线的消息传递服务减少了消息延迟。</span><span class="sxs-lookup"><span data-stu-id="18c57-108">When a message is being processed in a BizTalk Server pipeline, using ESB itinerary messaging services reduces message latency.</span></span> <span data-ttu-id="18c57-109">通过在管道中使用单个实现连续服务，它是可以转换多个时间的一条消息并将消息路由到其终结点，与仅单个暂留到消息框数据库。</span><span class="sxs-lookup"><span data-stu-id="18c57-109">By implementing back-to-back services in a single pipeline, it is possible to transform a message multiple times and route the message to its endpoints with only a single persistence to the Message Box database.</span></span> <span data-ttu-id="18c57-110">此外，基于消息的处理消除处理业务流程的其他资源成本。</span><span class="sxs-lookup"><span data-stu-id="18c57-110">Additionally, messaging-based processing eliminates the additional resource cost of orchestration processing.</span></span> <span data-ttu-id="18c57-111">通常情况下，基于消息的处理资源消耗小，并提供比基于业务流程的处理的处理速度。</span><span class="sxs-lookup"><span data-stu-id="18c57-111">Generally speaking, messaging-based processing is less resource intensive and provides faster processing than orchestration-based processing.</span></span> <span data-ttu-id="18c57-112">在管道，ESB 调度程序和 ESB 调度程序反汇编管道提供的组件[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]充当消息拦截器并执行基于消息的路线服务、 是否是路由、 转换或自定义服务。</span><span class="sxs-lookup"><span data-stu-id="18c57-112">In pipelines, the ESB Dispatcher and ESB Dispatcher Disassemble pipeline components provided by [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] act as message interceptors and execute messaging-based itinerary services, whether it is a routing, transformation, or a custom service.</span></span> <span data-ttu-id="18c57-113">有关配置这些组件的详细信息，请参阅[ESB 调度程序组件](../esb-toolkit/the-esb-dispatcher-component.md)和[ESB 调度程序反汇编组件](../esb-toolkit/the-esb-dispatcher-disassemble-component.md)。</span><span class="sxs-lookup"><span data-stu-id="18c57-113">For more information about configuring these components, see [The ESB Dispatcher Component](../esb-toolkit/the-esb-dispatcher-component.md) and [The ESB Dispatcher Disassemble Component](../esb-toolkit/the-esb-dispatcher-disassemble-component.md).</span></span>  
  
## <a name="esb-itinerary-orchestration-services"></a><span data-ttu-id="18c57-114">ESB 路线业务流程服务</span><span class="sxs-lookup"><span data-stu-id="18c57-114">ESB Itinerary Orchestration Services</span></span>  
 <span data-ttu-id="18c57-115">如果之间或之后业务流程，必须进行动态路由，请对路线服务使用基于业务流程的处理。</span><span class="sxs-lookup"><span data-stu-id="18c57-115">If dynamic routing must occur between or after orchestration processes, use orchestration-based processing for the itinerary service.</span></span> <span data-ttu-id="18c57-116">默认情况下，基于业务流程的服务作为 XML 文档中接收消息。</span><span class="sxs-lookup"><span data-stu-id="18c57-116">By default, the orchestration-based services receive the message as an XML document.</span></span> <span data-ttu-id="18c57-117">路由业务流程使用解析程序管理器尝试解决在路线中标识的终结点。</span><span class="sxs-lookup"><span data-stu-id="18c57-117">The Routing orchestration uses the Resolver Manager to attempt to resolve the endpoints identified in the itinerary.</span></span> <span data-ttu-id="18c57-118">适配器管理器使用从解析程序管理器的响应来将终结点详细信息提升到消息上下文中，并将消息发布到消息框数据库使用直接绑定逻辑端口。</span><span class="sxs-lookup"><span data-stu-id="18c57-118">The Adapter Manager uses the response from the Resolver Manager to promote the endpoint details into the message context, and the message is published to the Message Box database using a direct-bound logical port.</span></span> <span data-ttu-id="18c57-119">此时，正则 BizTalk 路由出现，且使用消息的提升的属性配置动态发送端口。</span><span class="sxs-lookup"><span data-stu-id="18c57-119">At this point, regular BizTalk routing occurs, and the dynamic send port is configured using the message's promoted properties.</span></span>  
  
 <span data-ttu-id="18c57-120">包含的路线服务业务流程提供创建自定义基于业务流程的路线服务的很好的起点。</span><span class="sxs-lookup"><span data-stu-id="18c57-120">The included Itinerary Service orchestration provides a good starting point for creating custom orchestration-based itinerary services.</span></span> <span data-ttu-id="18c57-121">有关创建自定义路线服务的详细信息，请参阅[修改和扩展 BizTalk ESB 工具包](../esb-toolkit/modifying-and-extending-the-biztalk-esb-toolkit.md)。</span><span class="sxs-lookup"><span data-stu-id="18c57-121">For more information about creating custom itinerary services, see [Modifying and Extending the BizTalk ESB Toolkit](../esb-toolkit/modifying-and-extending-the-biztalk-esb-toolkit.md).</span></span>