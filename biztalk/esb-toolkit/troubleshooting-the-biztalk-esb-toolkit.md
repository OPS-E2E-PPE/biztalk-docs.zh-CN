---
title: BizTalk ESB 工具包疑难解答 |Microsoft Docs
description: 排查安装问题，并与 ESB 工具包在 BizTalk Server 中的常见错误
caps.latest.revision: 2
author: MandiOhlinger
manager: anneta
ms.custom: ''
ms.date: 08/10/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: e1ea2d56-2ace-40f2-80df-8a7489bbfc2e
ms.author: mandia
ms.openlocfilehash: 11c673b2bbfde82a29acc94378d4b26f1d721da0
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65399598"
---
# <a name="troubleshoot-the-biztalk-esb-toolkit"></a><span data-ttu-id="03de8-103">BizTalk ESB 工具包疑难解答</span><span class="sxs-lookup"><span data-stu-id="03de8-103">Troubleshoot the BizTalk ESB Toolkit</span></span>

  
## <a name="installation"></a><span data-ttu-id="03de8-104">安装</span><span class="sxs-lookup"><span data-stu-id="03de8-104">Installation</span></span>  
  
|                                       <span data-ttu-id="03de8-105">问题</span><span class="sxs-lookup"><span data-stu-id="03de8-105">Issue</span></span>                                        |                                                                                                                                                                                                                                                                                                                            <span data-ttu-id="03de8-106">解决方法</span><span class="sxs-lookup"><span data-stu-id="03de8-106">Resolution</span></span>                                                                                                                                                                                                                                                                                                                            |
|------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|    <span data-ttu-id="03de8-107">您收到在安装过程中的"分配权限时出错"异常。</span><span class="sxs-lookup"><span data-stu-id="03de8-107">You receive an "Error assigning permissions" exception during installation.</span></span>     |                                                                                                                                           <span data-ttu-id="03de8-108">[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]使用标准的 BizTalk 帐户组，必须存在于安装过程中或在安装将失败。</span><span class="sxs-lookup"><span data-stu-id="03de8-108">The [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] uses the standard BizTalk account groups, which must exist during the installation process or the installation will fail.</span></span> <span data-ttu-id="03de8-109">此外，该工具包假定计算机的工作组的成员的位置的独立安装或企业安装计算机所在域的成员。</span><span class="sxs-lookup"><span data-stu-id="03de8-109">In addition, the toolkit assumes either a standalone installation where the computer is a member of a workgroup or an enterprise installation where the computer is a member of a domain.</span></span>                                                                                                                                           |
| <span data-ttu-id="03de8-110">应用程序导入失败并显示错误消息，警告的信任级别不匹配。</span><span class="sxs-lookup"><span data-stu-id="03de8-110">Application import fails with an error message that warns of trust level mismatch.</span></span> |                                                                                                  <span data-ttu-id="03de8-111">Microsoft.BizTalk.ESB 绑定文件配置为使用默认值，BizTalkServerApplication 和 BizTalkServerIsolatedHost，进而配置为在不受信任模式下执行。</span><span class="sxs-lookup"><span data-stu-id="03de8-111">The Microsoft.BizTalk.ESB binding files are configured to work with the default BizTalkServerApplication and BizTalkServerIsolatedHost, which are in turn configured to execute in untrusted mode.</span></span> <span data-ttu-id="03de8-112">如果已更改你的主机在受信任模式下运行，不会导入绑定文件。</span><span class="sxs-lookup"><span data-stu-id="03de8-112">If you have changed your host to run in trusted mode, the binding file will not import.</span></span> <span data-ttu-id="03de8-113">若要更正此问题，必须更改为不受信任的信任级别或编辑绑定文件，以适合您的环境中 BizTalk 工具包 \Bindings 目录。</span><span class="sxs-lookup"><span data-stu-id="03de8-113">To correct this, you must either change the trust level to untrusted or edit the binding file to suit your environment in the BizTalk Toolkit \Bindings directory.</span></span>                                                                                                   |
| <span data-ttu-id="03de8-114">在 Internet 信息服务 (IIS) 未配置 Kerberos 身份验证。</span><span class="sxs-lookup"><span data-stu-id="03de8-114">Kerberos authentication is not configured in Internet Information Services (IIS).</span></span>  | <span data-ttu-id="03de8-115">若要启用 IIS 的 Kerberos 身份验证，请参阅 Microsoft 知识库中的以下文章：</span><span class="sxs-lookup"><span data-stu-id="03de8-115">To enable Kerberos authentication for IIS, see the following articles in the Microsoft Knowledge Base:</span></span><br /><br /> <span data-ttu-id="03de8-116">-   [如何配置 IIS 以用于网络身份验证支持 Kerberos 协议和 NTLM 协议](http://go.microsoft.com/fwlink/?LinkId=188566)</span><span class="sxs-lookup"><span data-stu-id="03de8-116">-   [How to configure IIS to support both the Kerberos protocol and the NTLM protocol for network authentication](http://go.microsoft.com/fwlink/?LinkId=188566)</span></span><br /><span data-ttu-id="03de8-117">-   [如何使 IIS 能够在不是域控制器的计算机上使用 Kerberos 身份验证](http://go.microsoft.com/fwlink/?LinkId=188567)</span><span class="sxs-lookup"><span data-stu-id="03de8-117">-   [How to enable IIS to use Kerberos authentication on a computer that is not a domain controller](http://go.microsoft.com/fwlink/?LinkId=188567)</span></span><br /><span data-ttu-id="03de8-118">-   [你无法为 Internet 信息服务 (IIS) 7.0 的 Windows 集成身份验证在 IIS 管理器中配置 Negotiate 或 NTLM 协议](http://go.microsoft.com/fwlink/?LinkId=188568)</span><span class="sxs-lookup"><span data-stu-id="03de8-118">-   [You cannot configure the Negotiate or NTLM protocols for Windows Integrated Authentication in the IIS Manager for Internet Information Services (IIS) 7.0](http://go.microsoft.com/fwlink/?LinkId=188568)</span></span> |
  
## <a name="general-issues"></a><span data-ttu-id="03de8-119">一般问题</span><span class="sxs-lookup"><span data-stu-id="03de8-119">General Issues</span></span>  
  
|<span data-ttu-id="03de8-120">问题</span><span class="sxs-lookup"><span data-stu-id="03de8-120">Issue</span></span>|<span data-ttu-id="03de8-121">解决方法</span><span class="sxs-lookup"><span data-stu-id="03de8-121">Resolution</span></span>|  
|-----------|----------------|  
|<span data-ttu-id="03de8-122">将消息发送到通用的 ESB 路线接入点 Web 服务时收到"内部 SOAP 处理"异常。</span><span class="sxs-lookup"><span data-stu-id="03de8-122">You receive an "Internal SOAP Processing" exception when sending a message to the generic ESB Itinerary On-Ramp Web service.</span></span>|<span data-ttu-id="03de8-123">使用 BizTalk Server 管理控制台来确保 Microsoft.Practices.ESB 应用程序正在运行;如果未运行，，启动它。</span><span class="sxs-lookup"><span data-stu-id="03de8-123">Use the BizTalk Server Administration Console to ensure that the Microsoft.Practices.ESB application is running; if it is not running, start it.</span></span>|  
|<span data-ttu-id="03de8-124">ESB 管理门户站点中未出现异常消息。</span><span class="sxs-lookup"><span data-stu-id="03de8-124">Exception messages are not appearing in the ESB Management Portal site.</span></span>|<span data-ttu-id="03de8-125">检查 BizTalk 管理员组概述页和 Windows 应用程序事件日志以指示发送消息的失败的条目。</span><span class="sxs-lookup"><span data-stu-id="03de8-125">Check the BizTalk Administrator Group Overview page and the Windows Application Event Log for entries that indicate failures to send messages.</span></span> <span data-ttu-id="03de8-126">您可能需要重新配置异常发送适配器 （Microsoft.Practices.ESB 应用程序的一部分） 以匹配你的环境。</span><span class="sxs-lookup"><span data-stu-id="03de8-126">You may need to reconfigure the exception Send Adapter (part of the Microsoft.Practices.ESB application) to match your environment.</span></span> <span data-ttu-id="03de8-127">此外，请注意，BizTalk 失败消息路由功能和 BizTalk ESB 工具包异常管理框架生成的异常消息。</span><span class="sxs-lookup"><span data-stu-id="03de8-127">In addition, be aware that both the BizTalk Failed Message Routing feature and the BizTalk ESB Toolkit Exception Management Framework generate exceptions messages.</span></span> <span data-ttu-id="03de8-128">因此，请确保您启用**失败消息路由**选项用于发送和接收端口。</span><span class="sxs-lookup"><span data-stu-id="03de8-128">Therefore, ensure that you enable the **Route on Failed Messages** option for send and receive ports.</span></span>|  
|<span data-ttu-id="03de8-129">当与静态解析程序使用 WCF 服务，将收到无效的 SOAP 操作异常。</span><span class="sxs-lookup"><span data-stu-id="03de8-129">When consuming a WCF service with a static resolver, you receive an invalid SOAP action exception.</span></span>|<span data-ttu-id="03de8-130">如果 WCF 服务的 SOAP 操作不包括的目标命名空间，采用以下格式设置的冲突解决程序中设置的 SOAP 操作值: {action} 以指示不通过 ESB 工具包核心引擎在运行时要连接的目标命名空间。</span><span class="sxs-lookup"><span data-stu-id="03de8-130">If the WCF service SOAP action does not include the target namespace, set the value of the SOAP action in the following format in the resolver setting: {action} to indicate that the target namespace will not be concatenated by the ESB Toolkit core engine at runtime.</span></span>|