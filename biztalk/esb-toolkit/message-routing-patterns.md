---
title: 消息路由模式 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: d95c5ba0-122f-4793-bfce-a95830dfe094
caps.latest.revision: 2
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 7233c5d5f5a3669cf23931afc29dfaac8548dc3d
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/27/2018
ms.locfileid: "37022083"
---
# <a name="message-routing-patterns"></a><span data-ttu-id="62e1f-102">消息路由模式</span><span class="sxs-lookup"><span data-stu-id="62e1f-102">Message Routing Patterns</span></span>
<span data-ttu-id="62e1f-103">消息路由模式定义消息路由到其目标终结点的经验证的准则。</span><span class="sxs-lookup"><span data-stu-id="62e1f-103">Message routing patterns define proven guidelines for routing a message to its target endpoint(s).</span></span> <span data-ttu-id="62e1f-104">路由可以是静态配置的结果，也可以将它动态地配置基于许多条件和使用多种方法。</span><span class="sxs-lookup"><span data-stu-id="62e1f-104">Routing can be the result of static configuration, or it can be dynamically configured based on a number of criteria and using a number of methods.</span></span>  
  
## <a name="message-router"></a><span data-ttu-id="62e1f-105">消息路由器</span><span class="sxs-lookup"><span data-stu-id="62e1f-105">Message Router</span></span>  
 <span data-ttu-id="62e1f-106">消息路由器模式确定基于一组条件的消息的收件人。</span><span class="sxs-lookup"><span data-stu-id="62e1f-106">The Message Router pattern determines the recipient of the message based on a set of conditions.</span></span> <span data-ttu-id="62e1f-107">此模式的详细说明，请参阅[消息路由器](http://go.microsoft.com/fwlink/?LinkId=186844)([http://go.microsoft.com/fwlink/?LinkId=186844](http://go.microsoft.com/fwlink/?LinkId=186844)) 企业集成模式站点上。</span><span class="sxs-lookup"><span data-stu-id="62e1f-107">For a detailed description of this pattern, see [Message Router](http://go.microsoft.com/fwlink/?LinkId=186844) ([http://go.microsoft.com/fwlink/?LinkId=186844](http://go.microsoft.com/fwlink/?LinkId=186844)) on the Enterprise Integration Patterns site.</span></span>  
  
 <span data-ttu-id="62e1f-108">在路线设计器中此模式的实现是一系列[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]路线的路由服务和单个基于内容的解析程序。</span><span class="sxs-lookup"><span data-stu-id="62e1f-108">The implementation of this pattern in the Itinerary Designer is a combination of the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] itinerary routing service and a single content-based resolver.</span></span> <span data-ttu-id="62e1f-109">路线的路由服务是消息的负责升级 Microsoft BizTalk 消息上下文中的消息路由属性或显式路由。</span><span class="sxs-lookup"><span data-stu-id="62e1f-109">The itinerary routing service is responsible for promoting message routing properties in Microsoft BizTalk message context or for explicit routing of a message.</span></span>  
  
 <span data-ttu-id="62e1f-110">可以选择路线的路由服务提供的[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]，如下所示：</span><span class="sxs-lookup"><span data-stu-id="62e1f-110">You can choose the itinerary routing service provided by the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] as follows:</span></span>  
  
- <span data-ttu-id="62e1f-111">定义路线的路由服务使用消息传送的扩展程序，以在使用路线设计器的 BizTalk 管道中执行。</span><span class="sxs-lookup"><span data-stu-id="62e1f-111">Define the itinerary routing service with a messaging extender to execute in a BizTalk pipeline using Itinerary Designer.</span></span>  
  
- <span data-ttu-id="62e1f-112">定义与业务流程扩展程序以使用路线设计器执行路由使用 BizTalk 发送端口业务流程执行路线的路由服务。</span><span class="sxs-lookup"><span data-stu-id="62e1f-112">Define the itinerary routing service with an orchestration extender to execute as an orchestration using Itinerary Designer that performs routing using BizTalk send ports.</span></span>  
  
  <span data-ttu-id="62e1f-113">与路线的路由服务相关联的冲突解决程序确定基于消息内容的消息接收的方。</span><span class="sxs-lookup"><span data-stu-id="62e1f-113">The resolver associated with the itinerary routing service determines the recipient of the message, based on the message content.</span></span> <span data-ttu-id="62e1f-114">您可以选择从解析程序，支持基于内容的路由提供[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]，也可以实现您自己的解析程序。</span><span class="sxs-lookup"><span data-stu-id="62e1f-114">You can choose from the resolvers that support content-based routing provided by the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)], or you can implement your own resolver.</span></span>  
  
  <span data-ttu-id="62e1f-115">有关实现此模式中的示例[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]，请参阅以下资源：</span><span class="sxs-lookup"><span data-stu-id="62e1f-115">For an example of implementing this pattern in the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)], see the following resources:</span></span>  
  
- [<span data-ttu-id="62e1f-116">如何：使用 UDDI 绑定密钥搜索解析服务终结点</span><span class="sxs-lookup"><span data-stu-id="62e1f-116">How to: Resolve a Service Endpoint Using a UDDI Binding Key Search</span></span>](../esb-toolkit/how-to-resolve-a-service-endpoint-using-a-uddi-binding-key-search.md)  
  
- [<span data-ttu-id="62e1f-117">如何：使用 UDDI 类别搜索解析服务终结点</span><span class="sxs-lookup"><span data-stu-id="62e1f-117">How to: Resolve a Service Endpoint Using a UDDI Category Search</span></span>](../esb-toolkit/how-to-resolve-a-service-endpoint-using-a-uddi-category-search.md)  
  
## <a name="content-based-router"></a><span data-ttu-id="62e1f-118">基于内容的路由器</span><span class="sxs-lookup"><span data-stu-id="62e1f-118">Content-Based Router</span></span>  
 <span data-ttu-id="62e1f-119">基于内容的路由器模式确定基于消息内容的消息接收的方。</span><span class="sxs-lookup"><span data-stu-id="62e1f-119">The Content-Based Router pattern determines the recipient of a message based on message content.</span></span> <span data-ttu-id="62e1f-120">此模式的详细说明，请参阅[基于内容的路由器](http://go.microsoft.com/fwlink/?LinkId=186839)([http://go.microsoft.com/fwlink/?LinkId=186839](http://go.microsoft.com/fwlink/?LinkId=186839)) 企业集成模式站点上。</span><span class="sxs-lookup"><span data-stu-id="62e1f-120">For a detailed description of this pattern, see [Content-Based Router](http://go.microsoft.com/fwlink/?LinkId=186839) ([http://go.microsoft.com/fwlink/?LinkId=186839](http://go.microsoft.com/fwlink/?LinkId=186839)) on the Enterprise Integration Patterns site.</span></span>  
  
 <span data-ttu-id="62e1f-121">在路线设计器中此模式的实现是一系列[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]路线的路由服务和单个基于内容的解析程序。</span><span class="sxs-lookup"><span data-stu-id="62e1f-121">The implementation of this pattern in Itinerary Designer is a combination of the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] itinerary routing service and a single content-based resolver.</span></span> <span data-ttu-id="62e1f-122">路线的路由服务是负责升级 BizTalk 消息上下文中的消息路由属性或显式将消息路由。</span><span class="sxs-lookup"><span data-stu-id="62e1f-122">The itinerary routing service is responsible for promoting message routing properties in the BizTalk message context or for explicitly routing a message.</span></span>  
  
 <span data-ttu-id="62e1f-123">可以选择路线的路由服务提供的[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]，如下所示：</span><span class="sxs-lookup"><span data-stu-id="62e1f-123">You can choose the itinerary routing service provided by the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] as follows:</span></span>  
  
- <span data-ttu-id="62e1f-124">定义具有消息传送的扩展程序，以在使用路线设计器的 BizTalk 管道中执行的路线的路由服务。</span><span class="sxs-lookup"><span data-stu-id="62e1f-124">Define an itinerary routing service with a messaging extender to execute in a BizTalk pipeline using Itinerary Designer.</span></span>  
  
- <span data-ttu-id="62e1f-125">定义与业务流程扩展程序以使用路线设计器中，后者将执行路由使用 BizTalk 发送端口业务流程执行路线路由服务。</span><span class="sxs-lookup"><span data-stu-id="62e1f-125">Define an itinerary routing service with an orchestration extender to execute as an orchestration using Itinerary Designer, which performs routing using BizTalk send ports.</span></span>  
  
- <span data-ttu-id="62e1f-126">定义具有一个 broker 消息传递扩展程序以使用路线设计器的 BizTalk 管道中执行的路线 broker 服务。</span><span class="sxs-lookup"><span data-stu-id="62e1f-126">Define an itinerary broker service with a broker messaging extender to execute in a BizTalk pipeline using Itinerary Designer.</span></span>  
  
  <span data-ttu-id="62e1f-127">与路线的路由服务相关联的冲突解决程序确定基于消息内容的消息接收的方。</span><span class="sxs-lookup"><span data-stu-id="62e1f-127">The resolver associated with itinerary routing service determines the recipient of the message based on the message content.</span></span> <span data-ttu-id="62e1f-128">您可以选择从以下冲突解决程序，支持基于内容的路由提供[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="62e1f-128">You can choose from the following resolvers that support content-based routing provided by the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]:</span></span>  
  
- <span data-ttu-id="62e1f-129">**XPATH 冲突解决程序**。</span><span class="sxs-lookup"><span data-stu-id="62e1f-129">**XPATH resolver**.</span></span> <span data-ttu-id="62e1f-130">通过使用此解析程序，你可以使用 XPATH 查询的消息内容进行路由。</span><span class="sxs-lookup"><span data-stu-id="62e1f-130">By using this resolver, you can route message content using XPATH queries.</span></span>  
  
- <span data-ttu-id="62e1f-131">**BRE 冲突解决程序**。</span><span class="sxs-lookup"><span data-stu-id="62e1f-131">**BRE resolver**.</span></span> <span data-ttu-id="62e1f-132">通过使用此解析程序，可以从使用 BizTalk 规则引擎的消息内容来检索路由信息。</span><span class="sxs-lookup"><span data-stu-id="62e1f-132">By using this resolver, you can retrieve routing information from message content using the BizTalk Rules Engine.</span></span>  
  
- <span data-ttu-id="62e1f-133">**消息上下文冲突解决程序**。</span><span class="sxs-lookup"><span data-stu-id="62e1f-133">**Message Context resolver**.</span></span> <span data-ttu-id="62e1f-134">通过使用此解析程序，可以检索一条消息的内容从 BizTalk 消息上下文时与关联[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]路线 broker 服务。</span><span class="sxs-lookup"><span data-stu-id="62e1f-134">By using this resolver, you can retrieve the content of a message from the BizTalk message context when it is associated with a [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] itinerary broker service.</span></span>  
  
  > [!NOTE]
  >  <span data-ttu-id="62e1f-135">除了前面的实现方案中，可以作为基于消息传送或业务流程基于服务开发的自定义基于内容的解析程序和路线的路由解决方案。</span><span class="sxs-lookup"><span data-stu-id="62e1f-135">In addition to the preceding implementation scenarios, you can develop a custom content-based resolver and itinerary routing solution as a messaging-based or orchestration-based service.</span></span> <span data-ttu-id="62e1f-136">在这种情况下，您可能需要实现的扩展器[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]路线设计器与进行互操作的冲突解决程序和路线服务。</span><span class="sxs-lookup"><span data-stu-id="62e1f-136">In this case, you may need to implement extenders for the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] resolver and itinerary service to interoperate with the Itinerary Designer.</span></span>  
  
  <span data-ttu-id="62e1f-137">有关示例的此实现中，请参阅以下资源：</span><span class="sxs-lookup"><span data-stu-id="62e1f-137">For example of this implementation, see the following resources:</span></span>  
  
- [<span data-ttu-id="62e1f-138">安装和运行路线接入点示例</span><span class="sxs-lookup"><span data-stu-id="62e1f-138">Installing and Running the Itinerary On-Ramp Sample</span></span>](../esb-toolkit/installing-and-running-the-itinerary-on-ramp-sample.md)  
  
- [<span data-ttu-id="62e1f-139">如何：使用已知消息类型的业务规则策略实现基于内容的路由</span><span class="sxs-lookup"><span data-stu-id="62e1f-139">How to: Implement Content-Based Routing Using a Business Rules Policy for a Known Message Type</span></span>](../esb-toolkit/apply-content-based-routing-using-business-rules-policy-for-known-message-type.md)  
  
- [<span data-ttu-id="62e1f-140">如何：使用业务规则策略动态路由基于消息上下文的消息</span><span class="sxs-lookup"><span data-stu-id="62e1f-140">How to: Dynamically Route a Message Based on Message Context Using a Business Rules Policy</span></span>](../esb-toolkit/dynamically-route-messages-based-on-message-context-using-business-rules-policy.md)  
  
## <a name="routing-slip"></a><span data-ttu-id="62e1f-141">传送名单</span><span class="sxs-lookup"><span data-stu-id="62e1f-141">Routing Slip</span></span>  
 <span data-ttu-id="62e1f-142">传送名单模式描述了一条消息必须路由通过一系列中预定义的顺序，不可能在设计时已知的组件的方案。</span><span class="sxs-lookup"><span data-stu-id="62e1f-142">The Routing Slip pattern describes a scenario in which a message must be routed through a series of components in a pre-defined order, which may not be known at the design time.</span></span> <span data-ttu-id="62e1f-143">此模式的详细说明，请参阅[传送名单](http://go.microsoft.com/fwlink/?LinkId=186840)([http://go.microsoft.com/fwlink/?LinkId=186840](http://go.microsoft.com/fwlink/?LinkId=186840)) 企业集成模式站点上。</span><span class="sxs-lookup"><span data-stu-id="62e1f-143">For a detailed description of this pattern, see [Routing Slip](http://go.microsoft.com/fwlink/?LinkId=186840) ([http://go.microsoft.com/fwlink/?LinkId=186840](http://go.microsoft.com/fwlink/?LinkId=186840)) on the Enterprise Integration Patterns site.</span></span>  
  
 <span data-ttu-id="62e1f-144">此模式的实现提供通过[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]; 其实现取决于提交的消息以基于路线的处理的客户端应用程序的类型：</span><span class="sxs-lookup"><span data-stu-id="62e1f-144">The implementation of this pattern is provided by the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]; its implementation depends on the type of client application that submits a message for itinerary-based processing:</span></span>  
  
- <span data-ttu-id="62e1f-145">**服务代理**。</span><span class="sxs-lookup"><span data-stu-id="62e1f-145">**Service proxy**.</span></span> <span data-ttu-id="62e1f-146">使用此类型的应用程序，配置[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]路线选择器管道组件与负载增加并将关联的路线的冲突解决程序选择相应[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]路线。</span><span class="sxs-lookup"><span data-stu-id="62e1f-146">With this type of application, configure the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] on-ramp with the Itinerary Selector pipeline component and associate an itinerary resolver to select the appropriate [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] itinerary.</span></span> <span data-ttu-id="62e1f-147">路线属性可以配置为静态属性使用路线冲突解决程序，或它们可以配置为使用 BizTalk 规则引擎和 BRI 冲突解决程序的动态属性。</span><span class="sxs-lookup"><span data-stu-id="62e1f-147">The itinerary properties may be configured as static properties using ITINERARY resolver, or they can be configured as dynamic properties using BizTalk Rules Engine and BRI resolver.</span></span>  
  
- <span data-ttu-id="62e1f-148">**高级客户端**。</span><span class="sxs-lookup"><span data-stu-id="62e1f-148">**Advanced client**.</span></span> <span data-ttu-id="62e1f-149">使用此类型的应用程序，配置[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]接入点的路线选择器管道组件和路线静态解析程序。</span><span class="sxs-lookup"><span data-stu-id="62e1f-149">With this type of application, configure the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] on-ramp with the Itinerary Selector pipeline component and the ITINERARY-STATIC resolver.</span></span> <span data-ttu-id="62e1f-150">客户端应用程序发送一个路线引用标头，其中包含路线名称、 版本和跟踪标识符的消息。</span><span class="sxs-lookup"><span data-stu-id="62e1f-150">The client application sends a message with an itinerary reference header, which contains the itinerary name, version, and tracking identifier.</span></span>  
  
- <span data-ttu-id="62e1f-151">**自适应客户端**。</span><span class="sxs-lookup"><span data-stu-id="62e1f-151">**Adaptive client**.</span></span> <span data-ttu-id="62e1f-152">使用此类型的应用程序，客户端应用程序调用解析程序服务，这反过来，通过将作为请求消息传递客户端状态标识路线的引用。</span><span class="sxs-lookup"><span data-stu-id="62e1f-152">With this type of application, the client application invokes the resolver service, which, in turn, identifies the itinerary reference by passing the client state as a request message.</span></span> <span data-ttu-id="62e1f-153">路线得到解决后，客户端应用程序将使用路线引用消息提交如上述的高级客户端方案中所示相同的方式。</span><span class="sxs-lookup"><span data-stu-id="62e1f-153">If the itinerary is resolved, the client application submits a message with itinerary references in the same way as in the preceding advanced client scenario.</span></span>  
  
  <span data-ttu-id="62e1f-154">有关实现此模式的详细信息，请参阅以下资源：</span><span class="sxs-lookup"><span data-stu-id="62e1f-154">For more information about implementing this pattern, see the following resources:</span></span>  
  
- [<span data-ttu-id="62e1f-155">如何：使用业务规则策略选择路线</span><span class="sxs-lookup"><span data-stu-id="62e1f-155">How to: Select an Itinerary Using a Business Rules Policy</span></span>](../esb-toolkit/how-to-select-an-itinerary-using-a-business-rules-policy.md)  
  
- [<span data-ttu-id="62e1f-156">如何：转换消息并使用路线传送名单将生成的消息路由至文件位置</span><span class="sxs-lookup"><span data-stu-id="62e1f-156">How to: Transform a Message and Route the Resulting Message to a File Location Using an Itinerary Routing Slip</span></span>](../esb-toolkit/transform-message-and-route-the-message-to-a-location-using-itinerary-routing.md)  
  
  > [!NOTE]
  >  <span data-ttu-id="62e1f-157">除了前面的方案中，可以开发自定义路线的冲突解决程序和路线的路由服务。</span><span class="sxs-lookup"><span data-stu-id="62e1f-157">In addition to the preceding scenarios, you can develop a custom itinerary resolver and itinerary routing services.</span></span> <span data-ttu-id="62e1f-158">你可以考虑在路线设计器中创建用于自定义路线服务的设计器扩展器。</span><span class="sxs-lookup"><span data-stu-id="62e1f-158">You may consider creating designer extenders for custom itinerary services for use in the Itinerary Designer.</span></span>  
  
## <a name="scatter-gather"></a><span data-ttu-id="62e1f-159">散播-聚集</span><span class="sxs-lookup"><span data-stu-id="62e1f-159">Scatter-Gather</span></span>  
 <span data-ttu-id="62e1f-160">散播-聚集模式可以使信息发送到多个收件人，并聚合其响应;这会导致一条消息。</span><span class="sxs-lookup"><span data-stu-id="62e1f-160">The Scatter-Gather pattern enables messages to be sent to multiple recipients and to aggregate their responses; this results in a single message.</span></span> <span data-ttu-id="62e1f-161">此模式的详细说明，请参阅[散播-聚集](http://go.microsoft.com/fwlink/?LinkId=186841)([http://go.microsoft.com/fwlink/?LinkId=186841](http://go.microsoft.com/fwlink/?LinkId=186841)) 企业集成模式站点上。</span><span class="sxs-lookup"><span data-stu-id="62e1f-161">For a detailed description of this pattern, see [Scatter-Gather](http://go.microsoft.com/fwlink/?LinkId=186841) ([http://go.microsoft.com/fwlink/?LinkId=186841](http://go.microsoft.com/fwlink/?LinkId=186841)) on the Enterprise Integration Patterns site.</span></span>  
  
 <span data-ttu-id="62e1f-162">有关实现此模式的示例，请参阅[安装和运行分散-集中示例](../esb-toolkit/installing-and-running-the-scatter-gather-sample.md)示例。</span><span class="sxs-lookup"><span data-stu-id="62e1f-162">For an example of implementing this pattern, see the [Installing and Running the Scatter-Gather Sample](../esb-toolkit/installing-and-running-the-scatter-gather-sample.md) sample.</span></span>  
  
## <a name="recipient-list"></a><span data-ttu-id="62e1f-163">收件人列表</span><span class="sxs-lookup"><span data-stu-id="62e1f-163">Recipient List</span></span>  
 <span data-ttu-id="62e1f-164">收件人列表模式向一个或多个收件人地址中的路由消息的解决方案。</span><span class="sxs-lookup"><span data-stu-id="62e1f-164">The Recipient List pattern addresses the scenario solution in which a message is routed to one or more recipients.</span></span> <span data-ttu-id="62e1f-165">收件人列表可以是以静态方式定义 （这意味着它具有的固定的列表的收件人） 或动态。</span><span class="sxs-lookup"><span data-stu-id="62e1f-165">The recipient list can be defined either statically (meaning it has a fixed list of recipients) or dynamically.</span></span> <span data-ttu-id="62e1f-166">此模式的详细说明，请参阅[收件人列表](http://go.microsoft.com/fwlink/?LinkId=186842)([http://go.microsoft.com/fwlink/?LinkId=186842](http://go.microsoft.com/fwlink/?LinkId=186842)) 企业集成模式站点上。</span><span class="sxs-lookup"><span data-stu-id="62e1f-166">For a detailed description of this pattern, see [Recipient List](http://go.microsoft.com/fwlink/?LinkId=186842) ([http://go.microsoft.com/fwlink/?LinkId=186842](http://go.microsoft.com/fwlink/?LinkId=186842)) on the Enterprise Integration Patterns site.</span></span>  
  
 <span data-ttu-id="62e1f-167">在路线设计器中此模式的实现是一系列[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]路线的路由服务和多个冲突解决程序。</span><span class="sxs-lookup"><span data-stu-id="62e1f-167">The implementation of this pattern in Itinerary Designer is a combination of the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] itinerary routing service and multiple resolvers.</span></span> <span data-ttu-id="62e1f-168">路线的路由服务负责克隆一条消息，然后使用其 BizTalk 消息上下文属性显式将消息路由。</span><span class="sxs-lookup"><span data-stu-id="62e1f-168">The itinerary routing service is responsible for cloning a message and then using its BizTalk message context properties to explicitly route a message.</span></span>  
  
 <span data-ttu-id="62e1f-169">可以选择路线的路由服务提供的[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]，如下所示：</span><span class="sxs-lookup"><span data-stu-id="62e1f-169">You can choose the itinerary routing service provided by the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] as follows:</span></span>  
  
- <span data-ttu-id="62e1f-170">定义路线的路由服务使用消息传送的扩展程序，以使用路线设计器在 BizTalk 管道中执行。</span><span class="sxs-lookup"><span data-stu-id="62e1f-170">Define the itinerary routing service with a messaging extender to execute in the BizTalk pipeline using Itinerary Designer.</span></span>  
  
- <span data-ttu-id="62e1f-171">定义与消息传送的扩展程序，以使用路线设计器中，后者将执行路由使用 BizTalk 发送端口业务流程作为执行路线的路由服务。</span><span class="sxs-lookup"><span data-stu-id="62e1f-171">Define the itinerary routing service with a messaging extender to execute as an orchestration using Itinerary Designer, which performs routing using BizTalk send ports.</span></span>  
  
  <span data-ttu-id="62e1f-172">与路线的路由服务相关联的冲突解决程序确定基于消息内容的消息接收的方。</span><span class="sxs-lookup"><span data-stu-id="62e1f-172">The resolver associated with itinerary routing service determines the recipient of the message based on the message content.</span></span> <span data-ttu-id="62e1f-173">可以选择冲突解决程序所提供的一套[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]要实现此方案。</span><span class="sxs-lookup"><span data-stu-id="62e1f-173">You can choose the set of resolvers provided by the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] to implement this scenario.</span></span> <span data-ttu-id="62e1f-174">有关实现此模式的详细信息，请参阅以下资源：</span><span class="sxs-lookup"><span data-stu-id="62e1f-174">For more information about implementing this pattern, see the following resource:</span></span>  
  
- [<span data-ttu-id="62e1f-175">如何：使用路线传送名单将单条消息路由至多个收件人</span><span class="sxs-lookup"><span data-stu-id="62e1f-175">How to: Route a Single Message to Multiple Recipients Using an Itinerary Routing Slip</span></span>](../esb-toolkit/route-a-single-message-to-multiple-recipients-using-an-itinerary-routing-slip.md)  
  
## <a name="splitter"></a><span data-ttu-id="62e1f-176">拆分器</span><span class="sxs-lookup"><span data-stu-id="62e1f-176">Splitter</span></span>  
 <span data-ttu-id="62e1f-177">拆分器模式在单个消息需要进行拆分为多个消息时解决问题。</span><span class="sxs-lookup"><span data-stu-id="62e1f-177">The Splitter pattern addresses the problem when a single message needs to be split into multiple messages.</span></span> <span data-ttu-id="62e1f-178">此模式的详细说明，请参阅[Splitter](http://go.microsoft.com/fwlink/?LinkId=186843) ([http://go.microsoft.com/fwlink/?LinkId=186843](http://go.microsoft.com/fwlink/?LinkId=186843)) 企业集成模式站点上。</span><span class="sxs-lookup"><span data-stu-id="62e1f-178">For a detailed description of this pattern, see [Splitter](http://go.microsoft.com/fwlink/?LinkId=186843) ([http://go.microsoft.com/fwlink/?LinkId=186843](http://go.microsoft.com/fwlink/?LinkId=186843)) on the Enterprise Integration Patterns site.</span></span> <span data-ttu-id="62e1f-179">有关实现此模式的详细信息，请参阅以下资源：</span><span class="sxs-lookup"><span data-stu-id="62e1f-179">For more information about implementing this pattern, see the following resource:</span></span>  
  
-   [<span data-ttu-id="62e1f-180">如何：拆分交换并使用不同的路线将生成的消息路由至多个文件位置</span><span class="sxs-lookup"><span data-stu-id="62e1f-180">How to: Split an Interchange and Route the Resulting Messages to Multiple File Locations Using Distinct Itineraries</span></span>](../esb-toolkit/split-an-interchange-and-route-messages-to-multiple-locations-using-itineraries.md)