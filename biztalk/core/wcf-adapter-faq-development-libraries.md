---
title: "WCF 适配器常见问题： 开发库 |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: d05b635a-d46d-4f7d-896b-8ed7a799e80f
caps.latest.revision: "7"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 2ee15769d5b6fb41edece8e30702f14acf1992a3
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
---
# <a name="wcf-adapter-faq-development-libraries"></a><span data-ttu-id="c02a5-102">WCF 适配器常见问题解答：开发库</span><span class="sxs-lookup"><span data-stu-id="c02a5-102">WCF Adapter FAQ: Development Libraries</span></span>
## <a name="when-does-it-make-more-sense-to-use-the-wcf-adapters-vs-a-wcf-custom-binding-to-communicate-with-an-external-application-or-system"></a><span data-ttu-id="c02a5-103">使用 WCF 适配器和 WCF 自定义绑定与外部应用程序或系统进行通信何时更有意义？</span><span class="sxs-lookup"><span data-stu-id="c02a5-103">When does it make more sense to use the WCF adapters vs. a WCF custom binding to communicate with an external application or system?</span></span>  
 <span data-ttu-id="c02a5-104">[!INCLUDE[prague](../includes/prague-md.md)] WCF 适配器提供了两种新方法以使用 WCF 将外部系统与 BizTalk Server 相集成：</span><span class="sxs-lookup"><span data-stu-id="c02a5-104">The [!INCLUDE[prague](../includes/prague-md.md)] WCF adapters facilitate two new approaches to integrating an external system with BizTalk Server using WCF:</span></span>  
  
-   <span data-ttu-id="c02a5-105">你可以编写 WCF 客户端/服务代码，并使用标准 [!INCLUDE[prague](../includes/prague-md.md)] WCF 适配器处理通信。</span><span class="sxs-lookup"><span data-stu-id="c02a5-105">You can write WCF client/service code and use the standard [!INCLUDE[prague](../includes/prague-md.md)] WCF adapters to handle the communication.</span></span>  
  
-   <span data-ttu-id="c02a5-106">或者，你可以使用 .NET WCF 框架开发新的自定义 WCF 绑定，并使用其代替 WCF 适配器来处理通信。</span><span class="sxs-lookup"><span data-stu-id="c02a5-106">Alternatively you can develop a new custom WCF binding by using the .NET WCF framework and use it in place of the WCF adapter to handle the communication.</span></span>  
  
 <span data-ttu-id="c02a5-107">使用 BizTalk Server 的 WCF 适配器，你可以开发 WCF 客户端代码并作为远程 WCF 服务调用 BizTalk Server，或者你可以编写 WCF 服务并配置 BizTalk Server 以将其作为 WCF 服务公开。</span><span class="sxs-lookup"><span data-stu-id="c02a5-107">Using the WCF adapters with BizTalk Server, you can develop WCF client code and call BizTalk Server as a remote WCF service, or you can write a WCF service and configure BizTalk Server to expose it as a WCF service.</span></span> <span data-ttu-id="c02a5-108">另一种方法是，你可以实际编写全新的自定义 WCF 绑定来处理通信。</span><span class="sxs-lookup"><span data-stu-id="c02a5-108">The alternative is that you could actually write a whole new custom WCF binding to handle the communication.</span></span>  
  
 <span data-ttu-id="c02a5-109">与编写 WCF 自定义绑定元素相比，编写标准 WCF 客户端或服务代码以及使用标准 [!INCLUDE[prague](../includes/prague-md.md)] 适配器的优势在于自定义绑定更难开发。</span><span class="sxs-lookup"><span data-stu-id="c02a5-109">The advantage of writing standard WCF client or service code and using the standard [!INCLUDE[prague](../includes/prague-md.md)] adapters over writing a WCF custom binding element is that the custom binding is much harder to develop.</span></span> <span data-ttu-id="c02a5-110">生成的 WCF 客户端或服务存在于 BizTalk Server 管理（监视、配置和部署）范围之外。</span><span class="sxs-lookup"><span data-stu-id="c02a5-110">The resulting WCF client or service exists outside of the BizTalk Server management (monitoring, configuration, and deployment) universe.</span></span> <span data-ttu-id="c02a5-111">编写你自己的新自定义绑定并使用 BizTalk WCF 自定义适配器承载绑定的优势在于可将其紧密集成到这些 BizTalk Server 管理功能中。</span><span class="sxs-lookup"><span data-stu-id="c02a5-111">The advantage of writing your own new custom binding and hosting it using a BizTalk WCF custom adapter is that it can be tightly integrated into these BizTalk Server management functions.</span></span> <span data-ttu-id="c02a5-112">在基础结构支持方面，开发绑定的相关成本显著高于开发服务的相关成本。</span><span class="sxs-lookup"><span data-stu-id="c02a5-112">The cost associated with developing a binding with respect to the infrastructure support is considerably more expensive than with developing a service.</span></span>  
  
 <span data-ttu-id="c02a5-113">了解这一点十分重要：两种方法均可使你以事务性方式与内部 BizTalk MessageBox 数据库集成，并可提供相似性能。</span><span class="sxs-lookup"><span data-stu-id="c02a5-113">It is important to understand that both approaches give you the opportunity to integrate with the internal BizTalk MessageBox database in a transactional manner and can offer similar performance.</span></span> <span data-ttu-id="c02a5-114">它更像是决定，你希望解决方案达到何种复杂程度。</span><span class="sxs-lookup"><span data-stu-id="c02a5-114">It’s more a decision of how complex you want to make the solution.</span></span>  
  
 <span data-ttu-id="c02a5-115">使用 WCF 时，应首先尝试编写自定义服务和客户端并使用标准 BizTalk WCF 适配器连接两者。</span><span class="sxs-lookup"><span data-stu-id="c02a5-115">When using WCF you should first attempt to write a custom service and client and use the standard BizTalk WCF adapters to connect the two.</span></span> <span data-ttu-id="c02a5-116">.NET 框架和 WCF 库专用于轻松执行此任务。</span><span class="sxs-lookup"><span data-stu-id="c02a5-116">The .NET Framework and WCF libraries are specifically geared toward making this task easy.</span></span> <span data-ttu-id="c02a5-117">要创建 WCF 服务，只需开发自定义界面，设置适当的属性，然后实现约定后的代码。</span><span class="sxs-lookup"><span data-stu-id="c02a5-117">To create the WCF service, simply develop your custom interface, set the appropriate attributes, and implement the code behind the contract.</span></span> <span data-ttu-id="c02a5-118">WCF 负责从元数据到对象序列化的所有任务。</span><span class="sxs-lookup"><span data-stu-id="c02a5-118">WCF takes care of everything from the metadata to the object serialization.</span></span> <span data-ttu-id="c02a5-119">编写 WCF 服务后，你可以使用几个简单步骤通过发送端口配置 WCF 适配器以便与服务进行对话。</span><span class="sxs-lookup"><span data-stu-id="c02a5-119">Having written your WCF service you can then configure a WCF adapter through a send port to talk to the service in a few simple steps.</span></span> <span data-ttu-id="c02a5-120">甚至可以配置事务，以便新服务可以通过内部 BizTalk MessageBox 数据库参与消息的事务性交换。</span><span class="sxs-lookup"><span data-stu-id="c02a5-120">You can even configure transactions so your new service can participate in a transactional exchange of messages with the internal BizTalk MessageBox database.</span></span>  
  
 <span data-ttu-id="c02a5-121">在接收方，你可以配置 BizTalk Server，以便接收位置像网络中的 WCF 服务一样。</span><span class="sxs-lookup"><span data-stu-id="c02a5-121">On the receive side you can configure BizTalk Server so that a receive location looks just like a WCF service on the network.</span></span> <span data-ttu-id="c02a5-122">从而允许你编写常规 WCF 客户端代码，甚至还能在调用该服务时使用事务。</span><span class="sxs-lookup"><span data-stu-id="c02a5-122">That allows you to write regular WCF client code, and you can even use transactions when you call that service.</span></span> <span data-ttu-id="c02a5-123">将标准 BizTalk WCF 适配器用作直接从 WCF 客户端到 WCF 服务代码的可配置桥的优势在于开发十分简单。</span><span class="sxs-lookup"><span data-stu-id="c02a5-123">The advantage of using a standard BizTalk WCF adapter as a configurable bridge directly from the WCF client to the WCF service code is that the development story is very simple.</span></span> <span data-ttu-id="c02a5-124">WCF 适配器以简单的方式在 WCF 服务环境的 BizTalk Server 中提供了高性能的事务性桥。</span><span class="sxs-lookup"><span data-stu-id="c02a5-124">A WCF adapter provides a high-performance, transactional bridge into BizTalk Server from the WCF services environment in a simple fashion.</span></span>  
  
 <span data-ttu-id="c02a5-125">总之，要与外部系统通信，你可以编写 WCF 服务以与外部系统进行交互，然后编写代码以直接与 WCF 服务对话，作为针对你的问题的更简单解决方案。</span><span class="sxs-lookup"><span data-stu-id="c02a5-125">In summary, to communicate with an external system, you can write a WCF service to interact with an external system, and then write code to talk directly to the WCF service as a simpler solution to your problem.</span></span> <span data-ttu-id="c02a5-126">如果使用更复杂的方法，你可以编写新的自定义绑定并使用任一 WCF 自定义适配器以更紧密的方式（与使用 WCF 服务相比）与 [!INCLUDE[prague](../includes/prague-md.md)] 集成。</span><span class="sxs-lookup"><span data-stu-id="c02a5-126">Using a more complex approach, you can write a new custom binding and integrate with [!INCLUDE[prague](../includes/prague-md.md)] using one of the WCF custom adapters in a tighter fashion than by using the WCF service.</span></span> <span data-ttu-id="c02a5-127">编写新的自定义绑定是较低级别的复杂开发练习。</span><span class="sxs-lookup"><span data-stu-id="c02a5-127">Writing a new custom binding is lower-level and complex development exercise.</span></span> <span data-ttu-id="c02a5-128">此方法的好处是可实现紧密集成的解决方案，整个解决方案可统一使用 BizTalk Server 管理、配置和开发案例。</span><span class="sxs-lookup"><span data-stu-id="c02a5-128">The benefit of this approach is that you arrive at a tightly integrated solution where the BizTalk Server administration, configuration, and development story is being used uniformly across the whole solution.</span></span> <span data-ttu-id="c02a5-129">如果适配器的功能开发为外部 WCF 客户端和服务，则配置必须在 BizTalk Server 环境外面，因此缺少相关基础结构支持。</span><span class="sxs-lookup"><span data-stu-id="c02a5-129">If the functionality of the adapter is developed as an external WCF client and service, then the configuration must be outside of the BizTalk Server environment and thus lacks the associated infrastructural support.</span></span>  
  
## <a name="what-are-the-differences-between-the-wcf-adapters-and-the-adapters-in-the-biztalk-adapter-pack"></a><span data-ttu-id="c02a5-130">WCF 适配器和 BizTalk Adapter Pack 中的适配器之间有哪些区别？</span><span class="sxs-lookup"><span data-stu-id="c02a5-130">What are the differences between the WCF adapters and the adapters in the BizTalk Adapter Pack?</span></span>  
 <span data-ttu-id="c02a5-131">WCF 适配器是 [!INCLUDE[prague](../includes/prague-md.md)] 发行版标准随附的七个适配器：</span><span class="sxs-lookup"><span data-stu-id="c02a5-131">The WCF adapters are the seven adapters that come standard with the [!INCLUDE[prague](../includes/prague-md.md)] release:</span></span>  
  
-   <span data-ttu-id="c02a5-132">WCF-Custom</span><span class="sxs-lookup"><span data-stu-id="c02a5-132">WCF-Custom</span></span>  
  
-   <span data-ttu-id="c02a5-133">WCF-CustomIsolated</span><span class="sxs-lookup"><span data-stu-id="c02a5-133">WCF-CustomIsolated</span></span>  
  
-   <span data-ttu-id="c02a5-134">WCF-NetTcp</span><span class="sxs-lookup"><span data-stu-id="c02a5-134">WCF-NetTcp</span></span>  
  
-   <span data-ttu-id="c02a5-135">WCF-BasicHttp</span><span class="sxs-lookup"><span data-stu-id="c02a5-135">WCF-BasicHttp</span></span>  
  
-   <span data-ttu-id="c02a5-136">WCF-WsHttp</span><span class="sxs-lookup"><span data-stu-id="c02a5-136">WCF-WsHttp</span></span>  
  
-   <span data-ttu-id="c02a5-137">WCF-NetNamedPipe</span><span class="sxs-lookup"><span data-stu-id="c02a5-137">WCF-NetNamedPipe</span></span>  
  
-   <span data-ttu-id="c02a5-138">WCF-NetMsmq</span><span class="sxs-lookup"><span data-stu-id="c02a5-138">WCF-NetMsmq</span></span>  
  
 <span data-ttu-id="c02a5-139">[BizTalk 适配器包](http://www.microsoft.com/biztalk/en/us/adapter-pack.aspx)是提供单一的解决方案，可轻松、 更安全地连接到的业务线 (LOB) 数据从任何自定义方式开发.NET 应用程序、 基于 SQL Server 的业务的 post BizTalk Server 发行版智能解决方案或 Office 业务应用程序 (OBA)。</span><span class="sxs-lookup"><span data-stu-id="c02a5-139">The [BizTalk Adapter Pack](http://www.microsoft.com/biztalk/en/us/adapter-pack.aspx) is a post-BizTalk Server release that provides a single solution to easily and securely connect to Line-of-Business (LOB) data from any custom-developed .NET application, SQL Server-based business intelligence solution, or Office Business Application (OBA).</span></span> <span data-ttu-id="c02a5-140">此发行版中提供了三个适配器，分别为 Siebel、SAP 和 Oracle DB。</span><span class="sxs-lookup"><span data-stu-id="c02a5-140">The three adapters available in this release are Siebel, SAP, and Oracle DB.</span></span> <span data-ttu-id="c02a5-141">[!INCLUDE[prague](../includes/prague-md.md)] Developer、Standard 和 Enterprise 版本均包含 Adapter Pack 许可，但 Branch 版本尚未包含。</span><span class="sxs-lookup"><span data-stu-id="c02a5-141">The Adapter Pack license is included with [!INCLUDE[prague](../includes/prague-md.md)] Developer, Standard, and Enterprise editions, but is not included with the Branch edition.</span></span> <span data-ttu-id="c02a5-142">已购买具有软件保障的 [!INCLUDE[prague](../includes/prague-md.md)] 的客户还将有权通过该程序访问 BizTalk Adapter Pack。</span><span class="sxs-lookup"><span data-stu-id="c02a5-142">Customers that have already purchased [!INCLUDE[prague](../includes/prague-md.md)] with Software Assurance will also have access to the BizTalk Adapter Pack through that program.</span></span>  
  
## <a name="what-is-the-recommended-order-for-deciding-to-use-the-biztalk-server-adapter-framework-the-wcf-lob-adapter-sdk-or-the-net-framework"></a><span data-ttu-id="c02a5-143">决定使用 BizTalk Server 适配器框架、WCF LOB 适配器 SDK 或 .NET Framework 时的建议顺序是什么？</span><span class="sxs-lookup"><span data-stu-id="c02a5-143">What is the recommended order for deciding to use the BizTalk Server Adapter Framework, the WCF LOB Adapter SDK, or the .NET Framework?</span></span>  
 <span data-ttu-id="c02a5-144">最不建议使用 BizTalk 适配器框架，因为它不基于标准 .NET WCF。</span><span class="sxs-lookup"><span data-stu-id="c02a5-144">The BizTalk Adapter Framework is the least-preferred option because it is not based on standard .NET WCF.</span></span> <span data-ttu-id="c02a5-145">由于从战略角度来看，解决方案应尽可能包含 WCF，包含 WCF 的最佳方式有哪些？</span><span class="sxs-lookup"><span data-stu-id="c02a5-145">Because strategically your solution should include WCF most likely, what is the best way to do this?</span></span> <span data-ttu-id="c02a5-146">最简单的方法是编写 WCF 客户端和服务，然后使用 WCF 适配器将其联系在一起。</span><span class="sxs-lookup"><span data-stu-id="c02a5-146">The easiest option is to write a WCF client and service, and then use a WCF adapter to tie them together.</span></span> <span data-ttu-id="c02a5-147">如果程序位于 BizTalk Server 外部，则你可以使用 .NET Framework 编写 WCF 自定义绑定。</span><span class="sxs-lookup"><span data-stu-id="c02a5-147">If the program is external to BizTalk Server, you can then write a WCF custom binding with the .NET Framework.</span></span>  
  
 <span data-ttu-id="c02a5-148">仅在以下情况下选择 WCF LOB 适配器 SDK 方案：你正在尝试解决严重的以元数据为中心的 LOB 集成问题。</span><span class="sxs-lookup"><span data-stu-id="c02a5-148">The only time you would choose the WCF LOB Adapter SDK as an option is if you are trying to solve a heavily metadata-centric LOB integration issue.</span></span> <span data-ttu-id="c02a5-149">WCF LOB 适配器 SDK 是另一种创建 WCF 绑定的方法，且专用于元数据支持。</span><span class="sxs-lookup"><span data-stu-id="c02a5-149">The WCF LOB Adapter SDK is just another way to create a WCF binding, and it specializes in metadata support.</span></span> <span data-ttu-id="c02a5-150">例如，当你正在通信的系统没有固定的文档类型时，需要此元数据。</span><span class="sxs-lookup"><span data-stu-id="c02a5-150">An example of this metadata requirement is when the system you are communicating with does not have a fixed type of document.</span></span> <span data-ttu-id="c02a5-151">BizTalk Server 发送或接收 XML 文档，元数据描述文档中数据的布局以便目标系统能使用。</span><span class="sxs-lookup"><span data-stu-id="c02a5-151">BizTalk Server sends or receives XML documents and the metadata describes the layout of the data in the document so the target system can use it.</span></span>  
  
## <a name="what-are-the-differences-between-the-biztalk-adapter-framework-and-the-wcf-lob-adapter-sdk"></a><span data-ttu-id="c02a5-152">BizTalk 适配器框架和 WCF LOB 适配器 SDK 之间有什么区别？</span><span class="sxs-lookup"><span data-stu-id="c02a5-152">What are the differences between the BizTalk Adapter Framework and the WCF LOB Adapter SDK?</span></span>  
 <span data-ttu-id="c02a5-153">如果七个标准 WCF 适配器均不满足通信要求，BizTalk 适配器框架将用于生成自定义 WCF 适配器。</span><span class="sxs-lookup"><span data-stu-id="c02a5-153">The BizTalk Adapter Framework is used to build custom WCF adapters when none of the seven standard WCF adapters meets communication requirements.</span></span> <span data-ttu-id="c02a5-154">适配器框架为元数据提供了大量支持以支持 LOB 应用程序，并共享标准 WCF 适配器使用的标准化配置和管理方法。</span><span class="sxs-lookup"><span data-stu-id="c02a5-154">The Adapter Framework offers rich support for metadata to support LOB applications, and to share the standardized configuration and management methods used by the standard WCF adapters.</span></span>  
  
 <span data-ttu-id="c02a5-155">WCF LOB 适配器 SDK 使你可以为具有大量元数据要求的目标系统编写自定义绑定。</span><span class="sxs-lookup"><span data-stu-id="c02a5-155">The WCF LOB Adapter SDK allows you to write a custom binding for a target system with heavy metadata requirements.</span></span> <span data-ttu-id="c02a5-156">WCF LOB 适配器 SDK 的目的是实现统一开发可重用的面向元数据且基于 WCF 的适配器，该适配器支持企业应用程序和数据库彼此集成。</span><span class="sxs-lookup"><span data-stu-id="c02a5-156">The goal of the WCF LOB Adapter SDK is to facilitate uniform development of reusable metadata-oriented WCF-based adapters that enable enterprise applications and databases to integrate with each other.</span></span> <span data-ttu-id="c02a5-157">因为使用 WCF LOB 适配器 SDK 生成 WCF 绑定，所以可在多个 .NET 应用程序（包括自定义 .NET 应用程序、[!INCLUDE[prague](../includes/prague-md.md)]、Microsoft Office SharePoint® Server 和 Microsoft SQL Server Integration Services）中重复使用已开发的相同解决方案。</span><span class="sxs-lookup"><span data-stu-id="c02a5-157">Because using the WCF LOB Adapter SDK produces a WCF binding, the same developed solution can be reused in multiple .NET applications including custom .NET applications, [!INCLUDE[prague](../includes/prague-md.md)], Microsoft Office SharePoint® Server, and Microsoft SQL Server Integration Services.</span></span> <span data-ttu-id="c02a5-158">此外，WCF LOB 适配器 SDK 提供了通用元数据对象模型以公开目标系统元数据，供适配器使用者从适配器浏览、搜索和检索 WCF 约定。</span><span class="sxs-lookup"><span data-stu-id="c02a5-158">In addition, the WCF LOB Adapter SDK provides a common metadata object model to expose target system metadata, for adapter consumers to browse, search, and retrieve WCF contracts from the adapter.</span></span> <span data-ttu-id="c02a5-159">你可以下载 SDK 从[http://go.microsoft.com/fwlink/?LinkID=96184](http://go.microsoft.com/fwlink/?LinkID=96184)。</span><span class="sxs-lookup"><span data-stu-id="c02a5-159">You can download the SDK from [http://go.microsoft.com/fwlink/?LinkID=96184](http://go.microsoft.com/fwlink/?LinkID=96184).</span></span>  
  
 <span data-ttu-id="c02a5-160">尽管 BizTalk 适配器框架和 WCF LOB 适配器 SDK 在帮助促进自定义适配器的开发方面有相似之处，但也有一些值得注意的不同之处：</span><span class="sxs-lookup"><span data-stu-id="c02a5-160">While the BizTalk Adapter Framework and the WCF LOB Adapter SDK have similarities in that they help facilitate the development of custom adapters, there are some differences worth noting:</span></span>  
  
-   <span data-ttu-id="c02a5-161">WCF LOB 适配器 SDK 是较新的发行版，且基于 .NET Framework 3.0 类。</span><span class="sxs-lookup"><span data-stu-id="c02a5-161">The WCF LOB Adapter SDK is a newer release and is based upon the .NET Framework 3.0 classes.</span></span> <span data-ttu-id="c02a5-162">与早期的 BizTalk 适配器框架一样，它提供了大量与元数据处理和管理连接相关的大量功能；但是生成的适配器并未绑定到 BizTalk Server 体系结构。</span><span class="sxs-lookup"><span data-stu-id="c02a5-162">Like the earlier BizTalk Adapter Framework it provides rich functionality in regards to metadata processing and managing connection; however, the resulting adapter is not tied to the BizTalk Server architecture.</span></span>  
  
-   <span data-ttu-id="c02a5-163">使用 WCF LOB 适配器 SDK 编写的适配器公开为自定义绑定，因此可被任何 WCF 客户端应用程序调用。</span><span class="sxs-lookup"><span data-stu-id="c02a5-163">An adapter written by using the WCF LOB Adapter SDK is exposed as a custom binding and is thus available to be called by any WCF client application.</span></span> <span data-ttu-id="c02a5-164">还可以扩展为 WCF 通道。</span><span class="sxs-lookup"><span data-stu-id="c02a5-164">It can also be extended as a WCF channel.</span></span> <span data-ttu-id="c02a5-165">使用 BizTalk 适配器框架编写的适配器只能被 BizTalk Server 调用。</span><span class="sxs-lookup"><span data-stu-id="c02a5-165">An adapter written by using the BizTalk Adapter Framework can be called only by BizTalk Server.</span></span>  
  
 <span data-ttu-id="c02a5-166">BizTalk 适配器框架不具有显式开发工具支持。</span><span class="sxs-lookup"><span data-stu-id="c02a5-166">There is no explicit development tool support for the BizTalk Adapter Framework.</span></span> <span data-ttu-id="c02a5-167">对于 WCF LOB 适配器 SDK，适配器代码生成向导将指导你进行一系列步骤收集自定义适配器将需要使用的各种信息，然后生成文件以便你在自定义适配器项目中使用。</span><span class="sxs-lookup"><span data-stu-id="c02a5-167">For the WCF LOB Adapter SDK, the Adapter Code Generation Wizard takes you through a series of steps to gather various information that your custom adapter will need to use, and then generates files for you to use in your custom adapter project.</span></span>