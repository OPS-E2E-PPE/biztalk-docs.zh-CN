---
title: "WCF 适配器常见问题： WCF 终结点 |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: ccc94b7d-b8a6-4c24-907e-922fd885b874
caps.latest.revision: "4"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: d09bb2fd72d9b1882b4e0a9eb329da7e080e6fe5
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
---
# <a name="wcf-adapter-faq-wcf-endpoints"></a><span data-ttu-id="f4da2-102">WCF 适配器常见问题： WCF 终结点</span><span class="sxs-lookup"><span data-stu-id="f4da2-102">WCF Adapter FAQ: WCF Endpoints</span></span>
## <a name="what-are-two-endpoints-options-can-be-created-by-the-biztalk-wcf-service-publishing-wizard"></a><span data-ttu-id="f4da2-103">BizTalk WCF 服务发布向导可以创建的两个终结点选项是什么？</span><span class="sxs-lookup"><span data-stu-id="f4da2-103">What are two endpoints options can be created by the BizTalk WCF Service Publishing Wizard?</span></span>  
 <span data-ttu-id="f4da2-104">运行 BizTalk WCF 服务发布向导时，您可以选择创建 WCF 服务终结点或 WCF 仅元数据终结点 (MEX)。</span><span class="sxs-lookup"><span data-stu-id="f4da2-104">When running the BizTalk WCF Service Publishing Wizard, you can select to create either a WCF service endpoint or a WCF metadata-only endpoint (MEX).</span></span>  
  
 <span data-ttu-id="f4da2-105">服务终结点可创建 IIS 承载的实际 Web 位置（用于公开实际 WCF 服务的功能）。</span><span class="sxs-lookup"><span data-stu-id="f4da2-105">A service endpoint creates an actual Web location hosted in IIS that exposes the functionality of an actual WCF service.</span></span> <span data-ttu-id="f4da2-106">仅独立的适配器（WCF-WsHttp、WCF-BasicHttp 和 WCF-CustomIsolated）才能用于服务终结点。</span><span class="sxs-lookup"><span data-stu-id="f4da2-106">Only isolated adapters (WCF-WsHttp, WCF-BasicHttp, and WCF-CustomIsolated) can be used for service endpoints.</span></span> <span data-ttu-id="f4da2-107">此类型终结点的功能由发布为 WCF 服务的业务流程或架构实现。</span><span class="sxs-lookup"><span data-stu-id="f4da2-107">The functionality of this type of endpoint is implemented by an orchestration or a schema that is published as a WCF service.</span></span>  
  
 <span data-ttu-id="f4da2-108">仅元数据终结点是一个通过 BizTalk 接收位置实现其功能的终结点。</span><span class="sxs-lookup"><span data-stu-id="f4da2-108">A metadata-only endpoint is one whose functionality is implemented through a BizTalk receive location.</span></span>  <span data-ttu-id="f4da2-109">其使用 IIS 和进程内 WCF 接收适配器，而非公开的业务流程或实际 WCF 服务代码。</span><span class="sxs-lookup"><span data-stu-id="f4da2-109">This uses IIS and an in-process WCF receive adapter rather than by an exposed orchestration or actual WCF service code.</span></span> <span data-ttu-id="f4da2-110">使用向导生成仅包含元数据终结点公开更简单的方法为提供集成的信息接收位置使用进程内 WCF 适配器比手动使用 svcutil.exe。</span><span class="sxs-lookup"><span data-stu-id="f4da2-110">Using the wizard to generate a metadata-only endpoint is an easier way to provide integration information on exposed receive locations using an in-process WCF adapter than doing it manually using svcutil.exe.</span></span> <span data-ttu-id="f4da2-111">使用 svcutil.exe 将强制你找到转发给你的服务的使用者的元数据，使其可以调用的方法。</span><span class="sxs-lookup"><span data-stu-id="f4da2-111">Using svcutil.exe forces you to find a way to forward the metadata to the consumer of your service so it can be called.</span></span>  
  
## <a name="why-would-i-use-a-metadata-only-endpoint-in-biztalk-server"></a><span data-ttu-id="f4da2-112">为什么在 BizTalk Server 中使用仅元数据终结点？</span><span class="sxs-lookup"><span data-stu-id="f4da2-112">Why would I use a metadata-only endpoint in BizTalk Server?</span></span>  
 <span data-ttu-id="f4da2-113">使用仅元数据终结点，实际 WCF 服务中则不存在服务实现，</span><span class="sxs-lookup"><span data-stu-id="f4da2-113">With metadata-only endpoints, the service implementation does not exist in an actual WCF service.</span></span> <span data-ttu-id="f4da2-114">而是在 BizTalk 接收位置实现功能，这称为具有服务终结点的 WCF 服务。</span><span class="sxs-lookup"><span data-stu-id="f4da2-114">Rather, the functionality is implemented in a BizTalk receive location, which is called just as a WCF service with a service endpoint.</span></span> <span data-ttu-id="f4da2-115">例如，您可能将两个架构和一个映射填入消息域中，并将其转换为全部大写。</span><span class="sxs-lookup"><span data-stu-id="f4da2-115">For example, you could have two schemas and a map to take a field in a message and convert it to all uppercase.</span></span> <span data-ttu-id="f4da2-116">在这种情况下，元数据中的服务发布为“ConvertToUpper”。</span><span class="sxs-lookup"><span data-stu-id="f4da2-116">In this case the service is published in metadata as “ConvertToUpper”.</span></span> <span data-ttu-id="f4da2-117">但是服务功能是在接收位置实现，而不是在代码中或通过业务流程实现的。</span><span class="sxs-lookup"><span data-stu-id="f4da2-117">But the functionality of the service is implemented in the receive location and not in code or through an orchestration.</span></span>  
  
 <span data-ttu-id="f4da2-118">WCF 终结点由地址、绑定和约定组成。</span><span class="sxs-lookup"><span data-stu-id="f4da2-118">A WCF endpoint is composed of an address, a binding, and a contract.</span></span> <span data-ttu-id="f4da2-119">向导创建仅元数据终结点后，将从现有接收位置获得地址和绑定详细信息。</span><span class="sxs-lookup"><span data-stu-id="f4da2-119">When the wizard creates a metadata-only endpoint, it gets the address and binding details from the already existing receive location.</span></span> <span data-ttu-id="f4da2-120">约定信息由 BizTalk 业务流程中存在的架构定义，或者您可以使用向导进行手动创建。</span><span class="sxs-lookup"><span data-stu-id="f4da2-120">The contract information is defined by schemas which can exist in a BizTalk orchestration, or you can create them manually using the wizard.</span></span> <span data-ttu-id="f4da2-121">如果你选择**作为 WCF 服务发布 BizTalk 业务流程**，仅包含元数据终结点将使用从业务流程的程序集中的消息和端口类型定义的协定。</span><span class="sxs-lookup"><span data-stu-id="f4da2-121">If you choose **Publish BizTalk orchestrations as a WCF service**, the metadata-only endpoint uses the message and port types from the orchestration assembly to define the contract.</span></span>  
  
 <span data-ttu-id="f4da2-122">如果你选择**将架构作为 WCF 服务发布**，该向导允许你通过使用现有的输入和输出架构中指定服务和操作名称来定义服务定义。</span><span class="sxs-lookup"><span data-stu-id="f4da2-122">If you choose **Publish schemas as WCF service**, the wizard allows you to define a service definition by specifying service and operation names with existing input and output schemas.</span></span> <span data-ttu-id="f4da2-123">向导将创建一个 .svc 文件和一个 IIS 虚拟目录，以便发布元数据之后可对其进行浏览。</span><span class="sxs-lookup"><span data-stu-id="f4da2-123">The wizard creates an .svc file and an IIS virtual directory so the metadata can be browsed after it is published.</span></span> <span data-ttu-id="f4da2-124">BizTalk WCF 服务发布向导还会创建 web.config 文件的与其 httpGetEnabled 属性\<serviceMetadata > 元素设置为 true。</span><span class="sxs-lookup"><span data-stu-id="f4da2-124">The BizTalk WCF Service Publishing Wizard also creates a web.config file with its httpGetEnabled attribute of the \<serviceMetadata> element set to true.</span></span> <span data-ttu-id="f4da2-125">这样可以发布元数据以供浏览。</span><span class="sxs-lookup"><span data-stu-id="f4da2-125">This publishes the metadata for browsing.</span></span> <span data-ttu-id="f4da2-126">如果你选择 BizTalk 接收位置发布服务元数据，该数据可以通过 GET 请求通过 HTTP 使用`?wsdl`服务的 URL 的末尾。</span><span class="sxs-lookup"><span data-stu-id="f4da2-126">If you choose to publish service metadata for a BizTalk receive location, that data can be accessed through a GET request over HTTP using a `?wsdl` at the end of the URL for the service.</span></span>  
  
## <a name="are-service-endpoints-hosted-in-iis-and-why"></a><span data-ttu-id="f4da2-127">服务终结点是否承载于 IIS 中，为什么？</span><span class="sxs-lookup"><span data-stu-id="f4da2-127">Are service endpoints hosted in IIS and why?</span></span>  
 <span data-ttu-id="f4da2-128">是的，服务终结点通过以下三个独立适配器的其中之一承载于 IIS 中：</span><span class="sxs-lookup"><span data-stu-id="f4da2-128">Yes, a service endpoint is hosted in IIS using one of the three isolated adapters:</span></span>  
  
-   <span data-ttu-id="f4da2-129">WCF-WsHttp</span><span class="sxs-lookup"><span data-stu-id="f4da2-129">WCF-WsHttp</span></span>  
  
-   <span data-ttu-id="f4da2-130">WCF-BasicHttp</span><span class="sxs-lookup"><span data-stu-id="f4da2-130">WCF-BasicHttp</span></span>  
  
-   <span data-ttu-id="f4da2-131">WCF-CustomIsolated</span><span class="sxs-lookup"><span data-stu-id="f4da2-131">WCF-CustomIsolated</span></span>  
  
 <span data-ttu-id="f4da2-132">服务终结点与仅元数据终结点不同，后者的功能可作为 WCF 服务直接调用。</span><span class="sxs-lookup"><span data-stu-id="f4da2-132">A service endpoint differs from a metadata-only endpoint in that its functionality can be called directly as a WCF service.</span></span> <span data-ttu-id="f4da2-133">使用 BizTalk WCF 服务发布向导创建服务终结点会导致指定的 BizTalk 应用程序中生成新的接收位置。</span><span class="sxs-lookup"><span data-stu-id="f4da2-133">Using the BizTalk WCF Service Publishing Wizard to create a service endpoint results in a new receive location in the specified BizTalk application.</span></span> <span data-ttu-id="f4da2-134">它定义了可通过 IIS 访问的业务流程的 URI。</span><span class="sxs-lookup"><span data-stu-id="f4da2-134">It defines a URI at which the orchestration can be accessed through IIS.</span></span>  
  
## <a name="when-creating-a-service-endpoint-why-would-i-select-to-publish-schemas-as-a-wcf-service"></a><span data-ttu-id="f4da2-135">创建服务终结点时，为什么选择“将架构发布为 WCF 服务”？</span><span class="sxs-lookup"><span data-stu-id="f4da2-135">When creating a service endpoint, why would I select to “Publish schemas as a WCF Service”?</span></span>  
 <span data-ttu-id="f4da2-136">如果 WCF 接收位置是仅使用 BizTalk 消息的 BizTalk 应用程序的一部分，则选择“将架构发布为 WCF 服务”。</span><span class="sxs-lookup"><span data-stu-id="f4da2-136">Choose to publish schemas as a WCF service if your WCF receive location is part of a BizTalk application that is using BizTalk messaging only.</span></span> <span data-ttu-id="f4da2-137">这意味着不使用业务流程，并且将通过接收位置和发送端口公开所有功能。</span><span class="sxs-lookup"><span data-stu-id="f4da2-137">This means there are no orchestrations being used, and all the functionality will be exposed through the receive location and send ports.</span></span> <span data-ttu-id="f4da2-138">发布架构以指定约定信息。</span><span class="sxs-lookup"><span data-stu-id="f4da2-138">Schemas are published to specify the contract information.</span></span> <span data-ttu-id="f4da2-139">可从架构程序集或业务流程程序集获取（尽管业务流程可能未用于此终结点）此信息。</span><span class="sxs-lookup"><span data-stu-id="f4da2-139">This information can be obtained from a schema assembly, or even from an orchestration assembly (although the orchestration may not be used for this endpoint).</span></span>