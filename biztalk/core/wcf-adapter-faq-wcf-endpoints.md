---
title: WCF 适配器常见问题解答：WCF 终结点 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: ccc94b7d-b8a6-4c24-907e-922fd885b874
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: e56e1e7b657b0c365675e3b7f308d7960c12968f
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65393570"
---
# <a name="wcf-adapter-faq-wcf-endpoints"></a><span data-ttu-id="2c409-102">WCF 适配器常见问题解答：WCF 终结点</span><span class="sxs-lookup"><span data-stu-id="2c409-102">WCF Adapter FAQ: WCF Endpoints</span></span>
## <a name="what-are-two-endpoints-options-can-be-created-by-the-biztalk-wcf-service-publishing-wizard"></a><span data-ttu-id="2c409-103">可以通过 BizTalk WCF 服务发布向导创建两个终结点选项是什么？</span><span class="sxs-lookup"><span data-stu-id="2c409-103">What are two endpoints options can be created by the BizTalk WCF Service Publishing Wizard?</span></span>  
 <span data-ttu-id="2c409-104">运行 BizTalk WCF 服务发布向导时，你可以选择创建 WCF 服务终结点或 WCF 仅元数据终结点 (MEX)。</span><span class="sxs-lookup"><span data-stu-id="2c409-104">When running the BizTalk WCF Service Publishing Wizard, you can select to create either a WCF service endpoint or a WCF metadata-only endpoint (MEX).</span></span>  
  
 <span data-ttu-id="2c409-105">服务终结点创建公开实际 WCF 服务的功能的 IIS 中承载的实际 Web 位置。</span><span class="sxs-lookup"><span data-stu-id="2c409-105">A service endpoint creates an actual Web location hosted in IIS that exposes the functionality of an actual WCF service.</span></span> <span data-ttu-id="2c409-106">仅在独立的适配器 （Wcf-wshttp、 Wcf-basichttp 和 Wcf-customisolated） 可用于服务终结点。</span><span class="sxs-lookup"><span data-stu-id="2c409-106">Only isolated adapters (WCF-WsHttp, WCF-BasicHttp, and WCF-CustomIsolated) can be used for service endpoints.</span></span> <span data-ttu-id="2c409-107">此类型的终结点的功能由业务流程或架构发布为 WCF 服务的实现。</span><span class="sxs-lookup"><span data-stu-id="2c409-107">The functionality of this type of endpoint is implemented by an orchestration or a schema that is published as a WCF service.</span></span>  
  
 <span data-ttu-id="2c409-108">仅元数据终结点是一个通过 BizTalk 实现其功能接收位置。</span><span class="sxs-lookup"><span data-stu-id="2c409-108">A metadata-only endpoint is one whose functionality is implemented through a BizTalk receive location.</span></span>  <span data-ttu-id="2c409-109">这将使用 IIS 和进程内 WCF 接收适配器，而不是公开的业务流程或实际 WCF 服务代码。</span><span class="sxs-lookup"><span data-stu-id="2c409-109">This uses IIS and an in-process WCF receive adapter rather than by an exposed orchestration or actual WCF service code.</span></span> <span data-ttu-id="2c409-110">使用向导生成仅元数据终结点公开更简单的方法提供了有关集成信息接收位置使用比手动使用 svcutil.exe 的进程内 WCF 适配器。</span><span class="sxs-lookup"><span data-stu-id="2c409-110">Using the wizard to generate a metadata-only endpoint is an easier way to provide integration information on exposed receive locations using an in-process WCF adapter than doing it manually using svcutil.exe.</span></span> <span data-ttu-id="2c409-111">使用 svcutil.exe 可强制您查找将元数据转发到你的服务的使用者，使其可以调用的方法。</span><span class="sxs-lookup"><span data-stu-id="2c409-111">Using svcutil.exe forces you to find a way to forward the metadata to the consumer of your service so it can be called.</span></span>  
  
## <a name="why-would-i-use-a-metadata-only-endpoint-in-biztalk-server"></a><span data-ttu-id="2c409-112">为什么要使用 BizTalk Server 中的仅元数据终结点？</span><span class="sxs-lookup"><span data-stu-id="2c409-112">Why would I use a metadata-only endpoint in BizTalk Server?</span></span>  
 <span data-ttu-id="2c409-113">使用仅元数据终结点，服务实现一个实际的 WCF 服务中不存在。</span><span class="sxs-lookup"><span data-stu-id="2c409-113">With metadata-only endpoints, the service implementation does not exist in an actual WCF service.</span></span> <span data-ttu-id="2c409-114">功能而不是，实现在 BizTalk 接收位置，只是作为 WCF 服务与服务终结点调用。</span><span class="sxs-lookup"><span data-stu-id="2c409-114">Rather, the functionality is implemented in a BizTalk receive location, which is called just as a WCF service with a service endpoint.</span></span> <span data-ttu-id="2c409-115">例如，可能有两个架构和一个映射，以便执行一条消息中的字段并将其转换为全部大写。</span><span class="sxs-lookup"><span data-stu-id="2c409-115">For example, you could have two schemas and a map to take a field in a message and convert it to all uppercase.</span></span> <span data-ttu-id="2c409-116">在这种情况下服务元数据中发布为"ConvertToUpper"。</span><span class="sxs-lookup"><span data-stu-id="2c409-116">In this case the service is published in metadata as “ConvertToUpper”.</span></span> <span data-ttu-id="2c409-117">但在接收位置并不是在代码或通过业务流程实现的服务的功能。</span><span class="sxs-lookup"><span data-stu-id="2c409-117">But the functionality of the service is implemented in the receive location and not in code or through an orchestration.</span></span>  
  
 <span data-ttu-id="2c409-118">WCF 终结点由地址、 绑定和协定组成。</span><span class="sxs-lookup"><span data-stu-id="2c409-118">A WCF endpoint is composed of an address, a binding, and a contract.</span></span> <span data-ttu-id="2c409-119">当向导创建仅元数据终结点时，它获取的地址和绑定详细信息，从现有接收位置。</span><span class="sxs-lookup"><span data-stu-id="2c409-119">When the wizard creates a metadata-only endpoint, it gets the address and binding details from the already existing receive location.</span></span> <span data-ttu-id="2c409-120">协定信息定义的架构可以存在于 BizTalk 业务流程，也可以创建手动使用该向导。</span><span class="sxs-lookup"><span data-stu-id="2c409-120">The contract information is defined by schemas which can exist in a BizTalk orchestration, or you can create them manually using the wizard.</span></span> <span data-ttu-id="2c409-121">如果愿意**BizTalk 业务流程发布为 WCF 服务**，仅元数据终结点使用从业务流程的程序集中的消息和端口类型定义的协定。</span><span class="sxs-lookup"><span data-stu-id="2c409-121">If you choose **Publish BizTalk orchestrations as a WCF service**, the metadata-only endpoint uses the message and port types from the orchestration assembly to define the contract.</span></span>  
  
 <span data-ttu-id="2c409-122">如果愿意**将架构发布为 WCF 服务**，该向导，可通过使用现有的输入和输出架构中指定服务和操作名称来定义服务定义。</span><span class="sxs-lookup"><span data-stu-id="2c409-122">If you choose **Publish schemas as WCF service**, the wizard allows you to define a service definition by specifying service and operation names with existing input and output schemas.</span></span> <span data-ttu-id="2c409-123">该向导创建一个.svc 文件和 IIS 虚拟目录，因此发布后，可以浏览元数据。</span><span class="sxs-lookup"><span data-stu-id="2c409-123">The wizard creates an .svc file and an IIS virtual directory so the metadata can be browsed after it is published.</span></span> <span data-ttu-id="2c409-124">BizTalk WCF 服务发布向导还会创建一个 web.config 文件与其 httpGetEnabled 属性\<serviceMetadata\>元素设置为 true。</span><span class="sxs-lookup"><span data-stu-id="2c409-124">The BizTalk WCF Service Publishing Wizard also creates a web.config file with its httpGetEnabled attribute of the \<serviceMetadata\> element set to true.</span></span> <span data-ttu-id="2c409-125">这将发布用于浏览元数据。</span><span class="sxs-lookup"><span data-stu-id="2c409-125">This publishes the metadata for browsing.</span></span> <span data-ttu-id="2c409-126">如果你选择 BizTalk 接收位置发布服务元数据，可以通过使用 HTTP 访问通过 GET 请求该数据`?wsdl`服务的 URL 的末尾。</span><span class="sxs-lookup"><span data-stu-id="2c409-126">If you choose to publish service metadata for a BizTalk receive location, that data can be accessed through a GET request over HTTP using a `?wsdl` at the end of the URL for the service.</span></span>  
  
## <a name="are-service-endpoints-hosted-in-iis-and-why"></a><span data-ttu-id="2c409-127">在 IIS 中承载的服务终结点和原因？</span><span class="sxs-lookup"><span data-stu-id="2c409-127">Are service endpoints hosted in IIS and why?</span></span>  
 <span data-ttu-id="2c409-128">是的使用三个独立适配器之一的 IIS 中承载的服务终结点：</span><span class="sxs-lookup"><span data-stu-id="2c409-128">Yes, a service endpoint is hosted in IIS using one of the three isolated adapters:</span></span>  
  
- <span data-ttu-id="2c409-129">WCF-WsHttp</span><span class="sxs-lookup"><span data-stu-id="2c409-129">WCF-WsHttp</span></span>  
  
- <span data-ttu-id="2c409-130">WCF-BasicHttp</span><span class="sxs-lookup"><span data-stu-id="2c409-130">WCF-BasicHttp</span></span>  
  
- <span data-ttu-id="2c409-131">WCF-CustomIsolated</span><span class="sxs-lookup"><span data-stu-id="2c409-131">WCF-CustomIsolated</span></span>  
  
  <span data-ttu-id="2c409-132">服务终结点与仅元数据终结点在于可以直接作为 WCF 服务调用其功能。</span><span class="sxs-lookup"><span data-stu-id="2c409-132">A service endpoint differs from a metadata-only endpoint in that its functionality can be called directly as a WCF service.</span></span> <span data-ttu-id="2c409-133">使用 BizTalk WCF 服务发布向导在新创建的服务终结点结果中指定的 BizTalk 应用程序接收位置。</span><span class="sxs-lookup"><span data-stu-id="2c409-133">Using the BizTalk WCF Service Publishing Wizard to create a service endpoint results in a new receive location in the specified BizTalk application.</span></span> <span data-ttu-id="2c409-134">它定义在其中可以通过 IIS 访问业务流程的 URI。</span><span class="sxs-lookup"><span data-stu-id="2c409-134">It defines a URI at which the orchestration can be accessed through IIS.</span></span>  
  
## <a name="when-creating-a-service-endpoint-why-would-i-select-to-publish-schemas-as-a-wcf-service"></a><span data-ttu-id="2c409-135">在创建服务终结点时，为什么选择"将架构发布为 WCF 服务"？</span><span class="sxs-lookup"><span data-stu-id="2c409-135">When creating a service endpoint, why would I select to “Publish schemas as a WCF Service”?</span></span>  
 <span data-ttu-id="2c409-136">选择要将架构发布为 WCF 接收位置的 WCF 服务是使用 BizTalk 消息仅传送的 BizTalk 应用程序的一部分。</span><span class="sxs-lookup"><span data-stu-id="2c409-136">Choose to publish schemas as a WCF service if your WCF receive location is part of a BizTalk application that is using BizTalk messaging only.</span></span> <span data-ttu-id="2c409-137">这意味着没有业务流程使用，并且所有功能将公开通过接收位置和发送端口。</span><span class="sxs-lookup"><span data-stu-id="2c409-137">This means there are no orchestrations being used, and all the functionality will be exposed through the receive location and send ports.</span></span> <span data-ttu-id="2c409-138">发布架构以指定的协定信息。</span><span class="sxs-lookup"><span data-stu-id="2c409-138">Schemas are published to specify the contract information.</span></span> <span data-ttu-id="2c409-139">获取此信息可以从架构程序集，或甚至从业务流程程序集 （尽管业务流程可能不用于此终结点）。</span><span class="sxs-lookup"><span data-stu-id="2c409-139">This information can be obtained from a schema assembly, or even from an orchestration assembly (although the orchestration may not be used for this endpoint).</span></span>