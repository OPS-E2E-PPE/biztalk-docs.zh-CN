---
title: 有关设计 BizTalk 应用程序的国际注意事项 |Microsoft 文档
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 9daaaaf7-6149-4e62-9e9b-b6356fc820d2
caps.latest.revision: 15
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 7ef22467c18580219e8587d63017d8bf146090d4
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/28/2017
ms.locfileid: "25974571"
---
# <a name="international-considerations-for-designing-biztalk-applications"></a><span data-ttu-id="a8e93-102">有关设计 BizTalk 应用程序的国际注意事项</span><span class="sxs-lookup"><span data-stu-id="a8e93-102">International Considerations for Designing BizTalk Applications</span></span>
<span data-ttu-id="a8e93-103">强烈建议你查看以下已知问题，当你开发国际时[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]应用程序。</span><span class="sxs-lookup"><span data-stu-id="a8e93-103">It is strongly recommended that you review the following known issues when you develop your international [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] applications.</span></span>  
  
 <span data-ttu-id="a8e93-104">**计算机名称的字符限制**</span><span class="sxs-lookup"><span data-stu-id="a8e93-104">**Character Restrictions for Machine Names**</span></span>  
  
 <span data-ttu-id="a8e93-105">安装[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]不支持在名称中包含以下一组外部的字母的计算机上： 字母 （A 到 Z、 a 到 z），数字 (0-9)、 连字符 （-） 和下划线 (_)。</span><span class="sxs-lookup"><span data-stu-id="a8e93-105">Installing [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] on machines with names that contain letters outside of the following set is not supported: letters (A-Z, a-z), digits (0-9), hyphens (-), and underscores ( _ ).</span></span> <span data-ttu-id="a8e93-106">支持仅机包含此集中的字母的名称。</span><span class="sxs-lookup"><span data-stu-id="a8e93-106">Only machine names that contain the letters in this set are supported.</span></span>  
  
 <span data-ttu-id="a8e93-107">**字符无法正确显示，或者不显示在所有由于不正确的字体和字体回退设置**</span><span class="sxs-lookup"><span data-stu-id="a8e93-107">**Characters do not appear correctly or do not appear at all due to incorrect font and font fallback settings**</span></span>  
  
 <span data-ttu-id="a8e93-108">在驻留于 Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 中的 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 工具中，您可能会遇到字符（如 Czech 字符）显示问题。</span><span class="sxs-lookup"><span data-stu-id="a8e93-108">You may experience issues displaying characters (such as Czech characters) in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] tools hosted in Microsoft [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)].</span></span> <span data-ttu-id="a8e93-109">要解决这些问题，可能需要修改 Visual Studio“选项”选项卡中提供的字体设置，选择另一种您知道支持要显示的字符的字体。</span><span class="sxs-lookup"><span data-stu-id="a8e93-109">To address these issues, you may need to modify the font settings available in the Visual Studio Options tab and select another font that you know supports the characters.</span></span> <span data-ttu-id="a8e93-110">你可以选择 Tahoma 或 Microsoft Sans Serif 作为为其提供字体回退功能的默认字体。</span><span class="sxs-lookup"><span data-stu-id="a8e93-110">You can select Tahoma or Microsoft Sans Serif as the default font for which font fallback capabilities are provided.</span></span>  
  
 <span data-ttu-id="a8e93-111">**代理项对字符中显示为平方 BizTalk Server 管理控制台和其他 BizTalk Server 工具**</span><span class="sxs-lookup"><span data-stu-id="a8e93-111">**Surrogate pair characters displayed as squares in BizTalk Server Administration console and other BizTalk Server tools**</span></span>  
  
 <span data-ttu-id="a8e93-112">你可能无法将能够在 BizTalk Server 管理控制台中显示代理项对字符和其他[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]工具。</span><span class="sxs-lookup"><span data-stu-id="a8e93-112">You may not be able to display surrogate pair characters in BizTalk Server Administration Console and other [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] tools.</span></span> <span data-ttu-id="a8e93-113">代理项对是序列的两个代码单元组成单个抽象字符的编码的字符表示形式。</span><span class="sxs-lookup"><span data-stu-id="a8e93-113">Surrogate pairs are a coded character representation for a single abstract character that consists of a sequence of two code units.</span></span> <span data-ttu-id="a8e93-114">请确保你具有合适 （它包括在 Office XP 和 2003年中文版本） 在系统上安装的字体。</span><span class="sxs-lookup"><span data-stu-id="a8e93-114">Make sure you have the appropriate font installed on your system (it is included in the Chinese versions of Office XP and 2003).</span></span> <span data-ttu-id="a8e93-115">可能还需要在具有相应功能的工具（如 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]）中更改字体选项。</span><span class="sxs-lookup"><span data-stu-id="a8e93-115">It may also be necessary to change the font options in the tools that have such capability (such as [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]).</span></span>  
  
 <span data-ttu-id="a8e93-116">如果不使用字体设置选项的其他工具，代理项对字符将显示为平方，如管理控制台。</span><span class="sxs-lookup"><span data-stu-id="a8e93-116">In other tools without a font setting option, surrogate pair characters will be displayed as squares, such as the Administration console.</span></span> <span data-ttu-id="a8e93-117">如果你看到平方，未损坏字符;它们只是无法正常显示由于缺乏字体支持。</span><span class="sxs-lookup"><span data-stu-id="a8e93-117">If you see squares, the characters are not corrupted; they just cannot be displayed properly because of a lack of font support.</span></span>  
  
 <span data-ttu-id="a8e93-118">**Web 服务字符限制**</span><span class="sxs-lookup"><span data-stu-id="a8e93-118">**Web Services character limitations**</span></span>  
  
 <span data-ttu-id="a8e93-119">如果你打算发布作为 Web 服务业务流程，你可能会遇到问题中使用业务流程名称和端口名称的 Web 服务文件的名称 （.asmx 文件） 和 Web 服务中的虚拟目录中会使用这些名称字符发布向导。</span><span class="sxs-lookup"><span data-stu-id="a8e93-119">If you plan on publishing an orchestration as a Web Service, you may encounter issues with characters used in the orchestration names and port names as those names are used in the Web Services file names (.asmx files) and the virtual directory in the Web Services Publishing Wizard.</span></span> <span data-ttu-id="a8e93-120">只有 Microsoft Internet 信息服务 (IIS) 7.0（包括在 Microsoft Windows Server 2008 和 Windows Vista 中）完全支持 Unicode 字符。</span><span class="sxs-lookup"><span data-stu-id="a8e93-120">Only Microsoft Internet Information Services (IIS) 7.0 (included in Microsoft Windows Server 2008 and Windows Vista) fully supports Unicode characters.</span></span> <span data-ttu-id="a8e93-121">因此，如果你使用早期版本的 IIS 或 Windows，业务流程，名称端口、 Web 服务和虚拟目录名称必须包括仅支持的语言版本的 Windows 的 ANSI 字符 （例如，日语字符不是允许在英语版本的 Windows 上）。</span><span class="sxs-lookup"><span data-stu-id="a8e93-121">Therefore, if you use an earlier version of IIS or Windows, the names of the orchestrations, ports, Web services and virtual directories names must include only ANSI characters supported by the language version of Windows (for example, Japanese characters are not allowed on an English version of Windows).</span></span>  
  
 <span data-ttu-id="a8e93-122">另外还要注意，[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 中 Web Services 的项目名称只限于使用 ASCII 字符。</span><span class="sxs-lookup"><span data-stu-id="a8e93-122">Note also that project names for Web Services in [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] are restricted to ASCII characters.</span></span>  
  
 <span data-ttu-id="a8e93-123">**使用不同的文档编码**</span><span class="sxs-lookup"><span data-stu-id="a8e93-123">**Working with different document encodings**</span></span>  
  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="a8e93-124"> 支持用于 XML 和平面文件文档的许多不同编码，如 UTF-16、UTF-8、简体中文 GBK、简体中文 GB18030 等。</span><span class="sxs-lookup"><span data-stu-id="a8e93-124"> supports many different encodings for XML and flat file documents, for example UTF-16, UTF-8, Simplified Chinese GBK, Simplified Chinese GB18030, and so on.</span></span>  
  
 <span data-ttu-id="a8e93-125">对于入站文档，[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]可以识别 XML 文档中的编码声明如"\<？ xml 版本 ="1.0"encoding ="GB2312"？\>"。</span><span class="sxs-lookup"><span data-stu-id="a8e93-125">For inbound documents, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] can recognize the encoding declaration in XML documents, such as "\<?xml version="1.0" encoding="GB2312" ?\>".</span></span> <span data-ttu-id="a8e93-126">平面文件架构具有**代码页**属性以指示传入的平面文件文档的编码。</span><span class="sxs-lookup"><span data-stu-id="a8e93-126">The flat file schema has a **Code Page** property to indicate the encoding of the inbound flat file documents.</span></span>  
  
 <span data-ttu-id="a8e93-127">对于出站文档、 XML 和平面文件汇编程序使用**目标 charset**属性。</span><span class="sxs-lookup"><span data-stu-id="a8e93-127">For outbound documents, XML and flat file assemblers use the **Target charset** property.</span></span> <span data-ttu-id="a8e93-128">如果指定了此属性，[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 会将出站文档转换为指定的字符集，而不管原始文档如何。</span><span class="sxs-lookup"><span data-stu-id="a8e93-128">If this property is specified, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] converts the outbound documents to the specified character set regardless of the original one.</span></span> <span data-ttu-id="a8e93-129">如果没有**目标 charset**设置属性、 XML 使用 utf-8 协议和平面文件使用在平面文件架构中指定的代码页。</span><span class="sxs-lookup"><span data-stu-id="a8e93-129">If no **Target charset** property is set, XML uses the UTF-8 protocol and flat files use the code page specified in the flat file schema.</span></span>  
  
 <span data-ttu-id="a8e93-130">**代码从不支持的代码页转换到的 Windows 代码页**</span><span class="sxs-lookup"><span data-stu-id="a8e93-130">**Code Conversion from an unsupported code page to a Windows code page**</span></span>  
  
 <span data-ttu-id="a8e93-131">若要实现来自不受支持的代码页的代码转换到 Windows 代码页，必须创建自定义管道组件。</span><span class="sxs-lookup"><span data-stu-id="a8e93-131">To implement code conversions from unsupported code pages into a Windows code page, you must create a custom pipeline component.</span></span>  
  
 <span data-ttu-id="a8e93-132">**对文档编码字节顺序标记影响**</span><span class="sxs-lookup"><span data-stu-id="a8e93-132">**Byte-order mark impact on document encoding**</span></span>  
  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="a8e93-133"> 确定字符编码，然后利用平面文件和 XML 消息的各自不同的特定字符编码来生成文档。</span><span class="sxs-lookup"><span data-stu-id="a8e93-133"> determines character encoding and produces documents with a particular character encoding differently for flat file and XML messages.</span></span>  
  
 <span data-ttu-id="a8e93-134">**架构编辑器可能包含多个语言中的属性**</span><span class="sxs-lookup"><span data-stu-id="a8e93-134">**Schema Editor may contain properties in more than one language**</span></span>  
  
 <span data-ttu-id="a8e93-135">在“架构编辑器属性”窗口和 XML 源代码中显示的 XML 架构定义语言 (XSD) 属性名未进行本地化，在所有本地化版本中均以英语显示。</span><span class="sxs-lookup"><span data-stu-id="a8e93-135">XML Schema Definition language (XSD) property names shown in the Schema Editor Properties window and in the XML source code are not localized, and appear in English in all localized versions.</span></span> <span data-ttu-id="a8e93-136">本地语言显示其他属性。</span><span class="sxs-lookup"><span data-stu-id="a8e93-136">Other properties are shown in the local language.</span></span> <span data-ttu-id="a8e93-137">例如，在 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 的简体中文版中，架构属性以英文显示，但其他属性以中文显示。</span><span class="sxs-lookup"><span data-stu-id="a8e93-137">For example, in the simplified Chinese version of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], the schema properties are in English, but additional properties are displayed in Chinese.</span></span>  
  
 <span data-ttu-id="a8e93-138">**平面文件中的依赖于区域设置的数据**</span><span class="sxs-lookup"><span data-stu-id="a8e93-138">**Locale-dependent data in flat files**</span></span>  
  
 <span data-ttu-id="a8e93-139">多个区域设置表示如日期、 时间、 编号和货币使用比标准的 XML 中定义这些格式的不同格式的数据。</span><span class="sxs-lookup"><span data-stu-id="a8e93-139">Many locales represent data such as date, time, number, and currency using different formats than those formats defined in the XML standard.</span></span> <span data-ttu-id="a8e93-140">例如，多个区域设置使用小数分隔符的句点 （.）、 以外，因此数五个和第三个季度可能表示为 5,75。</span><span class="sxs-lookup"><span data-stu-id="a8e93-140">For instance, several locales use a decimal separator other than a period (.), so the number five and three quarters may be represented as 5,75.</span></span>  
  
 <span data-ttu-id="a8e93-141">在 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 中，平面文件中除日期和时间之外的所有字段均作为字符串处理，这样解析才能成功。</span><span class="sxs-lookup"><span data-stu-id="a8e93-141">In [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], all fields from flat files except date and time are treated as strings, so that parsing can succeed.</span></span> <span data-ttu-id="a8e93-142">但是，当使用 XML 验证，在根据架构验证过程中失败生成的 XML 消息。</span><span class="sxs-lookup"><span data-stu-id="a8e93-142">However, when using XML validation, the resulting XML message fails during validation against the schema.</span></span>  
  
 <span data-ttu-id="a8e93-143">对于日期和时间字段，分析器试图分析到 DateTime 实例使用的自定义日期或时间格式，如果它定义，并且写入 XML 格式，或将作为字符串的原始值，如果日期或时间格式未定义的字段值。</span><span class="sxs-lookup"><span data-stu-id="a8e93-143">For date and time fields, the parser attempts to parse the field value to the DateTime instance using a custom date or time format if it is defined, and writes it in XML format, or uses the original value as a string if date or time format is not defined.</span></span> <span data-ttu-id="a8e93-144">同样，如果使用 XML 验证，生成日期或时间可能未通过验证如果不使用自定义日期或时间格式，且在平面文件消息中使用的字段值未采用正确的 XML 日期或时间格式。</span><span class="sxs-lookup"><span data-stu-id="a8e93-144">Again, if XML validation is used, the resulting date or time may fail validation if a custom date or time format is not used, and the field value used in flat file message was not in the correct XML date or time format.</span></span>  
  
 <span data-ttu-id="a8e93-145">请注意，你还可以创建自定义管道组件或更新字段值来生成有效的 XML 的映射。</span><span class="sxs-lookup"><span data-stu-id="a8e93-145">Note that you can also create custom pipeline components or maps to update field values to produce valid XML.</span></span>  
  
 <span data-ttu-id="a8e93-146">**BAM 定义语言支持**</span><span class="sxs-lookup"><span data-stu-id="a8e93-146">**BAM definition language support**</span></span>  
  
 <span data-ttu-id="a8e93-147">你可以部署的 BAM 定义 XML 文件之前，必须确保用于创建此文件的语言匹配正在部署在其的计算机的区域设置。</span><span class="sxs-lookup"><span data-stu-id="a8e93-147">Before you can deploy a BAM definition XML file, you must ensure that the language used to create this file matches the locale settings of the computer on which it is being deployed.</span></span> <span data-ttu-id="a8e93-148">如果该文件和计算机设置不匹配，你必须先重新启动运行 BM.exe 所用于的计算机。</span><span class="sxs-lookup"><span data-stu-id="a8e93-148">If the file and the computer settings dont match, you must first reboot the computer used to run the BM.exe.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="a8e93-149">除非所有语言都使用的相同的代码页或只有两种语言都包括在内并且其中一个是英语，BAM 定义 XML 文件不能包含多个语言的文本。</span><span class="sxs-lookup"><span data-stu-id="a8e93-149">The BAM definition XML file cannot contain text in multiple languages unless the languages all use the same codepage or only two languages are included and one of them is English.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a8e93-150">另请参阅</span><span class="sxs-lookup"><span data-stu-id="a8e93-150">See Also</span></span>  
 <span data-ttu-id="a8e93-151">[实现管道组件中的字符编码](../core/implementing-character-encoding-in-a-pipeline-component.md) </span><span class="sxs-lookup"><span data-stu-id="a8e93-151">[Implementing Character Encoding in a Pipeline Component](../core/implementing-character-encoding-in-a-pipeline-component.md) </span></span>  
 <span data-ttu-id="a8e93-152">[处理反汇编程序管道组件中编码](../core/handling-encoding-in-a-disassembler-pipeline-component.md) </span><span class="sxs-lookup"><span data-stu-id="a8e93-152">[Handling Encoding in a Disassembler Pipeline Component](../core/handling-encoding-in-a-disassembler-pipeline-component.md) </span></span>  
 <span data-ttu-id="a8e93-153">[平面文件反汇编程序管道组件中的字符编码](../core/character-encoding-in-the-flat-file-disassembler-pipeline-component.md) </span><span class="sxs-lookup"><span data-stu-id="a8e93-153">[Character Encoding in the Flat File Disassembler Pipeline Component](../core/character-encoding-in-the-flat-file-disassembler-pipeline-component.md) </span></span>  
 <span data-ttu-id="a8e93-154">[平面文件汇编管道组件中的字符编码](../core/character-encoding-in-the-flat-file-assembler-pipeline-component.md) </span><span class="sxs-lookup"><span data-stu-id="a8e93-154">[Character Encoding in the Flat File Assembler Pipeline Component](../core/character-encoding-in-the-flat-file-assembler-pipeline-component.md) </span></span>  
 <span data-ttu-id="a8e93-155">[XML 汇编程序管道组件中的字符编码](../core/character-encoding-in-the-xml-assembler-pipeline-component.md) </span><span class="sxs-lookup"><span data-stu-id="a8e93-155">[Character Encoding in the XML Assembler Pipeline Component](../core/character-encoding-in-the-xml-assembler-pipeline-component.md) </span></span>  
 [<span data-ttu-id="a8e93-156">XML 反汇编程序管道组件中的字符编码</span><span class="sxs-lookup"><span data-stu-id="a8e93-156">Character Encoding in XML Disassembler Pipeline Component</span></span>](../core/character-encoding-in-xml-disassembler-pipeline-component.md)