---
title: 设计 BizTalk 应用程序的国际化注意事项 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 9daaaaf7-6149-4e62-9e9b-b6356fc820d2
caps.latest.revision: 15
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 5fad9a0933409457e4f27f2f30412902f058a900
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65381718"
---
# <a name="international-considerations-for-designing-biztalk-applications"></a><span data-ttu-id="b4bba-102">设计 BizTalk 应用程序的国际化注意事项</span><span class="sxs-lookup"><span data-stu-id="b4bba-102">International Considerations for Designing BizTalk Applications</span></span>
<span data-ttu-id="b4bba-103">强烈建议您查看以下已知问题，当开发国际[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]应用程序。</span><span class="sxs-lookup"><span data-stu-id="b4bba-103">It is strongly recommended that you review the following known issues when you develop your international [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] applications.</span></span>  
  
 <span data-ttu-id="b4bba-104">**计算机名称的字符限制**</span><span class="sxs-lookup"><span data-stu-id="b4bba-104">**Character Restrictions for Machine Names**</span></span>  
  
 <span data-ttu-id="b4bba-105">安装[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]不支持在名称中包含以下字符集以外的字母的计算机上： 字母 （A-Z、 a 到 z），数字 (0-9)、 连字符 （-） 和下划线 (_)。</span><span class="sxs-lookup"><span data-stu-id="b4bba-105">Installing [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] on machines with names that contain letters outside of the following set is not supported: letters (A-Z, a-z), digits (0-9), hyphens (-), and underscores ( _ ).</span></span> <span data-ttu-id="b4bba-106">支持仅包含在此集中字母的计算机名称。</span><span class="sxs-lookup"><span data-stu-id="b4bba-106">Only machine names that contain the letters in this set are supported.</span></span>  
  
 <span data-ttu-id="b4bba-107">**字符无法正确显示，或执行操作完全未显示由于不正确的字体和字体回退设置**</span><span class="sxs-lookup"><span data-stu-id="b4bba-107">**Characters do not appear correctly or do not appear at all due to incorrect font and font fallback settings**</span></span>  
  
 <span data-ttu-id="b4bba-108">在中您可能会遇到字符 （如 Czech 字符） 显示问题[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]宿主是 Microsoft 的工具[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="b4bba-108">You may experience issues displaying characters (such as Czech characters) in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] tools hosted in Microsoft [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)].</span></span> <span data-ttu-id="b4bba-109">若要解决这些问题，可能需要修改 Visual Studio 选项选项卡中可用的字体设置，然后选择您知道支持的字符的另一种字体。</span><span class="sxs-lookup"><span data-stu-id="b4bba-109">To address these issues, you may need to modify the font settings available in the Visual Studio Options tab and select another font that you know supports the characters.</span></span> <span data-ttu-id="b4bba-110">可以选择 Tahoma 或 Microsoft Sans Serif，作为默认字体为其提供的字体回退功能。</span><span class="sxs-lookup"><span data-stu-id="b4bba-110">You can select Tahoma or Microsoft Sans Serif as the default font for which font fallback capabilities are provided.</span></span>  
  
 <span data-ttu-id="b4bba-111">**代理项对字符显示为方块在 BizTalk Server 管理控制台和其他 BizTalk Server 工具**</span><span class="sxs-lookup"><span data-stu-id="b4bba-111">**Surrogate pair characters displayed as squares in BizTalk Server Administration console and other BizTalk Server tools**</span></span>  
  
 <span data-ttu-id="b4bba-112">您可能没有可以显示在 BizTalk Server 管理控制台中的代理项对字符和其他[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]工具。</span><span class="sxs-lookup"><span data-stu-id="b4bba-112">You may not be able to display surrogate pair characters in BizTalk Server Administration Console and other [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] tools.</span></span> <span data-ttu-id="b4bba-113">代理项对是包含两个代码单元的一系列的单一抽象字符的编码的字符集表示形式。</span><span class="sxs-lookup"><span data-stu-id="b4bba-113">Surrogate pairs are a coded character representation for a single abstract character that consists of a sequence of two code units.</span></span> <span data-ttu-id="b4bba-114">请确保具有合适的字体 （它包含在中文版的 Office XP 和 2003年） 在系统上安装。</span><span class="sxs-lookup"><span data-stu-id="b4bba-114">Make sure you have the appropriate font installed on your system (it is included in the Chinese versions of Office XP and 2003).</span></span> <span data-ttu-id="b4bba-115">它还可能有必要更改字体选项中具有相应功能的工具 (如[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)])。</span><span class="sxs-lookup"><span data-stu-id="b4bba-115">It may also be necessary to change the font options in the tools that have such capability (such as [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]).</span></span>  
  
 <span data-ttu-id="b4bba-116">在没有字体设置选项的其他工具，代理项对字符将显示为方块，例如，在管理控制台。</span><span class="sxs-lookup"><span data-stu-id="b4bba-116">In other tools without a font setting option, surrogate pair characters will be displayed as squares, such as the Administration console.</span></span> <span data-ttu-id="b4bba-117">如果您看到的方块，未损坏的字符;它们只是不能正确显示由于缺乏字体支持。</span><span class="sxs-lookup"><span data-stu-id="b4bba-117">If you see squares, the characters are not corrupted; they just cannot be displayed properly because of a lack of font support.</span></span>  
  
 <span data-ttu-id="b4bba-118">**Web 服务字符限制**</span><span class="sxs-lookup"><span data-stu-id="b4bba-118">**Web Services character limitations**</span></span>  
  
 <span data-ttu-id="b4bba-119">如果计划使用业务流程发布为 Web 服务，你可能会遇到的问题在 Web 服务文件的名称 （.asmx 文件） 和 Web 服务中的虚拟目录中使用这些名称在业务流程名称和端口名称中使用的字符发布向导。</span><span class="sxs-lookup"><span data-stu-id="b4bba-119">If you plan on publishing an orchestration as a Web Service, you may encounter issues with characters used in the orchestration names and port names as those names are used in the Web Services file names (.asmx files) and the virtual directory in the Web Services Publishing Wizard.</span></span> <span data-ttu-id="b4bba-120">仅 Microsoft Internet 信息服务 (IIS) 7.0 （包含在 Microsoft Windows Server 2008 和 Windows Vista） 完全支持 Unicode 字符。</span><span class="sxs-lookup"><span data-stu-id="b4bba-120">Only Microsoft Internet Information Services (IIS) 7.0 (included in Microsoft Windows Server 2008 and Windows Vista) fully supports Unicode characters.</span></span> <span data-ttu-id="b4bba-121">因此，如果使用早期版本的 IIS 或 Windows，业务流程，名称端口、 Web 服务和虚拟目录名称必须包含仅受 Windows 的语言版本的 ANSI 字符 （例如，日语字符不是允许的英文版的 Windows 上）。</span><span class="sxs-lookup"><span data-stu-id="b4bba-121">Therefore, if you use an earlier version of IIS or Windows, the names of the orchestrations, ports, Web services and virtual directories names must include only ANSI characters supported by the language version of Windows (for example, Japanese characters are not allowed on an English version of Windows).</span></span>  
  
 <span data-ttu-id="b4bba-122">另外还要注意中的 Web 服务的项目名称[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]被限制为 ASCII 字符。</span><span class="sxs-lookup"><span data-stu-id="b4bba-122">Note also that project names for Web Services in [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] are restricted to ASCII characters.</span></span>  
  
 <span data-ttu-id="b4bba-123">**使用不同的文档的编码**</span><span class="sxs-lookup"><span data-stu-id="b4bba-123">**Working with different document encodings**</span></span>  
  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] <span data-ttu-id="b4bba-124">支持许多不同编码的 XML 和平面文件文档，例如 utf-16、 UTF-8、 简体中文 GBK、 简体中文 GB18030 等。</span><span class="sxs-lookup"><span data-stu-id="b4bba-124">supports many different encodings for XML and flat file documents, for example UTF-16, UTF-8, Simplified Chinese GBK, Simplified Chinese GB18030, and so on.</span></span>  
  
 <span data-ttu-id="b4bba-125">对于入站文档[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]可以识别 XML 文档中的编码声明，如"\<？ xml 版本"1.0"encoding ="GB2312"？\>"。</span><span class="sxs-lookup"><span data-stu-id="b4bba-125">For inbound documents, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] can recognize the encoding declaration in XML documents, such as "\<?xml version="1.0" encoding="GB2312" ?\>".</span></span> <span data-ttu-id="b4bba-126">平面文件架构有**代码页**属性以指示入站平面文件文档的编码。</span><span class="sxs-lookup"><span data-stu-id="b4bba-126">The flat file schema has a **Code Page** property to indicate the encoding of the inbound flat file documents.</span></span>  
  
 <span data-ttu-id="b4bba-127">对于出站文档、 XML 和平面文件组装器使用**目标字符集**属性。</span><span class="sxs-lookup"><span data-stu-id="b4bba-127">For outbound documents, XML and flat file assemblers use the **Target charset** property.</span></span> <span data-ttu-id="b4bba-128">如果指定此属性，则[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]将出站文档转换为指定的字符而不考虑原始设置。</span><span class="sxs-lookup"><span data-stu-id="b4bba-128">If this property is specified, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] converts the outbound documents to the specified character set regardless of the original one.</span></span> <span data-ttu-id="b4bba-129">如果没有**目标字符集**设置属性、 XML 使用 utf-8 协议，平面文件使用在平面文件架构中指定的代码页。</span><span class="sxs-lookup"><span data-stu-id="b4bba-129">If no **Target charset** property is set, XML uses the UTF-8 protocol and flat files use the code page specified in the flat file schema.</span></span>  
  
 <span data-ttu-id="b4bba-130">**从了不受支持的代码页为 Windows 代码页的代码转换**</span><span class="sxs-lookup"><span data-stu-id="b4bba-130">**Code Conversion from an unsupported code page to a Windows code page**</span></span>  
  
 <span data-ttu-id="b4bba-131">若要实现来自不受支持的代码页的代码转换到 Windows 代码页，必须创建自定义管道组件。</span><span class="sxs-lookup"><span data-stu-id="b4bba-131">To implement code conversions from unsupported code pages into a Windows code page, you must create a custom pipeline component.</span></span>  
  
 <span data-ttu-id="b4bba-132">**对文档编码的字节顺序标记影响**</span><span class="sxs-lookup"><span data-stu-id="b4bba-132">**Byte-order mark impact on document encoding**</span></span>  
  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] <span data-ttu-id="b4bba-133">确定字符编码，并生成具有特定的字符编码以不同的方式为平面文件消息和 XML 消息的文档。</span><span class="sxs-lookup"><span data-stu-id="b4bba-133">determines character encoding and produces documents with a particular character encoding differently for flat file and XML messages.</span></span>  
  
 <span data-ttu-id="b4bba-134">**架构编辑器可能包含多个语言中的属性**</span><span class="sxs-lookup"><span data-stu-id="b4bba-134">**Schema Editor may contain properties in more than one language**</span></span>  
  
 <span data-ttu-id="b4bba-135">XML 架构定义语言 (XSD) 属性名称显示在架构编辑器属性窗口和 XML 源代码中未进行本地化，并在所有本地化版本均以英语显示。</span><span class="sxs-lookup"><span data-stu-id="b4bba-135">XML Schema Definition language (XSD) property names shown in the Schema Editor Properties window and in the XML source code are not localized, and appear in English in all localized versions.</span></span> <span data-ttu-id="b4bba-136">以本地语言显示其他属性。</span><span class="sxs-lookup"><span data-stu-id="b4bba-136">Other properties are shown in the local language.</span></span> <span data-ttu-id="b4bba-137">例如，在的简体中文版[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]，架构属性是在英语中，但其他属性以中文显示。</span><span class="sxs-lookup"><span data-stu-id="b4bba-137">For example, in the simplified Chinese version of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], the schema properties are in English, but additional properties are displayed in Chinese.</span></span>  
  
 <span data-ttu-id="b4bba-138">**平面文件中的区域设置相关数据**</span><span class="sxs-lookup"><span data-stu-id="b4bba-138">**Locale-dependent data in flat files**</span></span>  
  
 <span data-ttu-id="b4bba-139">多个区域设置表示数据，例如日期、 时间、 数字和货币使用不同的格式比 XML 标准中定义这些格式。</span><span class="sxs-lookup"><span data-stu-id="b4bba-139">Many locales represent data such as date, time, number, and currency using different formats than those formats defined in the XML standard.</span></span> <span data-ttu-id="b4bba-140">例如，多个区域设置使用句点 （.）、 非十进制分隔符，因此数字五个和第三季度可能表示为 5,75。</span><span class="sxs-lookup"><span data-stu-id="b4bba-140">For instance, several locales use a decimal separator other than a period (.), so the number five and three quarters may be represented as 5,75.</span></span>  
  
 <span data-ttu-id="b4bba-141">在[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]、 所有字段从都平面文件除日期和时间被视为字符串，以便解析才能成功。</span><span class="sxs-lookup"><span data-stu-id="b4bba-141">In [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], all fields from flat files except date and time are treated as strings, so that parsing can succeed.</span></span> <span data-ttu-id="b4bba-142">但是，使用 XML 验证，生成的 XML 消息失败期间根据架构进行验证。</span><span class="sxs-lookup"><span data-stu-id="b4bba-142">However, when using XML validation, the resulting XML message fails during validation against the schema.</span></span>  
  
 <span data-ttu-id="b4bba-143">对于日期和时间字段，分析器会尝试分析到使用自定义日期或时间格式，如果它定义，并将其写入 XML 格式或使用作为字符串的原始值，如果未定义日期或时间格式的 DateTime 实例的字段值。</span><span class="sxs-lookup"><span data-stu-id="b4bba-143">For date and time fields, the parser attempts to parse the field value to the DateTime instance using a custom date or time format if it is defined, and writes it in XML format, or uses the original value as a string if date or time format is not defined.</span></span> <span data-ttu-id="b4bba-144">同样，如果使用 XML 验证，则得到的日期或时间可能未能通过验证如果不使用自定义日期或时间格式，并且使用平面文件消息中的字段值不是正确的 XML 日期或时间格式。</span><span class="sxs-lookup"><span data-stu-id="b4bba-144">Again, if XML validation is used, the resulting date or time may fail validation if a custom date or time format is not used, and the field value used in flat file message was not in the correct XML date or time format.</span></span>  
  
 <span data-ttu-id="b4bba-145">请注意，您还可以创建自定义管道组件或更新字段值以生成有效的 XML 的映射。</span><span class="sxs-lookup"><span data-stu-id="b4bba-145">Note that you can also create custom pipeline components or maps to update field values to produce valid XML.</span></span>  
  
 <span data-ttu-id="b4bba-146">**BAM 定义语言支持**</span><span class="sxs-lookup"><span data-stu-id="b4bba-146">**BAM definition language support**</span></span>  
  
 <span data-ttu-id="b4bba-147">部署 BAM 定义 XML 文件之前，必须确保用于创建此文件的语言与正在部署所在的计算机的区域设置相匹配。</span><span class="sxs-lookup"><span data-stu-id="b4bba-147">Before you can deploy a BAM definition XML file, you must ensure that the language used to create this file matches the locale settings of the computer on which it is being deployed.</span></span> <span data-ttu-id="b4bba-148">如果该文件和计算机设置不匹配，必须先重新启动用于运行 BM.exe 的计算机。</span><span class="sxs-lookup"><span data-stu-id="b4bba-148">If the file and the computer settings dont match, you must first reboot the computer used to run the BM.exe.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="b4bba-149">BAM 定义 XML 文件不能包含多个语言的文本，除非所有语言都使用同一代码页或只有两种语言都包括在内并且其中一种是英语。</span><span class="sxs-lookup"><span data-stu-id="b4bba-149">The BAM definition XML file cannot contain text in multiple languages unless the languages all use the same codepage or only two languages are included and one of them is English.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b4bba-150">请参阅</span><span class="sxs-lookup"><span data-stu-id="b4bba-150">See Also</span></span>  
 <span data-ttu-id="b4bba-151">[管道组件中实现字符编码](../core/implementing-character-encoding-in-a-pipeline-component.md) </span><span class="sxs-lookup"><span data-stu-id="b4bba-151">[Implementing Character Encoding in a Pipeline Component](../core/implementing-character-encoding-in-a-pipeline-component.md) </span></span>  
 <span data-ttu-id="b4bba-152">[处理拆装器管道组件中的编码](../core/handling-encoding-in-a-disassembler-pipeline-component.md) </span><span class="sxs-lookup"><span data-stu-id="b4bba-152">[Handling Encoding in a Disassembler Pipeline Component](../core/handling-encoding-in-a-disassembler-pipeline-component.md) </span></span>  
 <span data-ttu-id="b4bba-153">[平面文件拆装器管道组件中的字符编码](../core/character-encoding-in-the-flat-file-disassembler-pipeline-component.md) </span><span class="sxs-lookup"><span data-stu-id="b4bba-153">[Character Encoding in the Flat File Disassembler Pipeline Component](../core/character-encoding-in-the-flat-file-disassembler-pipeline-component.md) </span></span>  
 <span data-ttu-id="b4bba-154">[平面文件组装器管道组件中的字符编码](../core/character-encoding-in-the-flat-file-assembler-pipeline-component.md) </span><span class="sxs-lookup"><span data-stu-id="b4bba-154">[Character Encoding in the Flat File Assembler Pipeline Component](../core/character-encoding-in-the-flat-file-assembler-pipeline-component.md) </span></span>  
 <span data-ttu-id="b4bba-155">[XML 组装器管道组件中的字符编码](../core/character-encoding-in-the-xml-assembler-pipeline-component.md) </span><span class="sxs-lookup"><span data-stu-id="b4bba-155">[Character Encoding in the XML Assembler Pipeline Component](../core/character-encoding-in-the-xml-assembler-pipeline-component.md) </span></span>  
 [<span data-ttu-id="b4bba-156">XML 反汇编程序管道组件中的字符编码</span><span class="sxs-lookup"><span data-stu-id="b4bba-156">Character Encoding in XML Disassembler Pipeline Component</span></span>](../core/character-encoding-in-xml-disassembler-pipeline-component.md)