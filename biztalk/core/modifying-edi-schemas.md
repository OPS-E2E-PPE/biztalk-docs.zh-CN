---
title: 修改 EDI 架构 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 6fa33c5e-17ca-4aaf-a1ca-1972a9bb45ac
caps.latest.revision: 24
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 3330ca9bf2b630ef71fde35b6be25386f68fd011
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65394403"
---
# <a name="modifying-edi-schemas"></a><span data-ttu-id="717d9-102">修改 EDI 架构</span><span class="sxs-lookup"><span data-stu-id="717d9-102">Modifying EDI Schemas</span></span>
<span data-ttu-id="717d9-103">您可以修改现有 EDI 架构中附带[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="717d9-103">You can modify an existing EDI schema that is shipped in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="717d9-104">在您和您的贸易合作伙伴有对标准架构的修改达成一致，并且可能已更改相关的消息实现指南 (MIG) 文件，你可以修改架构的 BizTalk 编辑器中[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="717d9-104">When you and your trading partners have agreed on modifications to standard schemas, and perhaps changed the relevant Message Implementation Guideline (MIG) file, you can modify the schemas in the BizTalk Editor in [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)].</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="717d9-105">一些架构修改 （跨字段验证和 HIPAA 子文档拆分） 涉及对 EDI 架构中批注的更改。</span><span class="sxs-lookup"><span data-stu-id="717d9-105">Some schema modifications (cross-field validation and HIPAA subdocument splitting) involve changes to the annotations in an EDI schema.</span></span> <span data-ttu-id="717d9-106">这些更改不能成为在 BizTalk 编辑器中，但可以在诸如记事本之类的文本编辑器中进行。</span><span class="sxs-lookup"><span data-stu-id="717d9-106">These changes cannot be made in BizTalk Editor, but can be made in a text editor, such as Notepad.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="717d9-107">先决条件</span><span class="sxs-lookup"><span data-stu-id="717d9-107">Prerequisites</span></span>  
 <span data-ttu-id="717d9-108">必须以成员的身份登录[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]Administrators 组。</span><span class="sxs-lookup"><span data-stu-id="717d9-108">You must be logged on as a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group.</span></span>  
  
## <a name="schema-naming-convention"></a><span data-ttu-id="717d9-109">架构命名约定</span><span class="sxs-lookup"><span data-stu-id="717d9-109">Schema Naming Convention</span></span>  
 <span data-ttu-id="717d9-110">EDI 架构由其根名称和命名空间标识。</span><span class="sxs-lookup"><span data-stu-id="717d9-110">An EDI schema is identified by its root name and its namespace.</span></span> <span data-ttu-id="717d9-111">不能部署具有相同的根名称和命名空间相同的 BizTalk 组中的两个架构。</span><span class="sxs-lookup"><span data-stu-id="717d9-111">You cannot deploy two schemas in the same BizTalk Group with the same root name and namespace.</span></span> <span data-ttu-id="717d9-112">不能修改任何 EDI 架构的根名称或将添加到的根名称，因为根名称必须包含的版本和文档中的标准命名约定的类型。</span><span class="sxs-lookup"><span data-stu-id="717d9-112">You cannot modify the root name of any EDI schema, or add to the root name, because the root name must contain the version and the document type in a standard naming convention.</span></span> <span data-ttu-id="717d9-113">因此，如果你想要部署具有相同的根名称相同的 BizTalk 组中的两个架构，则必须为每个使用不同的命名空间。</span><span class="sxs-lookup"><span data-stu-id="717d9-113">As a result, if you want to deploy two schemas in the same BizTalk Group with the same root name, you must use a different namespace for each one.</span></span>  
  
 <span data-ttu-id="717d9-114">不常见的部署在同一个 BizTalk 组中的不同版本相同的架构为两个或多个不同的贸易合作伙伴公司。</span><span class="sxs-lookup"><span data-stu-id="717d9-114">It is not uncommon for a company to deploy in the same BizTalk Group a different version of the same schema for two or more different trading partners.</span></span> <span data-ttu-id="717d9-115">在这种情况下，两个架构将具有相同的版本和文档类型相同。</span><span class="sxs-lookup"><span data-stu-id="717d9-115">In this case, the two schemas would have the same version and the same document type.</span></span> <span data-ttu-id="717d9-116">若要部署这两个架构，必须具有不同的命名空间为每个架构。</span><span class="sxs-lookup"><span data-stu-id="717d9-116">To deploy these two schemas, you would have to have different namespaces for each schema.</span></span>  
  
## <a name="edi-schema-changes"></a><span data-ttu-id="717d9-117">EDI 架构更改</span><span class="sxs-lookup"><span data-stu-id="717d9-117">EDI Schema Changes</span></span>  
 <span data-ttu-id="717d9-118">可以对 EDI 架构中进行以下更改[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="717d9-118">You can make the following changes to an EDI schema in [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]:</span></span>  
  
|<span data-ttu-id="717d9-119">执行的操作</span><span class="sxs-lookup"><span data-stu-id="717d9-119">To do this</span></span>|<span data-ttu-id="717d9-120">操作</span><span class="sxs-lookup"><span data-stu-id="717d9-120">Do this</span></span>|  
|----------------|-------------|  
|<span data-ttu-id="717d9-121">更改枚举</span><span class="sxs-lookup"><span data-stu-id="717d9-121">Change an enumeration</span></span><br /><br /> <span data-ttu-id="717d9-122">（例如代码列表中的值列表）</span><span class="sxs-lookup"><span data-stu-id="717d9-122">(such as the list of values in a code list)</span></span>|<span data-ttu-id="717d9-123">在属性元素中，打开**枚举编辑器**和添加值，或从枚举列表中删除一个值。</span><span class="sxs-lookup"><span data-stu-id="717d9-123">In the properties for an element, open the **Enumeration Editor** and add a value to, or delete a value from, the enumeration list.</span></span>|  
|<span data-ttu-id="717d9-124">更改数据元素的可选性</span><span class="sxs-lookup"><span data-stu-id="717d9-124">Change the optionality of a data element</span></span>|<span data-ttu-id="717d9-125">更改**最小出现次数**属性。</span><span class="sxs-lookup"><span data-stu-id="717d9-125">Change the **Min Occurs** property.</span></span> <span data-ttu-id="717d9-126">将其更改为 0，以使字段成为可选或为 1，以使它所必需。</span><span class="sxs-lookup"><span data-stu-id="717d9-126">Change it to 0 to make the field optional or to 1 to make it required.</span></span>|  
|<span data-ttu-id="717d9-127">更改数据元素可以出现在文件最大次数</span><span class="sxs-lookup"><span data-stu-id="717d9-127">Change the maximum number of times that a data element can appear in the file</span></span>|<span data-ttu-id="717d9-128">更改**Max Occurs**属性。</span><span class="sxs-lookup"><span data-stu-id="717d9-128">Change the **Max Occurs** property.</span></span>|  
|<span data-ttu-id="717d9-129">更改数据元素中的字符数</span><span class="sxs-lookup"><span data-stu-id="717d9-129">Change the number of characters in the data element</span></span>|<span data-ttu-id="717d9-130">更改**长度**属性。</span><span class="sxs-lookup"><span data-stu-id="717d9-130">Change the **Length** property.</span></span>|  
|<span data-ttu-id="717d9-131">更改数据元素的数据类型</span><span class="sxs-lookup"><span data-stu-id="717d9-131">Change the data type of a data element</span></span>|<span data-ttu-id="717d9-132">更改**Base Data Type**或**日期类型**属性。</span><span class="sxs-lookup"><span data-stu-id="717d9-132">Change the **Base Data Type** or **Date Type** property.</span></span>|  
|<span data-ttu-id="717d9-133">添加自定义字段</span><span class="sxs-lookup"><span data-stu-id="717d9-133">Add a custom field</span></span>|<span data-ttu-id="717d9-134">将插入一个子字段元素架构节点并设置其属性。</span><span class="sxs-lookup"><span data-stu-id="717d9-134">Insert a child field element schema node and set its properties.</span></span> <span data-ttu-id="717d9-135">**注意：** 不允许将子字段属性添加到 EDI 架构中的记录，因为将无法保证元素的顺序。</span><span class="sxs-lookup"><span data-stu-id="717d9-135">**Note:**  Adding a child field attribute to a record in an EDI schema is not allowed, because the sequence of the elements would not be guaranteed.</span></span> <span data-ttu-id="717d9-136">尝试添加子字段属性将导致无效架构。</span><span class="sxs-lookup"><span data-stu-id="717d9-136">Trying to add a child field attribute results in an invalid schema.</span></span> <span data-ttu-id="717d9-137">仅可以将子字段元素添加到 EDI 架构中的记录。</span><span class="sxs-lookup"><span data-stu-id="717d9-137">You can only add a child field element to a record in an EDI schema.</span></span>|  
|<span data-ttu-id="717d9-138">添加自定义记录</span><span class="sxs-lookup"><span data-stu-id="717d9-138">Add a custom record</span></span>|<span data-ttu-id="717d9-139">插入子记录架构节点、 设置其属性，以及如何将子字段元素。</span><span class="sxs-lookup"><span data-stu-id="717d9-139">Insert a child record schema node, set its properties, and then add child field elements.</span></span>|  
|<span data-ttu-id="717d9-140">删除自定义字段或记录</span><span class="sxs-lookup"><span data-stu-id="717d9-140">Delete a custom field or record</span></span>|<span data-ttu-id="717d9-141">删除自定义字段或自定义记录及其子字段元素。</span><span class="sxs-lookup"><span data-stu-id="717d9-141">Delete a custom field or a custom record with its child field elements.</span></span>|  
|<span data-ttu-id="717d9-142">启用跨字段验证</span><span class="sxs-lookup"><span data-stu-id="717d9-142">Enable cross-field validation</span></span>|<span data-ttu-id="717d9-143">在架构的 appinfo 部分批注中设置的跨字段验证标志**是**。</span><span class="sxs-lookup"><span data-stu-id="717d9-143">Set the cross-field validation flag in the annotation in the appinfo section of the schema to **Yes**.</span></span> <span data-ttu-id="717d9-144">此标志为**X12ConditionDesignator_Check** （对于 X12 或 HIPAA 架构） 或**EdifactDependencyRule_Check** （针对 EDIFACT 架构）。</span><span class="sxs-lookup"><span data-stu-id="717d9-144">This flag is either **X12ConditionDesignator_Check** (for X12 or HIPAA schemas) or **EdifactDependencyRule_Check** (for EDIFACT schemas).</span></span><br /><br /> <span data-ttu-id="717d9-145">通过指定关系条件 （x12 和 HIPAA） 或依赖规则 (EDIFACT) 中启用跨字段验证特定元素。</span><span class="sxs-lookup"><span data-stu-id="717d9-145">Enable cross-field validation for a specific element by specifying the relational conditions (X12 and HIPAA) or dependency rules (EDIFACT).</span></span> <span data-ttu-id="717d9-146">有关详细信息，请参阅[配置跨字段验证](../core/configuring-cross-field-validation.md)。</span><span class="sxs-lookup"><span data-stu-id="717d9-146">For more information, see [Configuring Cross-Field Validation](../core/configuring-cross-field-validation.md).</span></span><br /><br /> <span data-ttu-id="717d9-147">此外需要设置**Edi 类型验证**属性设置为**是**。</span><span class="sxs-lookup"><span data-stu-id="717d9-147">You also need to set the **Edi type validation** property to **yes**.</span></span><br /><br /> <span data-ttu-id="717d9-148">默认情况下，对于 HIPAA 架构启用跨字段验证。</span><span class="sxs-lookup"><span data-stu-id="717d9-148">Cross-field validation is enabled by default for HIPAA schemas.</span></span>|  
|<span data-ttu-id="717d9-149">启用 HIPAA 子文档拆分</span><span class="sxs-lookup"><span data-stu-id="717d9-149">Enable HIPAA subdocument splitting</span></span>|<span data-ttu-id="717d9-150">在其中一个可以设置子文档拆分的 HIPAA 架构中，设置**subdocument_break**并**Split_Without_Sibling_Data**到该架构属性**是**并**subdocument_creation_break**到架构中的特定元素的属性**是**。</span><span class="sxs-lookup"><span data-stu-id="717d9-150">In one of the HIPAA schemas that you can set subdocument splitting in, set the **subdocument_break** and **Split_Without_Sibling_Data** properties for the schema to **yes** and the **subdocument_creation_break** property for a specific element in the schema to **yes**.</span></span><br /><br /> <span data-ttu-id="717d9-151">此外需要设置**入站批处理选项**协议属性设置为**交换拆分为事务集**。</span><span class="sxs-lookup"><span data-stu-id="717d9-151">You also need to set the **Inbound batch processing option** agreement property to **Split Interchange as Transaction Sets**.</span></span><br /><br /> <span data-ttu-id="717d9-152">有关详细信息，请参阅[拆分 HIPAA 子文档](../core/splitting-hipaa-subdocuments.md)。</span><span class="sxs-lookup"><span data-stu-id="717d9-152">For more information, see [Splitting HIPAA Subdocuments](../core/splitting-hipaa-subdocuments.md).</span></span>|  
|<span data-ttu-id="717d9-153">向 HIPAA 文档添加触发器字段</span><span class="sxs-lookup"><span data-stu-id="717d9-153">Add trigger fields to a HIPAA document</span></span>|<span data-ttu-id="717d9-154">您可以允许 EDI 拆装器以便创建段的 HIPAA 文档中，根据限定元素称为触发器字段的唯一 XML 记录。</span><span class="sxs-lookup"><span data-stu-id="717d9-154">You can allow the EDI disassembler to create unique XML records for a segment of your HIPAA document, based on a qualifying element known as a trigger field.</span></span> <span data-ttu-id="717d9-155">必须指定描述段和触发器值，以便为该段创建唯一 XML 记录的属性。</span><span class="sxs-lookup"><span data-stu-id="717d9-155">You must specify the attributes that describe the segment and the trigger value so a unique XML record is created for the segment.</span></span> <span data-ttu-id="717d9-156">有关详细信息，请参阅[HIPAA 架构触发器字段批注](../core/hipaa-schema-trigger-field-annotations.md)。</span><span class="sxs-lookup"><span data-stu-id="717d9-156">For more information, see [HIPAA Schema Trigger Field Annotations](../core/hipaa-schema-trigger-field-annotations.md).</span></span>|  
|<span data-ttu-id="717d9-157">将一个段添加到 X12 事务集</span><span class="sxs-lookup"><span data-stu-id="717d9-157">Add a segment to an X12 transaction set</span></span>|<span data-ttu-id="717d9-158">当将一个新段添加到 X12 事务集段名称的前三个字符用作段标识符。</span><span class="sxs-lookup"><span data-stu-id="717d9-158">When you add a new segment to an X12 transaction set, the first three characters of the segment name are used as the segment identifier.</span></span> <span data-ttu-id="717d9-159">因此，我们建议您命名分段，从而使前三个字符都唯一。</span><span class="sxs-lookup"><span data-stu-id="717d9-159">Hence, we recommend that you name a segment such that the first three characters are unique.</span></span>|  
|<span data-ttu-id="717d9-160">向 HIPAA 事务集添加循环</span><span class="sxs-lookup"><span data-stu-id="717d9-160">Add a loop to a HIPAA transaction set</span></span>|<span data-ttu-id="717d9-161">在向 HIPAA 事务集添加一个新的循环，我们建议命名循环在名称中包括"Loop"。</span><span class="sxs-lookup"><span data-stu-id="717d9-161">When you add a new loop to a HIPAA transaction set, we recommend naming the loop to include “Loop” within the name.</span></span> <span data-ttu-id="717d9-162">循环的示例格式为"TS837_2010AB_Loop"。</span><span class="sxs-lookup"><span data-stu-id="717d9-162">An example format for a loop is “TS837_2010AB_Loop”.</span></span> <span data-ttu-id="717d9-163">**注意：** 在循环中的第一个段是必需的 （段的 minOccurs 必须等于 1） 以避免混乱。</span><span class="sxs-lookup"><span data-stu-id="717d9-163">**Note:**  The first segment in a loop is mandatory (minOccurs of the segment must be equal to 1) in order to avoid ambiguity.</span></span>|  
|<span data-ttu-id="717d9-164">向 HIPAA 事务集添加任何顺序循环</span><span class="sxs-lookup"><span data-stu-id="717d9-164">Add an ‘any order loop’ to a HIPAA transaction set</span></span>|<span data-ttu-id="717d9-165">当事务集具有不同语义的等效分段时，您必须在 SubLoop 中定义它们。</span><span class="sxs-lookup"><span data-stu-id="717d9-165">When a transaction set has equivalent segments with different semantics, you must define them in a SubLoop.</span></span> <span data-ttu-id="717d9-166">使用 XML 批注的 SubLoop \<xs: all\>允许等效分段以任何顺序出现。</span><span class="sxs-lookup"><span data-stu-id="717d9-166">A SubLoop with XML annotation of \<xs:all\> allows equivalent segments to occur in any order.</span></span><br /><br /> <span data-ttu-id="717d9-167">我们建议您命名任何顺序循环在循环名称中包含"SubLoop"。</span><span class="sxs-lookup"><span data-stu-id="717d9-167">We recommend that you name an ‘any order loop’ to include “SubLoop” in the loop name.</span></span> <span data-ttu-id="717d9-168">示例格式为"TS837Q1_2010A_SubLoop"**注意：** 任何顺序循环的元素在循环中必须仅出现一次。</span><span class="sxs-lookup"><span data-stu-id="717d9-168">An example format is “TS837Q1_2010A_SubLoop” **Note:**  The elements of an any order loop must only occur once within the loop.</span></span> <span data-ttu-id="717d9-169">同级 SubLoop 必须设置为 1，以避免混乱的 maxOccurs。</span><span class="sxs-lookup"><span data-stu-id="717d9-169">The siblings of a SubLoop must have a maxOccurs set to 1, in order to avoid ambiguity.</span></span>|  
  
### <a name="to-modify-an-existing-edi-schema-in-biztalk-editor"></a><span data-ttu-id="717d9-170">若要修改现有 EDI 架构在 BizTalk 编辑器中</span><span class="sxs-lookup"><span data-stu-id="717d9-170">To modify an existing EDI schema in BizTalk Editor</span></span>  
  
1. <span data-ttu-id="717d9-171">在[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]，添加你想要修改为一个项目并在 BizTalk 编辑器中打开该架构的架构。</span><span class="sxs-lookup"><span data-stu-id="717d9-171">In [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], add the schema that you want to modify to a project and open the schema in BizTalk Editor.</span></span>  
  
   > [!NOTE]
   >  <span data-ttu-id="717d9-172">可以以图形方式显示该架构，通过单击**EDI**架构编辑器屏幕底部的选项卡。</span><span class="sxs-lookup"><span data-stu-id="717d9-172">You can display the schema in graphical form by clicking the **EDI** tab at the bottom of the Schema Editor screen.</span></span> <span data-ttu-id="717d9-173">它是架构的更轻松地导航使用此表格格式的节点。</span><span class="sxs-lookup"><span data-stu-id="717d9-173">It is much easier to navigate the nodes of the schema using this tabular format.</span></span>  
  
2. <span data-ttu-id="717d9-174">若要更改数据元素或记录的属性，单击左窗格中的 BizTalk 编辑器中的相应节点和属性窗口中更改其属性。</span><span class="sxs-lookup"><span data-stu-id="717d9-174">To change the properties of a data element or record, click the appropriate node in the left pane of BizTalk Editor and change its properties in the Properties window.</span></span>  
  
3. <span data-ttu-id="717d9-175">若要更改枚举中的值，请选择中的枚举**属性**窗格中，然后单击省略号以打开**枚举编辑器**。</span><span class="sxs-lookup"><span data-stu-id="717d9-175">To change the values in an enumeration, select the enumeration in the **Properties** pane, and then click the ellipsis to open the **Enumeration Editor**.</span></span> <span data-ttu-id="717d9-176">将添加到或根据需要确保在每行一个值，从列表中的值，删除**值**窗格。</span><span class="sxs-lookup"><span data-stu-id="717d9-176">Add to or delete from the list of values, as needed, ensuring that there is one value on each line in the **Values** pane.</span></span> <span data-ttu-id="717d9-177">单击“确定” 。</span><span class="sxs-lookup"><span data-stu-id="717d9-177">Click **OK**.</span></span>  
  
4. <span data-ttu-id="717d9-178">若要将自定义字段添加到架构中，右键单击 BizTalk 编辑器的控制台树中的记录节点，指向**插入 Schema 节点**，然后单击**子字段元素**。</span><span class="sxs-lookup"><span data-stu-id="717d9-178">To add a custom field to the schema, right-click a record node in the console tree of BizTalk Editor, point to **Insert Schema Node**, and click **Child Field Element**.</span></span> <span data-ttu-id="717d9-179">命名该数据元素，并将数据元素应用到记录中的相应位置。</span><span class="sxs-lookup"><span data-stu-id="717d9-179">Name the data element, and then drag the data element to the appropriate position in the record.</span></span> <span data-ttu-id="717d9-180">根据需要设置自定义字段属性的属性。</span><span class="sxs-lookup"><span data-stu-id="717d9-180">Set the properties for the custom field properties as required.</span></span>  
  
   > [!NOTE]
   >  <span data-ttu-id="717d9-181">不允许将子字段属性添加到 EDI 架构中的记录，因为将无法保证元素的顺序。</span><span class="sxs-lookup"><span data-stu-id="717d9-181">Adding a child field attribute to a record in an EDI schema is not allowed, because the sequence of the elements would not be guaranteed.</span></span> <span data-ttu-id="717d9-182">尝试添加子字段属性将导致无效架构。</span><span class="sxs-lookup"><span data-stu-id="717d9-182">Trying to add a child field attribute results in an invalid schema.</span></span>  
  
5. <span data-ttu-id="717d9-183">若要将自定义记录添加到架构中，右键单击控制台树中的架构编辑器中的记录节点，指向**插入 Schema 节点**，然后单击**子记录**。</span><span class="sxs-lookup"><span data-stu-id="717d9-183">To add a custom record to the schema, right-click a record node in the console tree of Schema Editor, point to **Insert Schema Node**, and then click **Child Record**.</span></span> <span data-ttu-id="717d9-184">命名该记录，然后将该记录拖至架构中的相应位置。</span><span class="sxs-lookup"><span data-stu-id="717d9-184">Name the record, and then drag the record to the appropriate position in the schema.</span></span> <span data-ttu-id="717d9-185">将至少一个数据元素添加到该记录。</span><span class="sxs-lookup"><span data-stu-id="717d9-185">Add at least one data element to the record.</span></span> <span data-ttu-id="717d9-186">根据需要设置自定义记录的属性。</span><span class="sxs-lookup"><span data-stu-id="717d9-186">Set the properties for the custom record as required.</span></span>  
  
6. <span data-ttu-id="717d9-187">对架构进行所需的更改之后, 你可以单击根节点适用于架构属性的目标命名空间 (\<架构\>)，然后更改**Target Namespace**属性。</span><span class="sxs-lookup"><span data-stu-id="717d9-187">After making the desired changes to the schema, you can change the target namespace that applies to the schema property by clicking the root node (\<Schema\>) and then changing the **Target Namespace** property.</span></span>  
  
7. <span data-ttu-id="717d9-188">保存该架构。</span><span class="sxs-lookup"><span data-stu-id="717d9-188">Save the schema.</span></span>  
  
8. <span data-ttu-id="717d9-189">通过右键单击解决方案资源管理器中的架构，并单击验证架构**验证架构**。</span><span class="sxs-lookup"><span data-stu-id="717d9-189">Validate the schema by right-clicking the schema in Solution Explorer and clicking **Validate Schema**.</span></span>  
  
   > [!NOTE]
   >  <span data-ttu-id="717d9-190">**验证架构**命令将验证 EDI 架构，因为**架构编辑器扩展**属性的根节点 (\<架构\>) 设置为**EDI架构编辑器扩展**。</span><span class="sxs-lookup"><span data-stu-id="717d9-190">The **Validate Schema** command will validate the EDI schema because the **Schema Editor Extension** property of the root node (\<Schema\>) is set to **EDI Schema Editor Extension**.</span></span>  
  
### <a name="to-modify-annotation-properties-in-an-existing-edi-schema"></a><span data-ttu-id="717d9-191">若要修改现有 EDI 架构中的批注属性</span><span class="sxs-lookup"><span data-stu-id="717d9-191">To modify annotation properties in an existing EDI schema</span></span>  
  
1.  <span data-ttu-id="717d9-192">在诸如记事本之类的文本编辑器中打开该架构。</span><span class="sxs-lookup"><span data-stu-id="717d9-192">Open the schema in a text editor such as Notepad.</span></span>  
  
2.  <span data-ttu-id="717d9-193">若要启用跨字段验证，继续执行，如下所示。</span><span class="sxs-lookup"><span data-stu-id="717d9-193">To enable cross-field validation, proceed as follows.</span></span> <span data-ttu-id="717d9-194">有关详细信息，请参阅[配置跨字段验证](../core/configuring-cross-field-validation.md)。</span><span class="sxs-lookup"><span data-stu-id="717d9-194">For more information, see [Configuring Cross-Field Validation](../core/configuring-cross-field-validation.md).</span></span>  
  
    1.  <span data-ttu-id="717d9-195">在架构顶部的 appinfo 批注中，将设置跨字段验证标志 (任一**X12ConditionDesignator_Check**针对 X12 或 HIPAA 架构或**EdifactDependencyRule_Check**对于 EDIFACT架构） 到**是**。</span><span class="sxs-lookup"><span data-stu-id="717d9-195">In the appinfo annotation at the top of the schema, set the cross-field validation flag (either **X12ConditionDesignator_Check** for X12 or HIPAA schemas or **EdifactDependencyRule_Check** for EDIFACT schemas) to **Yes**.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="717d9-196">跨字段验证标志**是**默认情况下为 BizTalk Server HIPAA 架构。</span><span class="sxs-lookup"><span data-stu-id="717d9-196">The cross-field validation flag is **Yes** by default for BizTalk Server HIPAA schemas.</span></span>  
  
    2.  <span data-ttu-id="717d9-197">在特定元素的批注，指定关系条件 (X 12 或 HIPAA） 或依赖规则 (EDIFACT) 的元素。</span><span class="sxs-lookup"><span data-stu-id="717d9-197">In the annotation for a specific element, specify the relational conditions (X12 or HIPAA) or dependency rules (EDIFACT) for the element.</span></span> <span data-ttu-id="717d9-198">有关这些设置的详细信息，请参阅[跨字段-段验证](../core/cross-field-segment-validation.md)。</span><span class="sxs-lookup"><span data-stu-id="717d9-198">For more information about these settings, see [Cross Field-Segment Validation](../core/cross-field-segment-validation.md).</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="717d9-199">在中**验证**页 (下**事务集设置**部分) 的单向协议选项卡**协议属性**相关协议的对话框请确保**EDI 类型验证**选择属性。</span><span class="sxs-lookup"><span data-stu-id="717d9-199">In the **Validation** page (under the **Transaction Set Settings** section) of the one-way agreement tab of the **Agreement Properties** dialog box for relevant agreement, make sure that the **EDI type Validation** property is selected.</span></span>  
  
3.  <span data-ttu-id="717d9-200">若要启用 HIPAA 子文档拆分，继续执行，如下所示。</span><span class="sxs-lookup"><span data-stu-id="717d9-200">To enable HIPAA subdocument splitting, proceed as follows.</span></span> <span data-ttu-id="717d9-201">有关详细信息，请参阅[拆分 HIPAA 子文档](../core/splitting-hipaa-subdocuments.md)。</span><span class="sxs-lookup"><span data-stu-id="717d9-201">For more information, see [Splitting HIPAA Subdocuments](../core/splitting-hipaa-subdocuments.md).</span></span>  
  
    1.  <span data-ttu-id="717d9-202">在架构顶部的 appinfo 批注中，设置**subdocument_break**并**Split_Without_Sibling_Data**到标志**是**。</span><span class="sxs-lookup"><span data-stu-id="717d9-202">In the appinfo annotation at the top of the schema, set the **subdocument_break** and **Split_Without_Sibling_Data** flags to **yes**.</span></span>  
  
    2.  <span data-ttu-id="717d9-203">中的特定元素的 appinfo 批注，请参阅**subdocument_creation_break**标记，用于**是**。</span><span class="sxs-lookup"><span data-stu-id="717d9-203">In the appinfo annotation for a specific element, see the **subdocument_creation_break** flag to **yes**.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="717d9-204">在中**本地主机设置**页 (下**交换设置**部分) 的单向协议选项卡**协议属性**为相关的对话框协议，请确保**入站批处理选项**属性设置为**交换拆分为事务集**。</span><span class="sxs-lookup"><span data-stu-id="717d9-204">In the **Local Host Settings** page (under the **Interchange Settings** section) of the one-way agreement tab of the **Agreement Properties** dialog box for the relevant agreement, make sure that the **Inbound batch processing option** property is set to **Split Interchange as Transaction Sets**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="717d9-205">请参阅</span><span class="sxs-lookup"><span data-stu-id="717d9-205">See Also</span></span>  
 [<span data-ttu-id="717d9-206">开发 EDI 架构</span><span class="sxs-lookup"><span data-stu-id="717d9-206">Developing EDI Schemas</span></span>](../core/developing-edi-schemas.md)