---
title: "修改 EDI 架构 |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 6fa33c5e-17ca-4aaf-a1ca-1972a9bb45ac
caps.latest.revision: "24"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: de196288f3f1d4475e6859e2440e4b03b1e521dc
ms.sourcegitcommit: 3fc338e52d5dbca2c3ea1685a2faafc7582fe23a
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 12/01/2017
---
# <a name="modifying-edi-schemas"></a><span data-ttu-id="32526-102">修改 EDI 架构</span><span class="sxs-lookup"><span data-stu-id="32526-102">Modifying EDI Schemas</span></span>
<span data-ttu-id="32526-103">您可以修改 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 附带的现有 EDI 架构。</span><span class="sxs-lookup"><span data-stu-id="32526-103">You can modify an existing EDI schema that is shipped in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="32526-104">如果您和您的贸易合作伙伴对标准架构的修改达成一致，并且可能已更改相关的消息实现指南 (MIG) 文件，则可在 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 的 BizTalk 编辑器中修改架构。</span><span class="sxs-lookup"><span data-stu-id="32526-104">When you and your trading partners have agreed on modifications to standard schemas, and perhaps changed the relevant Message Implementation Guideline (MIG) file, you can modify the schemas in the BizTalk Editor in [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)].</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="32526-105">一些架构修改（跨字段验证和 HIPAA 子文档拆分）包含对 EDI 架构中批注的更改。</span><span class="sxs-lookup"><span data-stu-id="32526-105">Some schema modifications (cross-field validation and HIPAA subdocument splitting) involve changes to the annotations in an EDI schema.</span></span> <span data-ttu-id="32526-106">这些更改无法在 BizTalk 编辑器中完成，但可以在文本编辑器（例如记事本）中完成。</span><span class="sxs-lookup"><span data-stu-id="32526-106">These changes cannot be made in BizTalk Editor, but can be made in a text editor, such as Notepad.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="32526-107">先决条件</span><span class="sxs-lookup"><span data-stu-id="32526-107">Prerequisites</span></span>  
 <span data-ttu-id="32526-108">你必须以 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理员组成员的身份登录。</span><span class="sxs-lookup"><span data-stu-id="32526-108">You must be logged on as a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group.</span></span>  
  
## <a name="schema-naming-convention"></a><span data-ttu-id="32526-109">架构命名约定</span><span class="sxs-lookup"><span data-stu-id="32526-109">Schema Naming Convention</span></span>  
 <span data-ttu-id="32526-110">EDI 架构通过其根名称和命名空间进行标识。</span><span class="sxs-lookup"><span data-stu-id="32526-110">An EDI schema is identified by its root name and its namespace.</span></span> <span data-ttu-id="32526-111">您不能使用相同的根名称和命名空间将两个架构部署在同一个 BizTalk 组中。</span><span class="sxs-lookup"><span data-stu-id="32526-111">You cannot deploy two schemas in the same BizTalk Group with the same root name and namespace.</span></span> <span data-ttu-id="32526-112">您不能修改任何 EDI 架构的根名称或向根名称添加内容，因为根名称必须包含符合标准命名约定的版本和文档类型。</span><span class="sxs-lookup"><span data-stu-id="32526-112">You cannot modify the root name of any EDI schema, or add to the root name, because the root name must contain the version and the document type in a standard naming convention.</span></span> <span data-ttu-id="32526-113">因此，如果您希望使用相同的根名称将两个架构部署在同一个 BizTalk 组中，则必须为每个架构使用不同的命名空间。</span><span class="sxs-lookup"><span data-stu-id="32526-113">As a result, if you want to deploy two schemas in the same BizTalk Group with the same root name, you must use a different namespace for each one.</span></span>  
  
 <span data-ttu-id="32526-114">对于公司而言，为两个或更多个不同的贸易合作伙伴将同一架构的不同版本部署在同一个 BizTalk 组中的情况并不少见。</span><span class="sxs-lookup"><span data-stu-id="32526-114">It is not uncommon for a company to deploy in the same BizTalk Group a different version of the same schema for two or more different trading partners.</span></span> <span data-ttu-id="32526-115">在这种情况下，两个架构将具有相同的版本和相同的文档类型。</span><span class="sxs-lookup"><span data-stu-id="32526-115">In this case, the two schemas would have the same version and the same document type.</span></span> <span data-ttu-id="32526-116">若要部署这两个架构，每个架构必须具有不同的命名空间。</span><span class="sxs-lookup"><span data-stu-id="32526-116">To deploy these two schemas, you would have to have different namespaces for each schema.</span></span>  
  
## <a name="edi-schema-changes"></a><span data-ttu-id="32526-117">EDI 架构更改</span><span class="sxs-lookup"><span data-stu-id="32526-117">EDI Schema Changes</span></span>  
 <span data-ttu-id="32526-118">您可以在 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 中对 EDI 架构进行以下更改：</span><span class="sxs-lookup"><span data-stu-id="32526-118">You can make the following changes to an EDI schema in [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]:</span></span>  
  
|<span data-ttu-id="32526-119">执行的操作</span><span class="sxs-lookup"><span data-stu-id="32526-119">To do this</span></span>|<span data-ttu-id="32526-120">操作</span><span class="sxs-lookup"><span data-stu-id="32526-120">Do this</span></span>|  
|----------------|-------------|  
|<span data-ttu-id="32526-121">更改枚举</span><span class="sxs-lookup"><span data-stu-id="32526-121">Change an enumeration</span></span><br /><br /> <span data-ttu-id="32526-122">（例如，代码列表中的值列表）</span><span class="sxs-lookup"><span data-stu-id="32526-122">(such as the list of values in a code list)</span></span>|<span data-ttu-id="32526-123">中的元素的属性中，打开**枚举编辑器**并添加一个值，或从枚举列表中删除值。</span><span class="sxs-lookup"><span data-stu-id="32526-123">In the properties for an element, open the **Enumeration Editor** and add a value to, or delete a value from, the enumeration list.</span></span>|  
|<span data-ttu-id="32526-124">更改数据元素的可选性</span><span class="sxs-lookup"><span data-stu-id="32526-124">Change the optionality of a data element</span></span>|<span data-ttu-id="32526-125">更改**最小出现次数**属性。</span><span class="sxs-lookup"><span data-stu-id="32526-125">Change the **Min Occurs** property.</span></span> <span data-ttu-id="32526-126">将其更改为 0 可使字段成为可选字段；将其更改为 1 可使字段成为必需字段。</span><span class="sxs-lookup"><span data-stu-id="32526-126">Change it to 0 to make the field optional or to 1 to make it required.</span></span>|  
|<span data-ttu-id="32526-127">更改数据元素可以在文件中出现的最大次数</span><span class="sxs-lookup"><span data-stu-id="32526-127">Change the maximum number of times that a data element can appear in the file</span></span>|<span data-ttu-id="32526-128">更改**Max Occurs**属性。</span><span class="sxs-lookup"><span data-stu-id="32526-128">Change the **Max Occurs** property.</span></span>|  
|<span data-ttu-id="32526-129">更改数据元素中的字符数</span><span class="sxs-lookup"><span data-stu-id="32526-129">Change the number of characters in the data element</span></span>|<span data-ttu-id="32526-130">更改**长度**属性。</span><span class="sxs-lookup"><span data-stu-id="32526-130">Change the **Length** property.</span></span>|  
|<span data-ttu-id="32526-131">更改数据元素的数据类型</span><span class="sxs-lookup"><span data-stu-id="32526-131">Change the data type of a data element</span></span>|<span data-ttu-id="32526-132">更改**基数据类型**或**日期类型**属性。</span><span class="sxs-lookup"><span data-stu-id="32526-132">Change the **Base Data Type** or **Date Type** property.</span></span>|  
|<span data-ttu-id="32526-133">添加自定义字段</span><span class="sxs-lookup"><span data-stu-id="32526-133">Add a custom field</span></span>|<span data-ttu-id="32526-134">插入一个子字段元素架构节点并设置其属性。</span><span class="sxs-lookup"><span data-stu-id="32526-134">Insert a child field element schema node and set its properties.</span></span> <span data-ttu-id="32526-135">**注意：**将子字段特性添加到 EDI 架构中的记录不允许的因为将不能保证元素的序列。</span><span class="sxs-lookup"><span data-stu-id="32526-135">**Note:**  Adding a child field attribute to a record in an EDI schema is not allowed, because the sequence of the elements would not be guaranteed.</span></span> <span data-ttu-id="32526-136">尝试添加子字段属性将导致无效架构。</span><span class="sxs-lookup"><span data-stu-id="32526-136">Trying to add a child field attribute results in an invalid schema.</span></span> <span data-ttu-id="32526-137">只能将子字段元素添加到 EDI 架构的记录中。</span><span class="sxs-lookup"><span data-stu-id="32526-137">You can only add a child field element to a record in an EDI schema.</span></span>|  
|<span data-ttu-id="32526-138">添加自定义记录</span><span class="sxs-lookup"><span data-stu-id="32526-138">Add a custom record</span></span>|<span data-ttu-id="32526-139">插入一个子记录架构节点并设置其属性，然后添加子字段元素。</span><span class="sxs-lookup"><span data-stu-id="32526-139">Insert a child record schema node, set its properties, and then add child field elements.</span></span>|  
|<span data-ttu-id="32526-140">删除自定义字段或记录</span><span class="sxs-lookup"><span data-stu-id="32526-140">Delete a custom field or record</span></span>|<span data-ttu-id="32526-141">删除自定义字段或自定义记录及其子字段元素。</span><span class="sxs-lookup"><span data-stu-id="32526-141">Delete a custom field or a custom record with its child field elements.</span></span>|  
|<span data-ttu-id="32526-142">启用跨字段验证</span><span class="sxs-lookup"><span data-stu-id="32526-142">Enable cross-field validation</span></span>|<span data-ttu-id="32526-143">批注中的架构的 appinfo 部分中设置跨字段验证标志**是**。</span><span class="sxs-lookup"><span data-stu-id="32526-143">Set the cross-field validation flag in the annotation in the appinfo section of the schema to **Yes**.</span></span> <span data-ttu-id="32526-144">此标志是**X12ConditionDesignator_Check** （对于 X12 或 HIPAA 架构） 或**EdifactDependencyRule_Check** （对于 EDIFACT 架构）。</span><span class="sxs-lookup"><span data-stu-id="32526-144">This flag is either **X12ConditionDesignator_Check** (for X12 or HIPAA schemas) or **EdifactDependencyRule_Check** (for EDIFACT schemas).</span></span><br /><br /> <span data-ttu-id="32526-145">通过指定关系条件（X12 和 HIPAA）或依赖规则 (EDIFACT) 为特定元素启用跨字段验证。</span><span class="sxs-lookup"><span data-stu-id="32526-145">Enable cross-field validation for a specific element by specifying the relational conditions (X12 and HIPAA) or dependency rules (EDIFACT).</span></span> <span data-ttu-id="32526-146">有关详细信息，请参阅[配置跨字段验证](../core/configuring-cross-field-validation.md)。</span><span class="sxs-lookup"><span data-stu-id="32526-146">For more information, see [Configuring Cross-Field Validation](../core/configuring-cross-field-validation.md).</span></span><br /><br /> <span data-ttu-id="32526-147">你还需要设置**Edi 类型验证**属性**是**。</span><span class="sxs-lookup"><span data-stu-id="32526-147">You also need to set the **Edi type validation** property to **yes**.</span></span><br /><br /> <span data-ttu-id="32526-148">默认情况下，对 HIPAA 架构启用跨字段验证。</span><span class="sxs-lookup"><span data-stu-id="32526-148">Cross-field validation is enabled by default for HIPAA schemas.</span></span>|  
|<span data-ttu-id="32526-149">启用 HIPAA 子文档拆分</span><span class="sxs-lookup"><span data-stu-id="32526-149">Enable HIPAA subdocument splitting</span></span>|<span data-ttu-id="32526-150">在其中一个可以设置子文档拆分中的 HIPAA 架构，设置**subdocument_break**和**Split_Without_Sibling_Data**到架构的属性**是**与**subdocument_creation_break**到架构中的特定元素的属性**是**。</span><span class="sxs-lookup"><span data-stu-id="32526-150">In one of the HIPAA schemas that you can set subdocument splitting in, set the **subdocument_break** and **Split_Without_Sibling_Data** properties for the schema to **yes** and the **subdocument_creation_break** property for a specific element in the schema to **yes**.</span></span><br /><br /> <span data-ttu-id="32526-151">你还需要设置**入站批处理选项**协议属性**将交换拆分为事务集**。</span><span class="sxs-lookup"><span data-stu-id="32526-151">You also need to set the **Inbound batch processing option** agreement property to **Split Interchange as Transaction Sets**.</span></span><br /><br /> <span data-ttu-id="32526-152">有关详细信息，请参阅[拆分 HIPAA 子文档](../core/splitting-hipaa-subdocuments.md)。</span><span class="sxs-lookup"><span data-stu-id="32526-152">For more information, see [Splitting HIPAA Subdocuments](../core/splitting-hipaa-subdocuments.md).</span></span>|  
|<span data-ttu-id="32526-153">向 HIPAA 文档添加触发器字段</span><span class="sxs-lookup"><span data-stu-id="32526-153">Add trigger fields to a HIPAA document</span></span>|<span data-ttu-id="32526-154">您可以让 EDI 拆装器根据限定元素（称为触发器字段）为 HIPAA 文档中的一段内容创建唯一的 XML 记录。</span><span class="sxs-lookup"><span data-stu-id="32526-154">You can allow the EDI disassembler to create unique XML records for a segment of your HIPAA document, based on a qualifying element known as a trigger field.</span></span> <span data-ttu-id="32526-155">必须指定描述段的属性和触发器值，从而为该段创建唯一的 XML 记录。</span><span class="sxs-lookup"><span data-stu-id="32526-155">You must specify the attributes that describe the segment and the trigger value so a unique XML record is created for the segment.</span></span> <span data-ttu-id="32526-156">有关详细信息，请参阅[HIPAA 架构触发器字段批注](../core/hipaa-schema-trigger-field-annotations.md)。</span><span class="sxs-lookup"><span data-stu-id="32526-156">For more information, see [HIPAA Schema Trigger Field Annotations](../core/hipaa-schema-trigger-field-annotations.md).</span></span>|  
|<span data-ttu-id="32526-157">向 X12 事务集添加分段</span><span class="sxs-lookup"><span data-stu-id="32526-157">Add a segment to an X12 transaction set</span></span>|<span data-ttu-id="32526-158">在向 X12 事务集添加新分段时，分段名称的前三个字符用作分段标识符。</span><span class="sxs-lookup"><span data-stu-id="32526-158">When you add a new segment to an X12 transaction set, the first three characters of the segment name are used as the segment identifier.</span></span> <span data-ttu-id="32526-159">因此，建议您命名分段时，前三个字符是唯一的。</span><span class="sxs-lookup"><span data-stu-id="32526-159">Hence, we recommend that you name a segment such that the first three characters are unique.</span></span>|  
|<span data-ttu-id="32526-160">向 HIPAA 事务集添加循环</span><span class="sxs-lookup"><span data-stu-id="32526-160">Add a loop to a HIPAA transaction set</span></span>|<span data-ttu-id="32526-161">在向 HIPAA 事务集添加新循环时，建议命名循环时名称中包括“Loop”。</span><span class="sxs-lookup"><span data-stu-id="32526-161">When you add a new loop to a HIPAA transaction set, we recommend naming the loop to include “Loop” within the name.</span></span> <span data-ttu-id="32526-162">循环的示例格式为“TS837_2010AB_Loop”。</span><span class="sxs-lookup"><span data-stu-id="32526-162">An example format for a loop is “TS837_2010AB_Loop”.</span></span> <span data-ttu-id="32526-163">**注意：**在循环中的第一个段是必需的 （段的 minOccurs 必须等于 1） 以避免多义性。</span><span class="sxs-lookup"><span data-stu-id="32526-163">**Note:**  The first segment in a loop is mandatory (minOccurs of the segment must be equal to 1) in order to avoid ambiguity.</span></span>|  
|<span data-ttu-id="32526-164">向 HIPAA 事务集添加“任何顺序循环”</span><span class="sxs-lookup"><span data-stu-id="32526-164">Add an ‘any order loop’ to a HIPAA transaction set</span></span>|<span data-ttu-id="32526-165">当事务集包含具有不同语义的等效分段时，必须在 SubLoop 中字义这些分段。</span><span class="sxs-lookup"><span data-stu-id="32526-165">When a transaction set has equivalent segments with different semantics, you must define them in a SubLoop.</span></span> <span data-ttu-id="32526-166">与 XML 批注的 SubLoop \<xs:all\>允许等效线段以任意顺序出现。</span><span class="sxs-lookup"><span data-stu-id="32526-166">A SubLoop with XML annotation of \<xs:all\> allows equivalent segments to occur in any order.</span></span><br /><br /> <span data-ttu-id="32526-167">建议您在命名“任意顺序循环”时，在循环名称中包含“SubLoop”。</span><span class="sxs-lookup"><span data-stu-id="32526-167">We recommend that you name an ‘any order loop’ to include “SubLoop” in the loop name.</span></span> <span data-ttu-id="32526-168">示例格式是"TS837Q1_2010A_SubLoop"**注意：**任何顺序循环的元素必须只出现一次在循环内。</span><span class="sxs-lookup"><span data-stu-id="32526-168">An example format is “TS837Q1_2010A_SubLoop” **Note:**  The elements of an any order loop must only occur once within the loop.</span></span> <span data-ttu-id="32526-169">同级 SubLoop 必须将最大出现次数设置为 1 以避免混乱。</span><span class="sxs-lookup"><span data-stu-id="32526-169">The siblings of a SubLoop must have a maxOccurs set to 1, in order to avoid ambiguity.</span></span>|  
  
### <a name="to-modify-an-existing-edi-schema-in-biztalk-editor"></a><span data-ttu-id="32526-170">在 BizTalk 编辑器中修改现有 EDI 架构</span><span class="sxs-lookup"><span data-stu-id="32526-170">To modify an existing EDI schema in BizTalk Editor</span></span>  
  
1.  <span data-ttu-id="32526-171">在 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 中，将您希望修改的架构添加到项目中，并在 BizTalk 编辑器中打开该架构。</span><span class="sxs-lookup"><span data-stu-id="32526-171">In [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], add the schema that you want to modify to a project and open the schema in BizTalk Editor.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="32526-172">可以通过单击以图形方式显示架构**EDI**在架构编辑器屏幕底部的选项卡。</span><span class="sxs-lookup"><span data-stu-id="32526-172">You can display the schema in graphical form by clicking the **EDI** tab at the bottom of the Schema Editor screen.</span></span> <span data-ttu-id="32526-173">使用此表格格式可更轻松地导航架构节点。</span><span class="sxs-lookup"><span data-stu-id="32526-173">It is much easier to navigate the nodes of the schema using this tabular format.</span></span>  
  
2.  <span data-ttu-id="32526-174">若要更改数据元素或记录的属性，请单击 BizTalk 编辑器左窗格中的相应节点，然后在“属性”窗口中更改其属性。</span><span class="sxs-lookup"><span data-stu-id="32526-174">To change the properties of a data element or record, click the appropriate node in the left pane of BizTalk Editor and change its properties in the Properties window.</span></span>  
  
3.  <span data-ttu-id="32526-175">若要更改枚举中的值，选择中的枚举**属性**窗格中，然后单击省略号以打开**枚举编辑器**。</span><span class="sxs-lookup"><span data-stu-id="32526-175">To change the values in an enumeration, select the enumeration in the **Properties** pane, and then click the ellipsis to open the **Enumeration Editor**.</span></span> <span data-ttu-id="32526-176">添加或删除从列表中的值，根据需要确保在每一行上一个值**值**窗格。</span><span class="sxs-lookup"><span data-stu-id="32526-176">Add to or delete from the list of values, as needed, ensuring that there is one value on each line in the **Values** pane.</span></span> <span data-ttu-id="32526-177">单击 **“确定”**。</span><span class="sxs-lookup"><span data-stu-id="32526-177">Click **OK**.</span></span>  
  
4.  <span data-ttu-id="32526-178">若要将自定义字段添加到架构中，右键单击 BizTalk 编辑器的控制台树中的记录节点，指向**插入架构节点**，然后单击**子字段元素**。</span><span class="sxs-lookup"><span data-stu-id="32526-178">To add a custom field to the schema, right-click a record node in the console tree of BizTalk Editor, point to **Insert Schema Node**, and click **Child Field Element**.</span></span> <span data-ttu-id="32526-179">命名该数据元素，然后将该数据元素拖至该记录中的相应位置。</span><span class="sxs-lookup"><span data-stu-id="32526-179">Name the data element, and then drag the data element to the appropriate position in the record.</span></span> <span data-ttu-id="32526-180">根据需要设置自定义字段的属性。</span><span class="sxs-lookup"><span data-stu-id="32526-180">Set the properties for the custom field properties as required.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="32526-181">不允许将子字段属性添加到 EDI 架构中的记录，因为元素顺序将无法保证。</span><span class="sxs-lookup"><span data-stu-id="32526-181">Adding a child field attribute to a record in an EDI schema is not allowed, because the sequence of the elements would not be guaranteed.</span></span> <span data-ttu-id="32526-182">尝试添加子字段属性将导致无效架构。</span><span class="sxs-lookup"><span data-stu-id="32526-182">Trying to add a child field attribute results in an invalid schema.</span></span>  
  
5.  <span data-ttu-id="32526-183">若要将自定义记录添加到架构中，右键单击控制台树中的架构编辑器中的记录节点，指向**插入架构节点**，然后单击**子记录**。</span><span class="sxs-lookup"><span data-stu-id="32526-183">To add a custom record to the schema, right-click a record node in the console tree of Schema Editor, point to **Insert Schema Node**, and then click **Child Record**.</span></span> <span data-ttu-id="32526-184">命名该记录，然后将该记录拖至该架构中的相应位置。</span><span class="sxs-lookup"><span data-stu-id="32526-184">Name the record, and then drag the record to the appropriate position in the schema.</span></span> <span data-ttu-id="32526-185">至少将一个数据元素添加到记录。</span><span class="sxs-lookup"><span data-stu-id="32526-185">Add at least one data element to the record.</span></span> <span data-ttu-id="32526-186">根据需要设置自定义记录的属性。</span><span class="sxs-lookup"><span data-stu-id="32526-186">Set the properties for the custom record as required.</span></span>  
  
6.  <span data-ttu-id="32526-187">对架构进行所需的更改后, 可以更改通过单击根节点适用于架构属性的目标命名空间 (\<架构\>)，然后将更改**目标 Namespace**属性。</span><span class="sxs-lookup"><span data-stu-id="32526-187">After making the desired changes to the schema, you can change the target namespace that applies to the schema property by clicking the root node (\<Schema\>) and then changing the **Target Namespace** property.</span></span>  
  
7.  <span data-ttu-id="32526-188">保存该架构。</span><span class="sxs-lookup"><span data-stu-id="32526-188">Save the schema.</span></span>  
  
8.  <span data-ttu-id="32526-189">通过右键单击解决方案资源管理器中的架构，并单击验证的架构**验证架构**。</span><span class="sxs-lookup"><span data-stu-id="32526-189">Validate the schema by right-clicking the schema in Solution Explorer and clicking **Validate Schema**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="32526-190">**验证架构**命令将验证 EDI 架构，因为**架构编辑器扩展**的根节点的属性 (\<架构\>) 设置为**EDI架构编辑器扩展**。</span><span class="sxs-lookup"><span data-stu-id="32526-190">The **Validate Schema** command will validate the EDI schema because the **Schema Editor Extension** property of the root node (\<Schema\>) is set to **EDI Schema Editor Extension**.</span></span>  
  
### <a name="to-modify-annotation-properties-in-an-existing-edi-schema"></a><span data-ttu-id="32526-191">修改现有 EDI 架构中的批注属性</span><span class="sxs-lookup"><span data-stu-id="32526-191">To modify annotation properties in an existing EDI schema</span></span>  
  
1.  <span data-ttu-id="32526-192">在文本编辑器（如记事本）中打开该架构。</span><span class="sxs-lookup"><span data-stu-id="32526-192">Open the schema in a text editor such as Notepad.</span></span>  
  
2.  <span data-ttu-id="32526-193">若要启用跨字段验证，请按如下所示继续操作。</span><span class="sxs-lookup"><span data-stu-id="32526-193">To enable cross-field validation, proceed as follows.</span></span> <span data-ttu-id="32526-194">有关详细信息，请参阅[配置跨字段验证](../core/configuring-cross-field-validation.md)。</span><span class="sxs-lookup"><span data-stu-id="32526-194">For more information, see [Configuring Cross-Field Validation](../core/configuring-cross-field-validation.md).</span></span>  
  
    1.  <span data-ttu-id="32526-195">在顶部的架构的 appinfo 批注，设置跨字段验证标志 (任一**X12ConditionDesignator_Check** X12 或 HIPAA 架构或**EdifactDependencyRule_Check**对于 EDIFACT架构） 到**是**。</span><span class="sxs-lookup"><span data-stu-id="32526-195">In the appinfo annotation at the top of the schema, set the cross-field validation flag (either **X12ConditionDesignator_Check** for X12 or HIPAA schemas or **EdifactDependencyRule_Check** for EDIFACT schemas) to **Yes**.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="32526-196">跨字段验证标志**是**默认情况下，BizTalk Server HIPAA 架构。</span><span class="sxs-lookup"><span data-stu-id="32526-196">The cross-field validation flag is **Yes** by default for BizTalk Server HIPAA schemas.</span></span>  
  
    2.  <span data-ttu-id="32526-197">在特定元素的批注中，为元素指定关系条件（X12 或 HIPAA）或依赖规则 (EDIFACT)。</span><span class="sxs-lookup"><span data-stu-id="32526-197">In the annotation for a specific element, specify the relational conditions (X12 or HIPAA) or dependency rules (EDIFACT) for the element.</span></span> <span data-ttu-id="32526-198">有关这些设置的详细信息，请参阅[交叉字段段验证](../core/cross-field-segment-validation.md)。</span><span class="sxs-lookup"><span data-stu-id="32526-198">For more information about these settings, see [Cross Field-Segment Validation](../core/cross-field-segment-validation.md).</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="32526-199">在**验证**页 (下**事务设置设置**部分) 的单向协议选项卡**协议属性**相关协议的对话框中请确保**EDI 类型验证**选择属性。</span><span class="sxs-lookup"><span data-stu-id="32526-199">In the **Validation** page (under the **Transaction Set Settings** section) of the one-way agreement tab of the **Agreement Properties** dialog box for relevant agreement, make sure that the **EDI type Validation** property is selected.</span></span>  
  
3.  <span data-ttu-id="32526-200">若要启用 HIPAA 子文档拆分，请按如下所示继续操作。</span><span class="sxs-lookup"><span data-stu-id="32526-200">To enable HIPAA subdocument splitting, proceed as follows.</span></span> <span data-ttu-id="32526-201">有关详细信息，请参阅[拆分 HIPAA 子文档](../core/splitting-hipaa-subdocuments.md)。</span><span class="sxs-lookup"><span data-stu-id="32526-201">For more information, see [Splitting HIPAA Subdocuments](../core/splitting-hipaa-subdocuments.md).</span></span>  
  
    1.  <span data-ttu-id="32526-202">在顶部的架构的 appinfo 批注，设置**subdocument_break**和**Split_Without_Sibling_Data**标志到**是**。</span><span class="sxs-lookup"><span data-stu-id="32526-202">In the appinfo annotation at the top of the schema, set the **subdocument_break** and **Split_Without_Sibling_Data** flags to **yes**.</span></span>  
  
    2.  <span data-ttu-id="32526-203">中的特定元素的 appinfo 批注，请参阅**subdocument_creation_break**标志切换为**是**。</span><span class="sxs-lookup"><span data-stu-id="32526-203">In the appinfo annotation for a specific element, see the **subdocument_creation_break** flag to **yes**.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="32526-204">在**本地主机设置**页 (下**交换设置**部分) 的单向协议选项卡**协议属性**为相关的对话框协议，请确保**入站批处理选项**属性设置为**将交换拆分为事务集**。</span><span class="sxs-lookup"><span data-stu-id="32526-204">In the **Local Host Settings** page (under the **Interchange Settings** section) of the one-way agreement tab of the **Agreement Properties** dialog box for the relevant agreement, make sure that the **Inbound batch processing option** property is set to **Split Interchange as Transaction Sets**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="32526-205">另请参阅</span><span class="sxs-lookup"><span data-stu-id="32526-205">See Also</span></span>  
 [<span data-ttu-id="32526-206">开发 EDI 架构</span><span class="sxs-lookup"><span data-stu-id="32526-206">Developing EDI Schemas</span></span>](../core/developing-edi-schemas.md)