---
title: 有关 BizTalk 消息上下文属性 |Microsoft 文档
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: bc700e43-a44c-482b-b91c-9f1d997a486a
caps.latest.revision: 12
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 49d802ad2ca50538c25182311c68604c26d5a832
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
ms.locfileid: "22225493"
---
# <a name="about-biztalk-message-context-properties"></a><span data-ttu-id="b066f-102">关于 BizTalk 消息上下文属性</span><span class="sxs-lookup"><span data-stu-id="b066f-102">About BizTalk Message Context Properties</span></span>
<span data-ttu-id="b066f-103">当 BizTalk Server 适配器接收到某文档时，适配器将为该文档创建 BizTalk 消息。</span><span class="sxs-lookup"><span data-stu-id="b066f-103">When a document is received by a BizTalk Server adapter, the adapter creates a BizTalk message for the document.</span></span> <span data-ttu-id="b066f-104">BizTalk 消息包含所接收的文档以及消息上下文。</span><span class="sxs-lookup"><span data-stu-id="b066f-104">The BizTalk message contains the document that was received as well as a message context.</span></span> <span data-ttu-id="b066f-105">消息上下文为 BizTalk Server 处理该文档时所使用的各种属性的容器。</span><span class="sxs-lookup"><span data-stu-id="b066f-105">The message context is a container for various properties that are used by BizTalk Server when processing the document.</span></span> <span data-ttu-id="b066f-106">消息上下文中的每个属性均由以下三个部分构成：名称、命名空间和值。</span><span class="sxs-lookup"><span data-stu-id="b066f-106">Each property in the Message Context is composed of three things, a name, a namespace, and a value.</span></span> <span data-ttu-id="b066f-107">例如，以下消息上下文属性对文档的交换 ID 进行了说明：</span><span class="sxs-lookup"><span data-stu-id="b066f-107">For example, the following message context property describes the Interchange ID for a document:</span></span>  
  
```  
<Property Name="InterchangeID" Namespace="http://schemas.microsoft.com/BizTalk/2003/system-properties" Value="{AC07BF30-2F1A-42B0-8390-191EF38BA839}"/>  
```  
  
 <span data-ttu-id="b066f-108">在消息的整个生存期内，只要该消息通过 BizTalk Server，便会将消息上下文属性添加到消息上下文中。</span><span class="sxs-lookup"><span data-stu-id="b066f-108">Message context properties are added to the message context throughout the lifetime of the message as it passes through BizTalk Server.</span></span>  
  
 <span data-ttu-id="b066f-109">BizTalk 使用两种不同类型的消息上下文属性，如下所述：</span><span class="sxs-lookup"><span data-stu-id="b066f-109">There are two different types of message context properties used by BizTalk as described below:</span></span>  
  
## <a name="property-fields"></a><span data-ttu-id="b066f-110">属性字段</span><span class="sxs-lookup"><span data-stu-id="b066f-110">Property Fields</span></span>  
 <span data-ttu-id="b066f-111">属性字段是 BizTalk 消息引擎所使用的消息上下文属性，用于文档路由、消息跟踪和业务流程中的评估。</span><span class="sxs-lookup"><span data-stu-id="b066f-111">Property fields are message context properties that are used by the BizTalk Messaging Engine for purposes of document routing, for message tracking, and for evaluation in Orchestrations.</span></span> <span data-ttu-id="b066f-112">你可以显式提升文档中的字段为消息上下文属性字段作为通过编辑文档在 BizTalk Server 架构编辑器中提供的架构[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="b066f-112">You can explicitly elevate a field in a document to the message context as a Property field by editing the schema for the document in the BizTalk Server Schema Editor that is available in [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)].</span></span> <span data-ttu-id="b066f-113">为了将文档中的字段作为属性字段写入消息上下文，该文档架构必须具有关联的属性架构。</span><span class="sxs-lookup"><span data-stu-id="b066f-113">In order to write a field in a document to the message context as a property field, the document schema must have an associated property schema.</span></span> <span data-ttu-id="b066f-114">属性字段限制在 255 个字符之内。</span><span class="sxs-lookup"><span data-stu-id="b066f-114">Property fields are limited to 255 characters.</span></span> <span data-ttu-id="b066f-115">**IsPromoted**消息上下文中的属性字段的属性设置为**True**。</span><span class="sxs-lookup"><span data-stu-id="b066f-115">The **IsPromoted** property of Property fields in the message context is set to **True**.</span></span>  
  
## <a name="distinguished-fields"></a><span data-ttu-id="b066f-116">可分辨的字段</span><span class="sxs-lookup"><span data-stu-id="b066f-116">Distinguished Fields</span></span>  
 <span data-ttu-id="b066f-117">可分辨字段是不需要单独的属性架构并且只能从业务流程进行访问的消息上下文属性。</span><span class="sxs-lookup"><span data-stu-id="b066f-117">Distinguished fields are message context properties that do not require a separate property schema and that are only accessible from Orchestrations.</span></span> <span data-ttu-id="b066f-118">可分辨字段不能用于路由或跟踪。</span><span class="sxs-lookup"><span data-stu-id="b066f-118">Distinguished fields cannot be used for routing or tracking.</span></span> <span data-ttu-id="b066f-119">由于可分辨字段不需要单独的属性架构，因此业务流程引擎对可分辨字段进行的评估所产生的系统开销少于业务流程引擎对属性字段进行的评估。</span><span class="sxs-lookup"><span data-stu-id="b066f-119">Since Distinguished fields do not require a separate property schema, the evaluation of Distinguished fields by the Orchestration engine consumes less overhead than the evaluation of Property fields by the Orchestration engine.</span></span> <span data-ttu-id="b066f-120">属性字段的评估需要 XPath 查询，而可分辨字段的评估不需要 XPath 查询，因为管道拆装器在上下文中填充可分辨字段，并且业务流程引擎读取缓存的值。</span><span class="sxs-lookup"><span data-stu-id="b066f-120">The evaluation of Property fields requires an XPath query, the evaluation of Distinguished fields does not require an XPath query as the pipeline disassembler populates the Distinguished fields in the context and the orchestration engine reads the cached values.</span></span> <span data-ttu-id="b066f-121">但是，如果业务流程引擎在上下文中未找到该属性，则它会发起一个 XPath 查询以找到该值。</span><span class="sxs-lookup"><span data-stu-id="b066f-121">However, if the orchestration engine does not find the property in the context, it will then initiate an XPath query to find the value.</span></span> <span data-ttu-id="b066f-122">可分辨字段没有任何大小限制。</span><span class="sxs-lookup"><span data-stu-id="b066f-122">Distinguished fields do not have a size limitation.</span></span> <span data-ttu-id="b066f-123">**IsPromoted**消息上下文中的可分辨字段的属性设置为**False**。</span><span class="sxs-lookup"><span data-stu-id="b066f-123">The **IsPromoted** property of Distinguished fields in the Message context is set to **False**.</span></span>  
  
## <a name="summary-of-differences-between-property-fields-and-distinguished-fields"></a><span data-ttu-id="b066f-124">属性字段与可分辨字段之间区别的概括介绍</span><span class="sxs-lookup"><span data-stu-id="b066f-124">Summary of differences between Property Fields and Distinguished Fields</span></span>  
 <span data-ttu-id="b066f-125">下表概括列出了属性字段与可分辨字段之间的区别和相似点：</span><span class="sxs-lookup"><span data-stu-id="b066f-125">The table below summarizes the differences and similarities between Property fields and Distinguished fields:</span></span>  
  
|<span data-ttu-id="b066f-126">**Attribute**</span><span class="sxs-lookup"><span data-stu-id="b066f-126">**Attribute**</span></span>|<span data-ttu-id="b066f-127">**属性字段**</span><span class="sxs-lookup"><span data-stu-id="b066f-127">**Property Field**</span></span>|<span data-ttu-id="b066f-128">**可分辨的字段**</span><span class="sxs-lookup"><span data-stu-id="b066f-128">**Distinguished Field**</span></span>|  
|-------------------|------------------------|-----------------------------|  
|<span data-ttu-id="b066f-129">IsPromoted 属性</span><span class="sxs-lookup"><span data-stu-id="b066f-129">IsPromoted Property</span></span>|<span data-ttu-id="b066f-130">True</span><span class="sxs-lookup"><span data-stu-id="b066f-130">True</span></span>|<span data-ttu-id="b066f-131">False</span><span class="sxs-lookup"><span data-stu-id="b066f-131">False</span></span>|  
|<span data-ttu-id="b066f-132">大小限制</span><span class="sxs-lookup"><span data-stu-id="b066f-132">Size Limitation</span></span>|<span data-ttu-id="b066f-133">255 个字符</span><span class="sxs-lookup"><span data-stu-id="b066f-133">255 Characters</span></span>|<span data-ttu-id="b066f-134">无限制</span><span class="sxs-lookup"><span data-stu-id="b066f-134">No limit</span></span>|  
|<span data-ttu-id="b066f-135">用于路由</span><span class="sxs-lookup"><span data-stu-id="b066f-135">Used for Routing</span></span>|<span data-ttu-id="b066f-136">是</span><span class="sxs-lookup"><span data-stu-id="b066f-136">Yes</span></span>|<span data-ttu-id="b066f-137">是</span><span class="sxs-lookup"><span data-stu-id="b066f-137">No</span></span>|  
|<span data-ttu-id="b066f-138">用于跟踪</span><span class="sxs-lookup"><span data-stu-id="b066f-138">Used for Tracking</span></span>|<span data-ttu-id="b066f-139">是</span><span class="sxs-lookup"><span data-stu-id="b066f-139">Yes</span></span>|<span data-ttu-id="b066f-140">是</span><span class="sxs-lookup"><span data-stu-id="b066f-140">No</span></span>|  
|<span data-ttu-id="b066f-141">在业务流程中使用</span><span class="sxs-lookup"><span data-stu-id="b066f-141">Used in Orchestration</span></span>|<span data-ttu-id="b066f-142">是</span><span class="sxs-lookup"><span data-stu-id="b066f-142">Yes</span></span>|<span data-ttu-id="b066f-143">是</span><span class="sxs-lookup"><span data-stu-id="b066f-143">Yes</span></span>|  
|<span data-ttu-id="b066f-144">需要属性架构</span><span class="sxs-lookup"><span data-stu-id="b066f-144">Requires Property Schema</span></span>|<span data-ttu-id="b066f-145">是</span><span class="sxs-lookup"><span data-stu-id="b066f-145">Yes</span></span>|<span data-ttu-id="b066f-146">是</span><span class="sxs-lookup"><span data-stu-id="b066f-146">No</span></span>|  
|<span data-ttu-id="b066f-147">可通过管道和端口进行访问</span><span class="sxs-lookup"><span data-stu-id="b066f-147">Accessible by Pipelines and Ports</span></span>|<span data-ttu-id="b066f-148">是</span><span class="sxs-lookup"><span data-stu-id="b066f-148">Yes</span></span>|<span data-ttu-id="b066f-149">是</span><span class="sxs-lookup"><span data-stu-id="b066f-149">No</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="b066f-150">另请参阅</span><span class="sxs-lookup"><span data-stu-id="b066f-150">See Also</span></span>  
 [<span data-ttu-id="b066f-151">使用与控件消息处理的消息内容的方法</span><span class="sxs-lookup"><span data-stu-id="b066f-151">Ways to Use Message Content to Control Message Processing</span></span>](../core/ways-to-use-message-content-to-control-message-processing.md)