---
title: 一些设计原则在业务流程管理解决方案 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- business processes, design principals
- designing, design principals
- process management solution tutorial, dividing business processes
- patterns [process management solutions], design principals
ms.assetid: 688b970f-8e64-4a47-bcc5-bdb9c5195902
caps.latest.revision: 8
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 1ac5e05dd1bdedc9d1a24f00031454e88c533e55
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65243339"
---
# <a name="some-design-principles-in-the-business-process-management-solution"></a><span data-ttu-id="b988c-102">在业务流程管理解决方案中的一些设计原则</span><span class="sxs-lookup"><span data-stu-id="b988c-102">Some Design Principles in the Business Process Management Solution</span></span>
<span data-ttu-id="b988c-103">本主题开始有关将业务流程划分成阶段的一般准则。</span><span class="sxs-lookup"><span data-stu-id="b988c-103">This topic begins with general guidelines about dividing business processes into stages.</span></span> <span data-ttu-id="b988c-104">然后将对要考虑的一些解决方案的业务流程、 程序集，以及与这些准则和业务要求相关的应用程序的结构。</span><span class="sxs-lookup"><span data-stu-id="b988c-104">It then goes on to consider the structure of some of the solution's orchestrations, assemblies, and applications in connection with these guidelines and the business requirements.</span></span> <span data-ttu-id="b988c-105">有关业务要求的详细信息，请参阅"业务需求"中[了解业务流程管理解决方案](../core/understanding-the-business-process-management-solution.md)。</span><span class="sxs-lookup"><span data-stu-id="b988c-105">For more information about the business requirements, see "Business Requirements" in [Understanding the Business Process Management Solution](../core/understanding-the-business-process-management-solution.md).</span></span>  
  
## <a name="dividing-business-processes"></a><span data-ttu-id="b988c-106">将业务流程划分</span><span class="sxs-lookup"><span data-stu-id="b988c-106">Dividing Business Processes</span></span>  
 <span data-ttu-id="b988c-107">通常在考虑业务流程，第一个灵感是将其视为单个整体流程。</span><span class="sxs-lookup"><span data-stu-id="b988c-107">Often when considering a business process, the first impulse is to treat it as a single, monolithic process.</span></span> <span data-ttu-id="b988c-108">这并不总是最佳设计。</span><span class="sxs-lookup"><span data-stu-id="b988c-108">This is not always the best design.</span></span> <span data-ttu-id="b988c-109">对于 Southridge Video 订单是长时间运行的业务流程，一个进程，可能需要一年时间才能完成。</span><span class="sxs-lookup"><span data-stu-id="b988c-109">For Southridge Video, an order is a long running business process, a process that may take up to a year to complete.</span></span> <span data-ttu-id="b988c-110">在此期间，可能会更改业务流程本身。</span><span class="sxs-lookup"><span data-stu-id="b988c-110">In the meantime, the business process itself may change.</span></span> <span data-ttu-id="b988c-111">若要允许对业务流程的更新而不会中断在处理订单，Southridge Video 订单处理划分为若干阶段。</span><span class="sxs-lookup"><span data-stu-id="b988c-111">To allow updates to the business process without disrupting in-process orders, the Southridge Video order processing is divided into stages.</span></span>  
  
 <span data-ttu-id="b988c-112">何处划分过程非常重要，到过程的哪些部分可以确定版本，以及允许对未完成的订单进行中断的类型。</span><span class="sxs-lookup"><span data-stu-id="b988c-112">Where you divide the process is critical to which parts of the process you can version, and to the types of disruptions that you allow to outstanding orders.</span></span> <span data-ttu-id="b988c-113">Southridge Video 解决方案使用四个常规条件来确定各个阶段：</span><span class="sxs-lookup"><span data-stu-id="b988c-113">The Southridge Video solution uses four general criteria to determine the stages:</span></span>  
  
- <span data-ttu-id="b988c-114">在业务流程中步骤的逻辑分组。</span><span class="sxs-lookup"><span data-stu-id="b988c-114">The logical grouping of steps in the business process.</span></span>  
  
- <span data-ttu-id="b988c-115">业务流程中操作的范围。</span><span class="sxs-lookup"><span data-stu-id="b988c-115">The scope of operations within an orchestration.</span></span>  
  
- <span data-ttu-id="b988c-116">情况可版本，在给定业务流程的流程元素。</span><span class="sxs-lookup"><span data-stu-id="b988c-116">The elements of the process that would be useful to version, given the business process.</span></span>  
  
- <span data-ttu-id="b988c-117">完成长期操作后，应该结束业务流程。</span><span class="sxs-lookup"><span data-stu-id="b988c-117">An orchestration should end after completing a long-term operation.</span></span>  
  
  <span data-ttu-id="b988c-118">四个，第一个和第三个是最重要因为通常会比逻辑分组或版本的明显元素比以往更多的操作的作用域。</span><span class="sxs-lookup"><span data-stu-id="b988c-118">Of the four, the first and third are the most critical because there will usually be far more scopes of operations than logical groupings or obvious elements to version.</span></span> <span data-ttu-id="b988c-119">但请注意，不要结束业务流程作用域。</span><span class="sxs-lookup"><span data-stu-id="b988c-119">Notice, however, that you do not want to end an orchestration in the middle of a scope.</span></span>  
  
  <span data-ttu-id="b988c-120">如果您看一下第一阶段，该业务流程**CableOrder1.odx**，可以看到它有效地以对功能系统的请求-响应序列结尾。</span><span class="sxs-lookup"><span data-stu-id="b988c-120">If you look at the orchestration for the first stage, **CableOrder1.odx**, you'll see that it effectively ends with the request-response sequence to the facilities system.</span></span> <span data-ttu-id="b988c-121">这是因为它是涉及完成此订单的实际物理工作流程的一部分结束该阶段的适当位置。</span><span class="sxs-lookup"><span data-stu-id="b988c-121">This is a good place for the stage to end because it is the part of the process that involves the actual physical work of completing the order.</span></span> <span data-ttu-id="b988c-122">具有业务流程末尾附近的较长的处理步骤可保证，冻结后，业务流程将快速结束。</span><span class="sxs-lookup"><span data-stu-id="b988c-122">Having the long processing steps near the end of the orchestration guarantees that, when rehydrated, the orchestration ends quickly.</span></span> <span data-ttu-id="b988c-123">这可加快作为一个整体的解决方案移动到较新版本的业务流程。</span><span class="sxs-lookup"><span data-stu-id="b988c-123">This speeds up the movement of the solution as a whole to newer versions of the orchestrations.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="b988c-124">尽管该解决方案将流程拆分成不连续的阶段，但解决方案监视，可看到通过 BAM 使用连续的视图。</span><span class="sxs-lookup"><span data-stu-id="b988c-124">Although the solution splits the process into discontinuous stages, the solution monitoring enables you to see things a continuous view through the use of BAM.</span></span>  
  
## <a name="order-action-broker-and-manager-orchestrations"></a><span data-ttu-id="b988c-125">订单操作、 代理和管理器业务流程</span><span class="sxs-lookup"><span data-stu-id="b988c-125">Order Action, Broker, and Manager Orchestrations</span></span>  
 <span data-ttu-id="b988c-126">除了将订单处理划分阶段，您还会注意到，每个订单操作-分析订单、 订单验证，例如，订单取消 — 在单独的业务流程。</span><span class="sxs-lookup"><span data-stu-id="b988c-126">In addition to breaking the order processing into stages, you will also notice that each of the order actions—for example, analyzing the order, order validation, order cancellation—is in a separate orchestration.</span></span> <span data-ttu-id="b988c-127">将每个操作放在单独的业务流程将分离的几个阶段的结构中的操作。</span><span class="sxs-lookup"><span data-stu-id="b988c-127">Putting each action in a separate orchestration decouples the actions from the structure of the stages.</span></span> <span data-ttu-id="b988c-128">这进而使更灵活地设计和版本控制订单处理阶段。</span><span class="sxs-lookup"><span data-stu-id="b988c-128">This in turn enables greater flexibility in designing and versioning the order processing stages.</span></span>  
  
 <span data-ttu-id="b988c-129">Orderbroker 和 ordermanager 出于类似原因位于不同的业务流程。</span><span class="sxs-lookup"><span data-stu-id="b988c-129">The order broker and order manager are in separate orchestrations for similar reasons.</span></span> <span data-ttu-id="b988c-130">解决方案的设计允许使用多个 ordermanager 来处理其他类型的订单。</span><span class="sxs-lookup"><span data-stu-id="b988c-130">The solution design enables use of multiple order managers to handle other kinds of orders.</span></span> <span data-ttu-id="b988c-131">将 broker 与 manager 的分离，它们也可以位于不同的位置。</span><span class="sxs-lookup"><span data-stu-id="b988c-131">The decoupling of the broker and manager also allows for these to be in different locations.</span></span> <span data-ttu-id="b988c-132">有关 orderbroker 设计的其他详细信息，请参阅"为什么 orderbroker？"</span><span class="sxs-lookup"><span data-stu-id="b988c-132">For additional details about the order broker's design, see "Why and Order Broker?"</span></span> <span data-ttu-id="b988c-133">在中[在 OrderBroker 业务流程中处理](../core/processing-in-the-orderbroker-orchestration.md)。</span><span class="sxs-lookup"><span data-stu-id="b988c-133">in [Processing in the OrderBroker Orchestration](../core/processing-in-the-orderbroker-orchestration.md).</span></span> <span data-ttu-id="b988c-134">订单管理器的详细信息，请参阅[进程管理器逻辑](../core/process-manager-logic.md)。</span><span class="sxs-lookup"><span data-stu-id="b988c-134">For the details of the order manager, see [Process Manager Logic](../core/process-manager-logic.md).</span></span>  
  
## <a name="assemblies"></a><span data-ttu-id="b988c-135">程序集</span><span class="sxs-lookup"><span data-stu-id="b988c-135">Assemblies</span></span>  
 <span data-ttu-id="b988c-136">若要支持的组件版本控制，并以支持将组件移至其他服务器进行组织解决方案中的程序集。</span><span class="sxs-lookup"><span data-stu-id="b988c-136">The assemblies in the solution are organized to support versioning of components and to support moving components to other servers.</span></span> <span data-ttu-id="b988c-137">例如，架构位于单独的程序集。</span><span class="sxs-lookup"><span data-stu-id="b988c-137">For example, schemas are in separate assemblies.</span></span> <span data-ttu-id="b988c-138">特别是，orderbroker 的架构是在其自己的程序集。</span><span class="sxs-lookup"><span data-stu-id="b988c-138">In particular, the schemas for the order broker are in their own  assembly.</span></span> <span data-ttu-id="b988c-139">这使他们能够进行版本控制而无需更改解决方案的其他元素。</span><span class="sxs-lookup"><span data-stu-id="b988c-139">This allows them to be versioned without changing other elements of the solution.</span></span> <span data-ttu-id="b988c-140">它还使得更容易将 orderbroker 移到单独的组或服务器。</span><span class="sxs-lookup"><span data-stu-id="b988c-140">It also makes it simpler to move the order broker to a separate group or server.</span></span> <span data-ttu-id="b988c-141">有关版本控制应用程序和架构程序集的详细信息，请参阅[业务流程管理解决方案进行版本控制](../core/versioning-the-business-process-management-solution.md)。</span><span class="sxs-lookup"><span data-stu-id="b988c-141">For more information about versioning the application and schema assemblies, see [Versioning the Business Process Management Solution](../core/versioning-the-business-process-management-solution.md).</span></span>  
  
## <a name="applications"></a><span data-ttu-id="b988c-142">应用程序</span><span class="sxs-lookup"><span data-stu-id="b988c-142">Applications</span></span>  
 <span data-ttu-id="b988c-143">如果您在 BizTalk 管理控制台中查看，可以看到生成的解决方案包含三个单独的应用程序：</span><span class="sxs-lookup"><span data-stu-id="b988c-143">If you look in the BizTalk Administration Console, you can see that the built solution consists of three separate applications:</span></span>  
  
- <span data-ttu-id="b988c-144">**BTSScn.BPM.OrderBrokerApp**包含 orderbroker 的应用程序</span><span class="sxs-lookup"><span data-stu-id="b988c-144">**BTSScn.BPM.OrderBrokerApp**, the application containing the order broker</span></span>  
  
- <span data-ttu-id="b988c-145">**BTSScn.BPM.CableOrderApp**包含订单处理组件的应用程序</span><span class="sxs-lookup"><span data-stu-id="b988c-145">**BTSScn.BPM.CableOrderApp**, the application containing the order processing components</span></span>  
  
- <span data-ttu-id="b988c-146">**BTSScn.BPM.MessagingApp**，收集共享的其他两个应用程序项目的应用程序</span><span class="sxs-lookup"><span data-stu-id="b988c-146">**BTSScn.BPM.MessagingApp**, an application that collects artifacts shared by the other two applications</span></span>  
  
  <span data-ttu-id="b988c-147">解决方案的由三部分组成的结构是可能由于 BizTalk 应用程序能够使用同一 BizTalk 组中其他应用程序中的项目的功能。</span><span class="sxs-lookup"><span data-stu-id="b988c-147">The tripartite structure of the solution is possible because of the ability of BizTalk applications to use artifacts in other applications within the same BizTalk group.</span></span> <span data-ttu-id="b988c-148">若要使用另一个应用程序的项目，您将添加对其他应用程序中引用的应用程序的引用。</span><span class="sxs-lookup"><span data-stu-id="b988c-148">To use another application's artifacts, you add a reference to the other application from the referring application.</span></span> <span data-ttu-id="b988c-149">有关引用其他应用程序的信息，请参阅[如何添加对另一个应用程序的引用](../core/how-to-add-a-reference-to-another-application.md)。</span><span class="sxs-lookup"><span data-stu-id="b988c-149">For information about referencing other applications, see [How to Add a Reference to Another Application](../core/how-to-add-a-reference-to-another-application.md).</span></span>  
  
  <span data-ttu-id="b988c-150">常见项目放置在单独的应用程序中，您可能，以更新组件仅在一个位置。</span><span class="sxs-lookup"><span data-stu-id="b988c-150">Putting the common artifacts in a separate application enables you, potentially, to update components in only one place.</span></span> <span data-ttu-id="b988c-151">共享的组件可以是任何内容，包括端口。</span><span class="sxs-lookup"><span data-stu-id="b988c-151">The shared components can be anything, including ports.</span></span> <span data-ttu-id="b988c-152">例如，解决方案中的业务流程将错误发送给错误报告端口。</span><span class="sxs-lookup"><span data-stu-id="b988c-152">For example, the orchestrations in the solution send errors to an error reporting port.</span></span> <span data-ttu-id="b988c-153">该端口位于消息传送应用程序 BTSScn.BPM.MessagingApp 中，整个解决方案可以使用它。</span><span class="sxs-lookup"><span data-stu-id="b988c-153">That port is in the messaging application, BTSScn.BPM.MessagingApp, where the entire solution can use it.</span></span>  
  
  <span data-ttu-id="b988c-154">结构化解决方案，为三个应用程序还可以更轻松地移动到其他服务器上解决方案的部分。</span><span class="sxs-lookup"><span data-stu-id="b988c-154">Structuring the solution as three applications also makes it easier to move parts of the solution onto other servers.</span></span> <span data-ttu-id="b988c-155">可以将每个应用程序和其引用的应用程序转换成 MSI 文件。</span><span class="sxs-lookup"><span data-stu-id="b988c-155">You can convert each application and its referenced applications into an MSI file.</span></span> <span data-ttu-id="b988c-156">然后可以安装在另一台计算机上的该 MSI 文件。</span><span class="sxs-lookup"><span data-stu-id="b988c-156">You can then install that MSI file on another machine.</span></span> <span data-ttu-id="b988c-157">有关将应用程序转换到 MSI 文件的信息，请参阅[如何导出 BizTalk 应用程序](../core/how-to-export-a-biztalk-application.md)。</span><span class="sxs-lookup"><span data-stu-id="b988c-157">For information about converting applications into MSI files, see [How to Export a BizTalk Application](../core/how-to-export-a-biztalk-application.md).</span></span>  
  
### <a name="the-test-solution"></a><span data-ttu-id="b988c-158">测试解决方案</span><span class="sxs-lookup"><span data-stu-id="b988c-158">The Test Solution</span></span>  
 <span data-ttu-id="b988c-159">你将在 BizTalk 管理控制台还三个测试应用程序：**BTSScn.BPM.OrderBrokerApp.Test**， **BTSScn.BPM.CableOrderApp.Test**，和**BTSScn.BPM.MessagingApp.Test**。</span><span class="sxs-lookup"><span data-stu-id="b988c-159">You will also three test applications in the BizTalk Administration Console: **BTSScn.BPM.OrderBrokerApp.Test**, **BTSScn.BPM.CableOrderApp.Test**, and **BTSScn.BPM.MessagingApp.Test**.</span></span> <span data-ttu-id="b988c-160">以下三个应用程序包含仅用于测试应用程序的端口，并且由主应用程序引用。</span><span class="sxs-lookup"><span data-stu-id="b988c-160">These three applications contain only the ports for the test application and are referenced by the main applications.</span></span> <span data-ttu-id="b988c-161">使用此结构，以供主应用程序用来构造测试解决方案，同时分离测试端口与该解决方案在的测试端口。</span><span class="sxs-lookup"><span data-stu-id="b988c-161">This structure allows for the test ports to be used by the main applications to construct a test solution while at the same time decoupling the test ports from the solution.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b988c-162">请参阅</span><span class="sxs-lookup"><span data-stu-id="b988c-162">See Also</span></span>  
 <span data-ttu-id="b988c-163">[业务流程管理解决方案的实施要点](../core/implementation-highlights-of-the-business-process-management-solution.md) </span><span class="sxs-lookup"><span data-stu-id="b988c-163">[Implementation Highlights of the Business Process Management Solution](../core/implementation-highlights-of-the-business-process-management-solution.md) </span></span>  
 [<span data-ttu-id="b988c-164">业务流程管理解决方案中的模式</span><span class="sxs-lookup"><span data-stu-id="b988c-164">Patterns in the Business Process Management Solution</span></span>](../core/patterns-in-the-business-process-management-solution.md)