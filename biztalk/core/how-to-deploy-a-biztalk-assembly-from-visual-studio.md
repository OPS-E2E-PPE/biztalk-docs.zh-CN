---
title: "如何部署 BizTalk 程序集，从 Visual Studio |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 69d70c52-3e71-4eb2-876e-b467c7ca24b7
caps.latest.revision: "39"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 07810f513c3530b214eb1405462db1e6ac96ed84
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
---
# <a name="how-to-deploy-a-biztalk-assembly-from-visual-studio"></a><span data-ttu-id="58be0-102">如何从 Visual Studio 部署 BizTalk 程序集</span><span class="sxs-lookup"><span data-stu-id="58be0-102">How to Deploy a BizTalk Assembly from Visual Studio</span></span>
<span data-ttu-id="58be0-103">本主题说明了使用[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]解决方案资源管理器或[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]命令提示符下，部署将 BizTalk 的程序集[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]到 BizTalk 应用程序。</span><span class="sxs-lookup"><span data-stu-id="58be0-103">This topic provides instructions on using [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] Solution Explorer or the [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] command prompt to deploy the BizTalk assemblies from [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] into a BizTalk application.</span></span> <span data-ttu-id="58be0-104">尽管可以从项目级部署单个程序集（如右键单击项目，然后单击“部署”），也可以从解决方案级一次部署解决方案中的所有程序集（如右键单击解决方案，然后单击“部署”），但我们强烈建议你从解决方案级一次部署所有程序集。</span><span class="sxs-lookup"><span data-stu-id="58be0-104">Although you can deploy a single assembly from the project level (such as by right-clicking the project and clicking Deploy) or deploy all of the assemblies in the solution at once from the solution level (such as by right-clicking the solution and clicking Deploy), we strongly recommend deploying all of the assemblies at once from the solution level.</span></span>  
  
 <span data-ttu-id="58be0-105">对于早期版本的 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]，如果你需要部署解决方案中的多个程序集，并且解决方案中的任一程序集依赖于其他程序集中的任何一个，则必须按照其依赖关系的相反顺序分别部署程序集。</span><span class="sxs-lookup"><span data-stu-id="58be0-105">With previous versions of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], if you wanted to deploy a multiple assemblies in a solution, and any of the assemblies had a dependency on any of the other assemblies, you had to individually deploy the assemblies in the reverse order of their dependencies.</span></span> <span data-ttu-id="58be0-106">例如，如果 Assembly1 依赖于 Assembly2，则必须先部署 Assembly2，然后才能部署 Assembly1。</span><span class="sxs-lookup"><span data-stu-id="58be0-106">For example, if Assembly1 had a dependency on Assembly2, you had to deploy Assembly2 first, and then you could deploy Assembly1.</span></span>  
  
 <span data-ttu-id="58be0-107">从项目级部署程序集时也是这样。</span><span class="sxs-lookup"><span data-stu-id="58be0-107">This is still the case when you deploy assemblies from the project level.</span></span> <span data-ttu-id="58be0-108">但是，对于 [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)]，如果你是从解决方案级部署程序集，而不是从项目级部署，[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 会自动处理好所有的部署步骤，包括按正确的顺序部署程序集。</span><span class="sxs-lookup"><span data-stu-id="58be0-108">With [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)], however, when you deploy assemblies from the solution level rather than the project level, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] automatically takes care of all of the deployment steps, including deploying assemblies in the correct order.</span></span> <span data-ttu-id="58be0-109">因此，为了简化部署，如果另一个程序集依赖于你要部署的程序集，则应该在解决方案级部署程序集。</span><span class="sxs-lookup"><span data-stu-id="58be0-109">Therefore, to simplify deployment, when another assembly has a dependency on the assembly that you are deploying, you should deploy your assemblies at the solution level.</span></span>  
  
 <span data-ttu-id="58be0-110">当你选择了从 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 部署项目或解决方案的选项后，会生成一个或多个程序集，并部署到本地 BizTalk 组中的指定 BizTalk 应用程序中。</span><span class="sxs-lookup"><span data-stu-id="58be0-110">When you select the option to deploy a project or solution from within [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], the assembly or assemblies are automatically built and deployed into the specified BizTalk application in the local BizTalk group.</span></span> <span data-ttu-id="58be0-111">如果该应用程序在组中不存在，则部署操作也会创建该应用程序。</span><span class="sxs-lookup"><span data-stu-id="58be0-111">If the application does not already exist in the group, deployment also creates the application.</span></span> <span data-ttu-id="58be0-112">程序集及其包含的项目将被注册，并且其数据存储在 BizTalk 组的 BizTalk 管理（配置）数据库中。</span><span class="sxs-lookup"><span data-stu-id="58be0-112">The assemblies and the artifacts they contain are registered and their data stored in the BizTalk Management (configuration) database for the BizTalk group.</span></span> <span data-ttu-id="58be0-113">此外，如果在项目的部署属性中指定此选项，程序集将被添加到全局程序集缓存 (GAC)。</span><span class="sxs-lookup"><span data-stu-id="58be0-113">In addition, if you specify this option in deployment properties for the project, the assemblies are added to the global assembly cache (GAC).</span></span>  
  
 <span data-ttu-id="58be0-114">“项目”是 BizTalk 应用程序中包括的任何项，包括你在 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 中使用的资源，如程序集、业务流程以及你在部署应用程序后稍后再创建或添加的其他项，如发送端口和接收端口、证书和脚本。</span><span class="sxs-lookup"><span data-stu-id="58be0-114">An "artifact" is any item included in a BizTalk application, including resources you work with in [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], such as assemblies and orchestrations as well as other items you create or add later after deploying the application, such as send and receive ports, certificates, and scripts.</span></span> <span data-ttu-id="58be0-115">在部署程序集后，你可以在 [!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)] 控制台的“应用程序”节点中查看和管理其项目。</span><span class="sxs-lookup"><span data-stu-id="58be0-115">After the assembly has been deployed, you can view and manage its artifacts in the Applications node of [!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)] console.</span></span> <span data-ttu-id="58be0-116">每个应用程序存储在自己的文件夹中，其子文件夹显示应用程序中的项目。</span><span class="sxs-lookup"><span data-stu-id="58be0-116">Each application is stored in its own folder, with subfolders displaying the artifacts in the application.</span></span> <span data-ttu-id="58be0-117">有关详细信息，请参阅[使用 BizTalk Server 管理控制台](../core/using-the-biztalk-server-administration-console.md)。</span><span class="sxs-lookup"><span data-stu-id="58be0-117">For more information, see [Using the BizTalk Server Administration Console](../core/using-the-biztalk-server-administration-console.md).</span></span> <span data-ttu-id="58be0-118">有关创建和管理应用程序的详细信息，请参阅[部署和管理 BizTalk 应用程序](../core/deploying-and-managing-biztalk-applications.md)。</span><span class="sxs-lookup"><span data-stu-id="58be0-118">For more information about creating and managing applications, see [Deploying and Managing BizTalk Applications](../core/deploying-and-managing-biztalk-applications.md).</span></span>  
  
 <span data-ttu-id="58be0-119">部署程序集之前，必须执行以下步骤：</span><span class="sxs-lookup"><span data-stu-id="58be0-119">Before you deploy an assembly, you must take the following steps:</span></span>  
  
-   <span data-ttu-id="58be0-120">创建强名称程序集密钥文件并将其分配给每个项目中所述[如何配置一个强名称程序集密钥文件](../core/how-to-configure-a-strong-name-assembly-key-file.md)。</span><span class="sxs-lookup"><span data-stu-id="58be0-120">Create a strong name assembly key file and assigned it to each project, as described in [How to Configure a Strong Name Assembly Key File](../core/how-to-configure-a-strong-name-assembly-key-file.md).</span></span>  
  
-   <span data-ttu-id="58be0-121">设置为项目的部署属性中所述[如何在 Visual Studio 中设置部署属性](../core/how-to-set-deployment-properties-in-visual-studio.md)。</span><span class="sxs-lookup"><span data-stu-id="58be0-121">Set deployment properties for the project, as described in [How to Set Deployment Properties in Visual Studio](../core/how-to-set-deployment-properties-in-visual-studio.md).</span></span>  
  
-   <span data-ttu-id="58be0-122">如果以前已部署了程序集，请为项目启用重新部署选项。</span><span class="sxs-lookup"><span data-stu-id="58be0-122">If you have previously deployed the assembly, enable the redeployment option for the project.</span></span> <span data-ttu-id="58be0-123">有关说明以及有关重新部署的其他重要信息，请参阅[如何重新部署 BizTalk 程序集从 Visual Studio](../core/how-to-redeploy-a-biztalk-assembly-from-visual-studio.md)。</span><span class="sxs-lookup"><span data-stu-id="58be0-123">For instructions and other important information about redeployment, see [How to Redeploy a BizTalk Assembly from Visual Studio](../core/how-to-redeploy-a-biztalk-assembly-from-visual-studio.md).</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="58be0-124">勿在生产计算机上执行本主题中说明的任务。</span><span class="sxs-lookup"><span data-stu-id="58be0-124">You should never perform the tasks described in this topic on a production computer.</span></span> <span data-ttu-id="58be0-125">在开发过程中，开发人员经常需要重新部署 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 中的程序集。</span><span class="sxs-lookup"><span data-stu-id="58be0-125">During the development process, the developer often must redeploy assemblies from [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)].</span></span> <span data-ttu-id="58be0-126">为了进行重新部署，[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 会对相同或不同应用程序中存在的项目取消部署、取消绑定、停止并取消登记。</span><span class="sxs-lookup"><span data-stu-id="58be0-126">To enable the redeployment, [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] may undeploy, unbind, stop, and unenlist artifacts that exist in the same or different applications.</span></span> <span data-ttu-id="58be0-127">虽然在部署环境中这样做是必要和适当的，但在生产环境中会产生意外和不需要的结果。</span><span class="sxs-lookup"><span data-stu-id="58be0-127">Although this is necessary and appropriate in the development environment, it can cause unexpected and undesired consequences in a production environment.</span></span> <span data-ttu-id="58be0-128">另外，为了避免有人尝试在生产计算机上部署 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 中的程序集，建议你不要在生产计算机上安装 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="58be0-128">In addition, to avoid the possibility of anyone's attempting to deploy an assembly from [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] on a production computer, we recommend that you not install [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] on a production computer.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="58be0-129">默认情况下，.NET Framework 运行时安全策略可防止从网络共享部署程序集。</span><span class="sxs-lookup"><span data-stu-id="58be0-129">.NET Framework runtime security policy prevents deploying assemblies from a network share by default.</span></span> <span data-ttu-id="58be0-130">如果你尝试从网络共享部署程序集并遇到困难，请与 .NET Framework 安全管理员联系，或者参阅 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 联合帮助集中的“Security Policy Management”（安全策略管理）。</span><span class="sxs-lookup"><span data-stu-id="58be0-130">If you attempt to deploy an assembly from a network share and experience difficulty, see your .NET Framework security administrator, or consult "Security Policy Management" in the [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] Combined Collection.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="58be0-131">先决条件</span><span class="sxs-lookup"><span data-stu-id="58be0-131">Prerequisites</span></span>  
 <span data-ttu-id="58be0-132">为了执行本主题中的过程，你必须以 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators 组成员的帐户登录。</span><span class="sxs-lookup"><span data-stu-id="58be0-132">To perform the procedures in this topic, you must be logged with an account that is a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group.</span></span> <span data-ttu-id="58be0-133">如果是，在**部署**属性，你已启用了选项，将程序集安装到全局程序集缓存 (GAC) 中，则你还需要在 gac 中的读/写权限。</span><span class="sxs-lookup"><span data-stu-id="58be0-133">If, in **Deployment** properties, you have enabled the option to install an assembly to the global assembly cache (GAC), then you also need Read/Write permissions on the GAC.</span></span> <span data-ttu-id="58be0-134">本地计算机的管理员帐户拥有此权限。</span><span class="sxs-lookup"><span data-stu-id="58be0-134">The Administrators account on the local computer has this permission.</span></span> <span data-ttu-id="58be0-135">有关更多详细权限的信息，请参阅[用于部署和管理 BizTalk 应用程序所需权限](../core/permissions-required-for-deploying-and-managing-a-biztalk-application.md)。</span><span class="sxs-lookup"><span data-stu-id="58be0-135">For more detailed information on permissions, see [Permissions Required for Deploying and Managing a BizTalk Application](../core/permissions-required-for-deploying-and-managing-a-biztalk-application.md).</span></span>  
  
## <a name="to-deploy-a-biztalk-assembly-or-assemblies"></a><span data-ttu-id="58be0-136">部署一个或多个 BizTalk 程序集</span><span class="sxs-lookup"><span data-stu-id="58be0-136">To deploy a BizTalk assembly or assemblies</span></span>  
  
#### <a name="using-visual-studio-solution-explorer"></a><span data-ttu-id="58be0-137">使用 Visual Studio 解决方案资源管理器</span><span class="sxs-lookup"><span data-stu-id="58be0-137">Using Visual Studio Solution Explorer</span></span>  
  
-   <span data-ttu-id="58be0-138">在[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]解决方案资源管理器，右键单击 BizTalk 项目或解决方案中，然后单击**部署**。</span><span class="sxs-lookup"><span data-stu-id="58be0-138">In [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] Solution Explorer, right-click a BizTalk project or solution, and then click **Deploy**.</span></span>  
  
     <span data-ttu-id="58be0-139">项目中的程序集或解决方案中的程序集将部署到指定的 BizTalk 应用程序中。</span><span class="sxs-lookup"><span data-stu-id="58be0-139">The assembly in the project or assemblies in the solution are deployed into the specified BizTalk application.</span></span> <span data-ttu-id="58be0-140">生成和部署过程的状态显示在该页的左下角中。</span><span class="sxs-lookup"><span data-stu-id="58be0-140">The status of the build and deployment process displays in the lower left corner of the page.</span></span>  
  
#### <a name="using-the-visual-studio-command-prompt"></a><span data-ttu-id="58be0-141">使用 Visual Studio 命令提示</span><span class="sxs-lookup"><span data-stu-id="58be0-141">Using the Visual Studio command prompt</span></span>  
  
1.  <span data-ttu-id="58be0-142">启动**Visual Studio 命令提示**。</span><span class="sxs-lookup"><span data-stu-id="58be0-142">Start **Visual Studio Command Prompt**.</span></span>  
  
2.  <span data-ttu-id="58be0-143">键入以下命令，替换为适当的值下, 表中所述：</span><span class="sxs-lookup"><span data-stu-id="58be0-143">Type the following command, substituting the appropriate values, as described in the following table:</span></span>  
  
     <span data-ttu-id="58be0-144">**devenv / 部署***SolnConfigName* *SolutionName* [**/项目** *ProjName*] [**/projectconfig** *ProjConfigName*]  </span><span class="sxs-lookup"><span data-stu-id="58be0-144">**devenv /deploy**  *SolnConfigName* *SolutionName* [**/project** *ProjName*] [**/projectconfig** *ProjConfigName*]</span></span>  
  
     <span data-ttu-id="58be0-145">例如：</span><span class="sxs-lookup"><span data-stu-id="58be0-145">Example:</span></span>  
  
     <span data-ttu-id="58be0-146">**devenv / 部署"C:\Documents 和 Settings\someuser\My Documents\Visual Studio\Projects\MySolution\MySolution.sln"版本 / 项目"MyBizTalkApp\MyBizTalkApp.csproj"projectconfig 版本**</span><span class="sxs-lookup"><span data-stu-id="58be0-146">**devenv /deploy Release "C:\Documents and Settings\someuser\My Documents\Visual Studio\Projects\MySolution\MySolution.sln" /project "MyBizTalkApp\MyBizTalkApp.csproj" projectconfig Release**</span></span>  
  
    |<span data-ttu-id="58be0-147">参数</span><span class="sxs-lookup"><span data-stu-id="58be0-147">Parameter</span></span>|<span data-ttu-id="58be0-148">值</span><span class="sxs-lookup"><span data-stu-id="58be0-148">Value</span></span>|  
    |---------------|-----------|  
    |<span data-ttu-id="58be0-149">**/ 部署**</span><span class="sxs-lookup"><span data-stu-id="58be0-149">**/deploy**</span></span>|<span data-ttu-id="58be0-150">生成或重新生成后部署解决方案。</span><span class="sxs-lookup"><span data-stu-id="58be0-150">Deploys a solution after a build or rebuild.</span></span>|  
    |<span data-ttu-id="58be0-151">*SolnConfigName*</span><span class="sxs-lookup"><span data-stu-id="58be0-151">*SolnConfigName*</span></span>|<span data-ttu-id="58be0-152">用于生成 SolutionName 中指定的解决方案的解决方案配置的名称。</span><span class="sxs-lookup"><span data-stu-id="58be0-152">Name of the solution configuration that will be used to build the solution named in SolutionName.</span></span>|  
    |<span data-ttu-id="58be0-153">*解决方案名称*</span><span class="sxs-lookup"><span data-stu-id="58be0-153">*SolutionName*</span></span>|<span data-ttu-id="58be0-154">解决方案文件的完整路径和名称。</span><span class="sxs-lookup"><span data-stu-id="58be0-154">Full path and name of the solution file.</span></span>|  
    |<span data-ttu-id="58be0-155">**/ 项目***ProjName* </span><span class="sxs-lookup"><span data-stu-id="58be0-155">**/project**  *ProjName*</span></span>|<span data-ttu-id="58be0-156">解决方案内的项目文件的路径和名称。</span><span class="sxs-lookup"><span data-stu-id="58be0-156">Path and name of the project file within the solution.</span></span> <span data-ttu-id="58be0-157">可以输入从 SolutionName 文件夹到项目文件的相对路径、项目的显示名称或项目文件的完整路径和名称。</span><span class="sxs-lookup"><span data-stu-id="58be0-157">You can enter a relative path from the SolutionName folder to the project file, or the project's display name, or the full path and name of the project file.</span></span>|  
    |<span data-ttu-id="58be0-158">**/projectconfig***ProjConfigName* </span><span class="sxs-lookup"><span data-stu-id="58be0-158">**/projectconfig**  *ProjConfigName*</span></span>|<span data-ttu-id="58be0-159">在生成项目时要使用的项目生成配置的名称。</span><span class="sxs-lookup"><span data-stu-id="58be0-159">Name of a project build configuration to be used when building the project.</span></span>|  
  
     <span data-ttu-id="58be0-160">第一次部署包含业务流程的程序集时，可能收到通知你绑定文件中不包含该业务流程的警告消息。</span><span class="sxs-lookup"><span data-stu-id="58be0-160">The first time you deploy an assembly containing an orchestration, you may receive a warning message that the orchestration is not contained in the binding file.</span></span> <span data-ttu-id="58be0-161">这是因为在部署后业务流程没有自动绑定到主机。</span><span class="sxs-lookup"><span data-stu-id="58be0-161">This is because orchestrations are not automatically bound to the host upon deployment.</span></span> <span data-ttu-id="58be0-162">你必须手动执行此步骤。</span><span class="sxs-lookup"><span data-stu-id="58be0-162">You must perform this step manually.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="58be0-163">另请参阅</span><span class="sxs-lookup"><span data-stu-id="58be0-163">See Also</span></span>  
 [<span data-ttu-id="58be0-164">部署到 BizTalk 应用程序从 Visual Studio BizTalk 程序集</span><span class="sxs-lookup"><span data-stu-id="58be0-164">Deploying BizTalk Assemblies from Visual Studio into a BizTalk Application</span></span>](../core/deploying-biztalk-assemblies-from-visual-studio-into-a-biztalk-application.md)