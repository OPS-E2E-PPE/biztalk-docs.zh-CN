---
title: "部署来自 Visual Studio 的程序集时，会发生什么情况 |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 421df529-1ddb-4f49-a40a-c06f2a434ffc
caps.latest.revision: "10"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 66454d80d702cc6b3ca20708b07fd64cdfcb00d6
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
---
# <a name="what-happens-when-you-deploy-an-assembly-from-visual-studio"></a><span data-ttu-id="01b42-102">部署来自 Visual Studio 的程序集时，会发生什么情况</span><span class="sxs-lookup"><span data-stu-id="01b42-102">What Happens When You Deploy an Assembly from Visual Studio</span></span>
<span data-ttu-id="01b42-103">本主题介绍将程序集从 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 部署到 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 上的 BizTalk 应用程序时所发生的情况。</span><span class="sxs-lookup"><span data-stu-id="01b42-103">This topic describes what happens when you deploy assemblies from [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] into a BizTalk application on [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>  
  
 <span data-ttu-id="01b42-104">可以选择逐个部署项目，也可以同时部署某个解决方案中的所有项目。</span><span class="sxs-lookup"><span data-stu-id="01b42-104">You can deploy a project individually, or you can deploy all of the projects in a solution at the same time.</span></span> <span data-ttu-id="01b42-105">部署项目前, 单独或作为解决方案的一部分，你指定要将在项目属性中，其程序集部署到应用程序中所述[如何在 Visual Studio 中设置部署属性](../core/how-to-set-deployment-properties-in-visual-studio.md)。</span><span class="sxs-lookup"><span data-stu-id="01b42-105">Before deploying a project, either separately or as part of a solution, you specify the application into which to deploy its assembly in project properties, as described in [How to Set Deployment Properties in Visual Studio](../core/how-to-set-deployment-properties-in-visual-studio.md).</span></span> <span data-ttu-id="01b42-106">在 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 中部属项目或解决方案时，这些程序集将自动生成并且部署到指定的应用程序中。</span><span class="sxs-lookup"><span data-stu-id="01b42-106">When you deploy a project or solution in [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], the assemblies are automatically built and deployed into the specified application.</span></span> <span data-ttu-id="01b42-107">如果本地 BizTalk 组中的现有应用程序与项目属性中指定的应用程序同名，程序集将部署到现有应用程序中；如果不同名，将创建一个具有指定名称的新应用程序，程序集将部署到其中。</span><span class="sxs-lookup"><span data-stu-id="01b42-107">If an existing application in the local BizTalk group has the same name as the application specified in project properties, the assembly is deployed into the existing application; otherwise, a new application having the specified name is created and assembly is deployed into it.</span></span> <span data-ttu-id="01b42-108">在此过程中，程序集连同它所包含的业务流程、管道、架构和映射（称为“项目”）将导入本地 BizTalk 管理数据库，并在该数据库中与指定的应用程序建立关联。</span><span class="sxs-lookup"><span data-stu-id="01b42-108">As part of this process, the assembly along with the orchestrations, pipelines, schemas, and maps that it contains (called "artifacts") are imported into the local BizTalk Management database and associated in the database with the specified application.</span></span>  
  
 <span data-ttu-id="01b42-109">即便同时部署某解决方案中的各个项目，也可以选择将这些项目部署到相同或不同的 BizTalk 应用程序中。</span><span class="sxs-lookup"><span data-stu-id="01b42-109">You can deploy the projects in a solution into the same BizTalk application or different BizTalk applications, even when you deploy the projects in a solution at the same time.</span></span> <span data-ttu-id="01b42-110">下图显示了如何将 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 中的某个 BizTalk 解决方案所含的三个程序集部署到两个不同的 BizTalk 应用程序中。</span><span class="sxs-lookup"><span data-stu-id="01b42-110">The following diagram illustrates deploying three assemblies contained in a BizTalk solution in [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] into two different BizTalk applications.</span></span>  
  
 <span data-ttu-id="01b42-111">![部署 BizTalk 程序集](../core/media/visualstudiodeploy.gif "VisualStudioDeploy")</span><span class="sxs-lookup"><span data-stu-id="01b42-111">![Deploy BizTalk assemblies](../core/media/visualstudiodeploy.gif "VisualStudioDeploy")</span></span>  
  
 <span data-ttu-id="01b42-112">在部署项目或解决方案后，您可以在 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理控制台内部或者使用 BTSTask 命令行工具查看和管理程序集及其项目。</span><span class="sxs-lookup"><span data-stu-id="01b42-112">After you deploy a project or solution, you can view and manage the assemblies and their artifacts from within the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console or by using the BTSTask command-line tool.</span></span>  
  
## <a name="destination-locations"></a><span data-ttu-id="01b42-113">目标位置</span><span class="sxs-lookup"><span data-stu-id="01b42-113">Destination Locations</span></span>  
 <span data-ttu-id="01b42-114">从 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 部署程序集时，程序集的目标位置默认为该程序集的源位置。</span><span class="sxs-lookup"><span data-stu-id="01b42-114">When deploying assemblies from [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], the destination location of an assembly defaults to the source location of the assembly.</span></span> <span data-ttu-id="01b42-115">从 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 安装或导出程序集时，如果“源”和“目标”环境不一致，安装将失败。</span><span class="sxs-lookup"><span data-stu-id="01b42-115">When installing or exporting an assembly from [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], if the "from" and "to" environment is not the same, the installation will fail.</span></span> <span data-ttu-id="01b42-116">例如，如果源位置为 D:[路径]/[文件名]，而目标安装计算机没有“D”驱动器，那么安装将失败。</span><span class="sxs-lookup"><span data-stu-id="01b42-116">For example, if the source location is D:[path]/[filename] and the target machine installation machine does not have a "D" drive, the installation will fail.</span></span>  
  
 <span data-ttu-id="01b42-117">此行为不同于使用 BizTalk Administrator 组成员身份添加资源，在后一种情况下，默认目标位置为 %BTAD_InstallDir%。</span><span class="sxs-lookup"><span data-stu-id="01b42-117">This behavior is in contrast to adding a resource using BizTalk Administrator, in which case, the default destination location is %BTAD_InstallDir%.</span></span> <span data-ttu-id="01b42-118">此环境变量将扩展到安装期间指定的安装目录。</span><span class="sxs-lookup"><span data-stu-id="01b42-118">This environment variable expands to the install directory specified during installation.</span></span>  
  
 <span data-ttu-id="01b42-119">若要解决此问题，请使用以下过程：</span><span class="sxs-lookup"><span data-stu-id="01b42-119">To work around this issue, use the following procedure:</span></span>  
  
1.  <span data-ttu-id="01b42-120">在 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 中部署程序集。</span><span class="sxs-lookup"><span data-stu-id="01b42-120">In [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], deploy the assembly.</span></span>  
  
2.  <span data-ttu-id="01b42-121">部署程序集之后，打开 BizTalk Administrator 组。</span><span class="sxs-lookup"><span data-stu-id="01b42-121">After the assembly is deployed, open BizTalk Administrator.</span></span>  
  
3.  <span data-ttu-id="01b42-122">按需修改目标位置。</span><span class="sxs-lookup"><span data-stu-id="01b42-122">Modify the destination location as appropriate.</span></span> <span data-ttu-id="01b42-123">例如，将目标位置改为 %BTAD_InstallDir%。</span><span class="sxs-lookup"><span data-stu-id="01b42-123">For example, change the destination location to %BTAD_InstallDir%.</span></span>  
  
 <span data-ttu-id="01b42-124">一旦修改了目标位置，这一新位置将用作后续重新部署同一程序集时的默认位置。</span><span class="sxs-lookup"><span data-stu-id="01b42-124">Once you modify the destination location, this new location will be used as default for subsequent redeploys of the same assembly.</span></span>  
  
 <span data-ttu-id="01b42-125">有关详细信息，请参阅[如何部署 BizTalk 程序集，从 Visual Studio](../core/how-to-deploy-a-biztalk-assembly-from-visual-studio.md)。</span><span class="sxs-lookup"><span data-stu-id="01b42-125">For more information, see [How to Deploy a BizTalk Assembly from Visual Studio](../core/how-to-deploy-a-biztalk-assembly-from-visual-studio.md).</span></span>  
  
## <a name="deploying-solutions-vs-projects"></a><span data-ttu-id="01b42-126">部署解决方案 vs。项目</span><span class="sxs-lookup"><span data-stu-id="01b42-126">Deploying Solutions vs. Projects</span></span>  
 <span data-ttu-id="01b42-127">我们强烈建议您始终部署解决方案而不是单个项目。</span><span class="sxs-lookup"><span data-stu-id="01b42-127">We strongly recommend that you always deploy a solution rather than an individual project.</span></span> <span data-ttu-id="01b42-128">如果您部署的是单个项目而正在部署的程序集与其他程序集之间存在依存关系，则必须采取若干手动步骤来完成部署。</span><span class="sxs-lookup"><span data-stu-id="01b42-128">When you deploy an individual project and there are dependencies between an assembly you are deploying and another assembly, you must take a number of manual steps to complete the deployment.</span></span> <span data-ttu-id="01b42-129">但如果部署的是解决方案，[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 将自动采取管理程序集之间的依存关系所需的所有步骤。</span><span class="sxs-lookup"><span data-stu-id="01b42-129">When you deploy a solution, however, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] automatically take all of the steps to manage dependencies between assemblies.</span></span> <span data-ttu-id="01b42-130">有关详细信息，请参阅[如何重新部署 BizTalk 程序集从 Visual Studio](../core/how-to-redeploy-a-biztalk-assembly-from-visual-studio.md)。</span><span class="sxs-lookup"><span data-stu-id="01b42-130">For more information, see [How to Redeploy a BizTalk Assembly from Visual Studio](../core/how-to-redeploy-a-biztalk-assembly-from-visual-studio.md).</span></span>  
  
 <span data-ttu-id="01b42-131">下图显示了部署解决方案时，[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 为重新部署具有依存关系的各个程序集而采取的步骤。</span><span class="sxs-lookup"><span data-stu-id="01b42-131">The following diagram illustrates the steps that [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] takes to redeploy assemblies that have dependencies when you deploy a solution.</span></span>  
  
 <span data-ttu-id="01b42-132">![部署解决方案中的程序集](../core/media/deployassemblies.gif "DeployAssemblies")</span><span class="sxs-lookup"><span data-stu-id="01b42-132">![Deploying assemblies in a solution](../core/media/deployassemblies.gif "DeployAssemblies")</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="01b42-133">另请参阅</span><span class="sxs-lookup"><span data-stu-id="01b42-133">See Also</span></span>  
 [<span data-ttu-id="01b42-134">部署到 BizTalk 应用程序从 Visual Studio BizTalk 程序集</span><span class="sxs-lookup"><span data-stu-id="01b42-134">Deploying BizTalk Assemblies from Visual Studio into a BizTalk Application</span></span>](../core/deploying-biztalk-assemblies-from-visual-studio-into-a-biztalk-application.md)