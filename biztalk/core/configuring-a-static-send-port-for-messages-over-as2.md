---
title: "通过 AS2 消息配置静态发送端口 |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 2708d6a9-b105-42d3-abe3-7085b39da55a
caps.latest.revision: "19"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 068b7d8295710157af7a8a7358768e85e006beb8
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/28/2017
---
# <a name="configuring-a-static-send-port-for-messages-over-as2"></a><span data-ttu-id="0e4a4-102">通过 AS2 消息配置静态发送端口</span><span class="sxs-lookup"><span data-stu-id="0e4a4-102">Configuring a Static Send Port for Messages over AS2</span></span>
<span data-ttu-id="0e4a4-103">本主题介绍如何配置 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 以通过静态发送端口发送 AS2 消息。</span><span class="sxs-lookup"><span data-stu-id="0e4a4-103">This topic describes how to configure [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to send AS2 messages over a static send port.</span></span> <span data-ttu-id="0e4a4-104">该配置包括创建静态发送端口和配置协议。</span><span class="sxs-lookup"><span data-stu-id="0e4a4-104">This configuration includes creating the static send port and configuring the agreement.</span></span> <span data-ttu-id="0e4a4-105">如果需要，还将设置要由发送端口使用的加密证书。</span><span class="sxs-lookup"><span data-stu-id="0e4a4-105">If required, you will also set up an encryption certiticate to be used by the send port.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0e4a4-106">可以配置动态发送端口而不是静态发送端口以发送 AS2 消息。</span><span class="sxs-lookup"><span data-stu-id="0e4a4-106">You can configure a dynamic send port to send AS2 messages, instead of a static send port.</span></span> <span data-ttu-id="0e4a4-107">有关详细信息，请参阅[配置通过 AS2 消息动态发送端口](../core/configuring-a-dynamic-send-port-for-messages-over-as2.md)。</span><span class="sxs-lookup"><span data-stu-id="0e4a4-107">For more information, see [Configuring a Dynamic Send Port for Messages over AS2](../core/configuring-a-dynamic-send-port-for-messages-over-as2.md).</span></span>  
  
 <span data-ttu-id="0e4a4-108">若要发送带有 EDI 或非 EDI 消息或者 EDI 确认的 AS2 消息，请通过以下配置创建要求响应 HTTP 发送端口：</span><span class="sxs-lookup"><span data-stu-id="0e4a4-108">To send an AS2 message with an EDI or non-EDI message or an EDI acknowledgment, create a solicit response HTTP send port with the following configuration:</span></span>  
  
|<span data-ttu-id="0e4a4-109">位置</span><span class="sxs-lookup"><span data-stu-id="0e4a4-109">Location</span></span>|<span data-ttu-id="0e4a4-110">属性</span><span class="sxs-lookup"><span data-stu-id="0e4a4-110">Property</span></span>|<span data-ttu-id="0e4a4-111">设置</span><span class="sxs-lookup"><span data-stu-id="0e4a4-111">Setting</span></span>|  
|--------------|--------------|-------------|  
|<span data-ttu-id="0e4a4-112">**发送端口属性： 常规**</span><span class="sxs-lookup"><span data-stu-id="0e4a4-112">**Send Port Properties: General**</span></span>|<span data-ttu-id="0e4a4-113">端口类型</span><span class="sxs-lookup"><span data-stu-id="0e4a4-113">Port Type</span></span>|<span data-ttu-id="0e4a4-114">-静态要求响应 (如果在请求 MDN**确认 (Mdn)**的单向协议选项卡中的页处于选定状态)</span><span class="sxs-lookup"><span data-stu-id="0e4a4-114">- Static Solicit Response (if Request MDN in **Acknowledgements (MDNs)** page in the one-way agreement tab is selected)</span></span><br /><br /> <span data-ttu-id="0e4a4-115">-静态单向发送端口 (如果在请求 MDN**确认 (Mdn)**清除的单向协议选项卡中的页)</span><span class="sxs-lookup"><span data-stu-id="0e4a4-115">- Static One-way Send Port (if Request MDN in **Acknowledgements (MDNs)** page in the one-way agreement tab is cleared)</span></span>|  
|<span data-ttu-id="0e4a4-116">**发送端口属性： 常规**</span><span class="sxs-lookup"><span data-stu-id="0e4a4-116">**Send Port Properties: General**</span></span>|<span data-ttu-id="0e4a4-117">传输类型</span><span class="sxs-lookup"><span data-stu-id="0e4a4-117">Transport Type</span></span>|<span data-ttu-id="0e4a4-118">HTTP</span><span class="sxs-lookup"><span data-stu-id="0e4a4-118">HTTP</span></span><br /><br /> <span data-ttu-id="0e4a4-119">注意：</span><span class="sxs-lookup"><span data-stu-id="0e4a4-119">Note:</span></span><br /><br /> <span data-ttu-id="0e4a4-120">只有 HTTP 适配器可用于传输 EDIINT/AS2 编码消息。</span><span class="sxs-lookup"><span data-stu-id="0e4a4-120">Only the HTTP adapter can be used for transporting EDIINT/AS2-encoded messages.</span></span> <span data-ttu-id="0e4a4-121">此传输不能用于除 HTTP 适配器之外的其他适配器。</span><span class="sxs-lookup"><span data-stu-id="0e4a4-121">This transport will not work with an adapter other than the HTTP adapter.</span></span>|  
|<span data-ttu-id="0e4a4-122">**发送端口属性： 常规**</span><span class="sxs-lookup"><span data-stu-id="0e4a4-122">**Send Port Properties: General**</span></span>|<span data-ttu-id="0e4a4-123">发送处理程序</span><span class="sxs-lookup"><span data-stu-id="0e4a4-123">Send handler</span></span>|<span data-ttu-id="0e4a4-124">BizTalkServerApplication</span><span class="sxs-lookup"><span data-stu-id="0e4a4-124">BizTalkServerApplication</span></span>|  
|<span data-ttu-id="0e4a4-125">**发送端口属性： 常规**</span><span class="sxs-lookup"><span data-stu-id="0e4a4-125">**Send Port Properties: General**</span></span>|<span data-ttu-id="0e4a4-126">发送管道</span><span class="sxs-lookup"><span data-stu-id="0e4a4-126">Send pipeline</span></span>|<span data-ttu-id="0e4a4-127">-AS2EdiSend （对于 EDI 编码消息）</span><span class="sxs-lookup"><span data-stu-id="0e4a4-127">- AS2EdiSend (for EDI-encoded messages)</span></span><br /><br /> <span data-ttu-id="0e4a4-128">-AS2Send （对于非 EDI 消息）</span><span class="sxs-lookup"><span data-stu-id="0e4a4-128">- AS2Send (for non-EDI messages)</span></span>|  
|<span data-ttu-id="0e4a4-129">**发送端口属性： 常规**</span><span class="sxs-lookup"><span data-stu-id="0e4a4-129">**Send Port Properties: General**</span></span>|<span data-ttu-id="0e4a4-130">接收处理程序</span><span class="sxs-lookup"><span data-stu-id="0e4a4-130">Receive handler</span></span><br /><br /> <span data-ttu-id="0e4a4-131">(如果在请求 MDN**确认 (Mdn)**的单向协议选项卡中的页处于选定状态)</span><span class="sxs-lookup"><span data-stu-id="0e4a4-131">(if Request MDN in **Acknowledgements (MDNs)** page in the one-way agreement tab is selected)</span></span>|<span data-ttu-id="0e4a4-132">BizTalkServerApplication</span><span class="sxs-lookup"><span data-stu-id="0e4a4-132">BizTalkServerApplication</span></span>|  
|<span data-ttu-id="0e4a4-133">**发送端口属性： 常规**</span><span class="sxs-lookup"><span data-stu-id="0e4a4-133">**Send Port Properties: General**</span></span>|<span data-ttu-id="0e4a4-134">接收管道</span><span class="sxs-lookup"><span data-stu-id="0e4a4-134">Receive pipeline</span></span><br /><br /> <span data-ttu-id="0e4a4-135">(如果在请求 MDN**确认 (Mdn)**的单向协议选项卡中的页处于选定状态)</span><span class="sxs-lookup"><span data-stu-id="0e4a4-135">(if Request MDN in **Acknowledgements (MDNs)** page in the one-way agreement tab is selected)</span></span>|<span data-ttu-id="0e4a4-136">AS2Receive</span><span class="sxs-lookup"><span data-stu-id="0e4a4-136">AS2Receive</span></span>|  
|<span data-ttu-id="0e4a4-137">**HTTP 传输属性**</span><span class="sxs-lookup"><span data-stu-id="0e4a4-137">**HTTP Transport Properties**</span></span>|<span data-ttu-id="0e4a4-138">目标 URL</span><span class="sxs-lookup"><span data-stu-id="0e4a4-138">Destination URL</span></span>|<span data-ttu-id="0e4a4-139">\<目标 URL 字符串\></span><span class="sxs-lookup"><span data-stu-id="0e4a4-139">\<Destination URL string\></span></span>|  
|<span data-ttu-id="0e4a4-140">**HTTP 传输属性**</span><span class="sxs-lookup"><span data-stu-id="0e4a4-140">**HTTP Transport Properties**</span></span>|<span data-ttu-id="0e4a4-141">启用 Chunked 编码</span><span class="sxs-lookup"><span data-stu-id="0e4a4-141">Enable chunked encoding</span></span>|<span data-ttu-id="0e4a4-142">已清除</span><span class="sxs-lookup"><span data-stu-id="0e4a4-142">Cleared</span></span>|  
|<span data-ttu-id="0e4a4-143">**发送端口属性： 筛选器**</span><span class="sxs-lookup"><span data-stu-id="0e4a4-143">**Send Port Properties: Filters**</span></span>|<span data-ttu-id="0e4a4-144">属性</span><span class="sxs-lookup"><span data-stu-id="0e4a4-144">Property</span></span>|<span data-ttu-id="0e4a4-145">BTS.MessageType</span><span class="sxs-lookup"><span data-stu-id="0e4a4-145">BTS.MessageType</span></span><br /><br /> <span data-ttu-id="0e4a4-146">注意：</span><span class="sxs-lookup"><span data-stu-id="0e4a4-146">Note:</span></span><br /><br /> <span data-ttu-id="0e4a4-147">可以使用各种筛选器表达式，包括使用 BTS.ReceivePortName。</span><span class="sxs-lookup"><span data-stu-id="0e4a4-147">You can use a variety of filter expression, including using BTS.ReceivePortName.</span></span><br /><br /> <span data-ttu-id="0e4a4-148">注意：</span><span class="sxs-lookup"><span data-stu-id="0e4a4-148">Note:</span></span><br /><br /> <span data-ttu-id="0e4a4-149">对于非 EDI 消息，必须对不同属性进行筛选。</span><span class="sxs-lookup"><span data-stu-id="0e4a4-149">For non-EDI messages, you will have to filter on a different property)</span></span>|  
|<span data-ttu-id="0e4a4-150">**发送端口属性： 筛选器**</span><span class="sxs-lookup"><span data-stu-id="0e4a4-150">**Send Port Properties: Filters**</span></span>|<span data-ttu-id="0e4a4-151">运算符</span><span class="sxs-lookup"><span data-stu-id="0e4a4-151">Operator</span></span>|==|  
|<span data-ttu-id="0e4a4-152">**发送端口属性： 筛选器**</span><span class="sxs-lookup"><span data-stu-id="0e4a4-152">**Send Port Properties: Filters**</span></span>|<span data-ttu-id="0e4a4-153">值</span><span class="sxs-lookup"><span data-stu-id="0e4a4-153">Value</span></span>|<span data-ttu-id="0e4a4-154">- `http://schemas.microsoft.com/BizTalk/EDI/X12/2006#<schema name>`（对于 EDI 消息）</span><span class="sxs-lookup"><span data-stu-id="0e4a4-154">- `http://schemas.microsoft.com/BizTalk/EDI/X12/2006#<schema name>` (for an EDI message)</span></span><br /><br /> <span data-ttu-id="0e4a4-155">-                   `http://schemas.microsoft.com/Edi/X12#X12_<997 or TA1>_Root`(对于 X12 确认)</span><span class="sxs-lookup"><span data-stu-id="0e4a4-155">-                   `http://schemas.microsoft.com/Edi/X12#X12_<997 or TA1>_Root` (for an X12 acknowledgment)</span></span><br /><br /> <span data-ttu-id="0e4a4-156">-                   `http://schemas.microsoft.com/Edi/Efact#Efact_Contrl_Root`（对于 EDIFACT 确认）</span><span class="sxs-lookup"><span data-stu-id="0e4a4-156">-                   `http://schemas.microsoft.com/Edi/Efact#Efact_Contrl_Root` (for an EDIFACT acknowledgment)</span></span>|  
|<span data-ttu-id="0e4a4-157">**发送端口属性： 证书**</span><span class="sxs-lookup"><span data-stu-id="0e4a4-157">**Send Port Properties: Certificates**</span></span>|<span data-ttu-id="0e4a4-158">公用名和指纹</span><span class="sxs-lookup"><span data-stu-id="0e4a4-158">Common Name  and thumbprint</span></span>|<span data-ttu-id="0e4a4-159">如果对出站 AS2 消息使用加密证书，请输入证书名称和指纹。</span><span class="sxs-lookup"><span data-stu-id="0e4a4-159">Enter the certificate name and thumbprint if using an encryption certificate for the outbound AS2 message.</span></span>|  
  
## <a name="prerequisites"></a><span data-ttu-id="0e4a4-160">先决条件</span><span class="sxs-lookup"><span data-stu-id="0e4a4-160">Prerequisites</span></span>  
 <span data-ttu-id="0e4a4-161">你必须以 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理员组成员的身份登录。</span><span class="sxs-lookup"><span data-stu-id="0e4a4-161">You must be logged on as a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group.</span></span>  
  
### <a name="to-configure-biztalk-server-to-send-as2-messages-over-a-static-send-port"></a><span data-ttu-id="0e4a4-162">将 BizTalk Server 配置为通过静态发送端口发送 AS2 消息</span><span class="sxs-lookup"><span data-stu-id="0e4a4-162">To configure BizTalk Server to send AS2 messages over a static send port</span></span>  
  
1.  <span data-ttu-id="0e4a4-163">在 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理控制台中，创建具有以上配置的静态单向或要求响应发送端口。</span><span class="sxs-lookup"><span data-stu-id="0e4a4-163">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, create a static one-way or solicit response send port with the above configuration.</span></span>  
  
2.  <span data-ttu-id="0e4a4-164">上的发送端口列表中**发送端口**页中的单向协议选项卡**协议属性**对话框框中，输入静态发送端口的名称。</span><span class="sxs-lookup"><span data-stu-id="0e4a4-164">In the send ports list on the **Send Ports** page of the one-way agreement tab in the **Agreement Properties** dialog box, enter the name of the static send port.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="0e4a4-165">设置发送端口后，[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 将能够为出站 AS2 消息执行协议解析。</span><span class="sxs-lookup"><span data-stu-id="0e4a4-165">Setting the send port enables [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to perform agreement resolution for an outbound AS2 message.</span></span>  
  
3.  <span data-ttu-id="0e4a4-166">在**标识符**的单向协议选项卡页**协议属性**对话框框中，设置 AS2-到目标的属性并根据需要在中将其他协议属性不同页**协议属性**对话框。</span><span class="sxs-lookup"><span data-stu-id="0e4a4-166">In the **Identifiers** page of the one-way agreement tab of the **Agreement Properties** dialog box, set the AS2-To property to the destination and then set other agreement properties as required in the different pages of the **Agreement Properties** dialog box.</span></span>  
  
## <a name="functionality"></a><span data-ttu-id="0e4a4-167">功能</span><span class="sxs-lookup"><span data-stu-id="0e4a4-167">Functionality</span></span>  
 <span data-ttu-id="0e4a4-168">发送端口和管道执行以下操作可通过 AS2 发送同步 EDI 或非 EDI 消息或确认并处理返回的 MDN：</span><span class="sxs-lookup"><span data-stu-id="0e4a4-168">The send port and pipeline does the following to send a synchronous EDI or non-EDI message or acknowledgment over AS2 and process the returned MDN:</span></span>  
  
-   <span data-ttu-id="0e4a4-169">如果发送一个 EDI 消息，则通过设置为 `BTS.MessageType` 命名空间（例如，864 消息的架构为 X12_00401_864）的属性 `http://schemas.microsoft.com/BizTalk/EDI/X12/2006` 进行筛选来提取 EDI 消息。</span><span class="sxs-lookup"><span data-stu-id="0e4a4-169">If sending an EDI message, picks up the EDI message by filtering on the property `BTS.MessageType` set to the message schema in the `http://schemas.microsoft.com/BizTalk/EDI/X12/2006` namespace (for example, X12_00401_864 for an 864 message).</span></span>  
  
-   <span data-ttu-id="0e4a4-170">如果发送 EDI 确认，则通过对设置为以下控制架构中某架构的属性 `BTS.MessageType` 进行筛选来提取确认：</span><span class="sxs-lookup"><span data-stu-id="0e4a4-170">If sending an EDI acknowledgment, picks up the acknowledgment by filtering on the property `BTS.MessageType` set to one of the following control schema:</span></span>  
  
    -   <span data-ttu-id="0e4a4-171">997 确认的 `http://schemas.microsoft.com/BizTalk/EDI/X12#X12_997_Root`</span><span class="sxs-lookup"><span data-stu-id="0e4a4-171">`http://schemas.microsoft.com/BizTalk/EDI/X12#X12_997_Root` for a 997 acknowledgment</span></span>  
  
    -   <span data-ttu-id="0e4a4-172">TA1 确认的 `http://schemas.microsoft.com/BizTalk/EDI/X12#X12_TA1_Root`</span><span class="sxs-lookup"><span data-stu-id="0e4a4-172">`http://schemas.microsoft.com/BizTalk/EDI/X12#X12_TA1_Root` for a TA1 acknowledgment</span></span>  
  
    -   <span data-ttu-id="0e4a4-173">CONTRL 确认的 `http://schemas.microsoft.com/BizTalk/EDI/Efact#Efact_Contrl_Root`</span><span class="sxs-lookup"><span data-stu-id="0e4a4-173">`http://schemas.microsoft.com/BizTalk/EDI/Efact#Efact_Contrl_Root` for a CONTRL acknowledgment</span></span>  
  
-   <span data-ttu-id="0e4a4-174">如果发送非 EDI 消息，则使用其他筛选器提取消息。</span><span class="sxs-lookup"><span data-stu-id="0e4a4-174">If sending a non-EDI message, picks up the message using another filter.</span></span>  
  
-   <span data-ttu-id="0e4a4-175">生成 AS2 消息。</span><span class="sxs-lookup"><span data-stu-id="0e4a4-175">Builds an AS2 message.</span></span> <span data-ttu-id="0e4a4-176">有关此过程的详细信息，请参阅[生成传出的 AS2 消息](../core/generating-an-outgoing-as2-message.md)。</span><span class="sxs-lookup"><span data-stu-id="0e4a4-176">For more information about this process, see [Generating an Outgoing AS2 Message](../core/generating-an-outgoing-as2-message.md).</span></span>  
  
-   <span data-ttu-id="0e4a4-177">将消息或确认发送至发送端口的目标 URL。</span><span class="sxs-lookup"><span data-stu-id="0e4a4-177">Sends the message or acknowledgment to the destination URL for the send port.</span></span>  
  
-   <span data-ttu-id="0e4a4-178">如果已启用，将接收对消息或确认的 MDN 响应。</span><span class="sxs-lookup"><span data-stu-id="0e4a4-178">Receives the MDN response to the message or acknowledgment, if enabled.</span></span> <span data-ttu-id="0e4a4-179">有关此过程的详细信息，请参阅[处理传入 MDN](../core/processing-an-incoming-mdn.md)。</span><span class="sxs-lookup"><span data-stu-id="0e4a4-179">For more information about this process, see [Processing an Incoming MDN](../core/processing-an-incoming-mdn.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="0e4a4-180">另请参阅</span><span class="sxs-lookup"><span data-stu-id="0e4a4-180">See Also</span></span>  
 <span data-ttu-id="0e4a4-181">[为 AS2 解决方案配置端口](../core/configuring-ports-for-an-as2-solution.md) </span><span class="sxs-lookup"><span data-stu-id="0e4a4-181">[Configuring Ports for an AS2 Solution](../core/configuring-ports-for-an-as2-solution.md) </span></span>  
 <span data-ttu-id="0e4a4-182">[生成传出的 AS2 消息](../core/generating-an-outgoing-as2-message.md) </span><span class="sxs-lookup"><span data-stu-id="0e4a4-182">[Generating an Outgoing AS2 Message](../core/generating-an-outgoing-as2-message.md) </span></span>  
 [<span data-ttu-id="0e4a4-183">处理传入 MDN</span><span class="sxs-lookup"><span data-stu-id="0e4a4-183">Processing an Incoming MDN</span></span>](../core/processing-an-incoming-mdn.md)