---
title: Wcf-basichttp 适配器 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- WCF-BasicHttp adapters
ms.assetid: 51bc56be-3c78-4bf9-87b6-8fb1435d8cde
caps.latest.revision: 10
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 8c5ec0655c9d216199aefd013a89906d1bd16334
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65399417"
---
# <a name="wcf-basichttp-adapter"></a>Wcf-basichttp 适配器
[!INCLUDE[btsCoName](../includes/btsconame-md.md)] [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 使用 Wcf-basichttp 适配器来接收和发送 WCF 服务请求通过[BasicHttpBinding 类](https://msdn.microsoft.com/library/system.servicemodel.basichttpbinding.aspx)。 Wcf-basichttp 适配器，您可以将业务流程和架构作为 WCF 服务发布并使用外部 WCF 服务与**BasicHttpBinding**。  

可以使用 Wcf-basichttp 适配器实现与早期基于 ASMX 的 Web 服务和符合的客户端的跨计算机通信到 WS-Basic Profile 1.1，使用 HTTP 或 HTTPS 传输与文本编码。 但是，你将无法利用的功能支持的 WS-* 协议。  

 下表总结了 Wcf-basichttp 适配器的特征：

|Description|特征|  
|-----------------|--------------------|  
|互操作性级别|基本配置文件|  
|消息编码|文本或 MTOM|  
|边界|跨计算机|  
|传输协议|HTTP 或 HTTPS|  
|安全模式|无、 消息、 传输、 TransportWithMessageCredential 和 TransportCredentialOnly|  
|客户端身份验证机制|传输安全和消息安全|  
|支持 WS-ReliableMessaging|否|  
|支持 WS-AtomicTransaction|否|  
|支持单向消息传送|是|  
|支持双向消息传送|是|  
|主机类型的接收适配器|隔离|  
|发送适配器的主机类型|进程内|  

 Wcf-basichttp 适配器由两个适配器组成： 一个接收适配器和一个发送适配器。 

本主题演示如何创建接收位置和发送端口使用 BizTalk 管理。 此外可以[创建接收位置和发送端口以编程方式](../core/create-the-receive-location-and-send-port-programmatically.md)。

## <a name="before-you-begin"></a>开始之前

- 从开始[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]，此发送适配器可以使用服务总线的访问控制服务 (ACS) 或共享访问签名 (SAS) 到 athenticate。 我们建议使用服务总线进行身份验证时使用共享访问签名 (SAS)。 

    在创建服务总线命名空间时，不自动创建 Access Control (ACS) 命名空间。 如果使用 ACS 进行身份验证，您可能需要创建一个新的 ACS 命名空间。 请参阅[SB 消息适配器](../core/sb-messaging-adapter.md)更多详细信息，包括检索 ACS 密钥值的步骤。

- Wcf-basichttp 适配器孰优孰 SOAP 适配器在以下方案中：  

    -   WCF 适配器文档每秒速率是通常高于 SOAP 适配器。    
    -   SOAP 适配器具有的序列化和反序列化的.NET 类型和原始 XML 数据; 之间的消息的缺点这在某些情况下会导致不需要的数据修改。 WCF 适配器采用保留数据流的方法。    
    -   WCF 适配器发布什么是实质上是相同的架构，因为将在 BizTalk 运行时中使用。 与此相反，SOAP 适配器返回生成的专用于反映将生成用于表示架构的.NET 类上的元数据。 因为.NET 不保留 XSD 架构的所有细微差别，公开的 WSDL 可能不准确地反映 BizTalk 运行时使用的架构。    
    -   如果需要它是更轻松地从 Wcf-basichttp 迁移到 Wcf-wshttp。  
- 使用 Wcf-basichttp 接收适配器接收通过 HTTP 或 HTTPS 协议的 WCF 服务请求。  使用 Wcf-basichttp 发送适配器来调用通过使用 HTTP 或 HTTPS 协议通过无类型协定的 WCF 服务。  

## <a name="create-the-receive-location"></a>创建接收位置

此接收位置可以配置为单向或请求-响应 （双向）。  

> [!NOTE]
>  完成以下步骤之前，你必须已添加接收端口。 请参阅[如何创建接收端口](../core/how-to-create-a-receive-port.md)。  
> 
> 此外可以[以编程方式创建接收位置](../core/create-the-receive-location-and-send-port-programmatically.md)。 

1. 在 BizTalk 管理控制台中，展开**BizTalk Server 管理**，展开**BizTalk 组**，展开**应用程序**，然后展开应用程序，想要在其中创建接收位置。  

2. 在 BizTalk 管理控制台的左窗格中，单击“接收端口”  节点。 随后，在右窗格中右键单击与现有接收位置关联的接收端口或要与新接收位置关联的接收端口，然后单击“属性” 。  

3. 在“接收端口属性”  对话框的左窗格中，选择“接收位置” ，然后在右窗格中双击现有的接收位置或单击“新建”  以创建新的接收位置。  

4. 在中**接收位置属性**对话框中**传输**部分旁边**类型**，选择**Wcf-basichttp**从下拉列表，再单击**配置**。  

5. 在中**Wcf-basichttp 传输属性**，然后在**常规**选项卡上，服务标识为 Wcf-basichttp 接收位置和配置的终结点地址：  

   > [!NOTE]
   >  如果您使用**传输**或**TransportWithMessageCredential**有关**安全模式**，必须设置了安全套接字层 (SSL) 在 Microsoft Internet 信息服务 (IIS)。  

   |       使用此选项        |                                                                                                                                                                                                                                                                                                                 执行的操作                                                                                                                                                                                                                                                                                                                  |
   |-----------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |   **地址 (URI)**   |                                                                                                                                                                       必需的。 指定此接收位置的 URI。 指定虚拟目录以及 BizTalk WCF 服务发布向导生成的.svc 文件名，例如 /path/service.svc。<br /><br /> 默认值: /<br /><br /> 最小长度：1<br /><br /> 最大长度：255                                                                                                                                                                        |
   | **终结点标识** | 可选。 指定的标识服务的此接收位置提供通过单击**编辑**按钮。 可以为指定的值**终结点标识**属性不同的安全配置而异。 这些设置客户端进行身份验证此接收位置。 在客户端和服务之间的握手过程中，Windows Communication Foundation (WCF) 基础结构将确保预期的服务匹配此元素的值的标识。<br /><br /> 默认值为一个空字符串。<br /><br /> 最小长度：0<br /><br /> 最大长度：32767 |


6. 在中**Wcf-basichttp 传输属性**对话框中，在**绑定**选项卡上，配置超时和编码属性：


   |                 使用此选项                  |                                                                                                                                                                                                                                                                                                                                                          执行的操作                                                                                                                                                                                                                                                                                                                                                          |
   |-------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |        **打开超时 (hh: mmss)**         |                                                                                                                                                                                                                              指定一个时间跨度值来表示为完成信道打开操作提供的时间间隔。 此值应大于或等于 **System.TimeSpan.Zero**。<br /><br /> 默认值：00:01:00<br /><br /> 最大值：23:59:59                                                                                                                                                                                                                               |
   |        **发送超时 (hh: mmss)**         |                                                                                                                                                  指定一个时间跨度值来表示为完成发送操作提供的时间间隔。 此值应大于或等于 **System.TimeSpan.Zero**。 如果使用请求-响应接收端口，则此值指定完成整个交互的时间跨度（即使客户端返回一条大消息）。<br /><br /> 默认值：00:01:00<br /><br /> 最大值：23:59:59                                                                                                                                                   |
   |        **关闭超时 (hh: mmss)**        |                                                                                                                                                                                                                              指定一个时间跨度值来表示为完成信道关闭操作提供的时间间隔。 此值应大于或等于 **System.TimeSpan.Zero**。<br /><br /> 默认值：00:01:00<br /><br /> 最大值：23:59:59                                                                                                                                                                                                                              |
   | **最大接收的消息大小 （字节）** | 指定网络上可接收的消息的最大大小（包括标头），以字节表示。 消息的大小受为每条消息分配的内存量的限制。 你可以使用此属性来降低受拒绝服务 (DoS) 攻击的可能性。<br /><br /> Wcf-basichttp 适配器利用[BasicHttpBinding](http://go.microsoft.com/fwlink/?LinkId=81086)在缓冲的传输模式下，与终结点进行通信的类。 对于缓冲的传输模式中， [BasicHttpBinding.MaxBufferSize](http://go.microsoft.com/fwlink/?LinkId=80659)属性也始终等于此属性的值。<br /><br /> 默认值：65536<br /><br /> 最大值：2147483647 |
   |           **消息编码**            |                                                                                                                                                                                                                         指定用于对 SOAP 消息进行编码的编码器。 包括以下有效值：<br /><br /> -   **文本**:使用文本消息编码器。<br />-   **Mtom**:使用消息传输组织机制 1.0 (MTOM) 编码器。<br /><br /> 默认值是**文本**。                                                                                                                                                                                                                         |
   |             **文本编码**             |                                                                                                                                                                           指定要使用该绑定上发出消息编码的字符集时**消息编码**属性设置为**文本**。 包括以下有效值：<br /><br /> -   **utf 16BE (unicodeFFFE)**:Unicode BigEndian 编码。<br />-   **utf-16**:16 位编码。<br />-   **utf-8**:8 位编码<br /><br /> 默认值是**utf-8**。                                                                                                                                                                           |
   |         **最大并发调用数**          |                                                                                                                                                                                                                                                   指定针对单个服务实例的并发调用的数目。 超出此限制的调用将在队列中排队。 将该值设置为 0 等效于将它设置为 **Int32.MaxValue**。<br /><br /> 默认值为 200                                                                                                                                                                                                                                                    |


7. 在中**Wcf-basichttp 传输属性**对话框中，在**安全**选项卡上，定义的安全功能：

   |使用此选项|执行的操作|  
   |--------------|----------------|  
   |**安全模式**|指定使用的安全类型。 包括以下有效值：<br /><br /> -   **无**:在传输过程中不是安全的消息。<br />-   **传输**:使用 HTTPS 传输提供安全性。 使用 HTTPS 对 SOAP 消息进行保护。 若要使用此模式，你必须在 Microsoft Internet 信息服务 (IIS) 中设置安全套接字层 (SSL)。<br />-   **消息**:通过 HTTP 传输使用 SOAP 消息安全提供安全性。 默认情况下，SOAP“正文”  已加密和签名。 唯一有效**消息客户端凭据类型**适配器是为 WCF 基本**证书**。 这种模式需要 HTTP 传输。 为此服务证书时使用此安全模式下，接收位置需要通过提供**服务证书-指纹**属性。<br />-   **TransportWithMessageCredential**:HTTPS 传输提供完整性、 机密性和服务身份验证。 若要使用此模式，你必须在 Microsoft Internet 信息服务 (IIS) 中设置安全套接字层 (SSL)。<br />-   **TransportCredentialOnly**:此模式下不提供消息完整性和保密性。 它提供了基于 HTTP 的客户端身份验证。 应谨慎使用此模式。 它应在其中通过其他方式 （如 IPSec) 提供传输安全和 WCF 基础结构提供仅客户端身份验证的环境中使用。 如果选择**证书**有关**传输客户端凭据类型**在此安全模式的属性，此服务证书接收位置需要通过提供**服务证书-指纹**属性。<br /><br /> 默认值是**None**。|  
   |**传输客户端凭据类型**|指定执行客户端验证时要使用的凭据类型。 包括以下有效值：<br /><br /> -   **无**:无身份验证发生在传输级别。<br />-   **基本**:基本身份验证。 在基本身份验证中，用户名和密码将以明文形式通过网络发送。 你必须创建与凭据对应的域或本地用户帐户。<br />-   **摘要**:摘要式身份验证。 此身份验证方法与基本身份验证方法相似，不同之处在于密码以哈希值的形式通过网络发送，以增强安全性。 摘要身份验证只可在域控制器运行 Windows Server 操作系统验证的域中使用。 你必须创建与客户端凭据对应的域或本地用户帐户。<br />-   **Ntlm**:NTLM 身份验证。 客户端可只发送凭据而不向此接收位置发送密码。 你必须创建与客户端凭据对应的域或本地用户帐户。<br />-   **Windows**:Windows 集成身份验证。 Windows Communication Foundation 可与 Kerberos 或 NTLM 协商，如果存在域，则首选使用 Kerberos。 如果要使用 Kerberos，则非常重要的一点是让客户端使用服务主体名称 (SPN) 标识该服务。 你必须创建与客户端凭据对应的域或本地用户帐户。<br />-   **证书**:使用客户端证书的客户端身份验证。 必须将用于客户端 X.509 证书的 CA 证书链安装到此计算机的“受信任根证书颁发机构”证书存储中，以便可以针对此接收位置验证客户端。 **注意：** **传输客户端凭据类型**属性必须与匹配的身份验证方案的 IIS 虚拟目录承载此接收位置。 例如，如果该属性设置为“Windows” ，则你还需为此接收位置所在的虚拟目录启用“集成 Windows 验证”  。 相似地，如果将该属性设置为“无” ，则你必须允许匿名访问此接收位置所在的虚拟目录。 <br /><br /> 默认值是**None**。|  
   |**消息客户端凭据类型**|指定使用基于消息的安全性对客户端执行验证时所用的凭据类型。 包括以下有效值：<br /><br /> -   **用户名**:允许此接收位置要求客户端进行身份验证使用**用户名**凭据。 必须创建的域或本地用户帐户对应的客户端凭据。<br />-   **证书**:客户端进行身份验证与此接收位置使用客户端证书。 必须将用于客户端 X.509 证书的 CA 证书链安装到此计算机的“受信任根证书颁发机构”证书存储中，以便可以针对此接收位置验证客户端。<br /><br /> 默认值是**用户名**。|  
   |**算法套件**|指定消息加密和密钥包装算法。 这些算法与“安全策略语言”(WS-SecurityPolicy) 规范中指定的算法一致。 可能的值有：<br /><br /> -   **Basic128**:使用 Aes128 加密，Sha1 用于消息摘要，Rsa-oaep-mgf1p 用于密钥包装。<br />-   **Basic128Rsa15**:使用 Aes128 进行消息加密，Sha1 用于消息摘要，rsa15 用于密钥包装。<br />-   **Basic128Sha256**:使用 Aes256 进行消息加密，Sha256 用于消息摘要，Rsa-oaep-mgf1p 用于密钥包装。<br />-   **Basic128Sha256Rsa15**:使用 Aes128 进行消息加密，Sha256 用于消息摘要，rsa15 用于密钥包装。<br />-   **Basic192**:使用 aes192 进行加密，Sha1 用于消息摘要，Rsa-oaep-mgf1p 用于密钥包装。<br />-   **Basic192Rsa15**:使用 Aes192 进行消息加密，Sha1 用于消息摘要，rsa15 用于密钥包装。<br />-   **Basic192Sha256**:使用 Aes192 进行消息加密，Sha256 用于消息摘要，Rsa-oaep-mgf1p 用于密钥包装。<br />-   **Basic192Sha256Rsa15**:使用 Aes192 进行消息加密，Sha256 用于消息摘要，rsa15 用于密钥包装。<br />-   **Basic256**:使用 aes256 进行加密，Sha1 用于消息摘要，Rsa-oaep-mgf1p 用于密钥包装。<br />-   **Basic256Rsa15**:使用 Aes256 进行消息加密，Sha1 用于消息摘要，rsa15 用于密钥包装。<br />-   **Basic256Sha256**:使用 Aes256 进行消息加密，Sha256 用于消息摘要，Rsa-oaep-mgf1p 用于密钥包装。<br />-   **Basic256Sha256Rsa15**:使用 Aes256 进行消息加密，Sha256 用于消息摘要，rsa15 用于密钥包装。<br />-   **TripleDes**:使用 tripledes 进行加密，Sha1 用于消息摘要，Rsa-oaep-mgf1p 用于密钥包装。<br />-   **TripleDesRsa15**:使用 tripledes 进行加密，Sha1 用于消息摘要，rsa15 用于密钥包装。<br />-   **TripleDesSha256**:使用 TripleDes 进行消息加密，Sha256 用于消息摘要，Rsa-oaep-mgf1p 用于密钥包装。<br />-   **TripleDesSha256Rsa15**:使用 TripleDes 进行消息加密，Sha256 用于消息摘要，rsa15 用于密钥包装。<br /><br /> 默认值为“Basic256” 。|  
   |**服务证书-指纹**|为此接收位置指定 X.509 证书的指纹，客户端利用该指纹验证服务。 使用“浏览”  按钮，导航到“当前用户”  位置中“我的”  存储，然后即可选择指纹。 **注意：** 必须安装到的服务证书**当前用户**承载此接收位置的接收处理程序的用户帐户的位置。 <br /><br /> 最小长度：0<br /><br /> 最大长度：40<br /><br /> 默认值为一个空字符串。|  
   |**使用单一登录**|使用单一登录检索客户端凭据以发放 SSO 票证。 此选项是仅对下面的部分中，"企业单一登录可支持性 Wcf-basichttp 接收适配器。"中列出的安全配置有效<br /><br /> 默认值为清除此复选框。|  

   **企业单一登录可支持性 Wcf-basichttp 接收适配器**  
   此适配器可从仅在下表中所示的安全配置中的 SSO 服务器发放 SSO 票证：


   |         **安全模式**          | **传输客户端凭据类型** | **消息客户端凭据类型** |
   |------------------------------------|--------------------------------------|------------------------------------|
   |           **传输**            |              **基本**               |                不可用                 |
   |           **传输**            |              **摘要**              |                不可用                 |
   |           **传输**            |               **Ntlm**               |                不可用                 |
   |           **传输**            |             **Windows**              |                不可用                 |
   |           **传输**            |           **证书**            |                不可用                 |
   |            **Message**             |                 不可用                  |            **UserName**            |
   | **TransportWithMessageCredential** |                 不可用                  |            **UserName**            |
   |    **TransportCredentialOnly**     |              **基本**               |                不可用                 |
   |    **TransportCredentialOnly**     |              **摘要**              |                不可用                 |
   |    **TransportCredentialOnly**     |               **Ntlm**               |                不可用                 |
   |    **TransportCredentialOnly**     |             **Windows**              |                不可用                 |
   |    **TransportCredentialOnly**     |           **证书**            |                不可用                 |


8. 在中**Wcf-basichttp 传输属性**对话框中，在**消息**选项卡上，指定数据选择 soap**正文**元素：  


   |                   使用此选项                    |                                                                                                                                                                                                                                                                                                                                   执行的操作                                                                                                                                                                                                                                                                                                                                    |
   |-----------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |   **信封--整个\<soap: Envelope\>**    |                                                                                                                                                                                                                                                                    从传入消息的整个 SOAP **Envelope** 创建 BizTalk 消息正文部分。<br /><br /> 默认值为清除此复选框。                                                                                                                                                                                                                                                                     |
   | **--正文\<soap: Body\>元素** |                                                                                                                                                                                                  使用传入消息的 SOAP **Body** 元素的内容创建 BizTalk 消息正文部分。 如果 **Body** 元素具有多个子元素，则只有第一个元素将成为 BizTalk 消息正文部分。<br /><br /> 这是默认设置。                                                                                                                                                                                                   |
   |   **路径-按正文路径定位内容**    |                                                                                                                                                                                             使用“正文路径表达式”  文本框中的正文路径表达式创建 BizTalk 消息正文部分。 针对传入消息的 SOAP **Body** 元素的直接子元素计算正文路径表达式。<br /><br /> 默认值为清除此复选框。                                                                                                                                                                                             |
   |           **正文路径表达式**            |                           键入正文路径表达式以标识传入消息中用于创建 BizTalk 消息正文部分的特定部分。 针对传入消息的 SOAP **Body** 元素的直接子元素计算此正文路径表达式。 如果此正文路径表达式返回多个节点，则只选择第一个节点作为 BizTalk 消息正文部分。 如果选择了“路径 -- 按正文路径定位内容”  选项，则此属性是必需的。<br /><br /> 键入：String<br /><br /> 最小长度：0<br /><br /> 最大长度：32767<br /><br /> 默认值为一个空字符串。                           |
   |               **节点编码**               | 指定 Wcf-basichttp 接收适配器将使用由中的正文路径表达式标识的节点进行解码的编码类型**正文路径表达式**文本框。<br /><br /> 如果选择了“路径 -- 按正文路径定位内容”  选项，则此属性是必需的。 包括以下有效值：<br /><br /> -   **Base64**:Base64 编码。<br />-   **十六进制**:十六进制编码。<br />-   **字符串**:文本编码-utf-8<br />-   **XML**:WCF 适配器中的正文路径表达式所选择的节点的外部 xml 创建 BizTalk 消息正文**正文路径表达式**文本框。<br /><br /> 默认值为“XML” 。 |
   |   **正文--BizTalk 响应消息正文**   |                                                                                                                                                                                                                       使用 BizTalk 消息正文部分创建传出响应消息的 SOAP **Body** 元素的内容。 此属性仅对请求响应接收位置有效。<br /><br /> 这是默认设置。                                                                                                                                                                                                                        |
   | **模板-由模板指定的内容** |                                                                                                                                                                                                                   使用在“XML”  文本框中提供的模板创建传出消息的 SOAP **Body** 元素的内容。 此属性仅对请求响应接收位置有效。<br /><br /> 默认值为清除此复选框。                                                                                                                                                                                                                   |
   |                    **XML**                    |                                                                                             为传出消息的 SOAP **Body** 元素的内容键入 XML 格式的模板。 如果选择了“模板 -- BizTalk 响应消息正文”  选项，则此属性是必需的。 此属性仅对请求响应接收位置有效。<br /><br /> 键入：String<br /><br /> 最小长度：0<br /><br /> 最大长度：32767<br /><br /> 默认值是 **\<bts 消息正文 xmlns ="<http://www.microsoft.com/schemas/bts2007>"编码 ="xml"\>**。                                                                                             |
   |    **在失败时挂起请求消息**     |                                                                                                                                                                                                                                                 指定是否将由于接收管道故障或路由故障而导致入站处理失败的请求消息挂起。<br /><br /> 默认值为清除此复选框。                                                                                                                                                                                                                                                  |
   |    **在错误中包括异常详细信息**     |                                                                                                                                                                                                                                                                             指定发生错误时是否返回 SOAP 错误以方便进行调试。<br /><br /> 默认值为清除此复选框。                                                                                                                                                                                                                                                                             |

## <a name="create-the-send-port"></a>创建发送端口

> [!NOTE] 
> 此外可以[以编程方式创建发送端口](../core/create-the-receive-location-and-send-port-programmatically.md)。

1. 在 BizTalk 管理控制台中，创建新的发送端口或双击某个现有发送端口以对其进行修改。 有关详细信息，请参阅[如何创建发送端口](../core/how-to-create-a-send-port2.md)。 配置所有发送端口选项，并指定**Wcf-basichttp**有关**类型**选项**传输**一部分**常规**选项卡。  

2. 上**常规**选项卡上，在**传输**部分中，单击**配置**旁边**类型**。  

3. 在**Wcf-basichttp 传输属性**对话框中，在**常规**选项卡上，配置终结点地址、 服务标识，并且**SOAPAction** HTTP 标头Wcf-basichttp 发送端口：  

   > [!NOTE]
   >  如果指定**https**方案**地址 (URI)** 属性，则必须配置**安全模式**属性设置为**传输**或**TransportWithMessageCredential**。 可以使用**安全**选项卡可配置**安全模式**属性。  

   |       使用此选项        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  执行的操作                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
   |-----------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |   **地址 (URI)**   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         必需的。 指定此发送端口的完全限定的 URI。 使用**https**或**http**具体取决于安全配置的方案。<br /><br /> 最大长度：255<br /><br /> 默认值：30 http://localhost/                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
   | **终结点标识** |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              可选。 指定此发送端口预期的服务标识。 这些设置支持此发送端口进行身份验证服务。 在客户端和服务之间的握手过程中，Windows Communication Foundation (WCF) 基础结构将确保预期的服务匹配此元素的值的标识。 可以为指定的值**标识**属性不同的安全配置而异。<br /><br /> 默认值为清除此复选框。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
   |      **操作**       | 指定**SOAPAction**为传出消息的 HTTP 标头字段。 此外可以通过消息上下文属性设置此属性**WCF。操作**管道或业务流程中。 可以通过两种方式指定此值： 单一操作格式和操作映射格式。 例如，将此属性设置中的单一操作格式-如果<http://contoso.com/Svc/Op1-> **SOAPAction**标头传出消息将始终设置为此属性中指定的值。<br /><br /> 如果将此属性设置采用操作映射格式，传出**SOAPAction**标头由**BTS。操作**上下文属性。 例如，如果此属性设置为以下 XML 格式和**BTS。操作**属性设置为 Op1，WCF 发送适配器使用 <http://contoso.com/Svc/Op1> 为传出**SOAPAction**标头。<br /><br /> \<BtsActionMapping\><br /><br /> \<Operation Name="Op1" Action="<http://contoso.com/Svc/Op1>" \><br /><br /> \<Operation Name="Op2" Action="<http://contoso.com/Svc/Op2>" \><br /><br /> \</BtsActionMapping\><br /><br /> 如果传出消息来自某个业务流程端口，业务流程实例动态设置**BTS。操作**使用的端口的操作名称的属性。 如果使用基于内容的路由来路由传出消息，则可以设置**BTS。操作**管道组件中的属性。<br /><br /> 最小长度：0<br /><br /> 最大长度：32767<br /><br /> 默认值为一个空字符串。 |


4. 在中**Wcf-basichttp 传输属性**，然后在**绑定**选项卡上，配置超时和编码属性： 


   |                 使用此选项                  |                                                                                                                                                                                                                                                                                                                                                          执行的操作                                                                                                                                                                                                                                                                                                                                                          |
   |-------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |        **打开超时 (hh: mmss)**         |                                                                                                                                                                                                                              指定一个时间跨度值来表示为完成信道打开操作提供的时间间隔。 此值应大于或等于 **System.TimeSpan.Zero**。<br /><br /> 默认值：00:01:00<br /><br /> 最大值：23:59:59                                                                                                                                                                                                                               |
   |        **发送超时 (hh: mmss)**         |                                                                                                                                                   指定一个时间跨度值来表示为完成发送操作提供的时间间隔。 此值应大于或等于 **System.TimeSpan.Zero**。 如果使用要求响应发送端口，则此值指定完成，整个交互的时间跨度，即使该服务返回一条大消息。<br /><br /> 默认值：00:01:00<br /><br /> 最大值：23:59:59                                                                                                                                                    |
   |        **关闭超时 (hh: mmss)**        |                                                                                                                                                                                                                               指定一个时间跨度值来表示为完成信道关闭操作提供的时间间隔。 此值应大于或等于**System.TimeSpan.Zero**。<br /><br /> 默认值：00:01:00<br /><br /> 最大值：23:59:59                                                                                                                                                                                                                                |
   | **最大接收的消息大小 （字节）** | 指定网络上可接收的消息的最大大小（包括标头），以字节表示。 消息的大小受为每条消息分配的内存量的限制。 你可以使用此属性来降低受拒绝服务 (DoS) 攻击的可能性。<br /><br /> Wcf-basichttp 适配器利用[BasicHttpBinding](http://go.microsoft.com/fwlink/?LinkId=81086)在缓冲的传输模式下，与终结点进行通信的类。 对于缓冲的传输模式中， [BasicHttpBinding.MaxBufferSize](http://go.microsoft.com/fwlink/?LinkId=80659)属性也始终等于此属性的值。<br /><br /> 默认值：65536<br /><br /> 最大值：2147483647 |
   |           **消息编码**            |                                                                                                                                                                                                                         指定用于对 SOAP 消息进行编码的编码器。 包括以下有效值：<br /><br /> -   **文本**:使用文本消息编码器。<br />-   **Mtom**:使用消息传输组织机制 1.0 (MTOM) 编码器。<br /><br /> 默认值：**文本**                                                                                                                                                                                                                          |
   |             **文本编码**             |                                                                                                                                                                           指定要使用该绑定上发出消息编码的字符集时**消息编码**属性设置为**文本**。 包括以下有效值：<br /><br /> -   **utf 16BE (unicodeFFFE)**:Unicode BigEndian 编码。<br />-   **utf-16**:16 位编码。<br />-   **utf-8**:8 位编码<br /><br /> 默认值： **utf-8**                                                                                                                                                                            |


5. 在中**Wcf-basichttp 传输属性**对话框中，在**安全**选项卡上，定义 Wcf-basichttp 发送端口的安全功能：


   |                使用此选项                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          执行的操作                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
   |----------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |           **安全模式**            |                                                                                                                                                                                                                       指定使用的安全类型。 包括以下有效值：<br /><br /> -   **无**:在传输过程中不是安全的消息。<br />-   **传输**:使用 HTTPS 传输提供安全性。 使用 HTTPS 对 SOAP 消息进行保护。 服务的 X.509 证书的 CA 证书链必须安装在此计算机的受信任的根证书颁发机构证书存储中，以便可以向使用服务的证书的发送端口验证该服务。<br />-   **消息**:使用 SOAP 消息安全提供安全性。 默认情况下，SOAP**正文**元素已加密和签名。 唯一有效**消息客户端凭据类型**为 Wcf-basichttp 发送适配器是**证书**。 这种模式需要 HTTP 传输。<br />-   **TransportWithMessageCredential**:HTTPS 传输提供完整性、 机密性和服务身份验证。 服务的 X.509 证书的 CA 证书链必须安装在此计算机上的受信任的根证书颁发机构证书存储中，以便可以向使用服务的证书的发送端口验证该服务。 发送端口验证由 SOAP 消息安全提供。<br />-   **TransportCredentialOnly**:此模式下不提供消息完整性和保密性。 它提供了基于 HTTP 的客户端身份验证。 应谨慎使用此模式。 它应在其中通过其他方式 （如 IPSec) 提供传输安全和 WCF 基础结构提供仅客户端身份验证的环境中使用。<br /><br /> 默认值是**None**。                                                                                                                                                                                                                        |
   |  **传输客户端凭据类型**  |                                                                                                                                                                                                                                                                                                                                      指定要执行发送端口验证时要使用的凭据类型。 包括以下有效值：<br /><br /> -   **无**:无身份验证发生在传输级别。<br />-   **基本**:基本身份验证。 在基本身份验证中，用户名和密码将以明文形式通过网络发送。 此选项要求配置**客户端凭据**属性。<br />-   **摘要**:摘要式身份验证。 此身份验证方法与基本身份验证方法相似，不同之处在于密码以哈希值的形式通过网络发送，以增强安全性。 摘要身份验证只可在域控制器运行 Windows Server 操作系统验证的域中使用。 此选项要求配置**客户端凭据**属性。<br />-   **Ntlm**:NTLM 身份验证。 此发送端口运行用于服务来验证此用户帐户的发送端口。<br />-   **Windows**:Windows 集成身份验证。 此发送端口运行用于服务来验证此用户帐户的发送端口。<br />-   **证书**:使用通过指定的客户端证书的客户端身份验证**客户端证书-指纹**属性。 使用此凭据类型时，需要通过提供服务证书**服务证书-指纹**属性。<br /><br /> 默认值是**None**。                                                                                                                                                                                                                                                                                                                                       |
   |   **消息客户端凭据类型**   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                指定使用基于消息的安全性对客户端执行验证时所用的凭据类型。 包括以下有效值：<br /><br /> -   **用户名**:使用向服务验证此发送端口**用户名**凭据。 对于 Wcf-basichttp 发送适配器，这不是支持。<br />-   **证书**:使用通过指定的客户端证书向服务验证此发送端口**客户端证书-指纹**属性。 此外，使用此凭据类型时，则需要通过提供服务证书**服务证书-指纹**属性。<br /><br /> 默认值是**用户名**。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
   |          **算法套件**           | 指定消息加密和密钥包装算法。 这些算法与“安全策略语言”(WS-SecurityPolicy) 规范中指定的算法一致。 可能的值有：<br /><br /> -   **Basic128**:使用 Aes128 加密，Sha1 用于消息摘要，Rsa-oaep-mgf1p 用于密钥包装。<br />-   **Basic128Rsa15**:使用 Aes128 进行消息加密，Sha1 用于消息摘要，rsa15 用于密钥包装。<br />-   **Basic128Sha256**:使用 Aes256 进行消息加密，Sha256 用于消息摘要，Rsa-oaep-mgf1p 用于密钥包装。<br />-   **Basic128Sha256Rsa15**:使用 Aes128 进行消息加密，Sha256 用于消息摘要，rsa15 用于密钥包装。<br />-   **Basic192**:使用 aes192 进行加密，Sha1 用于消息摘要，Rsa-oaep-mgf1p 用于密钥包装。<br />-   **Basic192Rsa15**:使用 Aes192 进行消息加密，Sha1 用于消息摘要，rsa15 用于密钥包装。<br />-   **Basic192Sha256**:使用 Aes192 进行消息加密，Sha256 用于消息摘要，Rsa-oaep-mgf1p 用于密钥包装。<br />-   **Basic192Sha256Rsa15**:使用 Aes192 进行消息加密，Sha256 用于消息摘要，rsa15 用于密钥包装。<br />-   **Basic256**:使用 aes256 进行加密，Sha1 用于消息摘要，Rsa-oaep-mgf1p 用于密钥包装。<br />-   **Basic256Rsa15**:使用 Aes256 进行消息加密，Sha1 用于消息摘要，rsa15 用于密钥包装。<br />-   **Basic256Sha256**:使用 Aes256 进行消息加密，Sha256 用于消息摘要，Rsa-oaep-mgf1p 用于密钥包装。<br />-   **Basic256Sha256Rsa15**:使用 Aes256 进行消息加密，Sha256 用于消息摘要，rsa15 用于密钥包装。<br />-   **TripleDes**:使用 tripledes 进行加密，Sha1 用于消息摘要，Rsa-oaep-mgf1p 用于密钥包装。<br />-   **TripleDesRsa15**:使用 tripledes 进行加密，Sha1 用于消息摘要，rsa15 用于密钥包装。<br />-   **TripleDesSha256**:使用 TripleDes 进行消息加密，Sha256 用于消息摘要，Rsa-oaep-mgf1p 用于密钥包装。<br />-   **TripleDesSha256Rsa15**:使用 TripleDes 进行消息加密，Sha256 用于消息摘要，rsa15 用于密钥包装。<br /><br /> 默认值为“Basic256” 。 |
   |  **客户端证书-指纹**  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 指定此发送端口对服务进行身份验证的 X.509 证书的指纹。 可以通过导航到选择指纹**我**将存储在**当前用户**位置**浏览**按钮。 **注意：** 必须安装到客户端证书**当前用户**承载此发送处理程序的用户帐户的位置的发送端口。 <br /><br /> 最小长度：0<br /><br /> 最大长度：40<br /><br /> 默认值为一个空字符串。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
   |  **服务证书-指纹**  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             指定此发送端口将消息发送到该服务进行身份验证的 X.509 证书的指纹。 您可以选择导航到的指纹**其他人**将存储在**本地计算机**位置**浏览**按钮。<br /><br /> 最小长度：0<br /><br /> 最大长度：40<br /><br /> 默认值为一个空字符串。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
   |       **用户名凭据**        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     指定用于发送消息的凭据。 您可以通过单击指定的属性**编辑**按钮。 此选项是仅对下面的部分中，"企业单一登录可支持性 Wcf-basichttp 发送适配器。"中列出的安全配置有效<br /><br /> 默认值是**不使用单一登录**。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
   | **服务总线连接信息** |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    新开始[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]。<br/><br/>选择使用共享访问签名 (SAS) 或访问控制服务 (ACS) 的服务总线命名空间。 <br/><br/>选择一个选项，然后选择**编辑**输入密钥的信息：<br/><br/> - **共享访问签名**:输入访问密钥名称和访问密钥。 这两个值中列出[Azure 门户](https://portal.azure.com)。<br/> - **访问控制服务**:输入 STS URI (`https://<yourNamespace>-sb.accesscontrol.windows.net/`)，颁发者名称和颁发者密钥。 使用 Windows PowerShell 来检索这些值，如中所述[SB 消息适配器](../core/sb-messaging-adapter.md)。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |

   **企业单一登录可支持性 Wcf-basichttp 发送适配器**  
   Wcf-basichttp 发送适配器可以兑换 SSO 票证从 SSO 服务器以获取用户凭据仅在下表中所示的安全配置中。  

   |**安全模式**|**传输客户端凭据类型**|**消息客户端凭据类型**|  
   |-----------------------|------------------------------------------|----------------------------------------|  
   |**传输**|**基本**|不可用|  
   |**传输**|**摘要**|不可用|  
   |**TransportCredentialOnly**|**基本**|不可用|  
   |**TransportCredentialOnly**|**摘要**|不可用|  
   |**Message**|不可用|**UserName**|  
   |**TransportWithMessageCredential**|不可用|**UserName**|   


6. 在中**Wcf-basichttp 传输属性**对话框中，在**代理**选项卡上，配置的代理设置为 Wcf-basichttp 发送端口： 


   |                 使用此选项                 |                                                                                                                                                                                                                                                              执行的操作                                                                                                                                                                                                                                                              |
   |------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   | **使用处理程序的默认代理设置** |                                                                                                                                                                                             指定此发送端口是否在承载此发送端口的发送处理程序中使用的代理设置。<br /><br /> 这是默认设置。                                                                                                                                                                                              |
   |           **不使用代理**           |                                                                                                                                                                                                                    指示此发送端口使用代理服务器。<br /><br /> 默认值为清除此复选框。                                                                                                                                                                                                                    |
   |              **使用代理**               |                                                                                                                                                                                                指示此发送端口是否使用代理服务器中指定**地址**属性。<br /><br /> 默认值为清除此复选框。                                                                                                                                                                                                |
   |               **Address**                |                                                            指定代理服务器的地址。 使用**https**或**http**具体取决于安全配置的方案。 此地址可以跟一个冒号和端口号。 例如， http://127.0.0.1:8080。<br /><br /> 此属性需要值才**使用代理**处于选中状态。<br /><br /> 键入：String<br /><br /> 最大长度：256<br /><br /> 默认值为一个空字符串。                                                            |
   |              **用户名**               | 指定要用于身份验证的用户名。 如果使用集成身份验证，则用户名将包括域，即，域 \ 用户名。 如果使用基本或摘要式身份验证，则用户名不包括域\\。 此属性需要值才**使用代理**处于选中状态。 **注意：** Wcf-basichttp 发送适配器将使用基本身份验证代理。 <br /><br /> 键入：String<br /><br /> 最小长度：0<br /><br /> 最大长度：256<br /><br /> 默认值为一个空字符串。 |
   |               **密码**               |                                                                                                                                   指定要用于身份验证的密码。<br /><br /> 此属性需要值才**使用代理**处于选中状态。<br /><br /> 键入：String<br /><br /> 最小长度：0<br /><br /> 最大长度：256<br /><br /> 默认值为一个空字符串。                                                                                                                                   |


7. 在中**Wcf-basichttp 传输属性**对话框中，在**消息**选项卡上，指定数据选择 soap**正文**元素。 


   |                   使用此选项                    |                                                                                                                                                                                                                                                                                                                                                          执行的操作                                                                                                                                                                                                                                                                                                                                                          |
   |-----------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |   **正文--BizTalk 请求消息正文**    |                                                                                                                                                                                                                                                                                    使用 BizTalk 消息正文部分创建的 soap 内容**正文**为传出消息的元素。<br /><br /> 这是默认设置。                                                                                                                                                                                                                                                                                    |
   | **模板-由模板指定的内容** |                                                                                                                                                                                                                                                                           使用在“XML”  文本框中提供的模板创建传出消息的 SOAP **Body** 元素的内容。<br /><br /> 默认值为清除此复选框。                                                                                                                                                                                                                                                                            |
   |                    **XML**                    |                                                                                                                                                  为传出消息的 SOAP **Body** 元素的内容键入 XML 格式的模板。 如果选择了“模板 -- BizTalk 响应消息正文”  选项，则此属性是必需的。<br /><br /> 键入：String<br /><br /> 最小长度：0<br /><br /> 最大长度：32767<br /><br /> 默认值是 < bts 消息正文<br /><br /> xmlns ="<http://www.microsoft.com/schemas/bts2007>"编码 ="xml"/ >。                                                                                                                                                  |
   |   **信封--整个\<soap: Envelope\>**    |                                                                                                                                                                                                                                                               从传入消息的整个 SOAP **Envelope** 创建 BizTalk 消息正文部分。 此属性是仅对要求响应端口有效。<br /><br /> 默认值为清除此复选框。                                                                                                                                                                                                                                                               |
   | **--正文\<soap: Body\>元素** |                                                                                                                                                                                             使用传入消息的 SOAP **Body** 元素的内容创建 BizTalk 消息正文部分。 如果 **Body** 元素具有多个子元素，则只有第一个元素将成为 BizTalk 消息正文部分。 此属性是仅对要求响应端口有效。<br /><br /> 这是默认设置。                                                                                                                                                                                             |
   |   **路径-按正文路径定位内容**    |                                                                                                                                                                                       使用“正文路径表达式”  文本框中的正文路径表达式创建 BizTalk 消息正文部分。 针对传入消息的 SOAP **Body** 元素的直接子元素计算正文路径表达式。 此属性是仅对要求响应端口有效。<br /><br /> 默认值为清除此复选框。                                                                                                                                                                                        |
   |           **正文路径表达式**            |                       键入正文路径表达式以标识传入消息中用于创建 BizTalk 消息正文部分的特定部分。 针对 SOAP 的直接子元素计算此正文路径表达式**正文**传入消息的节点。 如果此正文路径表达式返回多个节点，则只选择第一个节点作为 BizTalk 消息正文部分。 如果选择了“路径 -- 按正文路径定位内容”  选项，则此属性是必需的。 此属性是仅对要求响应端口有效。<br /><br /> 键入：String<br /><br /> 最小长度：0<br /><br /> 最大长度：32767<br /><br /> 默认值为一个空字符串。                       |
   |               **节点编码**               | 指定 Wcf-basichttp 发送适配器将使用进行解码中的正文路径表达式所标识的节点的编码类型**正文路径表达式**文本框。 如果选择了“路径 -- 按正文路径定位内容”  选项，则此属性是必需的。 此属性是仅对要求响应端口有效。 包括以下有效值：<br /><br /> -   **Base64**:Base64 编码。<br />-   **十六进制**:十六进制编码。<br />-   **字符串**:文本编码-utf-8<br />-   **XML**:WCF 适配器中的正文路径表达式所选择的节点的外部 xml 创建 BizTalk 消息正文**正文路径表达式**文本框。<br /><br /> 默认值为“XML” 。 |
   |          **传播故障消息**          |                                                                                                                                                                              选中此复选框可将路由到某个订阅应用程序的出站处理失败的消息 （例如其他接收端口或业务流程计划）。 清除复选框可挂起失败的消息，并生成一个否定确认 (NACK)。 此属性是仅对要求响应端口有效。<br /><br /> 选择默认值。                                                                                                                                                                               |

## <a name="add-a-proxy-to-the-send-handler"></a>将代理添加到的发送处理程序

可以将代理添加到发送端口或发送处理程序。 如果要在发送端口添加代理，则跳过此部分。

1. 在中[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理控制台中，展开[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]内，展开**BizTalk 组**，展开**平台设置**，然后展开**适配器**.  

2. 选择**Wcf-basichttp**，然后再双击选择发送处理程序。  

3. 在中**适配器处理程序属性**，然后在**常规**选项卡上，选择**属性**。  

4. 在中**代理**选项卡上，执行以下操作。  


   |   使用此选项    |                                                                                                                                                                                                                        执行的操作                                                                                                                                                                                                                        |
   |---------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   | **使用代理** |                                                                                                                                                                            指示此发送处理程序是否使用代理服务器。<br /><br /> 默认值为清除此复选框。                                                                                                                                                                             |
   |  **Address**  |                      指定代理服务器的地址。 使用**https**或**http**具体取决于安全配置的方案。 此地址可以跟一个冒号和端口号。 例如， http://127.0.0.1:8080。<br /><br /> 此属性需要值才**使用代理**处于选中状态。<br /><br /> 键入：String<br /><br /> 最大长度：256<br /><br /> 默认值为一个空字符串。                      |
   | **用户名** | 指定要用于身份验证的用户名。 如果使用集成或基本身份验证，则用户名将包括域，即，域 \ 用户名。 如果使用摘要式身份验证，则用户名不包括域\\。<br /><br /> 此属性需要值才**使用代理**处于选中状态。<br /><br /> 键入：String<br /><br /> 最小长度：0<br /><br /> 最大长度：256<br /><br /> 默认值为一个空字符串。 |
   | **密码**  |                                                                                             指定要用于身份验证的密码。<br /><br /> 此属性需要值才**使用代理**处于选中状态。<br /><br /> 键入：String<br /><br /> 最小长度：0<br /><br /> 最大长度：256<br /><br /> 默认值为一个空字符串。                                                                                             |


5. 单击**确定**直到您退出所有对话框。  

   ## <a name="see-also"></a>另请参阅

[WCF 适配器概述](../core/what-are-the-wcf-adapters.md)

[SB 消息适配器](../core/sb-messaging-adapter.md)

[使用适配器](../core/using-adapters.md)
