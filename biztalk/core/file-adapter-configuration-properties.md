---
title: "文件适配器配置属性 |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- File adapters, code sample
- receive locations, adapters
- File adapters, send ports
- File adapters, receive locations
- File adapters, properties
- send ports, adapters
ms.assetid: 53f4fd17-95b9-4861-b433-772b619e90c7
caps.latest.revision: "13"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: fe578337d7137f3c9973ec4d57f195ead94ad908
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/28/2017
---
# <a name="file-adapter-configuration-properties"></a><span data-ttu-id="1602b-102">文件适配器配置属性</span><span class="sxs-lookup"><span data-stu-id="1602b-102">File Adapter Configuration Properties</span></span>
<span data-ttu-id="1602b-103">下表列出可以为文件适配器设置的配置属性接收位置：</span><span class="sxs-lookup"><span data-stu-id="1602b-103">The following table lists the configuration properties that you can set for a File adapter receive location:</span></span>  
  
|<span data-ttu-id="1602b-104">属性名称</span><span class="sxs-lookup"><span data-stu-id="1602b-104">Property name</span></span>|<span data-ttu-id="1602b-105">类型</span><span class="sxs-lookup"><span data-stu-id="1602b-105">Type</span></span>|<span data-ttu-id="1602b-106">Description</span><span class="sxs-lookup"><span data-stu-id="1602b-106">Description</span></span>|<span data-ttu-id="1602b-107">限制</span><span class="sxs-lookup"><span data-stu-id="1602b-107">Restrictions</span></span>|<span data-ttu-id="1602b-108">注释</span><span class="sxs-lookup"><span data-stu-id="1602b-108">Comments</span></span>|  
|-------------------|----------|-----------------|------------------|--------------|  
|<span data-ttu-id="1602b-109">RemoveReceivedFileRetryCount</span><span class="sxs-lookup"><span data-stu-id="1602b-109">RemoveReceivedFileRetryCount</span></span>|<span data-ttu-id="1602b-110">VT_UI4</span><span class="sxs-lookup"><span data-stu-id="1602b-110">VT_UI4</span></span>|<span data-ttu-id="1602b-111">指定文件适配器将尝试删除已读取并提交到 BizTalk Server 的文件的次数。</span><span class="sxs-lookup"><span data-stu-id="1602b-111">Specify the number of times that the File adapter will attempt to delete a file that it has read and submitted to BizTalk Server.</span></span>|<span data-ttu-id="1602b-112">有效值为从 0 到 100。</span><span class="sxs-lookup"><span data-stu-id="1602b-112">Valid values are from 0 to 100.</span></span>|<span data-ttu-id="1602b-113">默认值为 5。</span><span class="sxs-lookup"><span data-stu-id="1602b-113">The default value is 5.</span></span>|  
|<span data-ttu-id="1602b-114">RemoveReceivedFileMaxInterval</span><span class="sxs-lookup"><span data-stu-id="1602b-114">RemoveReceivedFileMaxInterval</span></span>|<span data-ttu-id="1602b-115">VT_UI4</span><span class="sxs-lookup"><span data-stu-id="1602b-115">VT_UI4</span></span>|<span data-ttu-id="1602b-116">指定文件适配器在尝试删除已读取并提交到 BizTalk Server 的文件前等待的初始间隔（以毫秒计）。</span><span class="sxs-lookup"><span data-stu-id="1602b-116">Specify the initial interval in milliseconds that the File adapter waits before attempting to delete a file that it has read and submitted to BizTalk Server.</span></span>|<span data-ttu-id="1602b-117">有效值为 1 到 1000年。</span><span class="sxs-lookup"><span data-stu-id="1602b-117">Valid values are from 1 to 1000.</span></span>|<span data-ttu-id="1602b-118">默认值为 10。</span><span class="sxs-lookup"><span data-stu-id="1602b-118">The default value is 10.</span></span>|  
|<span data-ttu-id="1602b-119">FileMask</span><span class="sxs-lookup"><span data-stu-id="1602b-119">FileMask</span></span>|<span data-ttu-id="1602b-120">VT_BSTR</span><span class="sxs-lookup"><span data-stu-id="1602b-120">VT_BSTR</span></span>|<span data-ttu-id="1602b-121">指定文件的掩码。</span><span class="sxs-lookup"><span data-stu-id="1602b-121">Specify the mask for the files.</span></span>|<span data-ttu-id="1602b-122">无</span><span class="sxs-lookup"><span data-stu-id="1602b-122">None</span></span>|<span data-ttu-id="1602b-123">默认值为 *.xml。</span><span class="sxs-lookup"><span data-stu-id="1602b-123">The default value is *.xml.</span></span>|  
|<span data-ttu-id="1602b-124">BatchSizeInBytes</span><span class="sxs-lookup"><span data-stu-id="1602b-124">BatchSizeInBytes</span></span>|<span data-ttu-id="1602b-125">VT_UI4</span><span class="sxs-lookup"><span data-stu-id="1602b-125">VT_UI4</span></span>|<span data-ttu-id="1602b-126">指定一批发送到 BizTalk MessageBox 的文件的最大总字节数。</span><span class="sxs-lookup"><span data-stu-id="1602b-126">Specify the maximum total bytes for a batch of files sent to the BizTalk MessageBox.</span></span>|<span data-ttu-id="1602b-127">有效值为 1024年到 104857600。</span><span class="sxs-lookup"><span data-stu-id="1602b-127">Valid values are from 1024 to 104857600.</span></span>|<span data-ttu-id="1602b-128">默认值为 102400。</span><span class="sxs-lookup"><span data-stu-id="1602b-128">The default value is 102400.</span></span>|  
|<span data-ttu-id="1602b-129">PollingInterval</span><span class="sxs-lookup"><span data-stu-id="1602b-129">PollingInterval</span></span>|<span data-ttu-id="1602b-130">VT_UI4</span><span class="sxs-lookup"><span data-stu-id="1602b-130">VT_UI4</span></span>|<span data-ttu-id="1602b-131">指定文件适配器将轮询指定位置以查找新文件的时间间隔（以毫秒计）。</span><span class="sxs-lookup"><span data-stu-id="1602b-131">Specify the interval in milliseconds that the File adapter will poll the specified location for new files.</span></span>|<span data-ttu-id="1602b-132">有效值从 1000年到 3600000。</span><span class="sxs-lookup"><span data-stu-id="1602b-132">Valid values are from 1000 to 3600000.</span></span>|<span data-ttu-id="1602b-133">设置为 1 可禁用轮询。</span><span class="sxs-lookup"><span data-stu-id="1602b-133">Set to 1 to disable polling.</span></span>|  
|<span data-ttu-id="1602b-134">BatchSize</span><span class="sxs-lookup"><span data-stu-id="1602b-134">BatchSize</span></span>|<span data-ttu-id="1602b-135">VT_UI4</span><span class="sxs-lookup"><span data-stu-id="1602b-135">VT_UI4</span></span>|<span data-ttu-id="1602b-136">指定可在一批中提交的最多消息数。</span><span class="sxs-lookup"><span data-stu-id="1602b-136">Specify the maximum number of messages to be submitted in a batch.</span></span>|<span data-ttu-id="1602b-137">有效值为从 1 到 256。</span><span class="sxs-lookup"><span data-stu-id="1602b-137">Valid values are from 1 to 256.</span></span>|<span data-ttu-id="1602b-138">默认值为 20。</span><span class="sxs-lookup"><span data-stu-id="1602b-138">The default value is 20.</span></span>|  
|<span data-ttu-id="1602b-139">FileNetFailRetryInt</span><span class="sxs-lookup"><span data-stu-id="1602b-139">FileNetFailRetryInt</span></span>|<span data-ttu-id="1602b-140">VT_UI4</span><span class="sxs-lookup"><span data-stu-id="1602b-140">VT_UI4</span></span>|<span data-ttu-id="1602b-141">指定两次尝试访问网络共享上的接收位置（如果该位置暂时不可用）之间的重试间隔时间（分钟）。</span><span class="sxs-lookup"><span data-stu-id="1602b-141">Specify the retry interval time (in minutes) between attempts to access the receive location on the network share if it is temporarily unavailable.</span></span>|<span data-ttu-id="1602b-142">有效的值是 0 到 4294967295。</span><span class="sxs-lookup"><span data-stu-id="1602b-142">Valid values are from 0 to 4294967295.</span></span>|<span data-ttu-id="1602b-143">默认值为 5。</span><span class="sxs-lookup"><span data-stu-id="1602b-143">The default value is 5.</span></span>|  
|<span data-ttu-id="1602b-144">RemoveReceivedFileDelay</span><span class="sxs-lookup"><span data-stu-id="1602b-144">RemoveReceivedFileDelay</span></span>|<span data-ttu-id="1602b-145">VT_UI4</span><span class="sxs-lookup"><span data-stu-id="1602b-145">VT_UI4</span></span>|<span data-ttu-id="1602b-146">指定文件适配器在尝试删除已读取并提交到 BizTalk Server 的文件前等待的初始间隔（以毫秒计）。</span><span class="sxs-lookup"><span data-stu-id="1602b-146">Specify the initial interval in milliseconds that the File adapter waits before attempting to delete a file that it has read and submitted to BizTalk Server.</span></span>|<span data-ttu-id="1602b-147">在每次重试间隔达到指定的重试间隔最大值后，此间隔时间将增为两倍。</span><span class="sxs-lookup"><span data-stu-id="1602b-147">This interval will double after each retry interval up to the specified maximum retry interval value.</span></span><br /><br /> <span data-ttu-id="1602b-148">有效值为 1 到 1000年。</span><span class="sxs-lookup"><span data-stu-id="1602b-148">Valid values are from 1 to 1000.</span></span>|<span data-ttu-id="1602b-149">默认值为 10。</span><span class="sxs-lookup"><span data-stu-id="1602b-149">The default value is 10.</span></span>|  
|<span data-ttu-id="1602b-150">RenameReceivedFiles</span><span class="sxs-lookup"><span data-stu-id="1602b-150">RenameReceivedFiles</span></span>|<span data-ttu-id="1602b-151">VT_BOOL</span><span class="sxs-lookup"><span data-stu-id="1602b-151">VT_BOOL</span></span>|<span data-ttu-id="1602b-152">指定在提取文件进行处理前是否对其进行重命名。</span><span class="sxs-lookup"><span data-stu-id="1602b-152">Specify whether to rename files before picking them up for processing.</span></span>|<span data-ttu-id="1602b-153">有效值为</span><span class="sxs-lookup"><span data-stu-id="1602b-153">Valid values are:</span></span><br /><br /> <span data-ttu-id="1602b-154">--1 (true)</span><span class="sxs-lookup"><span data-stu-id="1602b-154">-   -1 (true)</span></span><br /><span data-ttu-id="1602b-155">-0 (false)</span><span class="sxs-lookup"><span data-stu-id="1602b-155">-   0 (false)</span></span>|<span data-ttu-id="1602b-156">默认值为 0。</span><span class="sxs-lookup"><span data-stu-id="1602b-156">The default value is 0.</span></span>|  
|<span data-ttu-id="1602b-157">FileNetFailRetryCount</span><span class="sxs-lookup"><span data-stu-id="1602b-157">FileNetFailRetryCount</span></span>|<span data-ttu-id="1602b-158">VT_UI4</span><span class="sxs-lookup"><span data-stu-id="1602b-158">VT_UI4</span></span>|<span data-ttu-id="1602b-159">指定尝试访问网络共享上的接收位置（如果该位置暂时不可用）的次数。</span><span class="sxs-lookup"><span data-stu-id="1602b-159">Specify the number of attempts to access the receive location on a network share if it is temporarily unavailable.</span></span>|<span data-ttu-id="1602b-160">有效的值是 0 到 4294967295。</span><span class="sxs-lookup"><span data-stu-id="1602b-160">Valid values are from 0 to 4294967295.</span></span>|<span data-ttu-id="1602b-161">默认值为 5。</span><span class="sxs-lookup"><span data-stu-id="1602b-161">The default value is 5.</span></span>|  
  
 <span data-ttu-id="1602b-162">下面的代码演示使用设置的属性的 XML 字符串的格式：</span><span class="sxs-lookup"><span data-stu-id="1602b-162">The following code shows the format of the XML string you use to set the properties:</span></span>  
  
```  
<CustomProps>  
<RemoveReceivedFileRetryCount vt="19">5</RemoveReceivedFileRetryCount>  
<RemoveReceivedFileMaxInterval vt="19">300000</RemoveReceivedFileMaxInterval>  
<FileMask vt="8">*.xml</FileMask>  
<BatchSizeInBytes vt="19">102400</BatchSizeInBytes>  
<PollingInterval vt="19">60000</PollingInterval>  
<BatchSize vt="19">20</BatchSize>  
<FileNetFailRetryInt vt="19">5</FileNetFailRetryInt>  
<RemoveReceivedFileDelay vt="19">10</RemoveReceivedFileDelay>  
<RenameReceivedFiles vt="11">0</RenameReceivedFiles>  
<FileNetFailRetryCount vt="19">5</FileNetFailRetryCount>  
</CustomProps>  
```  
  
 <span data-ttu-id="1602b-163">下表列出可以为文件适配器设置的配置属性发送端口：</span><span class="sxs-lookup"><span data-stu-id="1602b-163">The following table lists the configuration properties that you can set for a File adapter send port:</span></span>  
  
|<span data-ttu-id="1602b-164">属性名称</span><span class="sxs-lookup"><span data-stu-id="1602b-164">Property name</span></span>|<span data-ttu-id="1602b-165">类型</span><span class="sxs-lookup"><span data-stu-id="1602b-165">Type</span></span>|<span data-ttu-id="1602b-166">Description</span><span class="sxs-lookup"><span data-stu-id="1602b-166">Description</span></span>|<span data-ttu-id="1602b-167">限制</span><span class="sxs-lookup"><span data-stu-id="1602b-167">Restrictions</span></span>|<span data-ttu-id="1602b-168">注释</span><span class="sxs-lookup"><span data-stu-id="1602b-168">Comments</span></span>|  
|-------------------|----------|-----------------|------------------|--------------|  
|<span data-ttu-id="1602b-169">用户名</span><span class="sxs-lookup"><span data-stu-id="1602b-169">Username</span></span>|<span data-ttu-id="1602b-170">VT_BSTR</span><span class="sxs-lookup"><span data-stu-id="1602b-170">VT_BSTR</span></span>|<span data-ttu-id="1602b-171">如果文件适配器的主机实例不具有所需的权限到网络共享，请指定替代凭据。</span><span class="sxs-lookup"><span data-stu-id="1602b-171">Specify alternative credentials when the host instance for the File adapter does not have the necessary rights to a network share.</span></span>|<span data-ttu-id="1602b-172">无</span><span class="sxs-lookup"><span data-stu-id="1602b-172">None</span></span>|<span data-ttu-id="1602b-173">指定的用户名格式\<域\>\username。</span><span class="sxs-lookup"><span data-stu-id="1602b-173">Specify the username in the format \<domain\>\username.</span></span>|  
|<span data-ttu-id="1602b-174">UseTempFileOnWrite</span><span class="sxs-lookup"><span data-stu-id="1602b-174">UseTempFileOnWrite</span></span>|<span data-ttu-id="1602b-175">VT_BOOL</span><span class="sxs-lookup"><span data-stu-id="1602b-175">VT_BOOL</span></span>|<span data-ttu-id="1602b-176">指定要写入到目标文件夹时使用的临时文件。</span><span class="sxs-lookup"><span data-stu-id="1602b-176">Specifies to use a temporary file when writing to the target folder.</span></span> <span data-ttu-id="1602b-177">完成文件后将其写入已重命名为 Filename 属性指定的值。</span><span class="sxs-lookup"><span data-stu-id="1602b-177">Once file is finished writing it is renamed to the value specified for the Filename property.</span></span>|<span data-ttu-id="1602b-178">如果 CopyMode 属性设置为值为 2 （新建），则仅可以为-1 (true) 设置此属性。</span><span class="sxs-lookup"><span data-stu-id="1602b-178">This property can only be set to -1 (true) if the CopyMode property is set to a value of 2 (Create new).</span></span><br /><br /> <span data-ttu-id="1602b-179">有效值为</span><span class="sxs-lookup"><span data-stu-id="1602b-179">Valid values are:</span></span><br /><br /> <span data-ttu-id="1602b-180">--1 (true)</span><span class="sxs-lookup"><span data-stu-id="1602b-180">-   -1 (true)</span></span><br /><span data-ttu-id="1602b-181">-0 (false)</span><span class="sxs-lookup"><span data-stu-id="1602b-181">-   0 (false)</span></span>|<span data-ttu-id="1602b-182">默认值为 0 (false)。</span><span class="sxs-lookup"><span data-stu-id="1602b-182">The default value is 0 (false).</span></span>|  
|<span data-ttu-id="1602b-183">CopyMode</span><span class="sxs-lookup"><span data-stu-id="1602b-183">CopyMode</span></span>|<span data-ttu-id="1602b-184">VT_UI4</span><span class="sxs-lookup"><span data-stu-id="1602b-184">VT_UI4</span></span>|<span data-ttu-id="1602b-185">定义要在一条消息写入到文件时使用的复制模式</span><span class="sxs-lookup"><span data-stu-id="1602b-185">Define the copy mode to use when writing a message to a file</span></span>|<span data-ttu-id="1602b-186">有效值为</span><span class="sxs-lookup"><span data-stu-id="1602b-186">Valid values are:</span></span><br /><br /> <span data-ttu-id="1602b-187">-0 （追加）</span><span class="sxs-lookup"><span data-stu-id="1602b-187">-   0 (Append)</span></span><br /><span data-ttu-id="1602b-188">-1 （覆盖）</span><span class="sxs-lookup"><span data-stu-id="1602b-188">-   1 (Overwrite)</span></span><br /><span data-ttu-id="1602b-189">-2 （新建）</span><span class="sxs-lookup"><span data-stu-id="1602b-189">-   2 (Create new)</span></span>|<span data-ttu-id="1602b-190">默认值为 2 （新建）。</span><span class="sxs-lookup"><span data-stu-id="1602b-190">The default value is 2 (Create new).</span></span>|  
|<span data-ttu-id="1602b-191">FileName</span><span class="sxs-lookup"><span data-stu-id="1602b-191">FileName</span></span>|<span data-ttu-id="1602b-192">VT_BSTR</span><span class="sxs-lookup"><span data-stu-id="1602b-192">VT_BSTR</span></span>|<span data-ttu-id="1602b-193">指定文件发送处理程序将消息写入其中的文件的名称。</span><span class="sxs-lookup"><span data-stu-id="1602b-193">Specify the name of the file where the file send handler writes the message.</span></span>|<span data-ttu-id="1602b-194">此属性限制信息，请参阅[对文件掩码和文件名称属性的限制](http://msdn.microsoft.com/library/d8f5afd0-a61f-4c9b-8a57-4792e3054769)。</span><span class="sxs-lookup"><span data-stu-id="1602b-194">For information about restrictions on this property, see [Restrictions on the File Mask and File Name Properties](http://msdn.microsoft.com/library/d8f5afd0-a61f-4c9b-8a57-4792e3054769).</span></span>|<span data-ttu-id="1602b-195">默认值为 %messageid%.xml。</span><span class="sxs-lookup"><span data-stu-id="1602b-195">The default value is %MessageID%.xml.</span></span>|  
|<span data-ttu-id="1602b-196">AllowCacheOnWrite</span><span class="sxs-lookup"><span data-stu-id="1602b-196">AllowCacheOnWrite</span></span>|<span data-ttu-id="1602b-197">VT_BOOL</span><span class="sxs-lookup"><span data-stu-id="1602b-197">VT_BOOL</span></span>|<span data-ttu-id="1602b-198">指定是否使用文件系统缓存时对文件进行写入一条消息。</span><span class="sxs-lookup"><span data-stu-id="1602b-198">Specify whether to use file system caching when writing a message to a file.</span></span>|<span data-ttu-id="1602b-199">有效值为</span><span class="sxs-lookup"><span data-stu-id="1602b-199">Valid values are:</span></span><br /><br /> <span data-ttu-id="1602b-200">-0 （不使用缓存）</span><span class="sxs-lookup"><span data-stu-id="1602b-200">-   0 (do not use caching)</span></span><br /><span data-ttu-id="1602b-201">--1 (使用 caching)</span><span class="sxs-lookup"><span data-stu-id="1602b-201">-   -1 (use caching)</span></span>|<span data-ttu-id="1602b-202">默认值为的 0 （不使用缓存）。</span><span class="sxs-lookup"><span data-stu-id="1602b-202">The default value is 0 (do not use caching).</span></span>|  
|<span data-ttu-id="1602b-203">密码</span><span class="sxs-lookup"><span data-stu-id="1602b-203">Password</span></span>|<span data-ttu-id="1602b-204">VT_NULL</span><span class="sxs-lookup"><span data-stu-id="1602b-204">VT_NULL</span></span>|<span data-ttu-id="1602b-205">指定当文件适配器的主机实例没有所需的权限到网络共享时，与 Username 属性结合使用的密码。</span><span class="sxs-lookup"><span data-stu-id="1602b-205">Specify the password used in conjunction with the Username property when the host instance for the File adapter does not have the necessary rights to a network share.</span></span>|<span data-ttu-id="1602b-206">此值在导出绑定文件时始终设置为空。</span><span class="sxs-lookup"><span data-stu-id="1602b-206">This value is always set to null when exporting a binding file.</span></span> <span data-ttu-id="1602b-207">在将绑定文件导入目标 BizTalk Server 配置前，必须手动在此字段中填充密码。</span><span class="sxs-lookup"><span data-stu-id="1602b-207">This field must be manually populated with the password before importing the binding file into the target BizTalk Server configuration.</span></span>|<span data-ttu-id="1602b-208">无</span><span class="sxs-lookup"><span data-stu-id="1602b-208">None</span></span>|  
  
 <span data-ttu-id="1602b-209">下面的代码演示使用设置的属性的 XML 字符串的格式：</span><span class="sxs-lookup"><span data-stu-id="1602b-209">The following code shows the format of the XML string you use to set the properties:</span></span>  
  
```  
<CustomProps>  
<Username vt="8">Domainname\User</Username>  
<UseTempFileOnWrite vt="11">-1</UseTempFileOnWrite>  
<CopyMode vt="19">1</CopyMode>  
<FileName vt="8">%MessageID%.xml</FileName>  
<AllowCacheOnWrite vt="11">-1</AllowCacheOnWrite>  
<Password vt="1" />  
</CustomProps>  
```