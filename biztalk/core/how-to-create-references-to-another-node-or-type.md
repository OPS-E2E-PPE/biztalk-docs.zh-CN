---
title: "如何创建对另一个节点或类型的引用 |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: c60be9ad-01a9-40e7-b43b-8c3d09bbb32f
caps.latest.revision: "5"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 643f39b9a42e2566f77371096d7305f56e11a328
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
---
# <a name="create-references-to-another-node-or-type"></a>创建到另一个节点或类型的引用
你可以使用全局节点来创建可重用的数据类型-片段的结构-，你可以在整个使用架构只要该结构适合。 你只能使用节点的直接子级的**架构**节点来创建全局类型。  
  
 你还可以创建使用的节点不是直接后代中的数据类型的循环引用**架构**节点。 这可用于表示架构中的递归结构。  
  
 本主题提供为各种类型的全局节点的分步说明和如何引用它们以使用它们。  
  
 **创建全局声明**  
  
 你可以创建全局使用记录、 字段或属性的类型。 从记录创建的全局类型可能只用于在记录中，创建从仅在字段中，仅在属性中的属性类型的字段的类型。 下面的过程介绍如何定义和使用全局声明。  
  
## <a name="create-a-global-declaration-from-a-node"></a>从的节点创建全局声明  
  
1.  选择**记录**，**字段特性**，或**Field 元素**节点你想要使全局可用其类型。  
  
2.  在**属性**窗口中，键入一个名称中**数据结构类型**列表将用作的复杂类型的全局名称，然后按 ENTER。  
  
## <a name="create-a-globally-defined-sequence-group-node-choice-group-node-or-all-group-node"></a>创建全局定义的序列组节点、 选择组节点或所有组节点  
  
1.  选择**记录**要向其中插入全局定义的组节点的节点。  
  
2.  上**BizTalk**菜单上，指向**插入架构节点**，然后单击**序列组**，**选项组**，或**所有组**适当。  
  
3.  创建新插入的组中的结构。 例如，插入**记录**或**Field 元素**节点 express 组节点中的数据结构。  
  
    > [!NOTE]
    >  序列组**选项组**，和**所有组**节点只能包含节点对应于 XML 元素，因此不能包含**字段特性**节点。  
  
4.  选择在步骤 2 中插入的组节点。  
  
5.  在属性窗口中，单击**组引用**，向值字段中，键入一个名称，然后按 enter 键。  
  
     通过提供在名称**组引用**属性，具有全局定义组节点，此后可以将其他组节点关联与此全局定义的类型 （结构）。  
  
## <a name="create-a-globally-defined-attribute-group-node"></a>创建一个全局定义的属性组节点  
  
1.  选择**记录**要向其中插入全局定义节点**属性组**节点。  
  
2.  上**BizTalk**菜单上，指向**插入架构节点**，然后单击**属性组**。  
  
     这将添加**属性组**到末尾的所选的子节点的节点**记录**节点。  
  
3.  添加相应**字段特性**或**属性组**节点你**属性组**。  
  
4.  （可选） 如果你想要重命名**属性组**节点中，选择**属性组**节点，然后更改其**组引用**属性设置为你选择的新名称。  
  
     属性组始终是全局性的从使用其点引用。  
  
## <a name="use-a-type-or-group-that-has-been-globally-defined"></a>使用的类型或全局范围内定义的组  
  
1.  选择你想要使用全局定义的类型的节点。  
  
2.  在属性窗口中，选择全局定义的类型从下拉列表中为**数据结构类型**属性 (**记录**节点)，**数据类型**属性 (**字段元素**和**字段特性**节点)，或**组引用**(**序列组**，**选项组**，**所有组**，和**属性组**节点)。 这些属性的更多详细信息[!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)]。
  
    > [!NOTE]
    >  对全局定义的类型或组的后续更改可采用任何它在其中出现的架构位置。 在单个的任意位置进行，将在所有此类位置中应用这些更改。  
  
 创建全局声明后，你不能在单个步骤中将其删除。 但是，可以通过使用删除它**清理全局数据类型**对话框中保存架构后，使用以下过程。  
  
## <a name="delete-a-global-declaration"></a>删除全局声明  
  
1.  删除所有使用该全局类型或组，其中的节点，或指定要在所有这些节点，或它们的某些组合中使用的不同类型或组。 删除节点的分步说明，请参阅[删除节点](../core/how-to-delete-nodes.md)。  
  
2.  在保存您的规范，**清理全局数据类型**对话框随即出现。 选择你想要从您的规范，完全删除，然后单击是全局声明**确定**。  
  
    > [!NOTE]
    >  **清理全局数据类型**对话框中将显示每次将架构保存与未使用的数据类型。 如果未显示此对话框中，在架构中某个位置使用的所有数据类型或因为它已打开尚未修改架构 （在后一种情况下，它可能仍然包含以前保留的未使用的数据类型。  
  
## <a name="create-cyclical-references-to-another-node"></a>创建到另一个节点的循环引用  
 你可以创建到节点来表示递归架构元素的循环引用。 通过创建其类型由一个封闭的记录节点执行此操作。 例如，考虑实例消息包装在任意数目的具有相同结构的信封中。 使用循环引用，可以创建定义此类实例消息的架构。  
  
### <a name="create-a-cyclical-reference"></a>创建循环引用  
  
1.  选择**记录**想要创建的递归引用节点。 这是表示递归结构的顶部的节点。  
  
2.  在属性窗口中，确保**数据结构类型**具有值。  
  
     验证**记录**命名节点都有与之关联的类型是必需的因为递归结构定义时包含本身的类型。 类型仅可包含本身通过嵌套使用命名的全局类型。  
  
3.  选择子**记录**节点或插入子**记录**节点。  
  
4.  为子**记录**节点中的属性窗口中，在**数据结构类型**列表中，选择在步骤 2 中标识的数据结构。  
  
> [!IMPORTANT]
>  - **最小出现次数**重复节点的属性必须设置为零 (**0**)。 将其设置为一个 (**1**) 将导致无限循环。  
>
>  - 如果你导入包含递归元素的架构，BizTalk 编辑器不会自动检查以确保递归元素有效。  
  
## <a name="see-also"></a>另请参阅  
 [管理在架构中的节点](../core/managing-the-nodes-within-a-schema.md)