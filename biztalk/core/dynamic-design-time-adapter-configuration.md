---
title: 动态设计时适配器配置 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 36127d62-0348-42bb-981f-19fcad26efce
caps.latest.revision: 24
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: e27379b1d7f3132009db4837a8a5911206e9064a
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65350487"
---
# <a name="dynamic-design-time-adapter-configuration"></a><span data-ttu-id="697a7-102">动态设计时适配器配置</span><span class="sxs-lookup"><span data-stu-id="697a7-102">Dynamic Design-Time Adapter Configuration</span></span>
<span data-ttu-id="697a7-103">有些情况下不具有足够的灵活性，以显示适配器的 BizTalk 项目导入服务静态设计时适配器配置和标准默认 UI 中添加适配器元数据向导。</span><span class="sxs-lookup"><span data-stu-id="697a7-103">There are situations where static design-time adapter configuration and the standard default UI in the Add Adapter Metadata Wizard is not flexible enough to display an adapter's services for a BizTalk project to import.</span></span> <span data-ttu-id="697a7-104">或者，您可以使用动态设计时配置，其中为向导可以显示并选择您的适配器服务提供自定义的 UI。</span><span class="sxs-lookup"><span data-stu-id="697a7-104">Alternatively, you can use dynamic design-time configuration, where you provide a customized UI to the wizard to display and select your adapter's services.</span></span> <span data-ttu-id="697a7-105">BizTalk 适配器框架提供了一系列你可以使用导入适配器所需的架构并显示自定义 UI 的 Api。</span><span class="sxs-lookup"><span data-stu-id="697a7-105">The BizTalk Adapter Framework provides a set of APIs that you can use to import the required schemas for the adapter and to display the custom UI.</span></span>  
  
 <span data-ttu-id="697a7-106">本部分介绍如何实现自定义适配器的动态设计时配置功能。</span><span class="sxs-lookup"><span data-stu-id="697a7-106">This section explains how to implement dynamic design-time configuration capability for your custom adapter.</span></span> <span data-ttu-id="697a7-107">决定进行的更改将基于与应用程序的需求适配器通信和适配器需要实现的逻辑。</span><span class="sxs-lookup"><span data-stu-id="697a7-107">The changes you decide to make will be based on the needs of the applications with which the adapter communicates and the logic that the adapter needs to implement.</span></span> <span data-ttu-id="697a7-108">指向章节的[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]可用时提供帮助描述这些步骤的更多详细信息或提供其他背景信息。</span><span class="sxs-lookup"><span data-stu-id="697a7-108">Links to sections of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Help that describe these steps in more detail or provide additional background are provided when available.</span></span> <span data-ttu-id="697a7-109">此外它还指出提供相关示例的示例文件适配器文档中的位置。</span><span class="sxs-lookup"><span data-stu-id="697a7-109">Additionally it calls out the places in the sample file adapter documentation that provide relevant examples.</span></span>  
  
## <a name="guidelines-for-the-dynamic-development-process"></a><span data-ttu-id="697a7-110">有关动态开发过程的准则</span><span class="sxs-lookup"><span data-stu-id="697a7-110">Guidelines for the Dynamic Development Process</span></span>  
 <span data-ttu-id="697a7-111">以下列表提供了有助于在适配器中构建动态设计时功能的建议。</span><span class="sxs-lookup"><span data-stu-id="697a7-111">The following list provides recommendations for building dynamic design-time functionality into your adapter.</span></span> <span data-ttu-id="697a7-112">在开发过程中可能不需要执行所有这些步骤操作，也不严格依照顺序执行它们。</span><span class="sxs-lookup"><span data-stu-id="697a7-112">During development you may not need to do all of these steps nor execute them in a rigid sequence.</span></span>  
  
1. <span data-ttu-id="697a7-113">创建适配器配置要求和所需设置的配置参数的列表。</span><span class="sxs-lookup"><span data-stu-id="697a7-113">Create a list of adapter configuration requirements and configuration parameters that you need to set.</span></span> <span data-ttu-id="697a7-114">如果全局使用的参数进行所有接收位置和发送端口，在处理程序架构配置文件中进行指定。</span><span class="sxs-lookup"><span data-stu-id="697a7-114">If the parameters are globally used for all receive locations and send ports, specify them in the handler schema configuration file.</span></span> <span data-ttu-id="697a7-115">如果它们是端口或特定位置，配置在发送端口和接收位置配置文件。</span><span class="sxs-lookup"><span data-stu-id="697a7-115">If they are port or location specific, configure them in the send port and receive location configuration files.</span></span>  
  
2. <span data-ttu-id="697a7-116">修改适配器属性页的任何新的配置参数。</span><span class="sxs-lookup"><span data-stu-id="697a7-116">Modify the adapter property pages to account for any new configuration parameters.</span></span> <span data-ttu-id="697a7-117">有关此步骤的信息，请参阅[适配器配置架构](../core/adapter-configuration-schemas.md)。</span><span class="sxs-lookup"><span data-stu-id="697a7-117">For information about this step, see [Adapter Configuration Schemas](../core/adapter-configuration-schemas.md).</span></span>  
  
3. <span data-ttu-id="697a7-118">创建自定义用户界面 (UI) 添加适配器元数据向导来选择要添加到项目的架构。</span><span class="sxs-lookup"><span data-stu-id="697a7-118">Create a custom user interface (UI) for the Add Adapter Metadata Wizard to select the schema to add to the project.</span></span> <span data-ttu-id="697a7-119">此处列出的所有建议的仅在于这是动态与静态适配器。</span><span class="sxs-lookup"><span data-stu-id="697a7-119">Of all the recommendations listed here only this differentiates a dynamic from a static adapter.</span></span> <span data-ttu-id="697a7-120">有关此步骤的详细信息，请参阅[动态适配器 DisplayUI 方法](../core/dynamic-adapter-displayui-method.md)和类[Microsoft.BizTalk.Adapter.Framework.IDynamicAdapterConfig.DisplayUI](http://msdn.microsoft.com/library/microsoft.biztalk.adapter.framework.idynamicadapterconfig.displayui.aspx)。</span><span class="sxs-lookup"><span data-stu-id="697a7-120">For more information about this step, see [Dynamic Adapter DisplayUI Method](../core/dynamic-adapter-displayui-method.md) and the class [Microsoft.BizTalk.Adapter.Framework.IDynamicAdapterConfig.DisplayUI](http://msdn.microsoft.com/library/microsoft.biztalk.adapter.framework.idynamicadapterconfig.displayui.aspx).</span></span>  
  
4. <span data-ttu-id="697a7-121">修改示例代码，以返回作为 Web 服务描述语言 (WSDL) 文件的架构。</span><span class="sxs-lookup"><span data-stu-id="697a7-121">Modify the sample code to return schemas as Web Services Description Language (WSDL) files.</span></span> <span data-ttu-id="697a7-122">有关此步骤的详细信息，请参阅[静态适配器 IStaticAdapterConfig 接口](../core/static-adapter-istaticadapterconfig-interface.md)。</span><span class="sxs-lookup"><span data-stu-id="697a7-122">For more information about this step, see [Static Adapter IStaticAdapterConfig Interface](../core/static-adapter-istaticadapterconfig-interface.md).</span></span>  
  
5. <span data-ttu-id="697a7-123">修改现有的 WSDL 文件或创建新的 WSDL 文件。</span><span class="sxs-lookup"><span data-stu-id="697a7-123">Modify the existing WSDL files or create new WSDL files.</span></span> <span data-ttu-id="697a7-124">有关此步骤的详细信息，请参阅[适配器 WSDL 文件](../core/adapter-wsdl-files.md)。</span><span class="sxs-lookup"><span data-stu-id="697a7-124">For more information about this step, see [Adapter WSDL Files](../core/adapter-wsdl-files.md).</span></span>  
  
6. <span data-ttu-id="697a7-125">修改要返回的附加 XSD 文件所需的适配器不包括在 WSDL 文件中的示例代码。</span><span class="sxs-lookup"><span data-stu-id="697a7-125">Modify the sample code to return additional XSD files needed by the adapter that are not included in the WSDL files.</span></span> <span data-ttu-id="697a7-126">有关此步骤的详细信息，请参阅[适配器 GetSchema 方法](../core/adapter-getschema-method.md)。</span><span class="sxs-lookup"><span data-stu-id="697a7-126">For more information about this step, see [Adapter GetSchema Method](../core/adapter-getschema-method.md).</span></span>  
  
7. <span data-ttu-id="697a7-127">修改适配器注册表项并运行适配器注册表文件。</span><span class="sxs-lookup"><span data-stu-id="697a7-127">Modify the adapter registry keys and run the adapter registry file.</span></span> <span data-ttu-id="697a7-128">有关此步骤的详细信息，请参阅[适配器注册文件](../core/adapter-registration-file.md)。</span><span class="sxs-lookup"><span data-stu-id="697a7-128">For more information about this step, see [Adapter Registration File](../core/adapter-registration-file.md).</span></span>  
  
8. <span data-ttu-id="697a7-129">静态适配器安装到[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="697a7-129">Install the static adapter into [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="697a7-130">有关此步骤的详细信息，请参阅[适配器安装到 BizTalk Server](../core/install-the-adapter-into-biztalk-server.md)。</span><span class="sxs-lookup"><span data-stu-id="697a7-130">For more information about this step, see [Install the Adapter into BizTalk Server](../core/install-the-adapter-into-biztalk-server.md).</span></span>  
  
9. <span data-ttu-id="697a7-131">测试对适配器属性页所做的更改。</span><span class="sxs-lookup"><span data-stu-id="697a7-131">Test the changes made to the adapter property pages.</span></span> <span data-ttu-id="697a7-132">重新生成适配器，以测试将显示在 UI 中添加适配器元数据向导。</span><span class="sxs-lookup"><span data-stu-id="697a7-132">Rebuild the adapter to test the UI that appears in the Add Adapter Metadata Wizard.</span></span> <span data-ttu-id="697a7-133">有关此步骤的详细信息，请参阅[生成和测试适配器项目](../core/build-and-test-the-adapter-project.md)</span><span class="sxs-lookup"><span data-stu-id="697a7-133">For more information about this step, see [Build and Test the Adapter Project](../core/build-and-test-the-adapter-project.md)</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="697a7-134">本节内容</span><span class="sxs-lookup"><span data-stu-id="697a7-134">In This Section</span></span>  
  
-   [<span data-ttu-id="697a7-135">动态适配器 DisplayUI 方法</span><span class="sxs-lookup"><span data-stu-id="697a7-135">Dynamic Adapter DisplayUI Method</span></span>](../core/dynamic-adapter-displayui-method.md)