---
title: 业务活动监视 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 83b3c92f-3062-413e-8d89-797f1c7ea7ab
caps.latest.revision: 14
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 1700cd8aa120d11413a5fba16ce2e1439315df4a
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/27/2018
ms.locfileid: "37006038"
---
# <a name="business-activity-monitoring"></a><span data-ttu-id="14b9b-102">业务活动监视</span><span class="sxs-lookup"><span data-stu-id="14b9b-102">Business Activity Monitoring</span></span>
<span data-ttu-id="14b9b-103">信息工作者在查看和评估业务流程时需要相应的灵活性。</span><span class="sxs-lookup"><span data-stu-id="14b9b-103">Information workers need flexibility in looking at and evaluating business processes.</span></span> <span data-ttu-id="14b9b-104">例如，采购经理可能需要查看每天批准和拒绝的采购订单数，而销售经理可能需要每小时更新当前所订购的产品。</span><span class="sxs-lookup"><span data-stu-id="14b9b-104">A purchasing manager might need to see how many POs are approved and denied each day, for example, while a sales manager might want an hourly update on what products are being ordered.</span></span> <span data-ttu-id="14b9b-105">若要满足这些不同需要，则需要一个通用框架以跟踪特定业务流程的进展情况。</span><span class="sxs-lookup"><span data-stu-id="14b9b-105">Meeting these diverse needs requires a general framework for tracking what’s going on with a particular business process.</span></span> <span data-ttu-id="14b9b-106">这是完全哪些业务活动监视 (BAM) 中的组件 Microsoft[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]提供。</span><span class="sxs-lookup"><span data-stu-id="14b9b-106">This is exactly what the Business Activity Monitoring (BAM) component in Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] provides.</span></span>  
  
 <span data-ttu-id="14b9b-107">![BAM 关系图](../core/media/bam-diagram.gif "bam_diagram")</span><span class="sxs-lookup"><span data-stu-id="14b9b-107">![Diagram of BAM](../core/media/bam-diagram.gif "bam_diagram")</span></span>  
  
 <span data-ttu-id="14b9b-108">如上图所示，使用 BAM 组件可监视 BizTalk 应用程序生成的事件和数据。</span><span class="sxs-lookup"><span data-stu-id="14b9b-108">As the figure above illustrates, the BAM component allows monitoring of events and data produced by a BizTalk application.</span></span> <span data-ttu-id="14b9b-109">使用可调用 SOAP 的 Web Services 可访问此信息，并且可以通过以下多种方式来对其进行访问：</span><span class="sxs-lookup"><span data-stu-id="14b9b-109">This information is made accessible using SOAP-callable Web services, and it can be accessed in several different ways, as follows:</span></span>  
  
- <span data-ttu-id="14b9b-110">通过 Microsoft Excel 或其他桌面客户端，例如自定义仪表板应用程序。</span><span class="sxs-lookup"><span data-stu-id="14b9b-110">Through Microsoft Excel or other desktop clients, such as a custom dashboard application.</span></span>  
  
- <span data-ttu-id="14b9b-111">使用 BAM 门户，通过 BizTalk Server 中的这一组件，业务用户可以检查和配置 BAM 信息。</span><span class="sxs-lookup"><span data-stu-id="14b9b-111">Using a BAM portal, a component in BizTalk Server that enables business users to examine and configure BAM information.</span></span> <span data-ttu-id="14b9b-112">使用 BAM 门户，信息工作者可以选择某个业务流程的特定实例，然后选择该流程中的特定 BAM 视图。</span><span class="sxs-lookup"><span data-stu-id="14b9b-112">Using the BAM portal, an information worker can select a particular instance of some business process, and then choose a specific BAM view into the process.</span></span> <span data-ttu-id="14b9b-113">其中每个视图均反映不同的方面，例如以图形形式表示每个产品的销售趋势、当前库存水平或其他关键性能指标。</span><span class="sxs-lookup"><span data-stu-id="14b9b-113">Each of these views provides a different perspective, such as graphical depictions of per-product sales trends or current inventory levels, or other key performance indicators.</span></span> <span data-ttu-id="14b9b-114">这些视图中的信息可能每天、每小时或更频繁地进行更新。</span><span class="sxs-lookup"><span data-stu-id="14b9b-114">The information in these views might be updated every day, every hour, or more frequently.</span></span> <span data-ttu-id="14b9b-115">使用 BAM 门户，信息工作者还可以定义数据的聚合，例如过去一小时内填写、取消或正在进行中的订单数。</span><span class="sxs-lookup"><span data-stu-id="14b9b-115">Using the BAM portal, an information worker can also define aggregations of data, such as the number of orders filled, canceled, or in progress over the last hour.</span></span> <span data-ttu-id="14b9b-116">由于将 BAM 门户实现为一组 ASP.NET 页，因此在 Windows SharePoint Services 内也可将其作为 Web 部分承载。</span><span class="sxs-lookup"><span data-stu-id="14b9b-116">Implemented as a set of ASP.NET pages, the BAM portal can also be hosted as a Web part inside Windows SharePoint Services.</span></span>  
  
- <span data-ttu-id="14b9b-117">通过 SQL Server Notification Services，可将 BAM 信息作为通知进行传送。</span><span class="sxs-lookup"><span data-stu-id="14b9b-117">Through SQL Server Notification Services, allowing BAM information to be delivered as notifications.</span></span> <span data-ttu-id="14b9b-118">尽管前两个选项允许信息工作检查 BAM 信息，但这第三个选项将在发生某些所关注事件时创建通知。</span><span class="sxs-lookup"><span data-stu-id="14b9b-118">While the first two options allow information workers to examine BAM information, this third option creates a notification when something interesting happens.</span></span> <span data-ttu-id="14b9b-119">使用 BAM 门户的警报管理器，信息工作者可以定义发生指定事件时将要发送的警报。</span><span class="sxs-lookup"><span data-stu-id="14b9b-119">Using the BAM portal’s alert manager, an information worker can define alerts that will be sent when a specified event occurs.</span></span> <span data-ttu-id="14b9b-120">例如，BAM 用户可能选择时的一天中取消的订单数超过 10，向特定经理发送一封电子邮件，或可能是从其最大客户的订单到达的时通知某个销售关联。</span><span class="sxs-lookup"><span data-stu-id="14b9b-120">For example, a BAM user might choose to send an e-mail to a particular manager whenever the number of canceled orders in a day exceeds ten, or perhaps inform certain sales associates any time an order arrives from their largest customer.</span></span>  
  
  <span data-ttu-id="14b9b-121">实际上，每个 BAM 视图都依赖一个或多个 BAM 活动。</span><span class="sxs-lookup"><span data-stu-id="14b9b-121">Under the covers, each BAM view relies on one or more BAM activities.</span></span> <span data-ttu-id="14b9b-122">BAM 活动代表特定的业务流程，例如处理采购订单或发运产品，并且每个业务流程都具有一组定义的里程碑和业务数据。</span><span class="sxs-lookup"><span data-stu-id="14b9b-122">A BAM activity represents a specific business process, such as handling purchase orders or shipping a product, and each one has a defined set of milestones and business data.</span></span> <span data-ttu-id="14b9b-123">例如，采购订单活动可能包含 Approved、Denied 和 Delivered 等里程碑以及客户姓名和产品等业务数据。</span><span class="sxs-lookup"><span data-stu-id="14b9b-123">For example, a purchase order activity might have milestones such as Approved, Denied, and Delivered along with business data like Customer Name and Product.</span></span>  
  
  <span data-ttu-id="14b9b-124">通过 Excel 访问 BAM 的信息工作者，BAM 活动和 BAM 视图可以使用创建的 Excel 外接程序。</span><span class="sxs-lookup"><span data-stu-id="14b9b-124">For information workers accessing BAM through Excel, BAM activities and BAM views can be created using an Excel add-in.</span></span> <span data-ttu-id="14b9b-125">用于该外接程序的 BAM 活动向导允许定义活动，而 BAM 视图向导允许基于这些活动的视图的定义。</span><span class="sxs-lookup"><span data-stu-id="14b9b-125">The BAM Activity Wizard for this add-in allows the defining activities, while the BAM View Wizard allows the defining of views based on those activities.</span></span> <span data-ttu-id="14b9b-126">实际上，BAM 视图向导只是帮助信息工作者使用一个或多个 BAM 活动中的信息来生成标准的 Excel 数据透视表。</span><span class="sxs-lookup"><span data-stu-id="14b9b-126">In fact, the BAM View Wizard really just helps an information worker build a standard Excel PivotTable using the information in one or more BAM activities.</span></span> <span data-ttu-id="14b9b-127">然后，如下图所示，此视图提供的信息即可直接显示在 Excel 中。</span><span class="sxs-lookup"><span data-stu-id="14b9b-127">The information that this view provides can then be shown directly in Excel, as the figure below illustrates.</span></span>  
  
  <span data-ttu-id="14b9b-128">![](../core/media/understandingbts-12-bam2.gif "UnderstandingBTS_12_BAM2")</span><span class="sxs-lookup"><span data-stu-id="14b9b-128">![](../core/media/understandingbts-12-bam2.gif "UnderstandingBTS_12_BAM2")</span></span>  
  
  <span data-ttu-id="14b9b-129">在此简单示例中，两个 Excel 图表将显示有关订单进度和销售的信息。</span><span class="sxs-lookup"><span data-stu-id="14b9b-129">In this simple example, two Excel charts display information about order progress and sales.</span></span> <span data-ttu-id="14b9b-130">BAM 视图可以更为复杂，并且其创建者可以指定允许哪些用户查看该视图显示的数据。</span><span class="sxs-lookup"><span data-stu-id="14b9b-130">A BAM view can be more complex, and its creator can specify which users are allowed to see the data it exposes.</span></span> <span data-ttu-id="14b9b-131">例如，采购经理可能可以访问采购订单流程中某视图的特定内容，而这些内容对于采购职员则是隐藏的。</span><span class="sxs-lookup"><span data-stu-id="14b9b-131">Maybe a purchasing manager can access certain things in a view into the purchase order process, for instance, that are hidden from purchasing clerks.</span></span>  
  
  <span data-ttu-id="14b9b-132">尽管信息工作者可以自己创建 BAM 视图和 BAM 活动，但这些视图和活动仍依赖于其监视的业务流程所提供的信息。</span><span class="sxs-lookup"><span data-stu-id="14b9b-132">While information workers can create BAM views and BAM activities on their own, these views and activities depend on information provided by the orchestrations they monitor.</span></span> <span data-ttu-id="14b9b-133">因此，开发人员仍要负责相应任务。</span><span class="sxs-lookup"><span data-stu-id="14b9b-133">Accordingly, developers still have a role to play.</span></span> <span data-ttu-id="14b9b-134">使用名为跟踪配置文件编辑器 (TPE) 的工具，开发人员必须对业务流程进行配置，以便该业务流程可以为依赖于特定 BAM 活动的 BAM 视图提供该活动所需的信息。</span><span class="sxs-lookup"><span data-stu-id="14b9b-134">Using a tool called the Tracking Profile Editor (TPE), a developer must configure an orchestration so that it provides the information required for a particular BAM activity, and thus for the BAM views that depend on this activity.</span></span> <span data-ttu-id="14b9b-135">开发人员可以使用此工具以图形方式将业务流程中的相应事件和消息字段与 BAM 活动中对应的里程碑和业务数据相关联。</span><span class="sxs-lookup"><span data-stu-id="14b9b-135">This tool allows a developer to graphically associate the appropriate events and message fields in an orchestration with corresponding milestones and business data in a BAM activity.</span></span> <span data-ttu-id="14b9b-136">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 引擎随后将这些事件和消息字段值发送到跟踪数据库（如上图所示），BAM 组件可在该数据库中对其进行访问。</span><span class="sxs-lookup"><span data-stu-id="14b9b-136">The [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] engine then sends these events and message field values to the Tracking database, as shown in the earlier figure, where they can be accessed by the BAM component.</span></span> <span data-ttu-id="14b9b-137">虽然开发人员必须完成其相应任务，但 BAM 活动和 BAM 视图不是其关注的问题。</span><span class="sxs-lookup"><span data-stu-id="14b9b-137">While developers must play their part, BAM activities and BAM views aren’t their concern.</span></span> <span data-ttu-id="14b9b-138">这些面向业务的服务仅由信息工作者进行创建、维护和使用。</span><span class="sxs-lookup"><span data-stu-id="14b9b-138">These business-oriented services are created, maintained, and used solely by information workers.</span></span>  
  
  <span data-ttu-id="14b9b-139">在 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 中，还可以使用 TPE 来指定管道生成事件的方式。</span><span class="sxs-lookup"><span data-stu-id="14b9b-139">In [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], the TPE can also be used to specify how pipelines generate events.</span></span> <span data-ttu-id="14b9b-140">更为重要的是，BAM 现在可以接受并显示由任何用户代码生成的事件，无论其是否作为业务流程生成。</span><span class="sxs-lookup"><span data-stu-id="14b9b-140">More important, BAM can now accept and display events generated by any user code, whether or not it is built as an orchestration.</span></span> <span data-ttu-id="14b9b-141">使用 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 的 BAM 组件，可能能够对使用 .NET Framework 生成的任何应用程序进行监视。</span><span class="sxs-lookup"><span data-stu-id="14b9b-141">Any application built using the .NET Framework can potentially be monitored using the BAM component of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="14b9b-142">请参阅</span><span class="sxs-lookup"><span data-stu-id="14b9b-142">See Also</span></span>  
 [<span data-ttu-id="14b9b-143">信息工作者技术</span><span class="sxs-lookup"><span data-stu-id="14b9b-143">Information Worker Technologies</span></span>](../core/information-worker-technologies.md)