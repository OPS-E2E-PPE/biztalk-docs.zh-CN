---
title: 业务活动监视 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 83b3c92f-3062-413e-8d89-797f1c7ea7ab
caps.latest.revision: 14
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 87dfcfdf647a9cdb434512774b320eeaefbeea83
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65357706"
---
# <a name="business-activity-monitoring"></a><span data-ttu-id="09381-102">业务活动监视</span><span class="sxs-lookup"><span data-stu-id="09381-102">Business Activity Monitoring</span></span>
<span data-ttu-id="09381-103">信息工作者需要灵活地查看和评估业务流程。</span><span class="sxs-lookup"><span data-stu-id="09381-103">Information workers need flexibility in looking at and evaluating business processes.</span></span> <span data-ttu-id="09381-104">采购经理可能需要查看批准和拒绝每一天，例如，尽管销售经理可能需要每小时更新当前所订购的哪些产品的多少 POs。</span><span class="sxs-lookup"><span data-stu-id="09381-104">A purchasing manager might need to see how many POs are approved and denied each day, for example, while a sales manager might want an hourly update on what products are being ordered.</span></span> <span data-ttu-id="09381-105">满足这些不同需求需要一个通用框架，用于跟踪与特定的业务流程正在运行的内容。</span><span class="sxs-lookup"><span data-stu-id="09381-105">Meeting these diverse needs requires a general framework for tracking what’s going on with a particular business process.</span></span> <span data-ttu-id="09381-106">这是完全哪些业务活动监视 (BAM) 中的组件 Microsoft[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]提供。</span><span class="sxs-lookup"><span data-stu-id="09381-106">This is exactly what the Business Activity Monitoring (BAM) component in Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] provides.</span></span>  
  
 <span data-ttu-id="09381-107">![BAM 关系图](../core/media/bam-diagram.gif "bam_diagram")</span><span class="sxs-lookup"><span data-stu-id="09381-107">![Diagram of BAM](../core/media/bam-diagram.gif "bam_diagram")</span></span>  
  
 <span data-ttu-id="09381-108">如图所示，使用 BAM 组件可监视事件和生成的 BizTalk 应用程序数据。</span><span class="sxs-lookup"><span data-stu-id="09381-108">As the figure above illustrates, the BAM component allows monitoring of events and data produced by a BizTalk application.</span></span> <span data-ttu-id="09381-109">此信息可供访问使用 SOAP 可调用的 Web 服务和它将可在多种不同的方式，按如下所示：</span><span class="sxs-lookup"><span data-stu-id="09381-109">This information is made accessible using SOAP-callable Web services, and it can be accessed in several different ways, as follows:</span></span>  
  
- <span data-ttu-id="09381-110">通过 Microsoft Excel 或其他桌面客户端，例如自定义仪表板应用程序。</span><span class="sxs-lookup"><span data-stu-id="09381-110">Through Microsoft Excel or other desktop clients, such as a custom dashboard application.</span></span>  
  
- <span data-ttu-id="09381-111">使用 BAM 门户，使业务用户可以检查和配置 BAM 信息的 BizTalk Server 中的组件。</span><span class="sxs-lookup"><span data-stu-id="09381-111">Using a BAM portal, a component in BizTalk Server that enables business users to examine and configure BAM information.</span></span> <span data-ttu-id="09381-112">使用 BAM 门户，信息工作者可以选择某个业务流程，一个特定实例，然后选择到过程中的特定 BAM 视图。</span><span class="sxs-lookup"><span data-stu-id="09381-112">Using the BAM portal, an information worker can select a particular instance of some business process, and then choose a specific BAM view into the process.</span></span> <span data-ttu-id="09381-113">每个视图提供了不同的角度看，如每个产品的销售趋势或当前库存水平或其他关键性能指标的图形形式表示。</span><span class="sxs-lookup"><span data-stu-id="09381-113">Each of these views provides a different perspective, such as graphical depictions of per-product sales trends or current inventory levels, or other key performance indicators.</span></span> <span data-ttu-id="09381-114">这些视图中的信息可能会更新每一天，每个小时或更频繁。</span><span class="sxs-lookup"><span data-stu-id="09381-114">The information in these views might be updated every day, every hour, or more frequently.</span></span> <span data-ttu-id="09381-115">使用 BAM 门户，信息工作者还可以定义数据的聚合，如订单数填写、 取消或正在进行中的过去 1 小时。</span><span class="sxs-lookup"><span data-stu-id="09381-115">Using the BAM portal, an information worker can also define aggregations of data, such as the number of orders filled, canceled, or in progress over the last hour.</span></span> <span data-ttu-id="09381-116">作为一组 ASP.NET 页实现的 BAM 门户可还作为承载 Windows SharePoint Services 的一个 Web 部件。</span><span class="sxs-lookup"><span data-stu-id="09381-116">Implemented as a set of ASP.NET pages, the BAM portal can also be hosted as a Web part inside Windows SharePoint Services.</span></span>  
  
- <span data-ttu-id="09381-117">通过 SQL Server Notification Services，可将 BAM 信息以作为通知进行传送。</span><span class="sxs-lookup"><span data-stu-id="09381-117">Through SQL Server Notification Services, allowing BAM information to be delivered as notifications.</span></span> <span data-ttu-id="09381-118">尽管前两个选项允许信息工作检查 BAM 信息，此第三个选项将一些有趣的事情发生时创建的通知。</span><span class="sxs-lookup"><span data-stu-id="09381-118">While the first two options allow information workers to examine BAM information, this third option creates a notification when something interesting happens.</span></span> <span data-ttu-id="09381-119">使用 BAM 门户的警报管理器，信息工作者可以定义将指定的事件发生时发送的警报。</span><span class="sxs-lookup"><span data-stu-id="09381-119">Using the BAM portal’s alert manager, an information worker can define alerts that will be sent when a specified event occurs.</span></span> <span data-ttu-id="09381-120">例如，BAM 用户可能选择时的一天中取消的订单数超过 10，向特定经理发送一封电子邮件，或可能是从其最大客户的订单到达的时通知某个销售关联。</span><span class="sxs-lookup"><span data-stu-id="09381-120">For example, a BAM user might choose to send an e-mail to a particular manager whenever the number of canceled orders in a day exceeds ten, or perhaps inform certain sales associates any time an order arrives from their largest customer.</span></span>  
  
  <span data-ttu-id="09381-121">事实上，每个 BAM 视图依赖于一个或多个 BAM 活动。</span><span class="sxs-lookup"><span data-stu-id="09381-121">Under the covers, each BAM view relies on one or more BAM activities.</span></span> <span data-ttu-id="09381-122">BAM 活动代表特定业务流程，例如处理采购订单或发运产品和每个具有一组定义的里程碑和业务数据。</span><span class="sxs-lookup"><span data-stu-id="09381-122">A BAM activity represents a specific business process, such as handling purchase orders or shipping a product, and each one has a defined set of milestones and business data.</span></span> <span data-ttu-id="09381-123">例如，采购订单活动可能具有 Approved、 Denied 和 Delivered 等里程碑以及客户姓名和产品等业务数据。</span><span class="sxs-lookup"><span data-stu-id="09381-123">For example, a purchase order activity might have milestones such as Approved, Denied, and Delivered along with business data like Customer Name and Product.</span></span>  
  
  <span data-ttu-id="09381-124">通过 Excel 访问 BAM 的信息工作者，BAM 活动和 BAM 视图可以使用创建的 Excel 外接程序。</span><span class="sxs-lookup"><span data-stu-id="09381-124">For information workers accessing BAM through Excel, BAM activities and BAM views can be created using an Excel add-in.</span></span> <span data-ttu-id="09381-125">用于该外接程序的 BAM 活动向导允许定义活动，而 BAM 视图向导允许基于这些活动的视图的定义。</span><span class="sxs-lookup"><span data-stu-id="09381-125">The BAM Activity Wizard for this add-in allows the defining activities, while the BAM View Wizard allows the defining of views based on those activities.</span></span> <span data-ttu-id="09381-126">实际上，BAM 视图向导只是帮助信息工作者生成标准 Excel 数据透视表使用一个或多个 BAM 活动中的信息。</span><span class="sxs-lookup"><span data-stu-id="09381-126">In fact, the BAM View Wizard really just helps an information worker build a standard Excel PivotTable using the information in one or more BAM activities.</span></span> <span data-ttu-id="09381-127">下图所示，然后可以直接在 Excel 中显示此视图提供的信息。</span><span class="sxs-lookup"><span data-stu-id="09381-127">The information that this view provides can then be shown directly in Excel, as the figure below illustrates.</span></span>  
  
  <span data-ttu-id="09381-128">![](../core/media/understandingbts-12-bam2.gif "UnderstandingBTS_12_BAM2")</span><span class="sxs-lookup"><span data-stu-id="09381-128">![](../core/media/understandingbts-12-bam2.gif "UnderstandingBTS_12_BAM2")</span></span>  
  
  <span data-ttu-id="09381-129">在此简单示例中，两个 Excel 图表显示有关订单进度和销售信息。</span><span class="sxs-lookup"><span data-stu-id="09381-129">In this simple example, two Excel charts display information about order progress and sales.</span></span> <span data-ttu-id="09381-130">BAM 视图可能会更复杂，并且其创建者可以指定允许哪些用户要查看它公开的数据。</span><span class="sxs-lookup"><span data-stu-id="09381-130">A BAM view can be more complex, and its creator can specify which users are allowed to see the data it exposes.</span></span> <span data-ttu-id="09381-131">也许采购经理可以访问某些内容到采购订单流程，例如，视图中隐藏的采购职员。</span><span class="sxs-lookup"><span data-stu-id="09381-131">Maybe a purchasing manager can access certain things in a view into the purchase order process, for instance, that are hidden from purchasing clerks.</span></span>  
  
  <span data-ttu-id="09381-132">尽管信息工作者可以自行创建 BAM 视图和 BAM 活动，这些视图和活动依赖于信息提供它们监视的业务流程。</span><span class="sxs-lookup"><span data-stu-id="09381-132">While information workers can create BAM views and BAM activities on their own, these views and activities depend on information provided by the orchestrations they monitor.</span></span> <span data-ttu-id="09381-133">相应地，开发人员仍然可以扮演的角色。</span><span class="sxs-lookup"><span data-stu-id="09381-133">Accordingly, developers still have a role to play.</span></span> <span data-ttu-id="09381-134">使用工具调用跟踪配置文件编辑器 (TPE)，开发人员必须配置业务流程，以使它提供了所需的特定 BAM 活动，从而确定依赖于此活动的 BAM 视图的信息。</span><span class="sxs-lookup"><span data-stu-id="09381-134">Using a tool called the Tracking Profile Editor (TPE), a developer must configure an orchestration so that it provides the information required for a particular BAM activity, and thus for the BAM views that depend on this activity.</span></span> <span data-ttu-id="09381-135">此工具允许开发人员能够以图形方式相关联的相应事件和消息在业务流程中的字段对应的里程碑和 BAM 活动中的业务数据。</span><span class="sxs-lookup"><span data-stu-id="09381-135">This tool allows a developer to graphically associate the appropriate events and message fields in an orchestration with corresponding milestones and business data in a BAM activity.</span></span> <span data-ttu-id="09381-136">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]引擎随后将发送这些事件和消息字段值到跟踪数据库，如上图中所示然后就可以访问 BAM 组件。</span><span class="sxs-lookup"><span data-stu-id="09381-136">The [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] engine then sends these events and message field values to the Tracking database, as shown in the earlier figure, where they can be accessed by the BAM component.</span></span> <span data-ttu-id="09381-137">尽管开发人员必须完成其相应，BAM 活动和 BAM 视图并不是其关注的问题。</span><span class="sxs-lookup"><span data-stu-id="09381-137">While developers must play their part, BAM activities and BAM views aren’t their concern.</span></span> <span data-ttu-id="09381-138">这些面向业务的服务创建、 维护和使用仅由信息工作者。</span><span class="sxs-lookup"><span data-stu-id="09381-138">These business-oriented services are created, maintained, and used solely by information workers.</span></span>  
  
  <span data-ttu-id="09381-139">在[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]，还可以使用 TPE 来指定管道生成事件的方式。</span><span class="sxs-lookup"><span data-stu-id="09381-139">In [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], the TPE can also be used to specify how pipelines generate events.</span></span> <span data-ttu-id="09381-140">更重要的是，BAM 可接受，并显示由任何用户代码，生成的事件，指示生成为业务流程。</span><span class="sxs-lookup"><span data-stu-id="09381-140">More important, BAM can now accept and display events generated by any user code, whether or not it is built as an orchestration.</span></span> <span data-ttu-id="09381-141">使用.NET Framework 构建任何应用程序可能使用的 BAM 组件来监视[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="09381-141">Any application built using the .NET Framework can potentially be monitored using the BAM component of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="09381-142">请参阅</span><span class="sxs-lookup"><span data-stu-id="09381-142">See Also</span></span>  
 [<span data-ttu-id="09381-143">信息工作者技术</span><span class="sxs-lookup"><span data-stu-id="09381-143">Information Worker Technologies</span></span>](../core/information-worker-technologies.md)