---
title: "为 WCF 发布服务元数据接收适配器 |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- publishing, WCF services
- WCF services, publishing
ms.assetid: 4df09e8f-e0c9-41c5-bd71-13bb0e96cd97
caps.latest.revision: "15"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 3b8a15ab9258c9212c2fa6fdd6557227f534a86c
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/28/2017
---
# <a name="publishing-service-metadata-for-the-wcf-receive-adapters"></a><span data-ttu-id="609d9-102">为 WCF 发布服务元数据接收适配器</span><span class="sxs-lookup"><span data-stu-id="609d9-102">Publishing Service Metadata for the WCF Receive Adapters</span></span>
<span data-ttu-id="609d9-103">可以使用 BizTalk WCF 服务发布向导来创建为现有 WCF 接收位置发布服务元数据的 WCF 服务。</span><span class="sxs-lookup"><span data-stu-id="609d9-103">You can use the BizTalk WCF Service Publishing Wizard to create WCF services for publishing service metadata for existing WCF receive locations.</span></span> <span data-ttu-id="609d9-104">若要从已发布的元数据文档生成客户端服务模型代码可以使用服务模型元数据实用工具 (SvcUtil.exe) 中包含[!INCLUDE[btsCoName](../includes/btsconame-md.md)][!INCLUDE[btsWinNoVersion](../includes/btswinnoversion-md.md)]软件开发工具包 (SDK)，为[!INCLUDE[btsWinVista](../includes/btswinvista-md.md)]和[!INCLUDE[btsDotNetFramework](../includes/btsdotnetframework-md.md)]运行时组件。</span><span class="sxs-lookup"><span data-stu-id="609d9-104">To generate client service model code from the published metadata documents you can use the Service Model Metadata Utility tool (SvcUtil.exe) included in the [!INCLUDE[btsCoName](../includes/btsconame-md.md)][!INCLUDE[btsWinNoVersion](../includes/btswinnoversion-md.md)] Software Development Kit (SDK) for [!INCLUDE[btsWinVista](../includes/btswinvista-md.md)] and [!INCLUDE[btsDotNetFramework](../includes/btsdotnetframework-md.md)] Runtime Components.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="609d9-105">在发布服务元数据的 WCF 适配器之前，必须创建 WCF 使用 BizTalk 管理控制台或包含的 BTSTask 命令行工具接收位置[!INCLUDE[btsCoName](../includes/btsconame-md.md)] [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="609d9-105">Before you publish service metadata for the WCF adapters, you must create the WCF receive locations by using the BizTalk Administration console or the BTSTask command-line tool included with [!INCLUDE[btsCoName](../includes/btsconame-md.md)][!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="609d9-106">有关如何创建 WCF 的详细信息接收位置，请参阅中的每个 WCF 适配器的相应主题[WCF 适配器](../core/wcf-adapters.md)。</span><span class="sxs-lookup"><span data-stu-id="609d9-106">For more information about how to create a WCF receive location, see the appropriate topic for each WCF adapter in [WCF Adapters](../core/wcf-adapters.md).</span></span>  
  
 <span data-ttu-id="609d9-107">**版本的 IIS**</span><span class="sxs-lookup"><span data-stu-id="609d9-107">**Versions of IIS**</span></span>  
  
 <span data-ttu-id="609d9-108">发布服务元数据的 WCF 服务可以在下列操作系统中如下版本的 Internet 信息服务 (IIS) 上运行：</span><span class="sxs-lookup"><span data-stu-id="609d9-108">The WCF service that publishes service metadata can be running on the following versions of Internet Information Services (IIS) on the following operating systems:</span></span>  
  
-   <span data-ttu-id="609d9-109">**在 Windows Vista、 Windows Server 2008 SP2 和 Windows Server 2008 R2 的 IIS 7.0/7.5 中。**</span><span class="sxs-lookup"><span data-stu-id="609d9-109">**IIS 7.0/7.5 on Windows Vista, Windows Server 2008 SP2, and Windows Server 2008 R2.**</span></span> <span data-ttu-id="609d9-110">IIS 7.0/7.5 提供与 IIS 6.0 相同的高级过程模型。</span><span class="sxs-lookup"><span data-stu-id="609d9-110">IIS 7.0/7.5 provide the same advanced process model as IIS 6.0.</span></span> <span data-ttu-id="609d9-111">发布的 BizTalk WCF 服务必须在 IIS 7.0/7.5 的 ASP.NET 兼容模式下运行。</span><span class="sxs-lookup"><span data-stu-id="609d9-111">The published BizTalk WCF services must run in ASP.NET Compatibility Mode of IIS 7.0/7.5.</span></span> <span data-ttu-id="609d9-112">用于 WCF 接收适配器发布的 Web 应用程序在 IIS 7.0/7.5 中的服务元数据可通过 HTTP 传输进行访问。</span><span class="sxs-lookup"><span data-stu-id="609d9-112">The service metadata published by Web applications in IIS 7.0/7.5 for the WCF receive adapters can be accessed over the HTTP transport.</span></span>  
  
 <span data-ttu-id="609d9-113">**为 WCF 接收位置发布服务元数据**</span><span class="sxs-lookup"><span data-stu-id="609d9-113">**Publishing service metadata for the WCF receive locations**</span></span>  
  
 <span data-ttu-id="609d9-114">若要为 WCF 接收位置发布服务元数据，您必须使用 BizTalk WCF 服务发布向导来创建一个 Web 应用程序，以承载提供服务元数据的 WCF 服务。</span><span class="sxs-lookup"><span data-stu-id="609d9-114">To publish service metadata for the WCF receive locations, you must use the BizTalk WCF Service Publishing Wizard to create a Web application to host WCF services that provide the service metadata.</span></span> <span data-ttu-id="609d9-115">这样便允许调用接收位置，就像 WCF 服务一样。</span><span class="sxs-lookup"><span data-stu-id="609d9-115">This allows a receive location to be called as if it were a WCF service.</span></span>  <span data-ttu-id="609d9-116">BizTalk WCF 服务发布向导会在已创建的 Web 应用程序的根文件夹中生成下列文件：</span><span class="sxs-lookup"><span data-stu-id="609d9-116">The BizTalk WCF Service Publishing Wizard generates the following files in the root folder of the created Web application:</span></span>  
  
|<span data-ttu-id="609d9-117">文件</span><span class="sxs-lookup"><span data-stu-id="609d9-117">File</span></span>|<span data-ttu-id="609d9-118">文件夹</span><span class="sxs-lookup"><span data-stu-id="609d9-118">Folder</span></span>|<span data-ttu-id="609d9-119">Description</span><span class="sxs-lookup"><span data-stu-id="609d9-119">Description</span></span>|  
|----------|------------|-----------------|  
|<span data-ttu-id="609d9-120">WCF 服务（.svc 文件）</span><span class="sxs-lookup"><span data-stu-id="609d9-120">WCF services (.svc files)</span></span>|\|<span data-ttu-id="609d9-121">WCF 服务，为 WCF 接收位置发布服务元数据。</span><span class="sxs-lookup"><span data-stu-id="609d9-121">WCF services that publish service metadata for the WCF receive locations.</span></span> <span data-ttu-id="609d9-122">WCF 服务发布使用 HTTP/GET 请求进行检索的服务元数据。</span><span class="sxs-lookup"><span data-stu-id="609d9-122">The WCF services publish service metadata for retrieval using an HTTP/GET request.</span></span>|  
|<span data-ttu-id="609d9-123">Web.config</span><span class="sxs-lookup"><span data-stu-id="609d9-123">Web.config</span></span>|\|<span data-ttu-id="609d9-124">ASP.NET 配置文件，其中包含有关 ASP.NET Web 应用程序行为、已发布 WCF 服务行为、元数据终结点和 BizTalk 特有设置的信息。</span><span class="sxs-lookup"><span data-stu-id="609d9-124">ASP.NET configuration file that contains information for the ASP.NET Web application behaviors, the published WCF service behaviors, the metadata endpoint, and the BizTalk-specific settings.</span></span> <span data-ttu-id="609d9-125">该向导将生成 Web.config 时**httpGetEnabled**属性 **\<serviceMetadata\>** 元素设置为**true**。</span><span class="sxs-lookup"><span data-stu-id="609d9-125">The wizard generates Web.config when the **httpGetEnabled** attribute of the **\<serviceMetadata\>** element is set to **true**.</span></span> <span data-ttu-id="609d9-126">您可以使用元数据导入工具（如 SvcUtil.exe）生成在开发环境中调用此服务所需的客户端代码。</span><span class="sxs-lookup"><span data-stu-id="609d9-126">You can use a metadata import tool (such as SvcUtil.exe) to generate the client code required to call this service in the development environment.</span></span> <span data-ttu-id="609d9-127">从该处发布元数据的地址是 WCF 服务的终结点地址加上**？ wsdl**查询字符串。</span><span class="sxs-lookup"><span data-stu-id="609d9-127">The address at which the metadata is published is the endpoint address of the WCF service plus a **?wsdl** query string.</span></span> <span data-ttu-id="609d9-128">**注意：**由 BizTalk WCF 发布向导生成的默认元数据绑定不安全，它允许匿名访问元数据。</span><span class="sxs-lookup"><span data-stu-id="609d9-128">**Note:**  The default metadata binding generated by the BizTalk WCF Publishing Wizard is not secure and it allows anonymous access to the metadata.</span></span> <span data-ttu-id="609d9-129">服务元数据中包含有关服务的详细说明，可能会有意或无意地包含敏感信息。</span><span class="sxs-lookup"><span data-stu-id="609d9-129">The service metadata contains a detailed description about the service and may intentionally or unintentionally contain sensitive information.</span></span> <span data-ttu-id="609d9-130">为了防止服务元数据受到未经授权的访问，可以修改 Web.config，使其针对元数据终结点使用安全绑定。</span><span class="sxs-lookup"><span data-stu-id="609d9-130">To protect service metadata from unauthorized access, you can modify Web.config to use a secure binding for your metadata endpoint.</span></span>|  
|<span data-ttu-id="609d9-131">ServiceDescription.xml</span><span class="sxs-lookup"><span data-stu-id="609d9-131">ServiceDescription.xml</span></span>|\|<span data-ttu-id="609d9-132">用于描述包含消息类型的已发布 WCF 服务约定的 XML 文件。</span><span class="sxs-lookup"><span data-stu-id="609d9-132">XML file that describes the published WCF service contracts including the message types.</span></span>|  
|<span data-ttu-id="609d9-133">BizTalk 架构（.xsd 文件）</span><span class="sxs-lookup"><span data-stu-id="609d9-133">BizTalk schemas (.xsd files)</span></span>|<span data-ttu-id="609d9-134">\App_Data</span><span class="sxs-lookup"><span data-stu-id="609d9-134">\App_Data</span></span>|<span data-ttu-id="609d9-135">XML 架构，用在 WCF 接收位置中并可定义 XML 实例消息的结构。</span><span class="sxs-lookup"><span data-stu-id="609d9-135">XML schemas defining the structure of XML instance messages, which are used in the WCF receive location.</span></span>|  
|<span data-ttu-id="609d9-136">SchemaIndex.xml</span><span class="sxs-lookup"><span data-stu-id="609d9-136">SchemaIndex.xml</span></span>|<span data-ttu-id="609d9-137">\App_Data</span><span class="sxs-lookup"><span data-stu-id="609d9-137">\App_Data</span></span>|<span data-ttu-id="609d9-138">XML 文件，指示用在 WCF 接收位置中的 XML 架构文件。</span><span class="sxs-lookup"><span data-stu-id="609d9-138">XML file that indicates the XML schema files used in the WCF receive location.</span></span>|  
|<span data-ttu-id="609d9-139">Serialization.xsd</span><span class="sxs-lookup"><span data-stu-id="609d9-139">Serialization.xsd</span></span>|<span data-ttu-id="609d9-140">\App_Data</span><span class="sxs-lookup"><span data-stu-id="609d9-140">\App_Data</span></span>|<span data-ttu-id="609d9-141">通过导出 XML 架构[DataContractSerializer](http://go.microsoft.com/fwlink/?LinkId=81722)有关类型、 元素和命名空间中, 属性 http://schemas.microsoft.com/2003/10/Serialization/。</span><span class="sxs-lookup"><span data-stu-id="609d9-141">XML schema exported by [DataContractSerializer](http://go.microsoft.com/fwlink/?LinkId=81722) for the types, elements, and attributes from the namespace, http://schemas.microsoft.com/2003/10/Serialization/.</span></span>|  
|<span data-ttu-id="609d9-142">BindingInfo.xml</span><span class="sxs-lookup"><span data-stu-id="609d9-142">BindingInfo.xml</span></span>|<span data-ttu-id="609d9-143">\App_Data\Temp</span><span class="sxs-lookup"><span data-stu-id="609d9-143">\App_Data\Temp</span></span>|<span data-ttu-id="609d9-144">BizTalk 绑定文件，可将其通过开发命令行工具或向导导入，以配置接收位置。</span><span class="sxs-lookup"><span data-stu-id="609d9-144">BizTalk binding file that can be imported by the development command-line tool or wizard to configure the receive locations.</span></span> <span data-ttu-id="609d9-145">已发布的 WCF 服务在运行时不使用此文件和 Temp 文件夹。</span><span class="sxs-lookup"><span data-stu-id="609d9-145">The published WCF services do not use this file and the Temp folder at run time.</span></span>|  
|<span data-ttu-id="609d9-146">WcfServiceDescription.xml</span><span class="sxs-lookup"><span data-stu-id="609d9-146">WcfServiceDescription.xml</span></span>|<span data-ttu-id="609d9-147">\App_Data\Temp</span><span class="sxs-lookup"><span data-stu-id="609d9-147">\App_Data\Temp</span></span>|<span data-ttu-id="609d9-148">XML 文件，概述与 BizTalk WCF 服务发布向导一起用来创建此 Web 应用程序的设置。</span><span class="sxs-lookup"><span data-stu-id="609d9-148">XML file that summarizes the settings that you used with the BizTalk WCF Service Publishing Wizard to create this Web application.</span></span> <span data-ttu-id="609d9-149">已发布的 WCF 服务在运行时不使用此文件和 Temp 文件夹。</span><span class="sxs-lookup"><span data-stu-id="609d9-149">The published WCF services do not use this file and the Temp folder at run time.</span></span>|  
  
## <a name="in-this-section"></a><span data-ttu-id="609d9-150">本节内容</span><span class="sxs-lookup"><span data-stu-id="609d9-150">In This Section</span></span>  
  
-   [<span data-ttu-id="609d9-151">如何使用发布向导的 BizTalk WCF 服务的 WCF 接收位置用于基于内容的路由发布服务元数据</span><span class="sxs-lookup"><span data-stu-id="609d9-151">How to Use the BizTalk WCF Service Publishing Wizard to Publish Service Metadata for a WCF Receive Location for Content-Based Routing</span></span>](../core/publish-service-metadata-for-a-wcf-receive-location-for-content-based-routing.md)  
  
-   [<span data-ttu-id="609d9-152">如何使用发布向导的 BizTalk WCF 服务的 WCF 接收位置发布服务元数据绑定到业务流程端口</span><span class="sxs-lookup"><span data-stu-id="609d9-152">How to Use the BizTalk WCF Service Publishing Wizard to Publish Service Metadata for a WCF Receive Location Bound to an Orchestration Port</span></span>](../core/publish-receive-location-service-metadata-biztalk-wcf-service-publishing-wizard.md)  
  
## <a name="see-also"></a><span data-ttu-id="609d9-153">另请参阅</span><span class="sxs-lookup"><span data-stu-id="609d9-153">See Also</span></span>  
 [<span data-ttu-id="609d9-154">演练：通过 WCF-NetMsmq 适配器发布 WCF 服务</span><span class="sxs-lookup"><span data-stu-id="609d9-154">Walkthrough: Publishing WCF Services with the WCF-NetMsmq Adapter</span></span>](../core/walkthrough-publishing-wcf-services-with-the-wcf-netmsmq-adapter.md)