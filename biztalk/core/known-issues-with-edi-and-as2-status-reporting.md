---
title: "已知问题 EDI 和 AS2 状态报告 |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 1d755dca-a4b6-44be-bc45-88c0b17685a0
caps.latest.revision: "32"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: e6a78b90a3cebb2b812ef68b21c8ea2f99eb0981
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
---
# <a name="known-issues-with-edi-and-as2-status-reporting"></a><span data-ttu-id="a19cd-102">已知问题 EDI 和 AS2 状态报告</span><span class="sxs-lookup"><span data-stu-id="a19cd-102">Known Issues with EDI and AS2 Status Reporting</span></span>
<span data-ttu-id="a19cd-103">本主题介绍 [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] 中 EDI 状态报告存在的已知问题。</span><span class="sxs-lookup"><span data-stu-id="a19cd-103">This topic describes known issues with EDI status reporting in [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)].</span></span>  
  
## <a name="batch-status-reporting-data-may-not-be-updated-if-the-batch-orchestration-is-stopped-outside-of-the-partner-agreement-manager"></a><span data-ttu-id="a19cd-104">在合作伙伴协议管理器之外停止批处理业务流程可能无法更新批处理状态报告数据</span><span class="sxs-lookup"><span data-stu-id="a19cd-104">Batch status reporting data may not be updated if the batch orchestration is stopped outside of the Partner Agreement Manager</span></span>  
 <span data-ttu-id="a19cd-105">通过参与方“EDI 属性”对话框的“批处理”页可停用批处理业务流程实例。</span><span class="sxs-lookup"><span data-stu-id="a19cd-105">A batch orchestration instance can be deactivated through the Batches page of the EDI Properties dialog box for a party.</span></span> <span data-ttu-id="a19cd-106">如果以此方式停用批处理业务流程，BizTalk Server 将更新该批处理的状态报告数据。</span><span class="sxs-lookup"><span data-stu-id="a19cd-106">If you deactivate a batch orchestration instance that way, BizTalk Server will update the status reporting data for that batch.</span></span> <span data-ttu-id="a19cd-107">但是，如果以其他方式停止批处理业务流程（例如，从 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理控制台“组概述”页中的其中一个查询页停止业务流程），则可能无法更新状态报告数据，并且批处理状态报告可能过期。</span><span class="sxs-lookup"><span data-stu-id="a19cd-107">However, if you stop the batch orchestration in another way, for example, by stopping the orchestration from one of the query pages on the Group Overview page of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, the status reporting data may not be updated, and you may end up with a batch status report that is out of date.</span></span> <span data-ttu-id="a19cd-108">例如，即使已停用批处理业务流程实例，状态报告也可能指示批处理仍处于活动状态。</span><span class="sxs-lookup"><span data-stu-id="a19cd-108">For example, the status report could indicate that the batch is still active, even though the batch orchestration instance has been deactivated.</span></span>  
  
## <a name="the-biztalk-service-needs-to-be-restarted-after-edi-status-reporting-has-been-enabled"></a><span data-ttu-id="a19cd-109">启用 EDI 状态报告功能后需要重新启动 BizTalk 服务</span><span class="sxs-lookup"><span data-stu-id="a19cd-109">The BizTalk Service Needs to Be Restarted After EDI Status Reporting Has Been Enabled</span></span>  
 <span data-ttu-id="a19cd-110">**症状**</span><span class="sxs-lookup"><span data-stu-id="a19cd-110">**Symptom**</span></span>  
  
 <span data-ttu-id="a19cd-111">已启用 EDI 状态报告功能，但未生成 EDI 状态报告。</span><span class="sxs-lookup"><span data-stu-id="a19cd-111">EDI status reporting has been enabled, but EDI status reports are not being generated.</span></span>  
  
 <span data-ttu-id="a19cd-112">**可能的原因**</span><span class="sxs-lookup"><span data-stu-id="a19cd-112">**Possible Cause**</span></span>  
  
 <span data-ttu-id="a19cd-113">激活或停用 EDI 状态报告功能后，需要重新启动 BizTalk 服务，以使更改生效。</span><span class="sxs-lookup"><span data-stu-id="a19cd-113">The BizTalk Service needs to be restarted after EDI status reporting has been activated or deactivated for the change to take effect.</span></span> <span data-ttu-id="a19cd-114">如果在解决方案中使用了 AS2EdiReceive 或 AS2EdiSend 管道，则需要重新启动 BizTalk 服务和 IIS 服务，以使更改生效。</span><span class="sxs-lookup"><span data-stu-id="a19cd-114">If the AS2EdiReceive or AS2EdiSend pipeline is being used in your solution, both the BizTalk Service and the IIS service need to be restarted for the change to take effect.</span></span>  
  
 <span data-ttu-id="a19cd-115">**解决方法**</span><span class="sxs-lookup"><span data-stu-id="a19cd-115">**Resolution**</span></span>  
  
 <span data-ttu-id="a19cd-116">重新启动 BizTalk 服务（在“计算机管理”对话框中）。</span><span class="sxs-lookup"><span data-stu-id="a19cd-116">Restart the BizTalk Service (in the Computer Management dialog box).</span></span> <span data-ttu-id="a19cd-117">如果你的解决方案中正在使用 AS2EdiReceive 管道或 AS2EdiSend 管道，请重新启动 IIS Admin service (使用*iisreset*命令)，以及。</span><span class="sxs-lookup"><span data-stu-id="a19cd-117">If the AS2EdiReceive pipeline or the AS2EdiSend pipeline is being used in your solution, restart the IIS Admin service (using the *iisreset* command), as well.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="a19cd-118">启用 AS2 状态报告功能后无需重新启动 BizTalk 服务或 IIS 管理服务。</span><span class="sxs-lookup"><span data-stu-id="a19cd-118">Restarting the BizTalk Service or the IIS Admin service is not necessary when enabling AS2 status reporting.</span></span>  
  
## <a name="the-status-report-will-display-9999-for-the-year-when-the-as2-message-date-time-in-the-message-is-a-null-value"></a><span data-ttu-id="a19cd-119">当消息中的 AS2 消息日期时间为空值时，状态报告的年份将显示“9999”</span><span class="sxs-lookup"><span data-stu-id="a19cd-119">The Status Report Will Display "9999" for the Year When the AS2 Message Date Time in the Message is a Null Value</span></span>  
 <span data-ttu-id="a19cd-120">如果传入 AS2 消息中的“AS2 消息日期时间”字段设置为 Null，那么在 AS2 状态报告中，该消息的“AS2 消息日期时间”字段中的年份将显示为值“9999”。</span><span class="sxs-lookup"><span data-stu-id="a19cd-120">If the AS2 Message Date Time field in an incoming AS2 message is set to Null, a value of “9999” will be shown for the year in the AS2 Message Date Time field for that message in the AS2 status report.</span></span>  
  
 <span data-ttu-id="a19cd-121">如果传入 AS2 消息中的“AS2 消息日期时间”字段无法解析（如 Mon, 21 May 2007 10:08:28 NZST），那么在 AS2 状态报告中，该消息的“AS2 消息日期时间”字段将设置为当前时间。</span><span class="sxs-lookup"><span data-stu-id="a19cd-121">If the AS2 Message Date Time field in an incoming AS2 message cannot be parsed (such as Mon, 21 May 2007 10:08:28 NZST), the AS2 Message Date Time field for that message in the AS2 status report will be set to the current time.</span></span>  
  
## <a name="status-reporting-is-still-configured-after-bam-tools-have-been-uninstalled"></a><span data-ttu-id="a19cd-122">卸载 BAM 工具后仍配置有状态报告功能</span><span class="sxs-lookup"><span data-stu-id="a19cd-122">Status Reporting Is Still Configured After BAM Tools Have Been Uninstalled</span></span>  
 <span data-ttu-id="a19cd-123">要安装 EDI 状态报告功能，您必须安装 BAM 工具。</span><span class="sxs-lookup"><span data-stu-id="a19cd-123">To install EDI Status Reporting, you must install BAM Tools.</span></span> <span data-ttu-id="a19cd-124">但是，如果已卸载 BAM 工具，则仍配置有状态报告功能。</span><span class="sxs-lookup"><span data-stu-id="a19cd-124">However, if you uninstall BAM Tools, Status Reporting will still be configured.</span></span> <span data-ttu-id="a19cd-125">这是设计的结果。</span><span class="sxs-lookup"><span data-stu-id="a19cd-125">This is by design.</span></span>  
  
 <span data-ttu-id="a19cd-126">删除 BAM 工具后，无法再通过用户界面搜索状态报告表。</span><span class="sxs-lookup"><span data-stu-id="a19cd-126">After BAM Tools are removed, it will no longer be possible to search status reporting tables through the user interface.</span></span> <span data-ttu-id="a19cd-127">但是，如果已启用状态报告功能，BizTalk Server 仍将在状态报告表中创建记录。</span><span class="sxs-lookup"><span data-stu-id="a19cd-127">However, if status reporting is enabled, BizTalk Server will still create records in the status reporting tables.</span></span>  
  
## <a name="only-one-edi-interchange-will-be-correlated-to-an-as2-message-in-the-status-report-ui"></a><span data-ttu-id="a19cd-128">状态报告 UI 中只有一个 EDI 交换与 AS2 消息关联</span><span class="sxs-lookup"><span data-stu-id="a19cd-128">Only One EDI Interchange Will Be Correlated to an AS2 Message in the Status Report UI</span></span>  
 <span data-ttu-id="a19cd-129">如果一则 AS2 消息包含多个 EDI 交换，并且您尝试显示 AS2 消息中多个 EDI 交换的状态，那么交换/ACK 状态报告中将只显示最后一个 EDI 交换。</span><span class="sxs-lookup"><span data-stu-id="a19cd-129">If an AS2 message contains multiple EDI interchanges, and you attempt to display the status of the multiple EDI interchanges in the AS2 message, only the last EDI interchange will be displayed in the Interchange/ACK status report.</span></span> <span data-ttu-id="a19cd-130">此外， **EDI 交换控制否**AS2/MDN 状态报告中的字段将仅显示最后一个的交换控制编号。</span><span class="sxs-lookup"><span data-stu-id="a19cd-130">In addition, the **EDI Interchange Control No** field in the AS2/MDN Status report will only show the last interchange control number.</span></span> <span data-ttu-id="a19cd-131">（该交换控制编号将 AS2 消息与其 EDI 交换负载关联起来。）</span><span class="sxs-lookup"><span data-stu-id="a19cd-131">(The interchange control number correlates the AS2 message and its EDI interchange payload.)</span></span>  
  
 <span data-ttu-id="a19cd-132">AS2 消息中所有 EDI 交换的数据都保存在状态报告数据库中。</span><span class="sxs-lookup"><span data-stu-id="a19cd-132">The data for all EDI interchanges in an AS2 message is saved in the status report database.</span></span> <span data-ttu-id="a19cd-133">你可以在交换/ACK 状态报表采用的 AS2 消息中显示所有的交换，如果**控件 ID 等于所有**子句是状态报表查询。</span><span class="sxs-lookup"><span data-stu-id="a19cd-133">You can display all interchanges in an AS2 message in the Interchange/ACK Status report if the **Control ID Equals All** clause is the status report query.</span></span> <span data-ttu-id="a19cd-134">这还可能显示不属于 AS2 消息的其他交换；但是，通过查看其他字段（如“发送方”、“接收方”和“交换日期时间”），您可以确定 AS2 消息中有哪些 EDI 交换。</span><span class="sxs-lookup"><span data-stu-id="a19cd-134">This will also potentially display other interchanges that are not in the AS2 message; however, you can determine which EDI interchanges are in a single AS2 message by looking at other fields, such as the Sender party, Receiver party, and Interchange Date Time.</span></span>  
  
## <a name="removing-the-bam-tools-from-a-group-will-prevent-you-from-viewing-edi-or-as2-status-reports"></a><span data-ttu-id="a19cd-135">从组中删除 BAM 工具将阻止您查看 EDI 或 AS2 状态报告</span><span class="sxs-lookup"><span data-stu-id="a19cd-135">Removing the BAM Tools from a group will prevent you from viewing EDI or AS2 status reports</span></span>  
 <span data-ttu-id="a19cd-136">如果从组中删除 BAM 工具，尝试查看 EDI 或 AS2 状态报告将导致错误。</span><span class="sxs-lookup"><span data-stu-id="a19cd-136">If you remove the BAM tools from a group, trying to view EDI or AS2 status reports will result in errors.</span></span> <span data-ttu-id="a19cd-137">出现一个此类错误表示未找到 bts_GetBatchStatusRecords 存储过程。</span><span class="sxs-lookup"><span data-stu-id="a19cd-137">One such error would indicate that the stored procedures bts_GetBatchStatusRecords is not found.</span></span> <span data-ttu-id="a19cd-138">如果在尝试查看 EDI 或 AS2 状态报告时出现错误，请验证 EDI 和 AS2 的组、运行时和 BAM 工具的配置是否正确。</span><span class="sxs-lookup"><span data-stu-id="a19cd-138">If you get an error when trying to view EDI or AS2 status reports, verify that group, runtime, and BAM tools are configured correctly for EDI and AS2.</span></span>  
  
 <span data-ttu-id="a19cd-139">如果取消配置 BAM 工具（而不是仅删除），则可以避免此问题。</span><span class="sxs-lookup"><span data-stu-id="a19cd-139">You can avoid this issue if you unconfigure BAM tools, rather than simply removing them.</span></span> <span data-ttu-id="a19cd-140">如果取消配置 BAM 工具，系统将提示您取消配置 EDI/AS2 相关功能。</span><span class="sxs-lookup"><span data-stu-id="a19cd-140">If you unconfigure BAM tools, you will be prompted to unconfigure the dependent EDI/AS2 feature.</span></span> <span data-ttu-id="a19cd-141">如果删除 BAM 工具，则不会提示您执行此操作。</span><span class="sxs-lookup"><span data-stu-id="a19cd-141">You are not prompted to do so if you remove the BAM tools.</span></span>  
  
## <a name="status-reporting-will-not-work-after-an-upgrade-if-the-bam-tools-are-not-configured"></a><span data-ttu-id="a19cd-142">升级后，如果未配置 BAM 工具，状态报告功能将不工作</span><span class="sxs-lookup"><span data-stu-id="a19cd-142">Status reporting will not work after an upgrade if the BAM tools are not configured</span></span>  
 <span data-ttu-id="a19cd-143">要使 EDI 和 AS2 状态报告功能工作，必须配置 BAM 工具。</span><span class="sxs-lookup"><span data-stu-id="a19cd-143">For EDI and AS2 status reporting to work, the BAM tools must be configured.</span></span> <span data-ttu-id="a19cd-144">如果您将 [!INCLUDE[btsBizTalkServer2006](../includes/btsbiztalkserver2006-md.md)] 的安装升级到后续版本，并且在升级过程中未配置 BAM 工具，则已升级的安装上的 EDI/AS2 状态报告功能将无法正确地发挥作用。</span><span class="sxs-lookup"><span data-stu-id="a19cd-144">If you upgrade an installation of [!INCLUDE[btsBizTalkServer2006](../includes/btsbiztalkserver2006-md.md)] to a subsequent version, and do not configure the BAM tools in the upgrade process, EDI/AS2 status reporting functionality on the upgraded installation will not work correctly.</span></span>  
  
 <span data-ttu-id="a19cd-145">如果您希望在升级到 [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] 后使用状态报告功能，请确保在执行升级之前配置 BAM 工具。</span><span class="sxs-lookup"><span data-stu-id="a19cd-145">If you want to use status reporting after you upgrade to [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)], make sure that the BAM tools are configured before you perform the upgrade.</span></span>  
  
 <span data-ttu-id="a19cd-146">如果在执行升级后状态报告功能不工作，请在升级日志中确定在升级之前是否配置了 BAM 工具。</span><span class="sxs-lookup"><span data-stu-id="a19cd-146">If status reporting does not work after you perform the upgrade, determine in the upgrade logs if the BAM tools were configured prior to upgrade.</span></span> <span data-ttu-id="a19cd-147">如果没有，你可以配置 BAM 工具，并随后部署内的 EdiStatusReportingActivityDefs.xml 文件中包含的 BusinessMessageJournal BAM 活动*\<驱动器 >*: files\microsoft [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="a19cd-147">If not, you can configure the BAM tools and then deploy the BusinessMessageJournal BAM activity contained in the EdiStatusReportingActivityDefs.xml file in *\<drive>*:\Program Files\Microsoft [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)].</span></span>  
  
## <a name="disabling-transaction-set-storage-affects-an-activated-batch-but-enabling-storage-does-not"></a><span data-ttu-id="a19cd-148">禁用事务集存储会影响激活的批处理，但启用存储则不会产生任何影响</span><span class="sxs-lookup"><span data-stu-id="a19cd-148">Disabling transaction-set storage affects an activated batch, but enabling storage does not</span></span>  
 <span data-ttu-id="a19cd-149">如果在批处理业务流程处于激活状态时禁用事务集存储，更改将立即生效。</span><span class="sxs-lookup"><span data-stu-id="a19cd-149">If you disable the storage of transaction sets while an instance of the batching orchestration is activated, the change will take place immediately.</span></span> <span data-ttu-id="a19cd-150">BizTalk Server 将在启用存储的情况下存储批处理的事务集，但不会在禁用存储后存储事务集。</span><span class="sxs-lookup"><span data-stu-id="a19cd-150">BizTalk Server will store transaction sets for the batch while storage is enabled, but will not store transaction sets after storage has been disabled.</span></span> <span data-ttu-id="a19cd-151">您可以禁用事务集存储，方法是：在“EDI 属性”对话框的“常规”窗格中清除“存储事务集/负载以用于报告”属性。</span><span class="sxs-lookup"><span data-stu-id="a19cd-151">You disable storage of transaction sets by clearing the "Store transaction set/payload for reporting" property in the General pane of the EDI Properties dialog box.</span></span>  
  
 <span data-ttu-id="a19cd-152">但是，如果在禁用事务集存储的情况下激活批处理业务流程实例，然后再启用该存储，则不会为创建的批处理存储任何事务集。</span><span class="sxs-lookup"><span data-stu-id="a19cd-152">However, if you activate an instance of the batching orchestration while storage of transaction sets is disabled, and then enable that storage, no transaction sets will be stored for the batch that is being created.</span></span>  
  
## <a name="unicode-as2-messages-will-not-be-displayed-completely-in-text-wire-format"></a><span data-ttu-id="a19cd-153">无法以文本传输格式完全显示 UNICODE AS2 消息</span><span class="sxs-lookup"><span data-stu-id="a19cd-153">UNICODE AS2 messages will not be displayed completely in text wire format</span></span>  
 <span data-ttu-id="a19cd-154">如果 BizTalk Server 处理的 AS2 消息或 MDN 是以 UNICODE 格式编码的，并且您尝试以文本传输格式查看该消息，BizTalk Server 将无法完全显示该消息。</span><span class="sxs-lookup"><span data-stu-id="a19cd-154">If BizTalk Server processes an AS2 message or an MDN that is encoded in UNICODE format, and you attempt to view the message in text wire format, BizTalk Server will not display the message completely.</span></span> <span data-ttu-id="a19cd-155">出现此情况的原因是 UNICODE 格式的“00”字节被解释为流的末尾。</span><span class="sxs-lookup"><span data-stu-id="a19cd-155">This occurs because the "00" byte of UNICODE format is interpreted as the end of the stream.</span></span> <span data-ttu-id="a19cd-156">但是，如果以二进制传输格式查看该消息，BizTalk Server 将完全显示该消息。</span><span class="sxs-lookup"><span data-stu-id="a19cd-156">However, if you attempt to view the message in binary wire format, BizTalk Server will display the message completely.</span></span>  
  
 <span data-ttu-id="a19cd-157">当在“AS2 属性”对话框的“常规”窗格中激活 AS2 消息的状态报告功能，且在“AS2 属性”对话框的“作为 AS2 消息接收方的参与方”窗格或“作为 AS2 消息发送方的参与方”窗格中启用入站或出站 AS2 或 MDN 消息的存储时，将出现此问题。</span><span class="sxs-lookup"><span data-stu-id="a19cd-157">This occurs when status reporting is activated for AS2 messages (in the General pane of the AS2 Properties dialog box), and when storage of inbound or outbound AS2 or MDN messages is enabled (in the Party as AS2 Message Receiver pane or the Party as AS2 Message Sender pane of the AS2 Properties dialog box).</span></span>  
  
## <a name="enabling-as2-status-reporting-and-send-port-body-tracking-simultaneously-may-cause-an-error"></a><span data-ttu-id="a19cd-158">同时启用 AS2 状态报告功能和发送端口正文跟踪可能导致错误</span><span class="sxs-lookup"><span data-stu-id="a19cd-158">Enabling AS2 status reporting and send port body tracking simultaneously may cause an error</span></span>  
 <span data-ttu-id="a19cd-159">如果启用 AS2 状态报告和发送端口正文跟踪同时，以下错误可能会显示在事件查看器:"消息传递引擎时遇到错误删除一个或多个消息。"</span><span class="sxs-lookup"><span data-stu-id="a19cd-159">If you enable AS2 status reporting and send port body tracking simultaneously, the following error might be displayed in the Event Viewer: "The Messaging Engine encountered an error while deleting one or more messages."</span></span> <span data-ttu-id="a19cd-160">在以下情况中将出现此问题：发送端口是具有 AS2Send 和 AS2Receive 管道的静态要求响应 AS2 发送端口，</span><span class="sxs-lookup"><span data-stu-id="a19cd-160">This occurs when the send port is a static solicit-response AS2 send port with AS2Send and AS2Receive pipelines.</span></span> <span data-ttu-id="a19cd-161">并且已启用下列属性：</span><span class="sxs-lookup"><span data-stu-id="a19cd-161">It occurs when the following properties are enabled:</span></span>  
  
-   <span data-ttu-id="a19cd-162">“AS2 属性”对话框的“常规”窗格中的“激活 AS2 报告”属性。</span><span class="sxs-lookup"><span data-stu-id="a19cd-162">The "Activate AS2 Reporting" property in the General pane of the AS2 Properties dialog box.</span></span>  
  
-   <span data-ttu-id="a19cd-163">“AS2 属性”对话框的“作为 AS2 消息接收方的参与方”窗格中的“将编码后的出站 AS2 消息存储在不可否认数据库中”。</span><span class="sxs-lookup"><span data-stu-id="a19cd-163">The "Store outbound encoded AS2 messages in non-repudiation database" property in the Party as AS2 Message Receiver pane of the AS2 Properties dialog box.</span></span>  
  
-   <span data-ttu-id="a19cd-164">“发送端口属性”对话框的“跟踪”窗格中的“端口处理后请求消息”属性。</span><span class="sxs-lookup"><span data-stu-id="a19cd-164">The "Request message after port processing" property in the Tracking pane of the Send Port Properties dialog box.</span></span>  
  
 <span data-ttu-id="a19cd-165">此问题的解决办法是清除“将编码后的出站 AS2 消息存储在不可否认数据库中”属性或“端口处理后请求消息”属性。</span><span class="sxs-lookup"><span data-stu-id="a19cd-165">The workaround for this issue is to clear the "Store outbound encoded AS2 messages in non-repudiation database" property or the "Request message after port processing" property.</span></span> <span data-ttu-id="a19cd-166">建议您禁用“端口处理后请求消息”，以使 AS2 跟踪捕获正文信息以及 AS2 状态报告中的其他信息。</span><span class="sxs-lookup"><span data-stu-id="a19cd-166">We recommend that you disable "Request message after port processing" so that AS2 tracking can capture the body information along with other pieces of information for AS2 status reporting.</span></span>  
  
## <a name="edi-and-as2-message-context-properties-are-not-available-after-upgrading-to-biztalk-2009"></a><span data-ttu-id="a19cd-167">EDI 和 AS2 消息上下文属性在升级到 BizTalk 2009 后不可用</span><span class="sxs-lookup"><span data-stu-id="a19cd-167">EDI and AS2 message context properties are not available after upgrading to BizTalk 2009</span></span>  
 <span data-ttu-id="a19cd-168">升级到 [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] 之后，升级前接收的任何 EDI 或 AS2 消息的状态报告中，不会显示任何上下文属性。</span><span class="sxs-lookup"><span data-stu-id="a19cd-168">After upgrading to [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)], no context properties are displayed in status reporting for any EDI or AS2 messages received before the upgrade occurred.</span></span>  <span data-ttu-id="a19cd-169">升级后收到的消息将正确显示上下文属性。</span><span class="sxs-lookup"><span data-stu-id="a19cd-169">Messages received after the upgrade will correctly display the context properties.</span></span>  
  
 <span data-ttu-id="a19cd-170">EDI 和 AS2 上下文属性集合没有作为消息的一部分存储在之前版本的 BizTalk Server 中，并且在升级后不可用。</span><span class="sxs-lookup"><span data-stu-id="a19cd-170">The EDI and AS2 context property collections were not stored as part of the message in previous versions of BizTalk Server and are unavailable after an upgrade.</span></span> <span data-ttu-id="a19cd-171">在升级到 [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] 后，AS2 上下文属性会作为消息的一部分存储，但是 EDI 上下文属性不会存储。</span><span class="sxs-lookup"><span data-stu-id="a19cd-171">After upgrading to [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)], AS2 context properties are stored as part of the message, however EDI context properties are not.</span></span>  
  
## <a name="interchange-date-for-received-documents-may-display-the-wrong-year-in-status-reports"></a><span data-ttu-id="a19cd-172">已接收文档的交换日期可能在状态报告中显示错误的年份</span><span class="sxs-lookup"><span data-stu-id="a19cd-172">Interchange date for received documents may display the wrong year in status reports</span></span>  
 <span data-ttu-id="a19cd-173">如果已接收文档指定了 YYMMDD 格式的日期，则 [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] 使用以下逻辑来确定年份的值：</span><span class="sxs-lookup"><span data-stu-id="a19cd-173">If a received document specified the date in YYMMDD format, [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] uses the following logic to determine the year value:</span></span>  
  
-   <span data-ttu-id="a19cd-174">如果 YY 大于或等于 75，则年份将显示为 19YY。</span><span class="sxs-lookup"><span data-stu-id="a19cd-174">If YY is greater than or equal to 75, the year will be displayed as 19YY.</span></span>  
  
-   <span data-ttu-id="a19cd-175">如果 YY 小于 75，则年份将显示为 20YY。</span><span class="sxs-lookup"><span data-stu-id="a19cd-175">If YY is less than 75, the year will be displayed as 20YY.</span></span>  
  
 <span data-ttu-id="a19cd-176">例如，如果传入消息的 ISA09 的值包含 991113，则状态报告会将日期显示为 11/13/1999。</span><span class="sxs-lookup"><span data-stu-id="a19cd-176">For example, if the value of ISA09 of an incoming message contains 991113, the status report will display the date as 11/13/1999.</span></span>  
  
## <a name="error-message-may-be-displayed-as-a-string-of-question-marks"></a><span data-ttu-id="a19cd-177">错误消息可能会显示为一个问号字符串。</span><span class="sxs-lookup"><span data-stu-id="a19cd-177">Error message may be displayed as a string of question marks.</span></span>  
 <span data-ttu-id="a19cd-178">在 BizTalk Server 本地化版本中，如果错误消息显示为一个问号字符串，您需要根据操作系统语言更改系统区域，才能获取所需的错误消息。</span><span class="sxs-lookup"><span data-stu-id="a19cd-178">In BizTalk Server localized builds, if an error message is displayed as a string of question marks, you need to change the system locale according to the Operating System language to get the expected error message.</span></span> <span data-ttu-id="a19cd-179">更改系统区域设置的详细信息，请参阅[更改系统区域设置](http://windows.microsoft.com/en-IN/windows-vista/Change-the-system-locale)。</span><span class="sxs-lookup"><span data-stu-id="a19cd-179">For more information on changing the system locale, see [Change the system locale](http://windows.microsoft.com/en-IN/windows-vista/Change-the-system-locale).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a19cd-180">另请参阅</span><span class="sxs-lookup"><span data-stu-id="a19cd-180">See Also</span></span>  
 <span data-ttu-id="a19cd-181">[EDI 和 AS2 解决方案疑难解答](../core/troubleshooting-edi-and-as2-solutions.md) </span><span class="sxs-lookup"><span data-stu-id="a19cd-181">[Troubleshooting EDI and AS2 Solutions](../core/troubleshooting-edi-and-as2-solutions.md) </span></span>  
 [<span data-ttu-id="a19cd-182">EDI 和 AS2 状态报告</span><span class="sxs-lookup"><span data-stu-id="a19cd-182">EDI and AS2 Status Reporting</span></span>](../core/edi-and-as2-status-reporting.md)