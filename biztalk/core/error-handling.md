---
title: 错误处理 |Microsoft 文档
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- Messaging Engine, errors
- errors, Messaging Engine
- errors, messages
- messages, errors
ms.assetid: ebc889cc-eeac-483c-baf3-407a218f6d14
caps.latest.revision: 13
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 2cbf0d898f7af193220cf8f1c24e809aefa1b782
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
ms.locfileid: "22242613"
---
# <a name="error-handling"></a><span data-ttu-id="de6fd-102">错误处理</span><span class="sxs-lookup"><span data-stu-id="de6fd-102">Error Handling</span></span>
<span data-ttu-id="de6fd-103">消息通过 BizTalk Server 消息传送子系统时所遵循的路径包含多个处理点和传输点。</span><span class="sxs-lookup"><span data-stu-id="de6fd-103">The pathway that a message follows through the BizTalk Server messaging subsystem encompasses several points of processing and transfer.</span></span> <span data-ttu-id="de6fd-104">在该路径上的每个点，BizTalk Server 基础结构和应用程序提供的元素（例如自定义管道组件和业务流程）中都有可能出现失败。</span><span class="sxs-lookup"><span data-stu-id="de6fd-104">At each point along this pathway, failures can occur in both BizTalk Server infrastructure and application-provided elements such as custom pipeline components and orchestrations.</span></span>  
  
 <span data-ttu-id="de6fd-105">本节以及其中涉及的章节将讨论处理的已知阶段的典型失败模式，以及如何通过 BizTalk Server 配置和应用程序提供的元素（例如业务流程）来解决这些失败模式。</span><span class="sxs-lookup"><span data-stu-id="de6fd-105">This section and those contained within discuss the typical failure modes of well-known stages of processing and how those failure modes are addressed through both BizTalk Server configuration and application-provided elements such as orchestrations.</span></span> <span data-ttu-id="de6fd-106">失败的影响包括消息的处理、捕获和记录的诊断以及操作注意事项。</span><span class="sxs-lookup"><span data-stu-id="de6fd-106">Failure effects include disposition of the message, diagnostics captured and logged, and operational considerations.</span></span>  
  
 <span data-ttu-id="de6fd-107">消息失败时所发生的事件与失败位置、失败消息路由的状态以及可恢复的交换处理的状态相关。</span><span class="sxs-lookup"><span data-stu-id="de6fd-107">The events that occur when a message fails are dependent upon the location of the failure and the status of failed message routing and recoverable interchange processing.</span></span> <span data-ttu-id="de6fd-108">下表简要列出了管道失败和订阅失败的失败行为及恢复位置。</span><span class="sxs-lookup"><span data-stu-id="de6fd-108">The table below summarizes the failure behavior and resume location for pipeline and subscription failures.</span></span>  
  
|<span data-ttu-id="de6fd-109">故障类型</span><span class="sxs-lookup"><span data-stu-id="de6fd-109">Failure Type</span></span>|<span data-ttu-id="de6fd-110">失败消息路由</span><span class="sxs-lookup"><span data-stu-id="de6fd-110">Failed message routing</span></span>|<span data-ttu-id="de6fd-111">可恢复的交换处理</span><span class="sxs-lookup"><span data-stu-id="de6fd-111">Recoverable Interchange Processing</span></span>|<span data-ttu-id="de6fd-112">失败行为</span><span class="sxs-lookup"><span data-stu-id="de6fd-112">Failure Behavior</span></span>|<span data-ttu-id="de6fd-113">恢复位置</span><span class="sxs-lookup"><span data-stu-id="de6fd-113">Resume Location</span></span>|  
|------------------|----------------------------|----------------------------------------|----------------------|---------------------|  
|<span data-ttu-id="de6fd-114">管道</span><span class="sxs-lookup"><span data-stu-id="de6fd-114">Pipeline</span></span>|<span data-ttu-id="de6fd-115">禁用</span><span class="sxs-lookup"><span data-stu-id="de6fd-115">Disabled</span></span>|<span data-ttu-id="de6fd-116">禁用</span><span class="sxs-lookup"><span data-stu-id="de6fd-116">Disabled</span></span>|<span data-ttu-id="de6fd-117">消息在管道前被挂起</span><span class="sxs-lookup"><span data-stu-id="de6fd-117">Message is suspended before pipeline</span></span>|<span data-ttu-id="de6fd-118">在管道前。</span><span class="sxs-lookup"><span data-stu-id="de6fd-118">Before pipeline.</span></span>|  
|<span data-ttu-id="de6fd-119">管道</span><span class="sxs-lookup"><span data-stu-id="de6fd-119">Pipeline</span></span>|<span data-ttu-id="de6fd-120">禁用</span><span class="sxs-lookup"><span data-stu-id="de6fd-120">Disabled</span></span>|<span data-ttu-id="de6fd-121">已启用</span><span class="sxs-lookup"><span data-stu-id="de6fd-121">Enabled</span></span>|<span data-ttu-id="de6fd-122">消息在管道后被挂起</span><span class="sxs-lookup"><span data-stu-id="de6fd-122">Message is suspended after pipeline</span></span>|<span data-ttu-id="de6fd-123">在管道前。</span><span class="sxs-lookup"><span data-stu-id="de6fd-123">Before pipeline.</span></span> <span data-ttu-id="de6fd-124">有关可恢复交换处理的详细信息，请参阅[可恢复交换处理](../core/recoverable-interchange-processing.md)。</span><span class="sxs-lookup"><span data-stu-id="de6fd-124">For more information about Recoverable Interchange Processing, see [Recoverable Interchange Processing](../core/recoverable-interchange-processing.md).</span></span>|  
|<span data-ttu-id="de6fd-125">管道</span><span class="sxs-lookup"><span data-stu-id="de6fd-125">Pipeline</span></span>|<span data-ttu-id="de6fd-126">已启用</span><span class="sxs-lookup"><span data-stu-id="de6fd-126">Enabled</span></span>|<span data-ttu-id="de6fd-127">禁用</span><span class="sxs-lookup"><span data-stu-id="de6fd-127">Disabled</span></span>|<span data-ttu-id="de6fd-128">消息已发布，而且升级了与错误报告相关的消息上下文属性</span><span class="sxs-lookup"><span data-stu-id="de6fd-128">Message is published with error-report-related message context properties promoted</span></span>|<span data-ttu-id="de6fd-129">消息未被挂起。</span><span class="sxs-lookup"><span data-stu-id="de6fd-129">Message is not suspended.</span></span> <span data-ttu-id="de6fd-130">有关路由失败消息的详细信息，请参阅[使用失败消息路由](../core/using-failed-message-routing.md)。</span><span class="sxs-lookup"><span data-stu-id="de6fd-130">For details about routing failed messages, see [Using Failed Message Routing](../core/using-failed-message-routing.md).</span></span>|  
|<span data-ttu-id="de6fd-131">管道</span><span class="sxs-lookup"><span data-stu-id="de6fd-131">Pipeline</span></span>|<span data-ttu-id="de6fd-132">已启用</span><span class="sxs-lookup"><span data-stu-id="de6fd-132">Enabled</span></span>|<span data-ttu-id="de6fd-133">已启用</span><span class="sxs-lookup"><span data-stu-id="de6fd-133">Enabled</span></span>|<span data-ttu-id="de6fd-134">消息已发布，而且升级了与错误报告相关的消息上下文属性。</span><span class="sxs-lookup"><span data-stu-id="de6fd-134">Message is published with error-report-related message context properties promoted.</span></span>|<span data-ttu-id="de6fd-135">消息未被挂起。</span><span class="sxs-lookup"><span data-stu-id="de6fd-135">Message is not suspended.</span></span>|  
|<span data-ttu-id="de6fd-136">订阅</span><span class="sxs-lookup"><span data-stu-id="de6fd-136">Subscription</span></span>|<span data-ttu-id="de6fd-137">禁用</span><span class="sxs-lookup"><span data-stu-id="de6fd-137">Disabled</span></span>|<span data-ttu-id="de6fd-138">禁用</span><span class="sxs-lookup"><span data-stu-id="de6fd-138">Disabled</span></span>|<span data-ttu-id="de6fd-139">消息在管道前被挂起。</span><span class="sxs-lookup"><span data-stu-id="de6fd-139">Message is suspended before pipeline.</span></span> <span data-ttu-id="de6fd-140">创建了路由故障报告。</span><span class="sxs-lookup"><span data-stu-id="de6fd-140">Routing failure report created.</span></span>|<span data-ttu-id="de6fd-141">消息将在管道前恢复。</span><span class="sxs-lookup"><span data-stu-id="de6fd-141">Message will resume before pipeline.</span></span> <span data-ttu-id="de6fd-142">路由故障报告不可恢复。</span><span class="sxs-lookup"><span data-stu-id="de6fd-142">The routing failure report is non-resumable.</span></span>|  
|<span data-ttu-id="de6fd-143">订阅</span><span class="sxs-lookup"><span data-stu-id="de6fd-143">Subscription</span></span>|<span data-ttu-id="de6fd-144">禁用</span><span class="sxs-lookup"><span data-stu-id="de6fd-144">Disabled</span></span>|<span data-ttu-id="de6fd-145">已启用</span><span class="sxs-lookup"><span data-stu-id="de6fd-145">Enabled</span></span>|<span data-ttu-id="de6fd-146">消息在管道后被挂起。</span><span class="sxs-lookup"><span data-stu-id="de6fd-146">Message is suspended after pipeline.</span></span> <span data-ttu-id="de6fd-147">创建了路由故障报告。</span><span class="sxs-lookup"><span data-stu-id="de6fd-147">Routing failure report created.</span></span>|<span data-ttu-id="de6fd-148">消息将在管道前恢复。</span><span class="sxs-lookup"><span data-stu-id="de6fd-148">Message will resume before pipeline.</span></span> <span data-ttu-id="de6fd-149">路由故障报告不可恢复。</span><span class="sxs-lookup"><span data-stu-id="de6fd-149">The routing failure report is non-resumable.</span></span> <span data-ttu-id="de6fd-150">有关可恢复交换处理的详细信息，请参阅[可恢复交换处理](../core/recoverable-interchange-processing.md)。</span><span class="sxs-lookup"><span data-stu-id="de6fd-150">For more information about Recoverable Interchange Processing, see [Recoverable Interchange Processing](../core/recoverable-interchange-processing.md).</span></span>|  
|<span data-ttu-id="de6fd-151">订阅</span><span class="sxs-lookup"><span data-stu-id="de6fd-151">Subscription</span></span>|<span data-ttu-id="de6fd-152">已启用</span><span class="sxs-lookup"><span data-stu-id="de6fd-152">Enabled</span></span>|<span data-ttu-id="de6fd-153">禁用</span><span class="sxs-lookup"><span data-stu-id="de6fd-153">Disabled</span></span>|<span data-ttu-id="de6fd-154">消息已发布，而且升级了与错误报告相关的消息上下文属性。</span><span class="sxs-lookup"><span data-stu-id="de6fd-154">Message is published with error-report-related message context properties promoted.</span></span> <span data-ttu-id="de6fd-155">创建了路由故障报告。</span><span class="sxs-lookup"><span data-stu-id="de6fd-155">Routing failure report created.</span></span>|<span data-ttu-id="de6fd-156">消息未被挂起。</span><span class="sxs-lookup"><span data-stu-id="de6fd-156">Message is not suspended.</span></span> <span data-ttu-id="de6fd-157">路由故障报告不可恢复。</span><span class="sxs-lookup"><span data-stu-id="de6fd-157">The routing failure report is non-resumable.</span></span> <span data-ttu-id="de6fd-158">有关路由失败消息的详细信息，请参阅[使用失败消息路由](../core/using-failed-message-routing.md)。</span><span class="sxs-lookup"><span data-stu-id="de6fd-158">For details about routing failed messages, see [Using Failed Message Routing](../core/using-failed-message-routing.md).</span></span>|  
|<span data-ttu-id="de6fd-159">订阅</span><span class="sxs-lookup"><span data-stu-id="de6fd-159">Subscription</span></span>|<span data-ttu-id="de6fd-160">已启用</span><span class="sxs-lookup"><span data-stu-id="de6fd-160">Enabled</span></span>|<span data-ttu-id="de6fd-161">已启用</span><span class="sxs-lookup"><span data-stu-id="de6fd-161">Enabled</span></span>|<span data-ttu-id="de6fd-162">消息已发布，而且升级了与错误报告相关的消息上下文属性。</span><span class="sxs-lookup"><span data-stu-id="de6fd-162">Message is published with error-report-related message context properties promoted.</span></span> <span data-ttu-id="de6fd-163">创建了路由故障报告。</span><span class="sxs-lookup"><span data-stu-id="de6fd-163">Routing failure report created.</span></span>|<span data-ttu-id="de6fd-164">消息未被挂起。</span><span class="sxs-lookup"><span data-stu-id="de6fd-164">Message is not suspended.</span></span> <span data-ttu-id="de6fd-165">路由故障报告不可恢复。</span><span class="sxs-lookup"><span data-stu-id="de6fd-165">The routing failure report is non-resumable.</span></span>|  
  
 <span data-ttu-id="de6fd-166">在这些列举的失败模式中，许多都对应于旨在解决失败模式的 BizTalk Server 的特定功能，例如可恢复的交换处理和错误报告。</span><span class="sxs-lookup"><span data-stu-id="de6fd-166">Many of these enumerated failure modes correspond to specific features of BizTalk Server that are designed to address the failure mode, such as recoverable interchange processing and error reporting.</span></span> <span data-ttu-id="de6fd-167">其他失败模式涉及 BizTalk Server 如何将失败信息传送给应用程序元素，以及应用程序元素（例如自定义管道组件、适配器和业务流程）接下来如何将失败信息传送给 BizTalk Server。</span><span class="sxs-lookup"><span data-stu-id="de6fd-167">Other failure modes concern how BizTalk Server communicates failure information to application elements and, in turn, how application elements such as custom pipeline components, adapters, and orchestrations communicate failure information to BizTalk Server.</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="de6fd-168">本节内容</span><span class="sxs-lookup"><span data-stu-id="de6fd-168">In This Section</span></span>  
  
-   [<span data-ttu-id="de6fd-169">使用失败的邮件路由</span><span class="sxs-lookup"><span data-stu-id="de6fd-169">Using Failed Message Routing</span></span>](../core/using-failed-message-routing.md)  
  
-   [<span data-ttu-id="de6fd-170">如何允许路由失败消息</span><span class="sxs-lookup"><span data-stu-id="de6fd-170">How to Enable Routing for Failed Messages</span></span>](../core/how-to-enable-routing-for-failed-messages.md)  
  
-   [<span data-ttu-id="de6fd-171">使用确认</span><span class="sxs-lookup"><span data-stu-id="de6fd-171">Using Acknowledgments</span></span>](../core/using-acknowledgments.md)  
  
## <a name="see-also"></a><span data-ttu-id="de6fd-172">另请参阅</span><span class="sxs-lookup"><span data-stu-id="de6fd-172">See Also</span></span>  
 <span data-ttu-id="de6fd-173">[可恢复的交换处理](../core/recoverable-interchange-processing.md) </span><span class="sxs-lookup"><span data-stu-id="de6fd-173">[Recoverable Interchange Processing](../core/recoverable-interchange-processing.md) </span></span>  
 [<span data-ttu-id="de6fd-174">类型的消息失败</span><span class="sxs-lookup"><span data-stu-id="de6fd-174">Types of Message Failures</span></span>](../core/types-of-message-failures.md)