---
title: 错误处理 | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- Messaging Engine, errors
- errors, Messaging Engine
- errors, messages
- messages, errors
ms.assetid: ebc889cc-eeac-483c-baf3-407a218f6d14
caps.latest.revision: 13
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 4763941600b6e38909f56ee27ec82c8bfb1f246f
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65348239"
---
# <a name="error-handling"></a><span data-ttu-id="2de10-102">错误处理</span><span class="sxs-lookup"><span data-stu-id="2de10-102">Error Handling</span></span>
<span data-ttu-id="2de10-103">消息通过 BizTalk Server 消息传送子系统如下所示的路径包含多个处理和传输的点。</span><span class="sxs-lookup"><span data-stu-id="2de10-103">The pathway that a message follows through the BizTalk Server messaging subsystem encompasses several points of processing and transfer.</span></span> <span data-ttu-id="2de10-104">在该路径的每个点，可以在 BizTalk Server 基础结构和应用程序提供的元素，如自定义管道组件和业务流程中出现故障。</span><span class="sxs-lookup"><span data-stu-id="2de10-104">At each point along this pathway, failures can occur in both BizTalk Server infrastructure and application-provided elements such as custom pipeline components and orchestrations.</span></span>  
  
 <span data-ttu-id="2de10-105">本节以及其中包含在讨论已知阶段的处理和通过 BizTalk Server 配置和应用程序提供的元素，如业务流程如何解决这些失败模式的典型失败模式。</span><span class="sxs-lookup"><span data-stu-id="2de10-105">This section and those contained within discuss the typical failure modes of well-known stages of processing and how those failure modes are addressed through both BizTalk Server configuration and application-provided elements such as orchestrations.</span></span> <span data-ttu-id="2de10-106">失败的影响包括消息、 诊断捕获和记录，以及操作注意事项的处置。</span><span class="sxs-lookup"><span data-stu-id="2de10-106">Failure effects include disposition of the message, diagnostics captured and logged, and operational considerations.</span></span>  
  
 <span data-ttu-id="2de10-107">一条消息失败时发生的事件包括依赖于失败的位置和失败的消息路由和可恢复交换处理的状态。</span><span class="sxs-lookup"><span data-stu-id="2de10-107">The events that occur when a message fails are dependent upon the location of the failure and the status of failed message routing and recoverable interchange processing.</span></span> <span data-ttu-id="2de10-108">下表总结了管道和订阅失败的失败行为及恢复位置。</span><span class="sxs-lookup"><span data-stu-id="2de10-108">The table below summarizes the failure behavior and resume location for pipeline and subscription failures.</span></span>  
  
|<span data-ttu-id="2de10-109">失败类型</span><span class="sxs-lookup"><span data-stu-id="2de10-109">Failure Type</span></span>|<span data-ttu-id="2de10-110">失败的消息路由</span><span class="sxs-lookup"><span data-stu-id="2de10-110">Failed message routing</span></span>|<span data-ttu-id="2de10-111">可恢复交换处理</span><span class="sxs-lookup"><span data-stu-id="2de10-111">Recoverable Interchange Processing</span></span>|<span data-ttu-id="2de10-112">失败行为</span><span class="sxs-lookup"><span data-stu-id="2de10-112">Failure Behavior</span></span>|<span data-ttu-id="2de10-113">恢复位置</span><span class="sxs-lookup"><span data-stu-id="2de10-113">Resume Location</span></span>|  
|------------------|----------------------------|----------------------------------------|----------------------|---------------------|  
|<span data-ttu-id="2de10-114">管道</span><span class="sxs-lookup"><span data-stu-id="2de10-114">Pipeline</span></span>|<span data-ttu-id="2de10-115">禁用</span><span class="sxs-lookup"><span data-stu-id="2de10-115">Disabled</span></span>|<span data-ttu-id="2de10-116">禁用</span><span class="sxs-lookup"><span data-stu-id="2de10-116">Disabled</span></span>|<span data-ttu-id="2de10-117">消息在管道前被挂起</span><span class="sxs-lookup"><span data-stu-id="2de10-117">Message is suspended before pipeline</span></span>|<span data-ttu-id="2de10-118">在管道前。</span><span class="sxs-lookup"><span data-stu-id="2de10-118">Before pipeline.</span></span>|  
|<span data-ttu-id="2de10-119">管道</span><span class="sxs-lookup"><span data-stu-id="2de10-119">Pipeline</span></span>|<span data-ttu-id="2de10-120">禁用</span><span class="sxs-lookup"><span data-stu-id="2de10-120">Disabled</span></span>|<span data-ttu-id="2de10-121">Enabled</span><span class="sxs-lookup"><span data-stu-id="2de10-121">Enabled</span></span>|<span data-ttu-id="2de10-122">消息在管道后被挂起</span><span class="sxs-lookup"><span data-stu-id="2de10-122">Message is suspended after pipeline</span></span>|<span data-ttu-id="2de10-123">在管道前。</span><span class="sxs-lookup"><span data-stu-id="2de10-123">Before pipeline.</span></span> <span data-ttu-id="2de10-124">有关可恢复交换处理的详细信息，请参阅[可恢复交换处理](../core/recoverable-interchange-processing.md)。</span><span class="sxs-lookup"><span data-stu-id="2de10-124">For more information about Recoverable Interchange Processing, see [Recoverable Interchange Processing](../core/recoverable-interchange-processing.md).</span></span>|  
|<span data-ttu-id="2de10-125">管道</span><span class="sxs-lookup"><span data-stu-id="2de10-125">Pipeline</span></span>|<span data-ttu-id="2de10-126">Enabled</span><span class="sxs-lookup"><span data-stu-id="2de10-126">Enabled</span></span>|<span data-ttu-id="2de10-127">禁用</span><span class="sxs-lookup"><span data-stu-id="2de10-127">Disabled</span></span>|<span data-ttu-id="2de10-128">消息已发布与升级的错误报告相关的消息上下文属性</span><span class="sxs-lookup"><span data-stu-id="2de10-128">Message is published with error-report-related message context properties promoted</span></span>|<span data-ttu-id="2de10-129">不会挂起消息。</span><span class="sxs-lookup"><span data-stu-id="2de10-129">Message is not suspended.</span></span> <span data-ttu-id="2de10-130">有关路由失败消息的详细信息，请参阅[使用失败消息路由](../core/using-failed-message-routing.md)。</span><span class="sxs-lookup"><span data-stu-id="2de10-130">For details about routing failed messages, see [Using Failed Message Routing](../core/using-failed-message-routing.md).</span></span>|  
|<span data-ttu-id="2de10-131">管道</span><span class="sxs-lookup"><span data-stu-id="2de10-131">Pipeline</span></span>|<span data-ttu-id="2de10-132">Enabled</span><span class="sxs-lookup"><span data-stu-id="2de10-132">Enabled</span></span>|<span data-ttu-id="2de10-133">Enabled</span><span class="sxs-lookup"><span data-stu-id="2de10-133">Enabled</span></span>|<span data-ttu-id="2de10-134">消息已发布与升级的错误报告相关的消息上下文属性。</span><span class="sxs-lookup"><span data-stu-id="2de10-134">Message is published with error-report-related message context properties promoted.</span></span>|<span data-ttu-id="2de10-135">不会挂起消息。</span><span class="sxs-lookup"><span data-stu-id="2de10-135">Message is not suspended.</span></span>|  
|<span data-ttu-id="2de10-136">订阅</span><span class="sxs-lookup"><span data-stu-id="2de10-136">Subscription</span></span>|<span data-ttu-id="2de10-137">禁用</span><span class="sxs-lookup"><span data-stu-id="2de10-137">Disabled</span></span>|<span data-ttu-id="2de10-138">禁用</span><span class="sxs-lookup"><span data-stu-id="2de10-138">Disabled</span></span>|<span data-ttu-id="2de10-139">消息在管道前被挂起。</span><span class="sxs-lookup"><span data-stu-id="2de10-139">Message is suspended before pipeline.</span></span> <span data-ttu-id="2de10-140">创建路由故障报告。</span><span class="sxs-lookup"><span data-stu-id="2de10-140">Routing failure report created.</span></span>|<span data-ttu-id="2de10-141">消息将在管道前恢复。</span><span class="sxs-lookup"><span data-stu-id="2de10-141">Message will resume before pipeline.</span></span> <span data-ttu-id="2de10-142">路由故障报告是不可恢复。</span><span class="sxs-lookup"><span data-stu-id="2de10-142">The routing failure report is non-resumable.</span></span>|  
|<span data-ttu-id="2de10-143">订阅</span><span class="sxs-lookup"><span data-stu-id="2de10-143">Subscription</span></span>|<span data-ttu-id="2de10-144">禁用</span><span class="sxs-lookup"><span data-stu-id="2de10-144">Disabled</span></span>|<span data-ttu-id="2de10-145">Enabled</span><span class="sxs-lookup"><span data-stu-id="2de10-145">Enabled</span></span>|<span data-ttu-id="2de10-146">消息在管道后被挂起。</span><span class="sxs-lookup"><span data-stu-id="2de10-146">Message is suspended after pipeline.</span></span> <span data-ttu-id="2de10-147">创建路由故障报告。</span><span class="sxs-lookup"><span data-stu-id="2de10-147">Routing failure report created.</span></span>|<span data-ttu-id="2de10-148">消息将在管道前恢复。</span><span class="sxs-lookup"><span data-stu-id="2de10-148">Message will resume before pipeline.</span></span> <span data-ttu-id="2de10-149">路由故障报告是不可恢复。</span><span class="sxs-lookup"><span data-stu-id="2de10-149">The routing failure report is non-resumable.</span></span> <span data-ttu-id="2de10-150">有关可恢复交换处理的详细信息，请参阅[可恢复交换处理](../core/recoverable-interchange-processing.md)。</span><span class="sxs-lookup"><span data-stu-id="2de10-150">For more information about Recoverable Interchange Processing, see [Recoverable Interchange Processing](../core/recoverable-interchange-processing.md).</span></span>|  
|<span data-ttu-id="2de10-151">订阅</span><span class="sxs-lookup"><span data-stu-id="2de10-151">Subscription</span></span>|<span data-ttu-id="2de10-152">Enabled</span><span class="sxs-lookup"><span data-stu-id="2de10-152">Enabled</span></span>|<span data-ttu-id="2de10-153">禁用</span><span class="sxs-lookup"><span data-stu-id="2de10-153">Disabled</span></span>|<span data-ttu-id="2de10-154">消息已发布与升级的错误报告相关的消息上下文属性。</span><span class="sxs-lookup"><span data-stu-id="2de10-154">Message is published with error-report-related message context properties promoted.</span></span> <span data-ttu-id="2de10-155">创建路由故障报告。</span><span class="sxs-lookup"><span data-stu-id="2de10-155">Routing failure report created.</span></span>|<span data-ttu-id="2de10-156">不会挂起消息。</span><span class="sxs-lookup"><span data-stu-id="2de10-156">Message is not suspended.</span></span> <span data-ttu-id="2de10-157">路由故障报告是不可恢复。</span><span class="sxs-lookup"><span data-stu-id="2de10-157">The routing failure report is non-resumable.</span></span> <span data-ttu-id="2de10-158">有关路由失败消息的详细信息，请参阅[使用失败消息路由](../core/using-failed-message-routing.md)。</span><span class="sxs-lookup"><span data-stu-id="2de10-158">For details about routing failed messages, see [Using Failed Message Routing](../core/using-failed-message-routing.md).</span></span>|  
|<span data-ttu-id="2de10-159">订阅</span><span class="sxs-lookup"><span data-stu-id="2de10-159">Subscription</span></span>|<span data-ttu-id="2de10-160">Enabled</span><span class="sxs-lookup"><span data-stu-id="2de10-160">Enabled</span></span>|<span data-ttu-id="2de10-161">Enabled</span><span class="sxs-lookup"><span data-stu-id="2de10-161">Enabled</span></span>|<span data-ttu-id="2de10-162">消息已发布与升级的错误报告相关的消息上下文属性。</span><span class="sxs-lookup"><span data-stu-id="2de10-162">Message is published with error-report-related message context properties promoted.</span></span> <span data-ttu-id="2de10-163">创建路由故障报告。</span><span class="sxs-lookup"><span data-stu-id="2de10-163">Routing failure report created.</span></span>|<span data-ttu-id="2de10-164">不会挂起消息。</span><span class="sxs-lookup"><span data-stu-id="2de10-164">Message is not suspended.</span></span> <span data-ttu-id="2de10-165">路由故障报告是不可恢复。</span><span class="sxs-lookup"><span data-stu-id="2de10-165">The routing failure report is non-resumable.</span></span>|  
  
 <span data-ttu-id="2de10-166">其中许多枚举模式对应于特定的 BizTalk Server 功能，旨在解决失败模式，例如可恢复交换处理和错误报告的失败。</span><span class="sxs-lookup"><span data-stu-id="2de10-166">Many of these enumerated failure modes correspond to specific features of BizTalk Server that are designed to address the failure mode, such as recoverable interchange processing and error reporting.</span></span> <span data-ttu-id="2de10-167">其他失败模式涉及 BizTalk Server 如何传送到应用程序元素的失败信息，以及接下来如何应用程序元素，如自定义管道组件、 适配器和业务流程失败信息传送给 BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="2de10-167">Other failure modes concern how BizTalk Server communicates failure information to application elements and, in turn, how application elements such as custom pipeline components, adapters, and orchestrations communicate failure information to BizTalk Server.</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="2de10-168">本节内容</span><span class="sxs-lookup"><span data-stu-id="2de10-168">In This Section</span></span>  
  
-   [<span data-ttu-id="2de10-169">使用失败的消息路由</span><span class="sxs-lookup"><span data-stu-id="2de10-169">Using Failed Message Routing</span></span>](../core/using-failed-message-routing.md)  
  
-   [<span data-ttu-id="2de10-170">如何为失败消息启用路由功能</span><span class="sxs-lookup"><span data-stu-id="2de10-170">How to Enable Routing for Failed Messages</span></span>](../core/how-to-enable-routing-for-failed-messages.md)  
  
-   [<span data-ttu-id="2de10-171">使用确认</span><span class="sxs-lookup"><span data-stu-id="2de10-171">Using Acknowledgments</span></span>](../core/using-acknowledgments.md)  
  
## <a name="see-also"></a><span data-ttu-id="2de10-172">请参阅</span><span class="sxs-lookup"><span data-stu-id="2de10-172">See Also</span></span>  
 <span data-ttu-id="2de10-173">[可恢复交换处理](../core/recoverable-interchange-processing.md) </span><span class="sxs-lookup"><span data-stu-id="2de10-173">[Recoverable Interchange Processing](../core/recoverable-interchange-processing.md) </span></span>  
 [<span data-ttu-id="2de10-174">消息失败的类型</span><span class="sxs-lookup"><span data-stu-id="2de10-174">Types of Message Failures</span></span>](../core/types-of-message-failures.md)