---
title: 消息传送性能计数器 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 162d761a-fe69-45b0-a6af-c5d9f714e0ca
caps.latest.revision: 10
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 8682026548e63287c85668a8b3706fb1255d3725
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65324884"
---
# <a name="messaging-performance-counters"></a><span data-ttu-id="802c0-102">消息传送性能计数器</span><span class="sxs-lookup"><span data-stu-id="802c0-102">Messaging Performance Counters</span></span>
<span data-ttu-id="802c0-103">性能计数器允许你监视的工作上的站点或系统服务执行的特定方面。</span><span class="sxs-lookup"><span data-stu-id="802c0-103">Performance counters allow you to monitor specific aspects of work performed on the site or system by service.</span></span> <span data-ttu-id="802c0-104">性能计数器可以帮助您确定和解决服务器性能问题。</span><span class="sxs-lookup"><span data-stu-id="802c0-104">Performance counters can help you identify and troubleshoot server performance issues.</span></span>  
  
 <span data-ttu-id="802c0-105">以下性能计数器都可以访问每个主机实例下**BizTalk: Messaging**和**BizTalk: Messaging Latency**性能对象类别：</span><span class="sxs-lookup"><span data-stu-id="802c0-105">The following performance counters are accessible for each host instance under the **BizTalk:Messaging** and the **BizTalk:Messaging Latency** performance object categories:</span></span>  
  
|<span data-ttu-id="802c0-106">**类别**</span><span class="sxs-lookup"><span data-stu-id="802c0-106">**Category**</span></span>|<span data-ttu-id="802c0-107">**计数器**</span><span class="sxs-lookup"><span data-stu-id="802c0-107">**Counter**</span></span>|<span data-ttu-id="802c0-108">**说明**</span><span class="sxs-lookup"><span data-stu-id="802c0-108">**Description**</span></span>|  
|------------------|-----------------|---------------------|  
|<span data-ttu-id="802c0-109">BizTalk:Messaging</span><span class="sxs-lookup"><span data-stu-id="802c0-109">BizTalk:Messaging</span></span>|<span data-ttu-id="802c0-110">活动接收位置</span><span class="sxs-lookup"><span data-stu-id="802c0-110">Active receive locations</span></span>|<span data-ttu-id="802c0-111">接收此主机实例中当前启用的位置数。</span><span class="sxs-lookup"><span data-stu-id="802c0-111">Number of receive locations currently enabled in this host instance.</span></span>|  
||<span data-ttu-id="802c0-112">活动接收线程</span><span class="sxs-lookup"><span data-stu-id="802c0-112">Active receive threads</span></span>|<span data-ttu-id="802c0-113">消息引擎当前正在处理此主机实例中运行的适配器从接收的消息中的线程数。</span><span class="sxs-lookup"><span data-stu-id="802c0-113">Number of threads in the Messaging Engine currently processing messages received from adapters running in this host instance.</span></span> <span data-ttu-id="802c0-114">其中包括已由发送适配器异步处理的消息。</span><span class="sxs-lookup"><span data-stu-id="802c0-114">These include messages that have been processed asynchronously by send adapters.</span></span>|  
||<span data-ttu-id="802c0-115">活动发送消息</span><span class="sxs-lookup"><span data-stu-id="802c0-115">Active send messages</span></span>|<span data-ttu-id="802c0-116">处理发送的消息引擎中当前具有的消息数。</span><span class="sxs-lookup"><span data-stu-id="802c0-116">Number of messages the Messaging Engine has currently in send processing.</span></span> <span data-ttu-id="802c0-117">这包括消息当前在发送管道处理的响应消息以及接收适配器。</span><span class="sxs-lookup"><span data-stu-id="802c0-117">This includes messages currently in send pipeline processing as well as response messages for receive adapters.</span></span>|  
||<span data-ttu-id="802c0-118">活动发送线程</span><span class="sxs-lookup"><span data-stu-id="802c0-118">Active send threads</span></span>|<span data-ttu-id="802c0-119">消息引擎当前正在处理消息将发送到适配器中的线程数。</span><span class="sxs-lookup"><span data-stu-id="802c0-119">Number of threads in the Messaging Engine currently processing messages to send to adapters.</span></span> <span data-ttu-id="802c0-120">这包括接收适配器的响应消息。</span><span class="sxs-lookup"><span data-stu-id="802c0-120">This includes response messages to receive adapters.</span></span>|  
||<span data-ttu-id="802c0-121">处理的文档</span><span class="sxs-lookup"><span data-stu-id="802c0-121">Documents processed</span></span>|<span data-ttu-id="802c0-122">处理的文档。</span><span class="sxs-lookup"><span data-stu-id="802c0-122">Documents processed.</span></span>|  
||<span data-ttu-id="802c0-123">处理的文档数/秒</span><span class="sxs-lookup"><span data-stu-id="802c0-123">Documents processed/Sec</span></span>|<span data-ttu-id="802c0-124">记录每秒处理。</span><span class="sxs-lookup"><span data-stu-id="802c0-124">Documents processed/Sec.</span></span>|  
||<span data-ttu-id="802c0-125">收到的文档</span><span class="sxs-lookup"><span data-stu-id="802c0-125">Documents received</span></span>|<span data-ttu-id="802c0-126">接收到的文档。</span><span class="sxs-lookup"><span data-stu-id="802c0-126">Documents received.</span></span>|  
||<span data-ttu-id="802c0-127">每秒接收的文档</span><span class="sxs-lookup"><span data-stu-id="802c0-127">Documents received/Sec</span></span>|<span data-ttu-id="802c0-128">每秒接收的文档数。</span><span class="sxs-lookup"><span data-stu-id="802c0-128">Documents received per second.</span></span>|  
||<span data-ttu-id="802c0-129">重新提交的文档</span><span class="sxs-lookup"><span data-stu-id="802c0-129">Documents resubmitted</span></span>|<span data-ttu-id="802c0-130">发送适配器通过重新提交的文档总数。</span><span class="sxs-lookup"><span data-stu-id="802c0-130">Total number of documents resubmitted by send adapters.</span></span>|  
||<span data-ttu-id="802c0-131">提交的文档/批处理</span><span class="sxs-lookup"><span data-stu-id="802c0-131">Documents submitted/Batch</span></span>|<span data-ttu-id="802c0-132">平均每批提交的文档数。</span><span class="sxs-lookup"><span data-stu-id="802c0-132">Average number of documents submitted per batch.</span></span>|  
||<span data-ttu-id="802c0-133">挂起的文档</span><span class="sxs-lookup"><span data-stu-id="802c0-133">Documents suspended</span></span>|<span data-ttu-id="802c0-134">挂起的文档。</span><span class="sxs-lookup"><span data-stu-id="802c0-134">Documents suspended.</span></span>|  
||<span data-ttu-id="802c0-135">挂起的文档数/秒</span><span class="sxs-lookup"><span data-stu-id="802c0-135">Documents suspended/Sec</span></span>|<span data-ttu-id="802c0-136">每秒挂起的文档。</span><span class="sxs-lookup"><span data-stu-id="802c0-136">Documents suspended per second.</span></span>|  
||<span data-ttu-id="802c0-137">传输的文档/批处理</span><span class="sxs-lookup"><span data-stu-id="802c0-137">Documents transmitted/Batch</span></span>|<span data-ttu-id="802c0-138">平均每批传输的消息数。</span><span class="sxs-lookup"><span data-stu-id="802c0-138">Average number of messages transmitted per batch.</span></span>|  
||<span data-ttu-id="802c0-139">ID 进程</span><span class="sxs-lookup"><span data-stu-id="802c0-139">ID Process</span></span>|<span data-ttu-id="802c0-140">此主机实例进程标识符。</span><span class="sxs-lookup"><span data-stu-id="802c0-140">The process identifier for this host instance.</span></span>|  
||<span data-ttu-id="802c0-141">挂起接收批处理</span><span class="sxs-lookup"><span data-stu-id="802c0-141">Pending receive batches</span></span>|<span data-ttu-id="802c0-142">由消息引擎接收的尚未处理完的批数。</span><span class="sxs-lookup"><span data-stu-id="802c0-142">Number of batches received by the Messaging Engine that have not completed processing.</span></span> <span data-ttu-id="802c0-143">其中包括已由发送适配器异步处理的批。</span><span class="sxs-lookup"><span data-stu-id="802c0-143">These include batches that have been processed asynchronously by send adapters.</span></span>|  
||<span data-ttu-id="802c0-144">挂起传输的消息</span><span class="sxs-lookup"><span data-stu-id="802c0-144">Pending transmitted messages</span></span>|<span data-ttu-id="802c0-145">提供的消息引擎发送适配器的尚未处理完消息数。</span><span class="sxs-lookup"><span data-stu-id="802c0-145">Number of messages given by the Messaging Engine to send adapters that have not completed processing.</span></span> <span data-ttu-id="802c0-146">这包括响应消息的接收适配器。</span><span class="sxs-lookup"><span data-stu-id="802c0-146">This includes response messages for receive adapters.</span></span>|  
||<span data-ttu-id="802c0-147">请求/响应超时</span><span class="sxs-lookup"><span data-stu-id="802c0-147">Request/Response timeouts</span></span>|<span data-ttu-id="802c0-148">未收到响应消息由适配器指定的时间限制内的请求消息数。</span><span class="sxs-lookup"><span data-stu-id="802c0-148">Number of request messages that have not received a response message within the time limit specified by the adapter.</span></span>|  
||<span data-ttu-id="802c0-149">限制接收批处理</span><span class="sxs-lookup"><span data-stu-id="802c0-149">Throttled receive batches</span></span>|<span data-ttu-id="802c0-150">由于服务负载高消息引擎接收的被阻止的批数。</span><span class="sxs-lookup"><span data-stu-id="802c0-150">Number of batches that have been blocked on receive by the Messaging Engine due to high service load.</span></span> <span data-ttu-id="802c0-151">这些批包括要处理的新消息。</span><span class="sxs-lookup"><span data-stu-id="802c0-151">These batches contain new messages to be processed.</span></span>|  
|<span data-ttu-id="802c0-152">BizTalk： 消息延迟</span><span class="sxs-lookup"><span data-stu-id="802c0-152">BizTalk:Messaging Latency</span></span>|<span data-ttu-id="802c0-153">入站的延迟 （秒）</span><span class="sxs-lookup"><span data-stu-id="802c0-153">Inbound Latency (sec)</span></span>|<span data-ttu-id="802c0-154">以毫秒为单位自消息引擎文档从接收适配器发布到 Messagebox 为止的平均延迟。</span><span class="sxs-lookup"><span data-stu-id="802c0-154">Average latency in milliseconds from when the Messaging Engine receives a document from the adapter until the time it is published to Message Box.</span></span>|  
||<span data-ttu-id="802c0-155">出站适配器延迟 （秒）</span><span class="sxs-lookup"><span data-stu-id="802c0-155">Outbound Adapter Latency (sec)</span></span>|<span data-ttu-id="802c0-156">以毫秒为单位从时适配器获取一个文档从消息引擎直到适配器发送的时间的平均延迟。</span><span class="sxs-lookup"><span data-stu-id="802c0-156">Average latency in milliseconds from when the adapter gets a document from the Messaging Engine until the time it is sent by the adapter.</span></span>|  
||<span data-ttu-id="802c0-157">出站延迟 （秒）</span><span class="sxs-lookup"><span data-stu-id="802c0-157">Outbound Latency (sec)</span></span>|<span data-ttu-id="802c0-158">平均延迟 （毫秒） 时，消息引擎接收到文档从 Messagebox 中直到适配器发送文档的时间。</span><span class="sxs-lookup"><span data-stu-id="802c0-158">Average latency in milliseconds from when the Messaging Engine receives a document from the Message Box until the time document is sent by the adapter.</span></span>|  
||<span data-ttu-id="802c0-159">请求-响应延迟 （秒）</span><span class="sxs-lookup"><span data-stu-id="802c0-159">Request-Response Latency (sec)</span></span>|<span data-ttu-id="802c0-160">平均延迟 （毫秒） 自消息引擎接收到请求文档从适配器响应文档传回适配器为止。</span><span class="sxs-lookup"><span data-stu-id="802c0-160">Average latency in milliseconds from when the Messaging Engine receives a request document from the adapter until the time a response document is given back to the adapter.</span></span>|  
  
## <a name="to-access-performance-counters"></a><span data-ttu-id="802c0-161">若要访问性能计数器</span><span class="sxs-lookup"><span data-stu-id="802c0-161">To access performance counters</span></span>  
 <span data-ttu-id="802c0-162">使用以下步骤访问性能计数器。</span><span class="sxs-lookup"><span data-stu-id="802c0-162">Use the following steps to access the performance counters.</span></span>  
  
#### <a name="if-you-are-using-windows-2008"></a><span data-ttu-id="802c0-163">如果您使用的 Windows 2008</span><span class="sxs-lookup"><span data-stu-id="802c0-163">If you are using Windows 2008</span></span>  
  
1.  <span data-ttu-id="802c0-164">单击**启动**，依次指向**管理工具**，然后单击**性能监视器**。</span><span class="sxs-lookup"><span data-stu-id="802c0-164">Click **Start**, point to **Administrative Tools**, and then click **Performance Monitor**.</span></span>  
  
2.  <span data-ttu-id="802c0-165">在中**性能监视器**对话框框中，展开**监视工具**，选择**性能监视器**，然后单击**添加**。</span><span class="sxs-lookup"><span data-stu-id="802c0-165">In the **Performance Monitor** dialog box, expand **Monitoring Tools**, select **Performance Monitor**, and then click **Add**.</span></span>  
  
3.  <span data-ttu-id="802c0-166">在中**添加计数器**对话框中，从**可用的计数器**列表中，展开**BizTalk: Messaging**性能计数器对象，然后选择要监视的计数器</span><span class="sxs-lookup"><span data-stu-id="802c0-166">In the **Add Counters** dialog box, from the **Available Counters** list, expand the **BizTalk:Messaging** performance counter object and select the counters to be monitored</span></span>  
  
4.  <span data-ttu-id="802c0-167">在中**选定对象的实例**列表中，选择要监视的所选的计数器，然后单击的特定实例**添加**。</span><span class="sxs-lookup"><span data-stu-id="802c0-167">In the **Instances of Selected object** list, select the specific instances to be monitored for the selected counters and then click **Add**.</span></span>  <span data-ttu-id="802c0-168">若要选择的所有可用的计数器实例，请选择\<**所有实例**\>。</span><span class="sxs-lookup"><span data-stu-id="802c0-168">To select all available counter instances, select \<**All instances**\>.</span></span>  
  
5.  <span data-ttu-id="802c0-169">添加计数器之后, 单击**确定**。</span><span class="sxs-lookup"><span data-stu-id="802c0-169">After adding the counters, click **OK**.</span></span>  
  
     <span data-ttu-id="802c0-170">所选的性能计数器随即显示在**性能监视器**屏幕。</span><span class="sxs-lookup"><span data-stu-id="802c0-170">The selected performance counters appear on the **Performance Monitor** screen.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="802c0-171">请参阅</span><span class="sxs-lookup"><span data-stu-id="802c0-171">See Also</span></span>  
 <span data-ttu-id="802c0-172">[性能提示和技巧](../core/performance-tips-and-tricks.md) </span><span class="sxs-lookup"><span data-stu-id="802c0-172">[Performance Tips and Tricks](../core/performance-tips-and-tricks.md) </span></span>  
 <span data-ttu-id="802c0-173">[测量最大可承受引擎吞吐量](../core/measuring-maximum-sustainable-engine-throughput.md) </span><span class="sxs-lookup"><span data-stu-id="802c0-173">[Measuring Maximum Sustainable Engine Throughput](../core/measuring-maximum-sustainable-engine-throughput.md) </span></span>  
 <span data-ttu-id="802c0-174">[测量最大可承受跟踪吞吐量](../core/measuring-maximum-sustainable-tracking-throughput.md) </span><span class="sxs-lookup"><span data-stu-id="802c0-174">[Measuring Maximum Sustainable Tracking Throughput](../core/measuring-maximum-sustainable-tracking-throughput.md) </span></span>  
 [<span data-ttu-id="802c0-175">通过主机阻止优化资源使用情况</span><span class="sxs-lookup"><span data-stu-id="802c0-175">Optimizing Resource Usage Through Host Throttling</span></span>](../core/optimizing-resource-usage-through-host-throttling.md)