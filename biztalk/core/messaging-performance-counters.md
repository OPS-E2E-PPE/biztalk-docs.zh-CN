---
title: "消息传递性能计数器 |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 162d761a-fe69-45b0-a6af-c5d9f714e0ca
caps.latest.revision: "10"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 72604822559d855f51bd24c6eacae3be3be4cbdd
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/28/2017
---
# <a name="messaging-performance-counters"></a><span data-ttu-id="d1e0d-102">消息传送性能计数器</span><span class="sxs-lookup"><span data-stu-id="d1e0d-102">Messaging Performance Counters</span></span>
<span data-ttu-id="d1e0d-103">使用性能计数器可以监视服务在站点或系统上执行的工作的特定方面。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-103">Performance counters allow you to monitor specific aspects of work performed on the site or system by service.</span></span> <span data-ttu-id="d1e0d-104">性能计数器能够帮助您标识和解决有关服务器性能的问题。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-104">Performance counters can help you identify and troubleshoot server performance issues.</span></span>  
  
 <span data-ttu-id="d1e0d-105">以下性能计数器进行访问每个主机实例下**BizTalk： 消息传送**和**BizTalk： 消息延迟**性能对象类别：</span><span class="sxs-lookup"><span data-stu-id="d1e0d-105">The following performance counters are accessible for each host instance under the **BizTalk:Messaging** and the **BizTalk:Messaging Latency** performance object categories:</span></span>  
  
|<span data-ttu-id="d1e0d-106">**类别**</span><span class="sxs-lookup"><span data-stu-id="d1e0d-106">**Category**</span></span>|<span data-ttu-id="d1e0d-107">**计数器**</span><span class="sxs-lookup"><span data-stu-id="d1e0d-107">**Counter**</span></span>|<span data-ttu-id="d1e0d-108">**Description**</span><span class="sxs-lookup"><span data-stu-id="d1e0d-108">**Description**</span></span>|  
|------------------|-----------------|---------------------|  
|<span data-ttu-id="d1e0d-109">BizTalk:Messaging</span><span class="sxs-lookup"><span data-stu-id="d1e0d-109">BizTalk:Messaging</span></span>|<span data-ttu-id="d1e0d-110">Active receive locations</span><span class="sxs-lookup"><span data-stu-id="d1e0d-110">Active receive locations</span></span>|<span data-ttu-id="d1e0d-111">此主机实例中当前启用的接收位置数。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-111">Number of receive locations currently enabled in this host instance.</span></span>|  
||<span data-ttu-id="d1e0d-112">Active receive threads</span><span class="sxs-lookup"><span data-stu-id="d1e0d-112">Active receive threads</span></span>|<span data-ttu-id="d1e0d-113">消息引擎中当前正在处理特定消息的线程数，这些消息指从此主机实例上运行的适配器接收的消息。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-113">Number of threads in the Messaging Engine currently processing messages received from adapters running in this host instance.</span></span> <span data-ttu-id="d1e0d-114">这些消息包括发送适配器已经异步处理过的消息。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-114">These include messages that have been processed asynchronously by send adapters.</span></span>|  
||<span data-ttu-id="d1e0d-115">Active send messages</span><span class="sxs-lookup"><span data-stu-id="d1e0d-115">Active send messages</span></span>|<span data-ttu-id="d1e0d-116">消息引擎当前正在进行发送处理的消息数。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-116">Number of messages the Messaging Engine has currently in send processing.</span></span> <span data-ttu-id="d1e0d-117">这包括当前正在发送管道中进行处理的消息，以及接收适配器的响应消息。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-117">This includes messages currently in send pipeline processing as well as response messages for receive adapters.</span></span>|  
||<span data-ttu-id="d1e0d-118">Active send threads</span><span class="sxs-lookup"><span data-stu-id="d1e0d-118">Active send threads</span></span>|<span data-ttu-id="d1e0d-119">消息引擎中当前正在处理发送给适配器的消息的线程数。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-119">Number of threads in the Messaging Engine currently processing messages to send to adapters.</span></span> <span data-ttu-id="d1e0d-120">这些消息包括接收适配器的响应消息。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-120">This includes response messages to receive adapters.</span></span>|  
||<span data-ttu-id="d1e0d-121">Documents processed</span><span class="sxs-lookup"><span data-stu-id="d1e0d-121">Documents processed</span></span>|<span data-ttu-id="d1e0d-122">已处理的文档数。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-122">Documents processed.</span></span>|  
||<span data-ttu-id="d1e0d-123">处理的文档数/秒</span><span class="sxs-lookup"><span data-stu-id="d1e0d-123">Documents processed/Sec</span></span>|<span data-ttu-id="d1e0d-124">每秒处理的文档数。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-124">Documents processed/Sec.</span></span>|  
||<span data-ttu-id="d1e0d-125">Documents received</span><span class="sxs-lookup"><span data-stu-id="d1e0d-125">Documents received</span></span>|<span data-ttu-id="d1e0d-126">已接收的文档数。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-126">Documents received.</span></span>|  
||<span data-ttu-id="d1e0d-127">Documents received/Sec</span><span class="sxs-lookup"><span data-stu-id="d1e0d-127">Documents received/Sec</span></span>|<span data-ttu-id="d1e0d-128">每秒接收的文档数。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-128">Documents received per second.</span></span>|  
||<span data-ttu-id="d1e0d-129">Documents resubmitted</span><span class="sxs-lookup"><span data-stu-id="d1e0d-129">Documents resubmitted</span></span>|<span data-ttu-id="d1e0d-130">由发送适配器重新提交的文档总数。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-130">Total number of documents resubmitted by send adapters.</span></span>|  
||<span data-ttu-id="d1e0d-131">Documents submitted/Batch</span><span class="sxs-lookup"><span data-stu-id="d1e0d-131">Documents submitted/Batch</span></span>|<span data-ttu-id="d1e0d-132">平均每批提交的文档数。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-132">Average number of documents submitted per batch.</span></span>|  
||<span data-ttu-id="d1e0d-133">Documents suspended</span><span class="sxs-lookup"><span data-stu-id="d1e0d-133">Documents suspended</span></span>|<span data-ttu-id="d1e0d-134">挂起的文档数。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-134">Documents suspended.</span></span>|  
||<span data-ttu-id="d1e0d-135">Documents suspended/Sec</span><span class="sxs-lookup"><span data-stu-id="d1e0d-135">Documents suspended/Sec</span></span>|<span data-ttu-id="d1e0d-136">每秒挂起的文档数。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-136">Documents suspended per second.</span></span>|  
||<span data-ttu-id="d1e0d-137">Documents transmitted/Batch</span><span class="sxs-lookup"><span data-stu-id="d1e0d-137">Documents transmitted/Batch</span></span>|<span data-ttu-id="d1e0d-138">平均每批传输的消息数。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-138">Average number of messages transmitted per batch.</span></span>|  
||<span data-ttu-id="d1e0d-139">ID Process</span><span class="sxs-lookup"><span data-stu-id="d1e0d-139">ID Process</span></span>|<span data-ttu-id="d1e0d-140">此主机实例的进程标识符。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-140">The process identifier for this host instance.</span></span>|  
||<span data-ttu-id="d1e0d-141">Pending receive batches</span><span class="sxs-lookup"><span data-stu-id="d1e0d-141">Pending receive batches</span></span>|<span data-ttu-id="d1e0d-142">消息引擎所接收的尚未处理完的批数。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-142">Number of batches received by the Messaging Engine that have not completed processing.</span></span> <span data-ttu-id="d1e0d-143">这包括已经由发送适配器异步处理的批。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-143">These include batches that have been processed asynchronously by send adapters.</span></span>|  
||<span data-ttu-id="d1e0d-144">Pending transmitted messages</span><span class="sxs-lookup"><span data-stu-id="d1e0d-144">Pending transmitted messages</span></span>|<span data-ttu-id="d1e0d-145">由消息引擎传给发送适配器的尚未处理完的消息数。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-145">Number of messages given by the Messaging Engine to send adapters that have not completed processing.</span></span> <span data-ttu-id="d1e0d-146">这包括接收适配器的响应消息。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-146">This includes response messages for receive adapters.</span></span>|  
||<span data-ttu-id="d1e0d-147">Request/Response timeouts</span><span class="sxs-lookup"><span data-stu-id="d1e0d-147">Request/Response timeouts</span></span>|<span data-ttu-id="d1e0d-148">在适配器指定的时限内尚未接收到响应消息的请求消息数。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-148">Number of request messages that have not received a response message within the time limit specified by the adapter.</span></span>|  
||<span data-ttu-id="d1e0d-149">Throttled receive batches</span><span class="sxs-lookup"><span data-stu-id="d1e0d-149">Throttled receive batches</span></span>|<span data-ttu-id="d1e0d-150">在消息引擎接收时，由于服务负载高而被阻止的批数。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-150">Number of batches that have been blocked on receive by the Messaging Engine due to high service load.</span></span> <span data-ttu-id="d1e0d-151">这些批包括要处理的新消息。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-151">These batches contain new messages to be processed.</span></span>|  
|<span data-ttu-id="d1e0d-152">BizTalk：消息延迟</span><span class="sxs-lookup"><span data-stu-id="d1e0d-152">BizTalk:Messaging Latency</span></span>|<span data-ttu-id="d1e0d-153">Inbound Latency (sec)</span><span class="sxs-lookup"><span data-stu-id="d1e0d-153">Inbound Latency (sec)</span></span>|<span data-ttu-id="d1e0d-154">自消息引擎从适配器接收到文档到将其发布到 MessageBox 的平均延迟时间（以毫秒计）。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-154">Average latency in milliseconds from when the Messaging Engine receives a document from the adapter until the time it is published to Message Box.</span></span>|  
||<span data-ttu-id="d1e0d-155">Outbound Adapter Latency (sec)</span><span class="sxs-lookup"><span data-stu-id="d1e0d-155">Outbound Adapter Latency (sec)</span></span>|<span data-ttu-id="d1e0d-156">自适配器从消息引擎获取文档到将其发送出去的平均延迟时间（以毫秒计）。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-156">Average latency in milliseconds from when the adapter gets a document from the Messaging Engine until the time it is sent by the adapter.</span></span>|  
||<span data-ttu-id="d1e0d-157">Outbound Latency (sec)</span><span class="sxs-lookup"><span data-stu-id="d1e0d-157">Outbound Latency (sec)</span></span>|<span data-ttu-id="d1e0d-158">自消息引擎从 MessageBox 接收到文档到适配器将其发送出去的平均延迟时间（以毫秒计）。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-158">Average latency in milliseconds from when the Messaging Engine receives a document from the Message Box until the time document is sent by the adapter.</span></span>|  
||<span data-ttu-id="d1e0d-159">Request-Response Latency (sec)</span><span class="sxs-lookup"><span data-stu-id="d1e0d-159">Request-Response Latency (sec)</span></span>|<span data-ttu-id="d1e0d-160">自消息引擎从适配器接收到请求文档到将响应文档返回到适配器的平均延迟时间（以毫秒计）。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-160">Average latency in milliseconds from when the Messaging Engine receives a request document from the adapter until the time a response document is given back to the adapter.</span></span>|  
  
## <a name="to-access-performance-counters"></a><span data-ttu-id="d1e0d-161">访问性能计数器</span><span class="sxs-lookup"><span data-stu-id="d1e0d-161">To access performance counters</span></span>  
 <span data-ttu-id="d1e0d-162">依照下述步骤访问性能计数器。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-162">Use the following steps to access the performance counters.</span></span>  
  
#### <a name="if-you-are-using-windows-2008"></a><span data-ttu-id="d1e0d-163">如果您使用的是 Windows 2008</span><span class="sxs-lookup"><span data-stu-id="d1e0d-163">If you are using Windows 2008</span></span>  
  
1.  <span data-ttu-id="d1e0d-164">单击**启动**，指向**管理工具**，然后单击**性能监视器**。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-164">Click **Start**, point to **Administrative Tools**, and then click **Performance Monitor**.</span></span>  
  
2.  <span data-ttu-id="d1e0d-165">在**性能监视器**对话框框中，展开**监视工具**，选择**性能监视器**，然后单击**添加**。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-165">In the **Performance Monitor** dialog box, expand **Monitoring Tools**, select **Performance Monitor**, and then click **Add**.</span></span>  
  
3.  <span data-ttu-id="d1e0d-166">在**添加计数器**对话框中，从**可用计数器**列表中，展开**BizTalk： 消息传送**性能计数器对象，然后选择要监视的计数器</span><span class="sxs-lookup"><span data-stu-id="d1e0d-166">In the **Add Counters** dialog box, from the **Available Counters** list, expand the **BizTalk:Messaging** performance counter object and select the counters to be monitored</span></span>  
  
4.  <span data-ttu-id="d1e0d-167">在**实例的所选对象**列表中，选择要监视的所选计数器，然后单击的特定实例**添加**。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-167">In the **Instances of Selected object** list, select the specific instances to be monitored for the selected counters and then click **Add**.</span></span>  <span data-ttu-id="d1e0d-168">若要选择的所有可用的计数器实例，选择\<**所有实例**\>。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-168">To select all available counter instances, select \<**All instances**\>.</span></span>  
  
5.  <span data-ttu-id="d1e0d-169">添加计数器后, 单击**确定**。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-169">After adding the counters, click **OK**.</span></span>  
  
     <span data-ttu-id="d1e0d-170">所选的性能计数器显示在**性能监视器**屏幕。</span><span class="sxs-lookup"><span data-stu-id="d1e0d-170">The selected performance counters appear on the **Performance Monitor** screen.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d1e0d-171">另请参阅</span><span class="sxs-lookup"><span data-stu-id="d1e0d-171">See Also</span></span>  
 <span data-ttu-id="d1e0d-172">[性能提示和技巧](../core/performance-tips-and-tricks.md) </span><span class="sxs-lookup"><span data-stu-id="d1e0d-172">[Performance Tips and Tricks](../core/performance-tips-and-tricks.md) </span></span>  
 <span data-ttu-id="d1e0d-173">[测量的最大可持续引擎吞吐量](../core/measuring-maximum-sustainable-engine-throughput.md) </span><span class="sxs-lookup"><span data-stu-id="d1e0d-173">[Measuring Maximum Sustainable Engine Throughput](../core/measuring-maximum-sustainable-engine-throughput.md) </span></span>  
 <span data-ttu-id="d1e0d-174">[测量的最大可持续跟踪吞吐量](../core/measuring-maximum-sustainable-tracking-throughput.md) </span><span class="sxs-lookup"><span data-stu-id="d1e0d-174">[Measuring Maximum Sustainable Tracking Throughput](../core/measuring-maximum-sustainable-tracking-throughput.md) </span></span>  
 [<span data-ttu-id="d1e0d-175">通过主机限制的优化资源使用情况</span><span class="sxs-lookup"><span data-stu-id="d1e0d-175">Optimizing Resource Usage Through Host Throttling</span></span>](../core/optimizing-resource-usage-through-host-throttling.md)