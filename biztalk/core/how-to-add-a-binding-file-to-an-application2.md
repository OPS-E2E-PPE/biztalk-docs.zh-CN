---
title: 将绑定文件添加到应用程序 |Microsoft 文档
description: 添加使用 BizTalk Server 管理的绑定文件或在 BizTalk Server 中使用命令提示符
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 1543ee5f-9ae4-4683-b6fe-ee84028c381d
caps.latest.revision: 22
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 2f6d2a999be4a12860616bc92f3086b37dbd265f
ms.sourcegitcommit: 36350889f318e1f7e0ac9506dc8df794d475bda6
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/20/2018
---
# <a name="add-a-binding-file-to-an-application"></a><span data-ttu-id="48f2e-103">将绑定文件添加到应用程序</span><span class="sxs-lookup"><span data-stu-id="48f2e-103">Add a Binding File to an Application</span></span>

## <a name="overview"></a><span data-ttu-id="48f2e-104">概述</span><span class="sxs-lookup"><span data-stu-id="48f2e-104">Overview</span></span>
<span data-ttu-id="48f2e-105">使用 BizTalk Server 管理控制台或命令行添加到 BizTalk 应用程序的绑定文件。</span><span class="sxs-lookup"><span data-stu-id="48f2e-105">Use the BizTalk Server Administration console or the command line to add a binding file to a BizTalk application.</span></span> <span data-ttu-id="48f2e-106">你可能想要执行此操作可使应用程序集的部署中所述更容易，[绑定文件和应用程序部署](../core/binding-files-and-application-deployment.md)。</span><span class="sxs-lookup"><span data-stu-id="48f2e-106">You might want to do this to make application or assembly deployment easier, as described in [Binding Files and Application Deployment](../core/binding-files-and-application-deployment.md).</span></span>  
  
 <span data-ttu-id="48f2e-107">中所述，你可以从程序集、 应用程序，或组中，BizTalk 应用程序导出到.xml 文件的绑定[导出绑定](../core/exporting-bindings6.md)，并将其中一个过程本主题中，以便将绑定文件添加到应用程序。</span><span class="sxs-lookup"><span data-stu-id="48f2e-107">You can export bindings into an .xml file from a BizTalk application for an assembly, application, or group, as described in [Exporting Bindings](../core/exporting-bindings6.md), and then use one of the procedures in this topic to add the binding file to an application.</span></span>  
  
 <span data-ttu-id="48f2e-108">在您这样做了之后，该绑定文件将添加到 BizTalk 管理数据库并显示在 BizTalk Server 管理控制台的应用程序的“资源”文件夹中。</span><span class="sxs-lookup"><span data-stu-id="48f2e-108">When you do this, the binding file is added to the BizTalk Management database and displays in the BizTalk Server Administration console, in the Resources folder of the application.</span></span> <span data-ttu-id="48f2e-109">与导入绑定文件不同，添加绑定文件并不会立即应用其绑定。</span><span class="sxs-lookup"><span data-stu-id="48f2e-109">Unlike importing a binding file, adding a binding file does not immediately apply its bindings.</span></span> <span data-ttu-id="48f2e-110">而是在将应用程序导入到其他 BizTalk 组时应用绑定。</span><span class="sxs-lookup"><span data-stu-id="48f2e-110">Instead, the bindings are applied when the application is imported into another BizTalk group.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="48f2e-111">为安全起见，在导出绑定时，BizTalk Server 会从该文件中删除绑定的密码。</span><span class="sxs-lookup"><span data-stu-id="48f2e-111">For security reasons, when you export bindings, BizTalk Server removes the passwords for the bindings from the file.</span></span> <span data-ttu-id="48f2e-112">在导入绑定后，必须为发送端口和接收位置重新配置密码，它们才能正常运行。</span><span class="sxs-lookup"><span data-stu-id="48f2e-112">After importing the bindings, you must reconfigure passwords for send ports and receive locations before they will function.</span></span> <span data-ttu-id="48f2e-113">您需要在 BizTalk Server 管理控制台的“传输属性”对话框中为发送端口或接收位置配置密码。</span><span class="sxs-lookup"><span data-stu-id="48f2e-113">You configure passwords in the Transport Properties dialog box of the BizTalk Server Administration console for the send port or receive location.</span></span> <span data-ttu-id="48f2e-114">请参阅[创建发送端口](../core/how-to-create-a-send-port2.md)或[创建接收位置](../core/how-to-create-a-receive-location.md)。</span><span class="sxs-lookup"><span data-stu-id="48f2e-114">See [Create a Send Port](../core/how-to-create-a-send-port2.md) or [Create a Receive Location](../core/how-to-create-a-receive-location.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="48f2e-115">当使用绑定文件时，您应该验证项目具有已绑定到正确的主机，以及适当的信任级别。</span><span class="sxs-lookup"><span data-stu-id="48f2e-115">When you use a binding file, you should verify that the artifacts have been bound to the correct host, and that the trust level is appropriate.</span></span>  
  
 <span data-ttu-id="48f2e-116">在您将某一绑定文件添加到应用程序时，可以通过表示环境的字符串（例如“Test”或“Production”）为目标部署环境指定一个值。</span><span class="sxs-lookup"><span data-stu-id="48f2e-116">When you add a binding file to an application, you can specify a value for the target deployment environment with a string that represents the environment, such as Test or Production.</span></span> <span data-ttu-id="48f2e-117">您可以将任何字符串用于该值。</span><span class="sxs-lookup"><span data-stu-id="48f2e-117">You can use any string for this value.</span></span> <span data-ttu-id="48f2e-118">然后，在您导入应用程序时，可以通过提供已为其目标环境指定的值，选择要应用的绑定文件。</span><span class="sxs-lookup"><span data-stu-id="48f2e-118">Then, when you import the application, you can select which binding file to apply by providing the value that was specified for its target environment.</span></span> <span data-ttu-id="48f2e-119">这样做了之后，将会从该绑定文件应用这些绑定。</span><span class="sxs-lookup"><span data-stu-id="48f2e-119">When you do this, the bindings are applied from the binding file.</span></span> <span data-ttu-id="48f2e-120">应用程序中与该文件中的绑定同名的所有现有绑定都将被自动覆盖。</span><span class="sxs-lookup"><span data-stu-id="48f2e-120">Any existing bindings in the application that have the same name as bindings in the file are automatically overwritten.</span></span>  
  
 <span data-ttu-id="48f2e-121">导入应用程序时，绑定按如下顺序应用。</span><span class="sxs-lookup"><span data-stu-id="48f2e-121">When you import an application, bindings are applied in the following order.</span></span> <span data-ttu-id="48f2e-122">由于绑定在导入过程中应用，所以已应用的绑定将被同名的新绑定所覆盖。</span><span class="sxs-lookup"><span data-stu-id="48f2e-122">As bindings are applied during the import process, bindings that have already been applied are overwritten by new bindings that have the same name.</span></span> <span data-ttu-id="48f2e-123">换言之，将应用的具有特定名称的最后一个绑定生效。</span><span class="sxs-lookup"><span data-stu-id="48f2e-123">In other words, the last binding of a particular name to be applied takes effect.</span></span>  
  
1.  <span data-ttu-id="48f2e-124">由 BizTalk Server 生成的、未通过绑定文件显式添加到应用程序但用户已经显式选择导出到应用程序 .msi 文件的应用程序绑定。</span><span class="sxs-lookup"><span data-stu-id="48f2e-124">Application bindings generated by BizTalk Server that were not explicitly added to the application via a binding file, but that were explicitly selected by the user for export into the application .msi file.</span></span>  
  
2.  <span data-ttu-id="48f2e-125">已经显式添加但尚未指定目标部署环境的绑定文件。</span><span class="sxs-lookup"><span data-stu-id="48f2e-125">Binding files that have been explicitly added, and do not have a target deployment environment specified.</span></span> <span data-ttu-id="48f2e-126">本组中的绑定可以按任何顺序应用。</span><span class="sxs-lookup"><span data-stu-id="48f2e-126">Bindings in this set are applied in no specific order.</span></span>  
  
3.  <span data-ttu-id="48f2e-127">已经显式添加并且具有与为导入应用程序而选的部署环境相匹配的关联目标部署环境的绑定。</span><span class="sxs-lookup"><span data-stu-id="48f2e-127">Bindings that have been explicitly added, and that have an associated target deployment environment that matches the deployment environment selected for application import.</span></span> <span data-ttu-id="48f2e-128">本组中的绑定可以按任何顺序应用。</span><span class="sxs-lookup"><span data-stu-id="48f2e-128">Bindings in this set are applied in no specific order.</span></span>  
  
 <span data-ttu-id="48f2e-129">有关导入应用程序和应用绑定的详细信息，请参阅[BizTalk 应用程序导入](../core/how-to-import-a-biztalk-application.md)。</span><span class="sxs-lookup"><span data-stu-id="48f2e-129">For more information about importing applications and applying bindings, see [Import a BizTalk Application](../core/how-to-import-a-biztalk-application.md).</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="48f2e-130">必要條件</span><span class="sxs-lookup"><span data-stu-id="48f2e-130">Prerequisites</span></span>  
<span data-ttu-id="48f2e-131">使用 BizTalk Server Administrators 组的成员的帐户登录。</span><span class="sxs-lookup"><span data-stu-id="48f2e-131">Sign in with an account that is a member of the BizTalk Server Administrators group.</span></span> <span data-ttu-id="48f2e-132">[用于部署和管理 BizTalk 应用程序所需权限](../core/permissions-required-for-deploying-and-managing-a-biztalk-application.md)提供更多详细信息。</span><span class="sxs-lookup"><span data-stu-id="48f2e-132">[Permissions Required for Deploying and Managing a BizTalk Application](../core/permissions-required-for-deploying-and-managing-a-biztalk-application.md) provides more details.</span></span>
  
## <a name="add-a-binding-file-using-biztalk-administration"></a><span data-ttu-id="48f2e-133">添加绑定文件使用 BizTalk 管理</span><span class="sxs-lookup"><span data-stu-id="48f2e-133">Add a binding file using BizTalk Administration</span></span>  
  
1.  <span data-ttu-id="48f2e-134">打开**BizTalk Server 管理**（在开始菜单中）。</span><span class="sxs-lookup"><span data-stu-id="48f2e-134">Open **BizTalk Server Administration** (in the Start menu).</span></span>
  
2.  <span data-ttu-id="48f2e-135">展开 BizTalk Server 管理、 展开的 BizTalk 组，展开应用程序，和右键单击你想要添加的绑定文件的应用。</span><span class="sxs-lookup"><span data-stu-id="48f2e-135">Expand BizTalk Server Administration, expand the BizTalk group, expand Applications, and right-click the application to which you want to add a binding file.</span></span>  
  
3.  <span data-ttu-id="48f2e-136">指向 **添加**, ，然后单击 **资源**。</span><span class="sxs-lookup"><span data-stu-id="48f2e-136">Point to **Add**, and then click **Resources**.</span></span>  
  
4.  <span data-ttu-id="48f2e-137">单击 **添加**, ，选择要添加，，然后单击的文件 **打开**。</span><span class="sxs-lookup"><span data-stu-id="48f2e-137">Click **Add**, select the file to add, and then click **Open**.</span></span>  
  
5.  <span data-ttu-id="48f2e-138">若要覆盖现有绑定文件具有相同的文件名称此应用程序中，选择 **覆盖所有** 复选框。</span><span class="sxs-lookup"><span data-stu-id="48f2e-138">To overwrite an existing binding file in this application that has the same file name, select the **Overwrite all** check box.</span></span> <span data-ttu-id="48f2e-139">如果存在同名的其他文件，并且您没有选中此复选框，则添加操作将失败。</span><span class="sxs-lookup"><span data-stu-id="48f2e-139">If another file exists with the same name, and you do not select this check box, the add operation will fail.</span></span>  
  
6.  <span data-ttu-id="48f2e-140">在 **文件类型** 下拉列表中，选择 **System.BizTalk:BizTalkBinding**。</span><span class="sxs-lookup"><span data-stu-id="48f2e-140">In the **File type** drop-down list, select **System.BizTalk:BizTalkBinding**.</span></span>  
  
7.  <span data-ttu-id="48f2e-141">在 **目标环境**, ，键入字符串来表示想将此文件中的绑定应用，例如测试，然后单击其中的目标部署环境 **确定**。</span><span class="sxs-lookup"><span data-stu-id="48f2e-141">In **Target Environment**, type a string to represent the target deployment environment where you want the bindings in this file to be applied, such as Test, and click **OK**.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="48f2e-142">如果您将此字段保留为空，则在应用程序导入时将始终应用此文件中的绑定。</span><span class="sxs-lookup"><span data-stu-id="48f2e-142">If you leave this field blank, the bindings in this file will always be applied upon application import.</span></span>  
  
     <span data-ttu-id="48f2e-143">绑定文件将被添加，并且该文件将显示在应用程序的“资源”文件夹中。</span><span class="sxs-lookup"><span data-stu-id="48f2e-143">The binding file is added, and it displays in the Resources folder of the application.</span></span>  
  
## <a name="add-a-binding-file-using-the-command-line"></a><span data-ttu-id="48f2e-144">添加绑定文件使用命令行</span><span class="sxs-lookup"><span data-stu-id="48f2e-144">Add a binding file using the command line</span></span>  
  
1.  <span data-ttu-id="48f2e-145">打开命令提示符 (**启动**菜单 > 输入`cmd`> 选择**命令提示符**)。</span><span class="sxs-lookup"><span data-stu-id="48f2e-145">Open a command prompt (**Start** menu > enter `cmd` > select **Command Prompt**).</span></span>  
  
2.  <span data-ttu-id="48f2e-146">键入以下命令，替换为适当的值下, 表中所述︰</span><span class="sxs-lookup"><span data-stu-id="48f2e-146">Type the following command, substituting the appropriate values, as described in the following table:</span></span>  
  
     <span data-ttu-id="48f2e-147">**BTSTask AddResource** [**/ApplicationName:"***值***"**] **/Type:System.BizTalk:BizTalkBinding** [**/Overwrite**] **/Source:***值***/Property:TargetEnvironment ="***值***"** [**/Server: * **值*][**数据库 /: * **值*]</span><span class="sxs-lookup"><span data-stu-id="48f2e-147">**BTSTask AddResource** [**/ApplicationName:"***value***"**] **/Type:System.BizTalk:BizTalkBinding** [**/Overwrite**] **/Source:***value***/Property:TargetEnvironment="***value***"** [**/Server:***value*] [**/Database:***value*]</span></span>  
  
     <span data-ttu-id="48f2e-148">例如：</span><span class="sxs-lookup"><span data-stu-id="48f2e-148">Example:</span></span>  
  
     <span data-ttu-id="48f2e-149">**BTSTask AddResource /ApplicationName:"我的应用程序"/Type:System.BizTalk:BizTalkBinding /Source:"C:\Binding Files\MyBinding.xml"/Property:TargetEnvironment ="Production"/Server:MyDatabaseServer /Database:BizTalkMgmtDb**</span><span class="sxs-lookup"><span data-stu-id="48f2e-149">**BTSTask AddResource /ApplicationName:"My Application" /Type:System.BizTalk:BizTalkBinding  /Source:"C:\Binding Files\MyBinding.xml" /Property:TargetEnvironment="Production" /Server:MyDatabaseServer /Database:BizTalkMgmtDb**</span></span>  
  
    |<span data-ttu-id="48f2e-150">参数</span><span class="sxs-lookup"><span data-stu-id="48f2e-150">Parameter</span></span>|<span data-ttu-id="48f2e-151">“值”</span><span class="sxs-lookup"><span data-stu-id="48f2e-151">Value</span></span>|  
    |---------------|-----------|  
    |<span data-ttu-id="48f2e-152">**/ 应用程序名称**</span><span class="sxs-lookup"><span data-stu-id="48f2e-152">**/ApplicationName**</span></span>|<span data-ttu-id="48f2e-153">绑定文件要添加到的 BizTalk 应用程序的名称。</span><span class="sxs-lookup"><span data-stu-id="48f2e-153">Name of the BizTalk application to which to add the binding file.</span></span> <span data-ttu-id="48f2e-154">如果未指定应用程序名称，则将使用默认 BizTalk 应用程序。</span><span class="sxs-lookup"><span data-stu-id="48f2e-154">If the application name is not specified, the default BizTalk application is used.</span></span> <span data-ttu-id="48f2e-155">如果名称包含空格，必须将它括在双引号 （"）。</span><span class="sxs-lookup"><span data-stu-id="48f2e-155">If the name includes spaces, you must enclose it in double quotation marks (").</span></span>|  
    |<span data-ttu-id="48f2e-156">**/ 类型**</span><span class="sxs-lookup"><span data-stu-id="48f2e-156">**/Type**</span></span>|<span data-ttu-id="48f2e-157">**System.BizTalk:BizTalkBinding** （此值不区分大小写。）</span><span class="sxs-lookup"><span data-stu-id="48f2e-157">**System.BizTalk:BizTalkBinding** (This value is not case-sensitive.)</span></span>|  
    |<span data-ttu-id="48f2e-158">**/ 覆盖**</span><span class="sxs-lookup"><span data-stu-id="48f2e-158">**/Overwrite**</span></span>|<span data-ttu-id="48f2e-159">更新现有绑定文件的选项。</span><span class="sxs-lookup"><span data-stu-id="48f2e-159">Option to update an existing binding file.</span></span> <span data-ttu-id="48f2e-160">如果没有指定，且有约束力的文件中的应用程序与正在添加的文件具有相同的文件名称已存在，则 AddResource 操作将失败。</span><span class="sxs-lookup"><span data-stu-id="48f2e-160">If not specified, and binding file already exists in the application that has the same file name as the file being added, the AddResource operation fails.</span></span>|  
    |<span data-ttu-id="48f2e-161">**/ 源**</span><span class="sxs-lookup"><span data-stu-id="48f2e-161">**/Source**</span></span>|<span data-ttu-id="48f2e-162">绑定文件的完整路径，包含文件名。</span><span class="sxs-lookup"><span data-stu-id="48f2e-162">Full path of the binding file, including the file name.</span></span> <span data-ttu-id="48f2e-163">如果路径包含空格，必须将它括在双引号 （"）。</span><span class="sxs-lookup"><span data-stu-id="48f2e-163">If the path includes spaces, you must enclose it in double quotation marks (").</span></span>|  
    |<span data-ttu-id="48f2e-164">**/Property:TargetEnvironment =**</span><span class="sxs-lookup"><span data-stu-id="48f2e-164">**/Property:TargetEnvironment=**</span></span>|<span data-ttu-id="48f2e-165">指定目标部署环境的字符串。</span><span class="sxs-lookup"><span data-stu-id="48f2e-165">A string that specifies the target deployment environment.</span></span> <span data-ttu-id="48f2e-166">您可以使用任何字符串，如 Production。</span><span class="sxs-lookup"><span data-stu-id="48f2e-166">You can use any string, for example Production.</span></span> <span data-ttu-id="48f2e-167">示例︰ **/Property:TargetEnvironment ="Production"**</span><span class="sxs-lookup"><span data-stu-id="48f2e-167">Example: **/Property:TargetEnvironment="Production"**</span></span><br /><br /> <span data-ttu-id="48f2e-168">如果未指定，值为\<默认\>自动应用。</span><span class="sxs-lookup"><span data-stu-id="48f2e-168">If not specified, a value of \<Default\> is automatically applied.</span></span> <span data-ttu-id="48f2e-169">该值区分大小写。</span><span class="sxs-lookup"><span data-stu-id="48f2e-169">The value is case sensitive.</span></span> <span data-ttu-id="48f2e-170">如果该值包含空格，则必须将其括在双引号 (") 中。</span><span class="sxs-lookup"><span data-stu-id="48f2e-170">If the value includes spaces, you must enclose it in double quotation marks (").</span></span> <span data-ttu-id="48f2e-171">环境值的最大长度为 128 个字符。</span><span class="sxs-lookup"><span data-stu-id="48f2e-171">The maximum length of the environment value is 128 characters.</span></span>|  
    |<span data-ttu-id="48f2e-172">**/ 服务器**</span><span class="sxs-lookup"><span data-stu-id="48f2e-172">**/Server**</span></span>|<span data-ttu-id="48f2e-173">BizTalk 管理数据库的宿主 SQL Server 实例的名称，格式为“服务器名称\实例名称,端口”。</span><span class="sxs-lookup"><span data-stu-id="48f2e-173">Name of the SQL Server instance hosting the BizTalk Management database, in the form ServerName\InstanceName,Port.</span></span><br /><br /> <span data-ttu-id="48f2e-174">只在实例名称与服务器名称不相同时才需要指定实例名称。</span><span class="sxs-lookup"><span data-stu-id="48f2e-174">Instance name is only required when the instance name is different than the server name.</span></span> <span data-ttu-id="48f2e-175">只在 SQL Server 不使用默认端口号 (1433) 时才需要指定端口。</span><span class="sxs-lookup"><span data-stu-id="48f2e-175">Port is only required when SQL Server uses a port number other than the default (1433).</span></span><br /><br /> <span data-ttu-id="48f2e-176">示例：</span><span class="sxs-lookup"><span data-stu-id="48f2e-176">Examples:</span></span><br /><br /> <span data-ttu-id="48f2e-177">Server=MyServer</span><span class="sxs-lookup"><span data-stu-id="48f2e-177">Server=MyServer</span></span><br /><br /> <span data-ttu-id="48f2e-178">Server=MyServer\MySQLServer,1533</span><span class="sxs-lookup"><span data-stu-id="48f2e-178">Server=MyServer\MySQLServer,1533</span></span><br /><br /> <span data-ttu-id="48f2e-179">如果未提供，则使用本地计算机上运行的 SQL Server 实例的名称。</span><span class="sxs-lookup"><span data-stu-id="48f2e-179">If not provided, the name of the SQL Server instance running on the local computer is used.</span></span>|  
    |<span data-ttu-id="48f2e-180">**/ 数据库**</span><span class="sxs-lookup"><span data-stu-id="48f2e-180">**/Database**</span></span>|<span data-ttu-id="48f2e-181">BizTalk 管理数据库的名称。</span><span class="sxs-lookup"><span data-stu-id="48f2e-181">Name of the BizTalk Management database.</span></span> <span data-ttu-id="48f2e-182">如果未指定，则使用在本地 SQL Server 实例中运行的 BizTalk 管理数据库。</span><span class="sxs-lookup"><span data-stu-id="48f2e-182">If not specified, the BizTalk Management database running in the local instance of SQL Server is used.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="48f2e-183">另请参阅</span><span class="sxs-lookup"><span data-stu-id="48f2e-183">See Also</span></span>  
 <span data-ttu-id="48f2e-184">[管理.NET 程序集、 证书和其他资源](../core/managing-net-assemblies-certificates-and-other-resources.md) </span><span class="sxs-lookup"><span data-stu-id="48f2e-184">[Managing .NET Assemblies, Certificates, and Other Resources](../core/managing-net-assemblies-certificates-and-other-resources.md) </span></span>  
 <span data-ttu-id="48f2e-185">[AddResource 命令： BizTalk 绑定](../core/addresource-command-biztalk-binding.md) </span><span class="sxs-lookup"><span data-stu-id="48f2e-185">[AddResource Command: BizTalk Binding](../core/addresource-command-biztalk-binding.md) </span></span>  
 [<span data-ttu-id="48f2e-186">创建和修改 BizTalk 应用程序</span><span class="sxs-lookup"><span data-stu-id="48f2e-186">Creating and Modifying BizTalk Applications</span></span>](../core/creating-and-modifying-biztalk-applications.md)