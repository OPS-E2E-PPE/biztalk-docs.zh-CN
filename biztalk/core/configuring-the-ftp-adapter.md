---
title: 配置 FTP 适配器 |Microsoft Docs
ms.custom: ''
ms.date: 09/28/2018
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- FTP adapters, configuring
- configuring [FTP adapters]
ms.assetid: 7e7d2e2d-142e-4459-be25-efd501b396d2
caps.latest.revision: 17
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: f81353597bf836c2032b8ad79cb1c779749ed6fc
ms.sourcegitcommit: c1e83b63ae34bd586e6e0ccc914640efdf96bd4c
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/04/2018
ms.locfileid: "48423953"
---
# <a name="configuring-the-ftp-adapter"></a><span data-ttu-id="93582-102">配置 FTP 适配器</span><span class="sxs-lookup"><span data-stu-id="93582-102">Configuring the FTP Adapter</span></span>


## <a name="before-you-begin"></a><span data-ttu-id="93582-103">开始之前</span><span class="sxs-lookup"><span data-stu-id="93582-103">Before you begin</span></span>
- <span data-ttu-id="93582-104">FTP 适配器支持从安全 FTP 服务器读取和写入数据。</span><span class="sxs-lookup"><span data-stu-id="93582-104">The FTP adapter supports reading and writing data from a secure FTP server.</span></span> <span data-ttu-id="93582-105">该适配器提供了对使用安全套接字层 (SSL)/传输层安全性 (TLS) 从 FTP 服务器传输文件的支持。</span><span class="sxs-lookup"><span data-stu-id="93582-105">The adapter provides support for file transfer from an FTP server over Secure Sockets Layer (SSL)/Transport Level Security (TLS).</span></span> 
- <span data-ttu-id="93582-106">FTP 适配器支持从只读文件位置下载文件。</span><span class="sxs-lookup"><span data-stu-id="93582-106">The FTP adapter supports downloading of files from read-only file locations.</span></span> 
- <span data-ttu-id="93582-107">FTP 适配器还支持 ASCII 模式的原子文件传输。</span><span class="sxs-lookup"><span data-stu-id="93582-107">The FTP adapter supports atomic file transfer for ASCII mode also.</span></span>

<span data-ttu-id="93582-108">请参阅[最佳做法和建议 FTP 适配器的](../core/best-practices-and-recommendations-for-the-ftp-adapter.md)。</span><span class="sxs-lookup"><span data-stu-id="93582-108">See [Best practices and recommendations for the FTP adapter](../core/best-practices-and-recommendations-for-the-ftp-adapter.md).</span></span>


## <a name="configure-the-receive-location"></a><span data-ttu-id="93582-109">配置接收位置</span><span class="sxs-lookup"><span data-stu-id="93582-109">Configure the receive location</span></span>

<span data-ttu-id="93582-110">您可以设置 FTP 接收位置适配器属性在 BizTalk Server 管理控制台。</span><span class="sxs-lookup"><span data-stu-id="93582-110">You can set FTP receive location adapter properties in the BizTalk Server Administration console.</span></span> <span data-ttu-id="93582-111">如果接收位置不设置属性，然后使用 BizTalk Server 管理控制台中的默认接收处理程序值。</span><span class="sxs-lookup"><span data-stu-id="93582-111">If properties are not set in the receive location, then the default receive handler values in the BizTalk Server Administration console are used.</span></span>  

> [!NOTE]
>  <span data-ttu-id="93582-112">执行以下过程之前，你必须已添加接收端口。</span><span class="sxs-lookup"><span data-stu-id="93582-112">Before completing the following procedure, you must have already added a receive port.</span></span> <span data-ttu-id="93582-113">请参阅[如何创建接收端口](../core/how-to-create-a-receive-port.md)。</span><span class="sxs-lookup"><span data-stu-id="93582-113">See [How to Create a Receive Port](../core/how-to-create-a-receive-port.md).</span></span>  
> 1.  <span data-ttu-id="93582-114">在 BizTalk Server 管理控制台中，展开**BizTalk Server 管理**，展开**BizTalk 组**，展开**应用程序**，然后展开要在其中创建接收位置的应用程序。</span><span class="sxs-lookup"><span data-stu-id="93582-114">In the BizTalk Server Administration console, expand **BizTalk Server Administration**, expand **BizTalk Group**, expand **Applications**, and then expand the application in which you want to create a receive location.</span></span>  

2. <span data-ttu-id="93582-115">在左窗格中，单击**接收端口**节点。</span><span class="sxs-lookup"><span data-stu-id="93582-115">In the left pane, click the **Receive Ports** node.</span></span> <span data-ttu-id="93582-116">在右窗格中，右键单击与现有接收位置相关联的接收端口或要与新的接收位置相关联，然后单击**属性**。</span><span class="sxs-lookup"><span data-stu-id="93582-116">In the right pane, right-click the receive port that is associated with an existing receive location or that you want to associate with a new receive location, and then click **Properties**.</span></span>  

3. <span data-ttu-id="93582-117">在中**接收端口属性**对话框中，在左窗格中，选择**接收位置**。</span><span class="sxs-lookup"><span data-stu-id="93582-117">In the **Receive Port Properties** dialog box, in the left pane, select **Receive Locations**.</span></span> <span data-ttu-id="93582-118">在右窗格中，双击现有接收位置或单击**新建**以创建新的接收位置。</span><span class="sxs-lookup"><span data-stu-id="93582-118">In the right pane, double-click an existing receive location or click **New** to create a new receive location.</span></span>  

4. <span data-ttu-id="93582-119">在中**接收位置属性**对话框中**传输**部分旁边**类型**，选择**FTP**从下拉列表和然后单击**配置**。</span><span class="sxs-lookup"><span data-stu-id="93582-119">In the **Receive Location Properties** dialog box, in the **Transport** section next to **Type**, select **FTP** from the drop-down list and then click **Configure**.</span></span>  

5. <span data-ttu-id="93582-120">在中**FTP 传输属性**，执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="93582-120">In **FTP Transport Properties**, do the following:</span></span>  

   <span data-ttu-id="93582-121">**批处理**</span><span class="sxs-lookup"><span data-stu-id="93582-121">**Batch**</span></span>

   |<span data-ttu-id="93582-122">使用此选项</span><span class="sxs-lookup"><span data-stu-id="93582-122">Use this</span></span>|<span data-ttu-id="93582-123">执行的操作</span><span class="sxs-lookup"><span data-stu-id="93582-123">To do this</span></span>|  
   |--------------|----------------|  
   |<span data-ttu-id="93582-124">**最大文件数**</span><span class="sxs-lookup"><span data-stu-id="93582-124">**Maximum Files**</span></span>|<span data-ttu-id="93582-125">指定每个 BizTalk Server 批的最大文件数。</span><span class="sxs-lookup"><span data-stu-id="93582-125">Specify the maximum number of files per BizTalk Server batch.</span></span><br /><br /> <span data-ttu-id="93582-126">零 (0) 表示没有限制。</span><span class="sxs-lookup"><span data-stu-id="93582-126">Zero (0) indicates no limit.</span></span><br /><br /> <span data-ttu-id="93582-127">**默认值：** 0</span><span class="sxs-lookup"><span data-stu-id="93582-127">**Default value:** 0</span></span>|  
   |<span data-ttu-id="93582-128">**最大大小**</span><span class="sxs-lookup"><span data-stu-id="93582-128">**Maximum Size**</span></span>|<span data-ttu-id="93582-129">指定每个 BizTalk Server 批的最大字节数。</span><span class="sxs-lookup"><span data-stu-id="93582-129">Specify the maximum number of bytes per BizTalk Server batch.</span></span><br /><br /> <span data-ttu-id="93582-130">零 (0) 表示没有限制。</span><span class="sxs-lookup"><span data-stu-id="93582-130">Zero (0) indicates no limit.</span></span><br /><br /> <span data-ttu-id="93582-131">**默认值：** 0</span><span class="sxs-lookup"><span data-stu-id="93582-131">**Default value:** 0</span></span>|  

   <span data-ttu-id="93582-132">**防火墙**</span><span class="sxs-lookup"><span data-stu-id="93582-132">**Firewall**</span></span>

   |<span data-ttu-id="93582-133">使用此选项</span><span class="sxs-lookup"><span data-stu-id="93582-133">Use this</span></span>|<span data-ttu-id="93582-134">执行的操作</span><span class="sxs-lookup"><span data-stu-id="93582-134">To do this</span></span>|  
   |--------------|----------------|     
   |<span data-ttu-id="93582-135">**Address**</span><span class="sxs-lookup"><span data-stu-id="93582-135">**Address**</span></span>|<span data-ttu-id="93582-136">指定的 DNS 名称或 IP 地址的防火墙的地址。</span><span class="sxs-lookup"><span data-stu-id="93582-136">Specify the address of the firewall, either a DNS name or an IP address.</span></span>|  
   |<span data-ttu-id="93582-137">**模式**</span><span class="sxs-lookup"><span data-stu-id="93582-137">**Mode**</span></span>|<span data-ttu-id="93582-138">指定适配器连接到 FTP 服务器的模式。</span><span class="sxs-lookup"><span data-stu-id="93582-138">Specify the mode in which the adapter connects to the FTP server.</span></span><br /><br /> <span data-ttu-id="93582-139">**有效值：** 被动和主动</span><span class="sxs-lookup"><span data-stu-id="93582-139">**Valid values:** Passive and Active</span></span><br /><br /> <span data-ttu-id="93582-140">在主动模式中，FTP 服务器连接到由 FTP 适配器打开的端口。</span><span class="sxs-lookup"><span data-stu-id="93582-140">In active mode, the FTP server connects to a port opened by the FTP adapter.</span></span> <span data-ttu-id="93582-141">在被动模式中，FTP 适配器连接到由 FTP 服务器打开的端口。</span><span class="sxs-lookup"><span data-stu-id="93582-141">In passive mode, the FTP adapter connects to a port opened by the FTP server.</span></span> <span data-ttu-id="93582-142">如果使用内部 IP 和连接到外部 IP，主动模式可能无法工作。</span><span class="sxs-lookup"><span data-stu-id="93582-142">Active mode may not work if you use an internal IP and you connect to an external IP.</span></span> <span data-ttu-id="93582-143">在这种情况下，需要使用具有 FTP 支持的应用程序层网关 (ALG) 使用被动模式或主动模式。</span><span class="sxs-lookup"><span data-stu-id="93582-143">In this case, you need to use Passive mode or Active mode with an application-layer gateway (ALG) with FTP support.</span></span><br /><br /> <span data-ttu-id="93582-144">**默认值：** Active</span><span class="sxs-lookup"><span data-stu-id="93582-144">**Default value:** Active</span></span>|  
   |<span data-ttu-id="93582-145">**密码**</span><span class="sxs-lookup"><span data-stu-id="93582-145">**Password**</span></span>|<span data-ttu-id="93582-146">指定防火墙的密码。</span><span class="sxs-lookup"><span data-stu-id="93582-146">Specify the password for the firewall.</span></span>|  
   |<span data-ttu-id="93582-147">**端口**</span><span class="sxs-lookup"><span data-stu-id="93582-147">**Port**</span></span>|<span data-ttu-id="93582-148">指定防火墙的端口。</span><span class="sxs-lookup"><span data-stu-id="93582-148">Specify the port for the firewall.</span></span><br /><br /> <span data-ttu-id="93582-149">**有效值：** 1 到 65535 （含)</span><span class="sxs-lookup"><span data-stu-id="93582-149">**Valid values:** 1 through 65535 inclusive</span></span><br /><br /> <span data-ttu-id="93582-150">**默认值：** 21</span><span class="sxs-lookup"><span data-stu-id="93582-150">**Default value:** 21</span></span>|  
   |<span data-ttu-id="93582-151">**类型**</span><span class="sxs-lookup"><span data-stu-id="93582-151">**Type**</span></span>|<span data-ttu-id="93582-152">指定部署的防火墙的类型。</span><span class="sxs-lookup"><span data-stu-id="93582-152">Specify the type of firewall deployed.</span></span><br /><br /> <span data-ttu-id="93582-153">**有效值：** 无、 Socks 4 和 Socks 5</span><span class="sxs-lookup"><span data-stu-id="93582-153">**Valid values:** None, Socks 4, and Socks 5</span></span><br /><br /> <span data-ttu-id="93582-154">**默认值：** None</span><span class="sxs-lookup"><span data-stu-id="93582-154">**Default value:** None</span></span>|  
   |<span data-ttu-id="93582-155">**用户**</span><span class="sxs-lookup"><span data-stu-id="93582-155">**User**</span></span>|<span data-ttu-id="93582-156">指定防火墙的用户名。</span><span class="sxs-lookup"><span data-stu-id="93582-156">Specify the user name for the firewall.</span></span>|  

   <span data-ttu-id="93582-157">**FTP**</span><span class="sxs-lookup"><span data-stu-id="93582-157">**FTP**</span></span>


   |         <span data-ttu-id="93582-158">使用此选项</span><span class="sxs-lookup"><span data-stu-id="93582-158">Use this</span></span>         |  <span data-ttu-id="93582-159">执行的操作</span><span class="sxs-lookup"><span data-stu-id="93582-159">To do this</span></span>  |
   |---|---|
   |       <span data-ttu-id="93582-160">**帐户**</span><span class="sxs-lookup"><span data-stu-id="93582-160">**Account**</span></span>        |  <span data-ttu-id="93582-161">指定 FTP 服务器的帐户名。</span><span class="sxs-lookup"><span data-stu-id="93582-161">Specify the account name for the FTP server.</span></span> <span data-ttu-id="93582-162">此选项已弃用，建议不要使用此属性。</span><span class="sxs-lookup"><span data-stu-id="93582-162">This option is deprecated and use of this property is discouraged.</span></span>  |
   |      <span data-ttu-id="93582-163">**Get 后**</span><span class="sxs-lookup"><span data-stu-id="93582-163">**After Get**</span></span>       | <span data-ttu-id="93582-164">指定在 GET 文件后要运行的 FTP 命令。</span><span class="sxs-lookup"><span data-stu-id="93582-164">Specify the FTP commands to run after the file GET.</span></span> <span data-ttu-id="93582-165">用分号 (;) 分隔命令。</span><span class="sxs-lookup"><span data-stu-id="93582-165">Separate commands with a semicolon (;).</span></span> |
   |      <span data-ttu-id="93582-166">**Get 前**</span><span class="sxs-lookup"><span data-stu-id="93582-166">**Before Get**</span></span>      |   <span data-ttu-id="93582-167">指定在 GET 文件前要运行的 FTP 命令。</span><span class="sxs-lookup"><span data-stu-id="93582-167">Specify the FTP commands to run before the file GET.</span></span> <span data-ttu-id="93582-168">用分号 (;) 分隔命令。</span><span class="sxs-lookup"><span data-stu-id="93582-168">Separate commands with a semicolon (;).</span></span> <span data-ttu-id="93582-169">**注意：** 在文件 GET 之前不支持 QUIT 命令。</span><span class="sxs-lookup"><span data-stu-id="93582-169">**Note:**  QUIT command is not supported before the file GET.</span></span>   |
   |   <span data-ttu-id="93582-170">**错误阈值**</span><span class="sxs-lookup"><span data-stu-id="93582-170">**Error Threshold**</span></span>    |   <span data-ttu-id="93582-171">指定 BizTalk Server 可能会遇到的错误数之前禁用该位置。</span><span class="sxs-lookup"><span data-stu-id="93582-171">Specify the number of errors that BizTalk Server can encounter before the location is disabled.</span></span><br /><br /> <span data-ttu-id="93582-172">**默认值：** 10</span><span class="sxs-lookup"><span data-stu-id="93582-172">**Default value:** 10</span></span>   |
   |      <span data-ttu-id="93582-173">**文件掩码**</span><span class="sxs-lookup"><span data-stu-id="93582-173">**File Mask**</span></span>       |  <span data-ttu-id="93582-174">指定传输文件时使用的文件掩码筛选器。</span><span class="sxs-lookup"><span data-stu-id="93582-174">Specify the file mask filter to use when transmitting files.</span></span>  |
   |        <span data-ttu-id="93582-175">**文件夹**</span><span class="sxs-lookup"><span data-stu-id="93582-175">**Folder**</span></span>        |   <span data-ttu-id="93582-176">指定 FTP 服务器上的轮询位置。</span><span class="sxs-lookup"><span data-stu-id="93582-176">Specify the polling location on the FTP server.</span></span>  |
   |   <span data-ttu-id="93582-177">**FTP 服务器类型**</span><span class="sxs-lookup"><span data-stu-id="93582-177">**FTP Server Type**</span></span>    | <span data-ttu-id="93582-178">新开始[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="93582-178">New starting with [!INCLUDE[bts2016_md](../includes/bts2016-md.md)].</span></span> <br/><br/><span data-ttu-id="93582-179">此属性用于选择不需要 SYST 命令的 FTP 服务器。</span><span class="sxs-lookup"><span data-stu-id="93582-179">Use this property to choose an FTP server that does not require the SYST command.</span></span> <span data-ttu-id="93582-180">选项为 None、 AIX、 检测、 GXS，MVS，OS400，和其他。</span><span class="sxs-lookup"><span data-stu-id="93582-180">Options are None, AIX, Detect, GXS, MVS, OS400, and Other.</span></span> <br/><br/><span data-ttu-id="93582-181">如果设置为**None**，使用 SYST 命令。</span><span class="sxs-lookup"><span data-stu-id="93582-181">If set to **None**, the SYST command is used.</span></span> <span data-ttu-id="93582-182">**其他**时的 OS 类型不适合任何指定的类别的使用。</span><span class="sxs-lookup"><span data-stu-id="93582-182">**Other** is used when the OS type does not fit into any of the specified categories.</span></span> <br /><br /> <span data-ttu-id="93582-183">**默认值：** None</span><span class="sxs-lookup"><span data-stu-id="93582-183">**Default value:** None</span></span> |
   |         <span data-ttu-id="93582-184">**日志**</span><span class="sxs-lookup"><span data-stu-id="93582-184">**Log**</span></span>          |  <span data-ttu-id="93582-185">指定要保存日志文件的副本的位置。</span><span class="sxs-lookup"><span data-stu-id="93582-185">Specify the location to save a copy of the log file.</span></span> <span data-ttu-id="93582-186">此文件用于发送或接收通过 FTP 文件时诊断错误情况。</span><span class="sxs-lookup"><span data-stu-id="93582-186">You use this file to diagnose error conditions when sending or receiving files through FTP.</span></span>    |
   |    <span data-ttu-id="93582-187">**最大文件大小**</span><span class="sxs-lookup"><span data-stu-id="93582-187">**Max File Size**</span></span>     |   <span data-ttu-id="93582-188">指定可下载文件的最大大小 (MB)。</span><span class="sxs-lookup"><span data-stu-id="93582-188">Specify the maximum downloadable file size, in megabytes.</span></span><br /><br /> <span data-ttu-id="93582-189">零 (0) 表示对文件大小没有限制。</span><span class="sxs-lookup"><span data-stu-id="93582-189">Zero (0) indicates no limit on the file size.</span></span><br /><br /> <span data-ttu-id="93582-190">**默认值：** 100</span><span class="sxs-lookup"><span data-stu-id="93582-190">**Default value:** 100</span></span>    |
   |       <span data-ttu-id="93582-191">**密码**</span><span class="sxs-lookup"><span data-stu-id="93582-191">**Password**</span></span>       |   <span data-ttu-id="93582-192">指定登录 FTP 服务器所用的用户密码。</span><span class="sxs-lookup"><span data-stu-id="93582-192">Specify the user password to log on to the FTP server.</span></span> |
   |         <span data-ttu-id="93582-193">**端口**</span><span class="sxs-lookup"><span data-stu-id="93582-193">**Port**</span></span>         |  <span data-ttu-id="93582-194">指定此 FTP 服务器的端口地址。</span><span class="sxs-lookup"><span data-stu-id="93582-194">Specify the port address for this FTP server.</span></span><br /><br /> <span data-ttu-id="93582-195">**默认值：** 21</span><span class="sxs-lookup"><span data-stu-id="93582-195">**Default value:** 21</span></span> |
   |    <span data-ttu-id="93582-196">**表示形式**</span><span class="sxs-lookup"><span data-stu-id="93582-196">**Representation**</span></span>    |  <span data-ttu-id="93582-197">选择 FTP 接收数据的方式。</span><span class="sxs-lookup"><span data-stu-id="93582-197">Select how FTP receives the data.</span></span><br /><br /> <span data-ttu-id="93582-198">**有效值：** 二进制或 ASCII</span><span class="sxs-lookup"><span data-stu-id="93582-198">**Valid values:** binary or ASCII</span></span><br /><br /> <span data-ttu-id="93582-199">**默认值：** 二进制</span><span class="sxs-lookup"><span data-stu-id="93582-199">**Default value:** binary</span></span>  |
   |        <span data-ttu-id="93582-200">**Server**</span><span class="sxs-lookup"><span data-stu-id="93582-200">**Server**</span></span>        |   <span data-ttu-id="93582-201">指定 FTP 服务器的服务器名称或 IP 地址。</span><span class="sxs-lookup"><span data-stu-id="93582-201">Specify the server name or IP address of the FTP server.</span></span> <span data-ttu-id="93582-202">**注意：** 的 URI 发送端口或接收位置不能超过 256 个字符。</span><span class="sxs-lookup"><span data-stu-id="93582-202">**Note:**  The URI for a send port or receive location cannot exceed 256 characters.</span></span>  |
   |    <span data-ttu-id="93582-203">**SSO 关联**</span><span class="sxs-lookup"><span data-stu-id="93582-203">**SSO Affiliate**</span></span>     |  <span data-ttu-id="93582-204">指定企业单一登录关联应用程序。</span><span class="sxs-lookup"><span data-stu-id="93582-204">Specify the Enterprise Single Sign-On affiliate application.</span></span>  |
   | <span data-ttu-id="93582-205">**使用名单 (NLST)**</span><span class="sxs-lookup"><span data-stu-id="93582-205">**Use name list (NLST)**</span></span> |  <span data-ttu-id="93582-206">指定适配器如何列出文件。</span><span class="sxs-lookup"><span data-stu-id="93582-206">Specify how the adapter lists files.</span></span> <span data-ttu-id="93582-207">若要访问文件名称，而不是系统定义的文件列表，请将此值设置为“是”。</span><span class="sxs-lookup"><span data-stu-id="93582-207">To view file names instead of the system-defined file listing, set this value to Yes.</span></span><br /><br /> <span data-ttu-id="93582-208">**默认值：** 否</span><span class="sxs-lookup"><span data-stu-id="93582-208">**Default value:** No</span></span>   |
   |      <span data-ttu-id="93582-209">**用户名**</span><span class="sxs-lookup"><span data-stu-id="93582-209">**User Name**</span></span>       |  <span data-ttu-id="93582-210">指定登录 FTP 服务器所用的用户名。</span><span class="sxs-lookup"><span data-stu-id="93582-210">Specify the user name to log on to the FTP server.</span></span>  |

   <span data-ttu-id="93582-211">**轮询**</span><span class="sxs-lookup"><span data-stu-id="93582-211">**Polling**</span></span>

   |<span data-ttu-id="93582-212">使用此选项</span><span class="sxs-lookup"><span data-stu-id="93582-212">Use this</span></span>|<span data-ttu-id="93582-213">执行的操作</span><span class="sxs-lookup"><span data-stu-id="93582-213">To do this</span></span>|  
   |--------------|----------------|         
   |<span data-ttu-id="93582-214">**下载后删除**</span><span class="sxs-lookup"><span data-stu-id="93582-214">**Delete After Download**</span></span>|<span data-ttu-id="93582-215">指定下载后适配器是否从 FTP 服务器中删除文件。</span><span class="sxs-lookup"><span data-stu-id="93582-215">Specify whether the adapter deletes a file from the FTP server after downloading it.</span></span><br /><br /> <span data-ttu-id="93582-216">**默认值：** 是**注意：**</span><span class="sxs-lookup"><span data-stu-id="93582-216">**Default value:** Yes **Note:**</span></span>|  
   |<span data-ttu-id="93582-217">**启用时间戳比较**</span><span class="sxs-lookup"><span data-stu-id="93582-217">**Enable Timestamp Comparison**</span></span>|<span data-ttu-id="93582-218">指定适配器是否根据其修改后的时间戳再次下载文件。</span><span class="sxs-lookup"><span data-stu-id="93582-218">Specify whether the adapter downloads a file again based on its modified timestamp.</span></span> <span data-ttu-id="93582-219">在情况下，适配器在 FTP 服务器上，没有删除权限时 MDTM （修改时间） 命令允许适配器了解自上次下载以来是否已修改一个文件。</span><span class="sxs-lookup"><span data-stu-id="93582-219">In cases when the adapter does not have delete permissions on the FTP server, the MDTM (Modification Time) command allows the adapter to know whether a file has been modified since last download.</span></span>  <span data-ttu-id="93582-220">根据此属性的值，再次下载该文件。</span><span class="sxs-lookup"><span data-stu-id="93582-220">Based on the value of this property, the file is downloaded again.</span></span><br /><br /> <span data-ttu-id="93582-221">**默认值：** 否**注意**： 如果 FTP 服务器不支持 MDTM，设置**重新下载时间间隔**属性。</span><span class="sxs-lookup"><span data-stu-id="93582-221">**Default value:** No **Note**:  In case the FTP server does not support MDTM, set the **Redownload Interval** property.</span></span> <span data-ttu-id="93582-222">**注意：** 此属性是仅在**下载后删除**设置为 no。</span><span class="sxs-lookup"><span data-stu-id="93582-222">**Note:**  This property is applicable only when **Delete After Download** is set to No.</span></span>|  
   |<span data-ttu-id="93582-223">**时间间隔**</span><span class="sxs-lookup"><span data-stu-id="93582-223">**Interval**</span></span>|<span data-ttu-id="93582-224">指定轮询此位置的时间间隔。</span><span class="sxs-lookup"><span data-stu-id="93582-224">Specify the interval number for polling this location.</span></span> <span data-ttu-id="93582-225">若要连续轮询，请设置此值为零 (0)。</span><span class="sxs-lookup"><span data-stu-id="93582-225">To poll continuously, set this value to zero (0).</span></span><br /><br /> <span data-ttu-id="93582-226">**默认值：** 60</span><span class="sxs-lookup"><span data-stu-id="93582-226">**Default value:** 60</span></span>|  
   |<span data-ttu-id="93582-227">**重新下载时间间隔**</span><span class="sxs-lookup"><span data-stu-id="93582-227">**Redownload Interval**</span></span>|<span data-ttu-id="93582-228">指定在其后适配器再次下载文件的时间间隔。</span><span class="sxs-lookup"><span data-stu-id="93582-228">Specify the interval after which the adapter downloads files again.</span></span> <span data-ttu-id="93582-229">此属性是仅在同时**下载后删除**并**启用时间戳比较**设置为 no。</span><span class="sxs-lookup"><span data-stu-id="93582-229">This property is applicable only when both **Delete After Download** and **Enable Timestamp Comparison** are set to No.</span></span><br /><br /> <span data-ttu-id="93582-230">**默认值：** -1</span><span class="sxs-lookup"><span data-stu-id="93582-230">**Default value:** -1</span></span><br /><br /> <span data-ttu-id="93582-231">-1 指示该适配器将再次下载文件。</span><span class="sxs-lookup"><span data-stu-id="93582-231">-1 indicates that the adapter will not download files again.</span></span><br /><br /> <span data-ttu-id="93582-232">0 表示适配器将在每个轮询周期中下载该文件。</span><span class="sxs-lookup"><span data-stu-id="93582-232">0 indicates that the adapter will download the file in each polling cycle.</span></span>|  
   |<span data-ttu-id="93582-233">**单元**</span><span class="sxs-lookup"><span data-stu-id="93582-233">**Unit**</span></span>|<span data-ttu-id="93582-234">指定的单位类型**间隔**并**重新下载时间间隔**属性。</span><span class="sxs-lookup"><span data-stu-id="93582-234">Specify the type of units for the **Interval** and **Redownload Interval** properties.</span></span><br /><br /> <span data-ttu-id="93582-235">**有效值：** 秒、 分钟、 小时和天</span><span class="sxs-lookup"><span data-stu-id="93582-235">**Valid values:** Seconds, Minutes, Hours, and Days</span></span><br /><br /> <span data-ttu-id="93582-236">**默认值：** 秒</span><span class="sxs-lookup"><span data-stu-id="93582-236">**Default value:** Seconds</span></span>|  

   <span data-ttu-id="93582-237">**SSL**</span><span class="sxs-lookup"><span data-stu-id="93582-237">**SSL**</span></span>

   |<span data-ttu-id="93582-238">使用此选项</span><span class="sxs-lookup"><span data-stu-id="93582-238">Use this</span></span>|<span data-ttu-id="93582-239">执行的操作</span><span class="sxs-lookup"><span data-stu-id="93582-239">To do this</span></span>|  
   |--------------|----------------|
   |<span data-ttu-id="93582-240">**客户端证书哈希**</span><span class="sxs-lookup"><span data-stu-id="93582-240">**Client Certificate Hash**</span></span>|<span data-ttu-id="93582-241">指定安全套接字层 (SSL) 协商中必须使用的客户端证书的 SHA1 哈希。</span><span class="sxs-lookup"><span data-stu-id="93582-241">Specify the SHA1 hash of the client certificate that must be used in the Secure Sockets Layer (SSL) negotiation.</span></span><br /><br /> <span data-ttu-id="93582-242">基于此哈希，从运行 BizTalk 主机实例的用户帐户的个人存储中提取客户端证书。</span><span class="sxs-lookup"><span data-stu-id="93582-242">Based on this hash, the client certificate is picked up from the personal store of the user account under which the BizTalk host instance is running.</span></span>|  
   |<span data-ttu-id="93582-243">**FTPS 连接模式**</span><span class="sxs-lookup"><span data-stu-id="93582-243">**FTPS Connection Mode**</span></span>|<span data-ttu-id="93582-244">指定到 FTPS 服务器的 SSL 连接模式。</span><span class="sxs-lookup"><span data-stu-id="93582-244">Specify the mode of SSL connection made to the FTPS server.</span></span><br /><br /> <span data-ttu-id="93582-245">**有效值：** 隐式或显式</span><span class="sxs-lookup"><span data-stu-id="93582-245">**Valid Values:** Implicit or Explicit</span></span><br /><br /> <span data-ttu-id="93582-246">**默认值：** 显式</span><span class="sxs-lookup"><span data-stu-id="93582-246">**Default Value:** Explicit</span></span>|  
   |<span data-ttu-id="93582-247">**使用数据保护**</span><span class="sxs-lookup"><span data-stu-id="93582-247">**Use Data Protection**</span></span>|<span data-ttu-id="93582-248">如果适配器在从 FTPS 服务器发送和接收数据文件时必须使用 SSL 加密，则将此值指定为“是”。</span><span class="sxs-lookup"><span data-stu-id="93582-248">Specify this as Yes if the adapter must use SSL encryption when it sends and receives data files from the FTPS server.</span></span> <span data-ttu-id="93582-249">如果适配器发送和接收纯文本的数据文件，则将此指定为“否”。</span><span class="sxs-lookup"><span data-stu-id="93582-249">Specify this as No for the adapter to send and receive data files as plaintext.</span></span> <span data-ttu-id="93582-250">**注意：** 此属性才适用才**使用 SSL**属性设置为是。</span><span class="sxs-lookup"><span data-stu-id="93582-250">**Note:**  This property is applicable only if the **Use SSL** property is set to Yes.</span></span> <br /><br /> <span data-ttu-id="93582-251">**有效值：** Yes 或 No</span><span class="sxs-lookup"><span data-stu-id="93582-251">**Valid Values:** Yes or No</span></span><br /><br /> <span data-ttu-id="93582-252">**默认值：** 是</span><span class="sxs-lookup"><span data-stu-id="93582-252">**Default Value:** Yes</span></span>|  
   |<span data-ttu-id="93582-253">**使用 SSL**</span><span class="sxs-lookup"><span data-stu-id="93582-253">**Use SSL**</span></span>|<span data-ttu-id="93582-254">指定 FTP 适配器是否必须使用 SSL 与 FTPS 服务器通信。</span><span class="sxs-lookup"><span data-stu-id="93582-254">Specify whether the FTP adapter must use SSL to communicate with the FTPS server.</span></span><br /><br /> <span data-ttu-id="93582-255">**有效值：** Yes 或 No</span><span class="sxs-lookup"><span data-stu-id="93582-255">**Valid Values:** Yes or No</span></span><br /><br /> <span data-ttu-id="93582-256">**默认值：** 否</span><span class="sxs-lookup"><span data-stu-id="93582-256">**Default Value:** No</span></span>|  

   <span data-ttu-id="93582-257">**优化参数**</span><span class="sxs-lookup"><span data-stu-id="93582-257">**Tuning Parameters**</span></span>


   |         <span data-ttu-id="93582-258">使用此选项</span><span class="sxs-lookup"><span data-stu-id="93582-258">Use this</span></span>         | <span data-ttu-id="93582-259">执行的操作</span><span class="sxs-lookup"><span data-stu-id="93582-259">To do this</span></span>  |
   |---|---|
   | <span data-ttu-id="93582-260">**接收数据超时**</span><span class="sxs-lookup"><span data-stu-id="93582-260">**Receive Data Timeout**</span></span> | <span data-ttu-id="93582-261">指定接收调用将中止之前的时间（以毫秒为单位）。</span><span class="sxs-lookup"><span data-stu-id="93582-261">Specify the time in milliseconds before the receive call will abort.</span></span> <span data-ttu-id="93582-262">此属性用于防止缓慢服务器造成接收位置停止响应。</span><span class="sxs-lookup"><span data-stu-id="93582-262">You use this property to prevent a slow server from causing the receive location to stop responding.</span></span><br /><br /> <span data-ttu-id="93582-263">**默认值：** 90000</span><span class="sxs-lookup"><span data-stu-id="93582-263">**Default value:** 90000</span></span> |
   |   <span data-ttu-id="93582-264">**临时文件夹**</span><span class="sxs-lookup"><span data-stu-id="93582-264">**Temporary Folder**</span></span>   |  <span data-ttu-id="93582-265">指定临时文件夹的位置。</span><span class="sxs-lookup"><span data-stu-id="93582-265">Specify the location for a temporary folder.</span></span> <span data-ttu-id="93582-266">可以使用此位置确保能够从传输失败中恢复。</span><span class="sxs-lookup"><span data-stu-id="93582-266">You use this location to guarantee recovery from a transfer failure.</span></span>                                                |


6. <span data-ttu-id="93582-267">单击**确定**以保存设置。</span><span class="sxs-lookup"><span data-stu-id="93582-267">Click **OK** to save settings.</span></span>  

7. <span data-ttu-id="93582-268">在中**接收位置属性**对话框框中，输入适当的值以完成对接收位置的配置，然后单击**确定**以保存设置。</span><span class="sxs-lookup"><span data-stu-id="93582-268">In the **Receive Location Properties** dialog box, enter the appropriate values to complete the configuration of the receive location and then click **OK** to save settings.</span></span> <span data-ttu-id="93582-269">璝惠**接收位置属性**对话框中，请参阅[如何创建接收位置](../core/how-to-create-a-receive-location.md)。</span><span class="sxs-lookup"><span data-stu-id="93582-269">For information about the **Receive Locations Properties** dialog box, see [How to Create a Receive Location](../core/how-to-create-a-receive-location.md).</span></span>  

> [!NOTE]
>  <span data-ttu-id="93582-270">不要将多个 FTP 接收位置配置为轮询同一 FTP URL。</span><span class="sxs-lookup"><span data-stu-id="93582-270">Do not configure multiple FTP receive locations to poll the same FTP URL.</span></span> <span data-ttu-id="93582-271">如果多个 FTP 接收位置同时轮询同一 URL，则每个接收位置都可以接收该文件的副本，而这将会导致数据重复。</span><span class="sxs-lookup"><span data-stu-id="93582-271">If multiple FTP receive locations are polling the same URL concurrently then each receive location can receive a copy of the file, which can cause data duplication.</span></span> <span data-ttu-id="93582-272">由于 FTP 协议在从目标 URL 中读取文件时无法将其锁定，因此会发生这种情况。</span><span class="sxs-lookup"><span data-stu-id="93582-272">This behavior occurs because the FTP protocol has no provision for locking files when reading them from the target URL.</span></span>  
>   
>  <span data-ttu-id="93582-273">若要确保高可用性，ftp 接收适配器，应配置 FTP 接收适配器运行在群集 BizTalk 主机实例中。</span><span class="sxs-lookup"><span data-stu-id="93582-273">To provide high availability for the FTP receive adapter, you should configure the FTP receive adapter to run in a clustered BizTalk Host instance.</span></span> <span data-ttu-id="93582-274">请参阅[运行在群集主机内的适配器处理程序的注意事项](../core/considerations-for-running-adapter-handlers-within-a-clustered-host1.md)。</span><span class="sxs-lookup"><span data-stu-id="93582-274">See [Considerations for Running Adapter Handlers within a Clustered Host](../core/considerations-for-running-adapter-handlers-within-a-clustered-host1.md).</span></span>  

## <a name="configure-the-send-port"></a><span data-ttu-id="93582-275">配置发送端口</span><span class="sxs-lookup"><span data-stu-id="93582-275">Configure the send port</span></span>

<span data-ttu-id="93582-276">在 BizTalk Server 管理控制台中，可以设置 FTP 发送端口适配器属性。</span><span class="sxs-lookup"><span data-stu-id="93582-276">You can set FTP send port adapter properties in the BizTalk Server Administration console.</span></span> <span data-ttu-id="93582-277">如果没有为发送端口设置属性的默认发送处理程序将使用 BizTalk Server 管理控制台中的值。</span><span class="sxs-lookup"><span data-stu-id="93582-277">If properties are not set for the send port, the default send handler values in the BizTalk Server Administration console are used.</span></span>  

1. <span data-ttu-id="93582-278">在 BizTalk Server 管理控制台中，创建新的发送端口或双击某个现有发送端口以对其进行修改。</span><span class="sxs-lookup"><span data-stu-id="93582-278">In the BizTalk Server Administration console, create a new send port or double-click an existing send port to modify it.</span></span> <span data-ttu-id="93582-279">请参阅[如何创建发送端口](../core/how-to-create-a-send-port2.md)。</span><span class="sxs-lookup"><span data-stu-id="93582-279">See [How to Create a Send Port](../core/how-to-create-a-send-port2.md).</span></span> <span data-ttu-id="93582-280">配置所有发送端口选项，然后在**传输**一部分**常规**页上，指定**FTP**有关**类型**选项。</span><span class="sxs-lookup"><span data-stu-id="93582-280">Configure all of the send port options, and in the **Transport** section of the **General** page, specify **FTP** for the **Type** option.</span></span>  

2. <span data-ttu-id="93582-281">上**常规**页上，在**传输**部分中，单击**配置**旁边**类型**。</span><span class="sxs-lookup"><span data-stu-id="93582-281">On the **General** page, in the **Transport** section, click the **Configure** button next to **Type**.</span></span>  

3. <span data-ttu-id="93582-282">在中**FTP 传输属性**，执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="93582-282">In **FTP Transport Properties**, do the following:</span></span>  

   <span data-ttu-id="93582-283">**防火墙**</span><span class="sxs-lookup"><span data-stu-id="93582-283">**Firewall**</span></span>

   |<span data-ttu-id="93582-284">使用此选项</span><span class="sxs-lookup"><span data-stu-id="93582-284">Use this</span></span>|<span data-ttu-id="93582-285">执行的操作</span><span class="sxs-lookup"><span data-stu-id="93582-285">To do this</span></span>|  
   |--------------|----------------|    
   |<span data-ttu-id="93582-286">**Address**</span><span class="sxs-lookup"><span data-stu-id="93582-286">**Address**</span></span>|<span data-ttu-id="93582-287">指定的 DNS 名称或 IP 地址的防火墙的地址。</span><span class="sxs-lookup"><span data-stu-id="93582-287">Specify the address of the firewall, either a DNS name or an IP address.</span></span>|  
   |<span data-ttu-id="93582-288">**模式**</span><span class="sxs-lookup"><span data-stu-id="93582-288">**Mode**</span></span>|<span data-ttu-id="93582-289">选择适配器连接到 FTP 服务器的模式。</span><span class="sxs-lookup"><span data-stu-id="93582-289">Select the mode in which the adapter connects to the FTP server.</span></span><br /><br /> <span data-ttu-id="93582-290">**有效值：** 被动和主动</span><span class="sxs-lookup"><span data-stu-id="93582-290">**Valid values:** Passive and Active</span></span><br /><br /> <span data-ttu-id="93582-291">在主动模式中，FTP 服务器连接到由 FTP 适配器打开的端口。</span><span class="sxs-lookup"><span data-stu-id="93582-291">In active mode, the FTP server connects to a port opened by the FTP adapter.</span></span> <span data-ttu-id="93582-292">在被动模式中，FTP 适配器连接到由 FTP 服务器打开的端口。</span><span class="sxs-lookup"><span data-stu-id="93582-292">In passive mode, the FTP adapter connects to a port opened by the FTP server.</span></span> <span data-ttu-id="93582-293">如果使用内部 IP 和连接到外部 IP，主动模式可能无法工作。</span><span class="sxs-lookup"><span data-stu-id="93582-293">Active mode may not work if you use an internal IP and you connect to an external IP.</span></span> <span data-ttu-id="93582-294">在这种情况下，需要使用具有 FTP 支持的应用程序层网关 (ALG) 使用被动模式或主动模式。</span><span class="sxs-lookup"><span data-stu-id="93582-294">In this case, you need to use Passive mode or Active mode with an application-layer gateway (ALG) with FTP support.</span></span><br /><br /> <span data-ttu-id="93582-295">**默认值：** Active</span><span class="sxs-lookup"><span data-stu-id="93582-295">**Default value:** Active</span></span>|  
   |<span data-ttu-id="93582-296">**密码**</span><span class="sxs-lookup"><span data-stu-id="93582-296">**Password**</span></span>|<span data-ttu-id="93582-297">指定防火墙的密码。</span><span class="sxs-lookup"><span data-stu-id="93582-297">Specify the password for the firewall.</span></span>|  
   |<span data-ttu-id="93582-298">**端口**</span><span class="sxs-lookup"><span data-stu-id="93582-298">**Port**</span></span>|<span data-ttu-id="93582-299">指定防火墙的端口。</span><span class="sxs-lookup"><span data-stu-id="93582-299">Specify the port for the firewall.</span></span><br /><br /> <span data-ttu-id="93582-300">**有效值：** 1 到 65535 （含)</span><span class="sxs-lookup"><span data-stu-id="93582-300">**Valid values:** 1 through 65535 inclusively</span></span><br /><br /> <span data-ttu-id="93582-301">**默认值：** 21</span><span class="sxs-lookup"><span data-stu-id="93582-301">**Default value:** 21</span></span>|  
   |<span data-ttu-id="93582-302">**类型**</span><span class="sxs-lookup"><span data-stu-id="93582-302">**Type**</span></span>|<span data-ttu-id="93582-303">选择部署的防火墙的类型。</span><span class="sxs-lookup"><span data-stu-id="93582-303">Select the type of firewall deployed.</span></span><br /><br /> <span data-ttu-id="93582-304">**有效值：** Socks 4、 Socks 5、 无</span><span class="sxs-lookup"><span data-stu-id="93582-304">**Valid values:** Socks 4, Socks 5, None</span></span><br /><br /> <span data-ttu-id="93582-305">**默认值：** None</span><span class="sxs-lookup"><span data-stu-id="93582-305">**Default value:** None</span></span>|  
   |<span data-ttu-id="93582-306">**用户**</span><span class="sxs-lookup"><span data-stu-id="93582-306">**User**</span></span>|<span data-ttu-id="93582-307">指定防火墙的用户名。</span><span class="sxs-lookup"><span data-stu-id="93582-307">Specify the user name for the firewall.</span></span>|  

   <span data-ttu-id="93582-308">**FTP**</span><span class="sxs-lookup"><span data-stu-id="93582-308">**FTP**</span></span>


   |       <span data-ttu-id="93582-309">使用此选项</span><span class="sxs-lookup"><span data-stu-id="93582-309">Use this</span></span>       | <span data-ttu-id="93582-310">执行的操作</span><span class="sxs-lookup"><span data-stu-id="93582-310">To do this</span></span> |
   |---|---|
   |     <span data-ttu-id="93582-311">**帐户**</span><span class="sxs-lookup"><span data-stu-id="93582-311">**Account**</span></span>      |  <span data-ttu-id="93582-312">可选。</span><span class="sxs-lookup"><span data-stu-id="93582-312">Optional.</span></span> <span data-ttu-id="93582-313">指定 FTP 服务器的帐户名。</span><span class="sxs-lookup"><span data-stu-id="93582-313">Specify the account name for the FTP server.</span></span> <span data-ttu-id="93582-314">不赞成使用此选项，建议不要使用此属性。</span><span class="sxs-lookup"><span data-stu-id="93582-314">This option is and use of this property is discouraged.</span></span> |
   |    <span data-ttu-id="93582-315">**Put 后**</span><span class="sxs-lookup"><span data-stu-id="93582-315">**After Put**</span></span>     |  <span data-ttu-id="93582-316">指定在 PUT 文件后要运行的 FTP 命令。</span><span class="sxs-lookup"><span data-stu-id="93582-316">Specify the FTP commands to run after the file PUT.</span></span> <span data-ttu-id="93582-317">用分号 (;) 分隔命令。</span><span class="sxs-lookup"><span data-stu-id="93582-317">Separate commands with a semicolon (;).</span></span>  |
   | <span data-ttu-id="93582-318">**将存储分配**</span><span class="sxs-lookup"><span data-stu-id="93582-318">**Allocate Storage**</span></span> |  <span data-ttu-id="93582-319">指定是否为旧式主机系统分配存储空间。</span><span class="sxs-lookup"><span data-stu-id="93582-319">Specify whether to allocate storage space for legacy host systems.</span></span> <span data-ttu-id="93582-320">此属性可以向后兼容。</span><span class="sxs-lookup"><span data-stu-id="93582-320">This option is provided for backward compatibility.</span></span><br /><br /> <span data-ttu-id="93582-321">**有效值：** 否是</span><span class="sxs-lookup"><span data-stu-id="93582-321">**Valid values:** No and Yes</span></span><br /><br /> <span data-ttu-id="93582-322">**默认值：** 否</span><span class="sxs-lookup"><span data-stu-id="93582-322">**Default value:** No</span></span>  |
   |    <span data-ttu-id="93582-323">**Put 前**</span><span class="sxs-lookup"><span data-stu-id="93582-323">**Before Put**</span></span>    |  <span data-ttu-id="93582-324">指定在 PUT 文件之前要运行的 FTP 命令，例如，用于在 FTP 服务器上更改默认值的命令。</span><span class="sxs-lookup"><span data-stu-id="93582-324">Specify the FTP commands to run before the file PUT, such as commands to change default values on the FTP server.</span></span> <span data-ttu-id="93582-325">用分号 (;) 分隔命令。</span><span class="sxs-lookup"><span data-stu-id="93582-325">Separate commands with a semicolon (;).</span></span> <span data-ttu-id="93582-326">不需要 open 命令。</span><span class="sxs-lookup"><span data-stu-id="93582-326">No open command is required.</span></span> <span data-ttu-id="93582-327">**注意：** PUT 文件之前不支持 QUIT 命令。</span><span class="sxs-lookup"><span data-stu-id="93582-327">**Note:**  QUIT command is not supported before the file PUT.</span></span>  |
   |      <span data-ttu-id="93582-328">**文件夹**</span><span class="sxs-lookup"><span data-stu-id="93582-328">**Folder**</span></span>      |  <span data-ttu-id="93582-329">指定将文件移至 FTP 服务器上的位置。</span><span class="sxs-lookup"><span data-stu-id="93582-329">Specify the location to move the files to on the FTP server.</span></span> |
   | <span data-ttu-id="93582-330">**FTP 服务器类型**</span><span class="sxs-lookup"><span data-stu-id="93582-330">**FTP Server Type**</span></span>  | <span data-ttu-id="93582-331">新开始[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="93582-331">New starting with [!INCLUDE[bts2016_md](../includes/bts2016-md.md)].</span></span> <br/><br/><span data-ttu-id="93582-332">此属性用于选择不需要 SYST 命令的 FTP 服务器。</span><span class="sxs-lookup"><span data-stu-id="93582-332">Use this property to choose an FTP server that does not require the SYST command.</span></span> <span data-ttu-id="93582-333">选项为 None、 AIX、 检测、 GXS，MVS，OS400，和其他。</span><span class="sxs-lookup"><span data-stu-id="93582-333">Options are None, AIX, Detect, GXS, MVS, OS400, and Other.</span></span> <br/><br/><span data-ttu-id="93582-334">如果设置为**None**，使用 SYST 命令。</span><span class="sxs-lookup"><span data-stu-id="93582-334">If set to **None**, the SYST command is used.</span></span> <span data-ttu-id="93582-335">**其他**时的 OS 类型不适合任何指定的类别的使用。</span><span class="sxs-lookup"><span data-stu-id="93582-335">**Other** is used when the OS type does not fit into any of the specified categories.</span></span> <br /><br /> <span data-ttu-id="93582-336">**默认值：** None</span><span class="sxs-lookup"><span data-stu-id="93582-336">**Default value:** None</span></span> |
   |       <span data-ttu-id="93582-337">**日志**</span><span class="sxs-lookup"><span data-stu-id="93582-337">**Log**</span></span>        |  <span data-ttu-id="93582-338">指定保存日志文件副本的位置。</span><span class="sxs-lookup"><span data-stu-id="93582-338">Specify the location to save a copy of a log file.</span></span> <span data-ttu-id="93582-339">此文件用于在通过 FTP 适配器发送或接收文件时诊断错误情况。</span><span class="sxs-lookup"><span data-stu-id="93582-339">Use this file to diagnose error conditions when sending or receiving files through FTP adapter.</span></span>    |
   |     <span data-ttu-id="93582-340">**密码**</span><span class="sxs-lookup"><span data-stu-id="93582-340">**Password**</span></span>     |  <span data-ttu-id="93582-341">指定登录 FTP 服务器所用的密码。</span><span class="sxs-lookup"><span data-stu-id="93582-341">Specify the password to log on to the FTP server.</span></span> |
   |       <span data-ttu-id="93582-342">**端口**</span><span class="sxs-lookup"><span data-stu-id="93582-342">**Port**</span></span>       | <span data-ttu-id="93582-343">指定 FTP 服务器的端口地址。</span><span class="sxs-lookup"><span data-stu-id="93582-343">Specify the port address for the FTP server.</span></span><br /><br /> <span data-ttu-id="93582-344">**默认值：** 21</span><span class="sxs-lookup"><span data-stu-id="93582-344">**Default value:** 21</span></span>  |
   |  <span data-ttu-id="93582-345">**表示形式**</span><span class="sxs-lookup"><span data-stu-id="93582-345">**Representation**</span></span>  | <span data-ttu-id="93582-346">选择 FTP 适配器如何发送数据，“二进制”还是“ASCII”。</span><span class="sxs-lookup"><span data-stu-id="93582-346">Select how FTP adapter sends the data, either as binary or as ASCII.</span></span><br /><br /> <span data-ttu-id="93582-347">**有效值：** 二进制或 ASCII</span><span class="sxs-lookup"><span data-stu-id="93582-347">**Valid values:** binary or ASCII</span></span><br /><br /> <span data-ttu-id="93582-348">**默认值：** 二进制</span><span class="sxs-lookup"><span data-stu-id="93582-348">**Default value:** binary</span></span>   |
   |      <span data-ttu-id="93582-349">**Server**</span><span class="sxs-lookup"><span data-stu-id="93582-349">**Server**</span></span>      |  <span data-ttu-id="93582-350">指定 FTP 服务器的服务器名称或 IP 地址。</span><span class="sxs-lookup"><span data-stu-id="93582-350">Specify the server name or IP address of the FTP server.</span></span>  |
   |  <span data-ttu-id="93582-351">**SSO 关联**</span><span class="sxs-lookup"><span data-stu-id="93582-351">**SSO Affiliate**</span></span>   |  <span data-ttu-id="93582-352">指定企业单一登录关联应用程序。</span><span class="sxs-lookup"><span data-stu-id="93582-352">Specify the Enterprise Single Sign-On affiliate application.</span></span> |
   | <span data-ttu-id="93582-353">**目标文件名**</span><span class="sxs-lookup"><span data-stu-id="93582-353">**Target File Name**</span></span> |  <span data-ttu-id="93582-354">指定文件的替换名称。</span><span class="sxs-lookup"><span data-stu-id="93582-354">Specify an alternative name for the file.</span></span> <span data-ttu-id="93582-355">保留默认名称可保证每个发送消息的唯一消息名称。</span><span class="sxs-lookup"><span data-stu-id="93582-355">Retaining the default name guarantees unique message names for each message sent.</span></span><br /><br /> <span data-ttu-id="93582-356">**默认值：** %MessageID%.xml</span><span class="sxs-lookup"><span data-stu-id="93582-356">**Default value:** %MessageID%.xml</span></span>  |
   |    <span data-ttu-id="93582-357">**用户名**</span><span class="sxs-lookup"><span data-stu-id="93582-357">**User Name**</span></span>     |  <span data-ttu-id="93582-358">指定登录 FTP 服务器所用的用户名。</span><span class="sxs-lookup"><span data-stu-id="93582-358">Specify the user name to log on to the FTP server.</span></span> |

   <span data-ttu-id="93582-359">**SSL**</span><span class="sxs-lookup"><span data-stu-id="93582-359">**SSL**</span></span>

   |<span data-ttu-id="93582-360">使用此选项</span><span class="sxs-lookup"><span data-stu-id="93582-360">Use this</span></span>|<span data-ttu-id="93582-361">执行的操作</span><span class="sxs-lookup"><span data-stu-id="93582-361">To do this</span></span>|  
   |--------------|----------------|
   |<span data-ttu-id="93582-362">**客户端证书哈希**</span><span class="sxs-lookup"><span data-stu-id="93582-362">**Client Certificate Hash**</span></span>|<span data-ttu-id="93582-363">指定安全套接字层 (SSL) 协商中必须使用的客户端证书的 SHA1 哈希。</span><span class="sxs-lookup"><span data-stu-id="93582-363">Specify the SHA1 hash of the client certificate that must be used in the Secure Sockets Layer (SSL) negotiation.</span></span><br /><br /> <span data-ttu-id="93582-364">基于此哈希，从运行 BizTalk 主机实例的用户帐户的个人存储中提取客户端证书。</span><span class="sxs-lookup"><span data-stu-id="93582-364">Based on this hash, the client certificate is picked up from the personal store of the user account under which the BizTalk host instance is running.</span></span>|  
   |<span data-ttu-id="93582-365">**FTPS 连接模式**</span><span class="sxs-lookup"><span data-stu-id="93582-365">**FTPS Connection Mode**</span></span>|<span data-ttu-id="93582-366">指定到 FTPS 服务器的 SSL 连接模式。</span><span class="sxs-lookup"><span data-stu-id="93582-366">Specify the mode of SSL connection made to the FTPS server.</span></span><br /><br /> <span data-ttu-id="93582-367">**有效值：** 隐式或显式</span><span class="sxs-lookup"><span data-stu-id="93582-367">**Valid values:** Implicit or Explicit</span></span><br /><br /> <span data-ttu-id="93582-368">**默认值：** Explicit</span><span class="sxs-lookup"><span data-stu-id="93582-368">**Default value:** Explicit</span></span>|  
   |<span data-ttu-id="93582-369">**使用数据保护**</span><span class="sxs-lookup"><span data-stu-id="93582-369">**Use Data Protection**</span></span>|<span data-ttu-id="93582-370">如果适配器在从 FTPS 服务器发送和接收数据文件时必须使用 SSL 加密，则将此值指定为“是”。</span><span class="sxs-lookup"><span data-stu-id="93582-370">Specify this as Yes if the adapter must use SSL encryption when it sends and receives data files from the FTPS server.</span></span> <span data-ttu-id="93582-371">如果适配器发送和接收纯文本的数据文件，则将此指定为“否”。</span><span class="sxs-lookup"><span data-stu-id="93582-371">Specify this as No for the adapter to send and receive data files as plaintext.</span></span> <span data-ttu-id="93582-372">**注意：** 此属性才适用才**使用 SSL**属性设置为是。</span><span class="sxs-lookup"><span data-stu-id="93582-372">**Note:**  This property is applicable only if the **Use SSL** property is set to Yes.</span></span> <br /><br /> <span data-ttu-id="93582-373">**有效值：** Yes 或 No</span><span class="sxs-lookup"><span data-stu-id="93582-373">**Valid values:** Yes or No</span></span><br /><br /> <span data-ttu-id="93582-374">**默认值：** 是</span><span class="sxs-lookup"><span data-stu-id="93582-374">**Default value:** Yes</span></span>|  
   |<span data-ttu-id="93582-375">**使用 SSL**</span><span class="sxs-lookup"><span data-stu-id="93582-375">**Use SSL**</span></span>|<span data-ttu-id="93582-376">指定 FTP 适配器是否必须使用 SSL 与 FTPS 服务器通信。</span><span class="sxs-lookup"><span data-stu-id="93582-376">Specify whether the FTP adapter must use SSL to communicate with the FTPS server.</span></span><br /><br /> <span data-ttu-id="93582-377">**有效值：** Yes 或 No</span><span class="sxs-lookup"><span data-stu-id="93582-377">**Valid values:** Yes or No</span></span><br /><br /> <span data-ttu-id="93582-378">**默认值：** 否</span><span class="sxs-lookup"><span data-stu-id="93582-378">**Default value:** No</span></span>|  

   <span data-ttu-id="93582-379">**优化参数**</span><span class="sxs-lookup"><span data-stu-id="93582-379">**Tuning Parameters**</span></span>


   |       <span data-ttu-id="93582-380">使用此选项</span><span class="sxs-lookup"><span data-stu-id="93582-380">Use this</span></span>       | <span data-ttu-id="93582-381">执行的操作</span><span class="sxs-lookup"><span data-stu-id="93582-381">To do this</span></span>  |
   |---|---|
   | <span data-ttu-id="93582-382">**连接限制**</span><span class="sxs-lookup"><span data-stu-id="93582-382">**Connection Limit**</span></span> | <span data-ttu-id="93582-383">指定服务器允许的并行打开的最大 FTP 连接数。</span><span class="sxs-lookup"><span data-stu-id="93582-383">Specify the maximum number of concurrent FTP connections that can be opened to the server.</span></span> <span data-ttu-id="93582-384">0 表示无限制。</span><span class="sxs-lookup"><span data-stu-id="93582-384">A value of 0 means no limit.</span></span><br /><br /> <span data-ttu-id="93582-385">**默认值：** 0**注意：** 此属性替换在早期版本的 BizTalk Server 中用于控制连接限制的注册表项。</span><span class="sxs-lookup"><span data-stu-id="93582-385">**Default value:** 0 **Note:**  This property replaces the registry entry that was used in earlier versions of BizTalk Server to govern the connection limit.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] <span data-ttu-id="93582-386">将忽略用于控制连接限制的注册表项。</span><span class="sxs-lookup"><span data-stu-id="93582-386"> ignores the registry entry used to control the connection limit.</span></span> |
   | <span data-ttu-id="93582-387">**临时文件夹**</span><span class="sxs-lookup"><span data-stu-id="93582-387">**Temporary Folder**</span></span> |      <span data-ttu-id="93582-388">指定 FTP 服务器上的临时文件夹的位置。</span><span class="sxs-lookup"><span data-stu-id="93582-388">Specify the location for a temporary folder on the FTP server.</span></span> <span data-ttu-id="93582-389">在此处第一次上载文件，然后将其移动到目标 FTP 文件夹。</span><span class="sxs-lookup"><span data-stu-id="93582-389">The file is first uploaded here and then moved to the destination FTP folder.</span></span> <span data-ttu-id="93582-390">如果传输失败，适配器将以 ASCII 传输模式重新开始文件上载，并以二进制传输模式恢复。</span><span class="sxs-lookup"><span data-stu-id="93582-390">In case of transfer failure, the adapter restarts the file upload in ASCII mode of transfer and resumes in binary mode of transfer.</span></span> <span data-ttu-id="93582-391">**注意：** 文件传输是原子的临时位置与 FTP 服务器上的相关位置之间，则文件上载也是原子。</span><span class="sxs-lookup"><span data-stu-id="93582-391">**Note:**  If the file transfer is atomic between the temporary location and the relevant location on the FTP server, then the file upload is also atomic.</span></span>      |

4. <span data-ttu-id="93582-392">单击**确定**并**确定**次以保存设置。</span><span class="sxs-lookup"><span data-stu-id="93582-392">Click **OK** and **OK** again to save settings.</span></span>   


## <a name="ftp-commands-required-by-the-ftp-adapter"></a><span data-ttu-id="93582-393">FTP 适配器所必需的 FTP 命令</span><span class="sxs-lookup"><span data-stu-id="93582-393">FTP commands required by the FTP adapter</span></span>  
<span data-ttu-id="93582-394">FTP 适配器受 FTP 协议的限制，并需要某些 FTP 命令在源或目标 FTP 服务器上可用。</span><span class="sxs-lookup"><span data-stu-id="93582-394">The FTP adapter is subject to the limitations of the FTP protocol, and requires that certain FTP commands are available on the source or destination FTP Server.</span></span>  

<span data-ttu-id="93582-395">FTP 适配器以 FTP 客户端工作，可能需要正常运行的 FTP 服务器上有下列命令：</span><span class="sxs-lookup"><span data-stu-id="93582-395">The FTP adapter operates as an FTP client and may require that the following commands are available on the FTP server to function correctly:</span></span> 


| <span data-ttu-id="93582-396">Command</span><span class="sxs-lookup"><span data-stu-id="93582-396">Command</span></span>  |  <span data-ttu-id="93582-397">所需接收</span><span class="sxs-lookup"><span data-stu-id="93582-397">Required by Receive</span></span>  |  <span data-ttu-id="93582-398">所需的发送</span><span class="sxs-lookup"><span data-stu-id="93582-398">Required by Send</span></span>  |
|---|---|---|
|   <span data-ttu-id="93582-399">SYST</span><span class="sxs-lookup"><span data-stu-id="93582-399">SYST</span></span>   | <span data-ttu-id="93582-400">✔</span><span class="sxs-lookup"><span data-stu-id="93582-400">✔</span></span> <br/><br/><span data-ttu-id="93582-401">可选开头 [!INCLUDE[bts2016_md](../includes/bts2016-md.md)]</span><span class="sxs-lookup"><span data-stu-id="93582-401">Optional starting with [!INCLUDE[bts2016_md](../includes/bts2016-md.md)]</span></span> | <span data-ttu-id="93582-402">✔</span><span class="sxs-lookup"><span data-stu-id="93582-402">✔</span></span><br/><br/><span data-ttu-id="93582-403">可选开头 [!INCLUDE[bts2016_md](../includes/bts2016-md.md)]</span><span class="sxs-lookup"><span data-stu-id="93582-403">Optional starting with [!INCLUDE[bts2016_md](../includes/bts2016-md.md)]</span></span> |
|  <span data-ttu-id="93582-404">应用商店</span><span class="sxs-lookup"><span data-stu-id="93582-404">STORE</span></span>   |  |  <span data-ttu-id="93582-405">✔</span><span class="sxs-lookup"><span data-stu-id="93582-405">✔</span></span>  |
|   <span data-ttu-id="93582-406">RETR</span><span class="sxs-lookup"><span data-stu-id="93582-406">RETR</span></span>   |  <span data-ttu-id="93582-407">✔</span><span class="sxs-lookup"><span data-stu-id="93582-407">✔</span></span>  |  |
|   <span data-ttu-id="93582-408">User</span><span class="sxs-lookup"><span data-stu-id="93582-408">USER</span></span>   |  <span data-ttu-id="93582-409">✔</span><span class="sxs-lookup"><span data-stu-id="93582-409">✔</span></span>  |  <span data-ttu-id="93582-410">✔</span><span class="sxs-lookup"><span data-stu-id="93582-410">✔</span></span>  |
|   <span data-ttu-id="93582-411">PASS</span><span class="sxs-lookup"><span data-stu-id="93582-411">PASS</span></span>   |  <span data-ttu-id="93582-412">✔</span><span class="sxs-lookup"><span data-stu-id="93582-412">✔</span></span>  |  <span data-ttu-id="93582-413">✔</span><span class="sxs-lookup"><span data-stu-id="93582-413">✔</span></span>  |
|   <span data-ttu-id="93582-414">CWD</span><span class="sxs-lookup"><span data-stu-id="93582-414">CWD</span></span>    |  <span data-ttu-id="93582-415">✔</span><span class="sxs-lookup"><span data-stu-id="93582-415">✔</span></span>  |  <span data-ttu-id="93582-416">✔</span><span class="sxs-lookup"><span data-stu-id="93582-416">✔</span></span>  |
|   <span data-ttu-id="93582-417">QUIT</span><span class="sxs-lookup"><span data-stu-id="93582-417">QUIT</span></span>   |  <span data-ttu-id="93582-418">✔</span><span class="sxs-lookup"><span data-stu-id="93582-418">✔</span></span>  |  <span data-ttu-id="93582-419">✔</span><span class="sxs-lookup"><span data-stu-id="93582-419">✔</span></span>  |
|   <span data-ttu-id="93582-420">PORT</span><span class="sxs-lookup"><span data-stu-id="93582-420">PORT</span></span>   |  <span data-ttu-id="93582-421">✔</span><span class="sxs-lookup"><span data-stu-id="93582-421">✔</span></span>  |  <span data-ttu-id="93582-422">✔</span><span class="sxs-lookup"><span data-stu-id="93582-422">✔</span></span>  |
|   <span data-ttu-id="93582-423">PASV</span><span class="sxs-lookup"><span data-stu-id="93582-423">PASV</span></span>   |  <span data-ttu-id="93582-424">✔</span><span class="sxs-lookup"><span data-stu-id="93582-424">✔</span></span>  |  <span data-ttu-id="93582-425">✔</span><span class="sxs-lookup"><span data-stu-id="93582-425">✔</span></span>  |
|   <span data-ttu-id="93582-426">ABOR</span><span class="sxs-lookup"><span data-stu-id="93582-426">ABOR</span></span>   |  <span data-ttu-id="93582-427">✔</span><span class="sxs-lookup"><span data-stu-id="93582-427">✔</span></span>  |  <span data-ttu-id="93582-428">✔</span><span class="sxs-lookup"><span data-stu-id="93582-428">✔</span></span>  |
|   <span data-ttu-id="93582-429">TYPE</span><span class="sxs-lookup"><span data-stu-id="93582-429">TYPE</span></span>   |  <span data-ttu-id="93582-430">✔</span><span class="sxs-lookup"><span data-stu-id="93582-430">✔</span></span>  |  <span data-ttu-id="93582-431">✔</span><span class="sxs-lookup"><span data-stu-id="93582-431">✔</span></span>  |
|   <span data-ttu-id="93582-432">RNFR</span><span class="sxs-lookup"><span data-stu-id="93582-432">RNFR</span></span>   |  <span data-ttu-id="93582-433">✔</span><span class="sxs-lookup"><span data-stu-id="93582-433">✔</span></span>  |  <span data-ttu-id="93582-434">✔</span><span class="sxs-lookup"><span data-stu-id="93582-434">✔</span></span>  |
|   <span data-ttu-id="93582-435">RNTO</span><span class="sxs-lookup"><span data-stu-id="93582-435">RNTO</span></span>   |  <span data-ttu-id="93582-436">✔</span><span class="sxs-lookup"><span data-stu-id="93582-436">✔</span></span>  |  <span data-ttu-id="93582-437">✔</span><span class="sxs-lookup"><span data-stu-id="93582-437">✔</span></span>  |
|   <span data-ttu-id="93582-438">DELE</span><span class="sxs-lookup"><span data-stu-id="93582-438">DELE</span></span>   |  <span data-ttu-id="93582-439">✔</span><span class="sxs-lookup"><span data-stu-id="93582-439">✔</span></span>  |  <span data-ttu-id="93582-440">✔</span><span class="sxs-lookup"><span data-stu-id="93582-440">✔</span></span>  |
|   <span data-ttu-id="93582-441">PWD</span><span class="sxs-lookup"><span data-stu-id="93582-441">PWD</span></span>    |  <span data-ttu-id="93582-442">✔</span><span class="sxs-lookup"><span data-stu-id="93582-442">✔</span></span>  |  <span data-ttu-id="93582-443">✔</span><span class="sxs-lookup"><span data-stu-id="93582-443">✔</span></span>  |
|   <span data-ttu-id="93582-444">LIST</span><span class="sxs-lookup"><span data-stu-id="93582-444">LIST</span></span>   |  <span data-ttu-id="93582-445">✔</span><span class="sxs-lookup"><span data-stu-id="93582-445">✔</span></span>  |  <span data-ttu-id="93582-446">✔</span><span class="sxs-lookup"><span data-stu-id="93582-446">✔</span></span>  |
|   <span data-ttu-id="93582-447">NLST</span><span class="sxs-lookup"><span data-stu-id="93582-447">NLST</span></span>   |  <span data-ttu-id="93582-448">✔</span><span class="sxs-lookup"><span data-stu-id="93582-448">✔</span></span>  |  <span data-ttu-id="93582-449">✔</span><span class="sxs-lookup"><span data-stu-id="93582-449">✔</span></span>  |
|   <span data-ttu-id="93582-450">NOOP</span><span class="sxs-lookup"><span data-stu-id="93582-450">NOOP</span></span>   |  <span data-ttu-id="93582-451">✔</span><span class="sxs-lookup"><span data-stu-id="93582-451">✔</span></span>  |  <span data-ttu-id="93582-452">✔</span><span class="sxs-lookup"><span data-stu-id="93582-452">✔</span></span>  |
|   <span data-ttu-id="93582-453">APPE</span><span class="sxs-lookup"><span data-stu-id="93582-453">APPE</span></span>   |  |  <span data-ttu-id="93582-454">✔</span><span class="sxs-lookup"><span data-stu-id="93582-454">✔</span></span>   |
|   <span data-ttu-id="93582-455">ALLO</span><span class="sxs-lookup"><span data-stu-id="93582-455">ALLO</span></span>   |  <span data-ttu-id="93582-456">✔</span><span class="sxs-lookup"><span data-stu-id="93582-456">✔</span></span>  |  <span data-ttu-id="93582-457">✔</span><span class="sxs-lookup"><span data-stu-id="93582-457">✔</span></span>  |
|   <span data-ttu-id="93582-458">MDTM</span><span class="sxs-lookup"><span data-stu-id="93582-458">MDTM</span></span>   |  <span data-ttu-id="93582-459">✔</span><span class="sxs-lookup"><span data-stu-id="93582-459">✔</span></span>  |  |
| <span data-ttu-id="93582-460">AUTH TLS</span><span class="sxs-lookup"><span data-stu-id="93582-460">AUTH TLS</span></span> |  <span data-ttu-id="93582-461">✔</span><span class="sxs-lookup"><span data-stu-id="93582-461">✔</span></span>  |  <span data-ttu-id="93582-462">✔</span><span class="sxs-lookup"><span data-stu-id="93582-462">✔</span></span>  |
|   <span data-ttu-id="93582-463">PBSZ</span><span class="sxs-lookup"><span data-stu-id="93582-463">PBSZ</span></span>   |  <span data-ttu-id="93582-464">✔</span><span class="sxs-lookup"><span data-stu-id="93582-464">✔</span></span>  |  <span data-ttu-id="93582-465">✔</span><span class="sxs-lookup"><span data-stu-id="93582-465">✔</span></span>  |
|   <span data-ttu-id="93582-466">PROT</span><span class="sxs-lookup"><span data-stu-id="93582-466">PROT</span></span>   |  <span data-ttu-id="93582-467">✔</span><span class="sxs-lookup"><span data-stu-id="93582-467">✔</span></span>  |  <span data-ttu-id="93582-468">✔</span><span class="sxs-lookup"><span data-stu-id="93582-468">✔</span></span>  |

 <span data-ttu-id="93582-469">有关这些 FTP 命令的详细信息，请参阅：</span><span class="sxs-lookup"><span data-stu-id="93582-469">For more information about these FTP commands, see:</span></span>  

-   <span data-ttu-id="93582-470">[RFC 959-文件传输协议](http://go.microsoft.com/fwlink/p/?LinkId=119603)(http://go.microsoft.com/fwlink/p/?LinkId=119603)</span><span class="sxs-lookup"><span data-stu-id="93582-470">[RFC 959 - File Transfer Protocol](http://go.microsoft.com/fwlink/p/?LinkId=119603) (http://go.microsoft.com/fwlink/p/?LinkId=119603)</span></span>  

-   <span data-ttu-id="93582-471">[RFC 4217-使用 TLS 保护 FTP](http://go.microsoft.com/fwlink/p/?LinkId=183154) (http://go.microsoft.com/fwlink/p/?LinkId=183154)</span><span class="sxs-lookup"><span data-stu-id="93582-471">[RFC 4217 - Securing FTP with TLS](http://go.microsoft.com/fwlink/p/?LinkId=183154) (http://go.microsoft.com/fwlink/p/?LinkId=183154)</span></span>  

-   <span data-ttu-id="93582-472">[RFC 3659-FTP 扩展](http://go.microsoft.com/fwlink/p/?LinkId=183155)(http://go.microsoft.com/fwlink/p/?LinkId=183155)</span><span class="sxs-lookup"><span data-stu-id="93582-472">[RFC 3659 - Extensions to FTP](http://go.microsoft.com/fwlink/p/?LinkId=183155) (http://go.microsoft.com/fwlink/p/?LinkId=183155)</span></span>  

## <a name="configuring-an-ftp-adapter-to-work-with-legacy-hosts"></a><span data-ttu-id="93582-473">配置 FTP 适配器以使用旧式主机</span><span class="sxs-lookup"><span data-stu-id="93582-473">Configuring an FTP Adapter to Work with Legacy Hosts</span></span>

<span data-ttu-id="93582-474">本部分解决了您需要知道便于 FTP 适配器和大型机之间进行通信。</span><span class="sxs-lookup"><span data-stu-id="93582-474">This sections addresses what you need to know to facilitate communication between the FTP adapter and a mainframe computer.</span></span>   
> [!NOTE]
>  <span data-ttu-id="93582-475">向 MVS 或 AS400 主机发送文件时，无法使用临时文件夹功能。</span><span class="sxs-lookup"><span data-stu-id="93582-475">You cannot use the temporary folder function when sending files to an MVS or AS400 host.</span></span> <span data-ttu-id="93582-476">此字段中的输入不受支持，并将导致错误。</span><span class="sxs-lookup"><span data-stu-id="93582-476">Input into this field is not supported and will cause errors.</span></span>  

> [!IMPORTANT]
>  <span data-ttu-id="93582-477">以下信息仅供指导性参考，如有冲突，请以 AS400 或 IBM 文档中的信息为准。</span><span class="sxs-lookup"><span data-stu-id="93582-477">The following information is provided as a guide and should not be substituted for information found in AS400 or IBM documentation.</span></span>  

## <a name="mvs"></a><span data-ttu-id="93582-478">MVS</span><span class="sxs-lookup"><span data-stu-id="93582-478">MVS</span></span>  
 <span data-ttu-id="93582-479">若要向大型机中的 FTP 服务器发送文件，该大型机必须支持 IBM Generation Data Group（GDG，世代数据组）。</span><span class="sxs-lookup"><span data-stu-id="93582-479">To send files to an FTP server on a mainframe, the mainframe must support IBM Generation Data Group (GDG).</span></span> <span data-ttu-id="93582-480">在名称字段中，每个文件名都会向目标文件名（包含在引号中的完整路径）附加 (+1)。</span><span class="sxs-lookup"><span data-stu-id="93582-480">In the name field, each file name will append a (+1) to the destination file name (a full path with quotes around it).</span></span>  

## <a name="as400"></a><span data-ttu-id="93582-481">AS400</span><span class="sxs-lookup"><span data-stu-id="93582-481">AS400</span></span>  
 <span data-ttu-id="93582-482">与 AS400 系统之间传输文件时，可以使用三种方法对文件进行命名并定义其路径：</span><span class="sxs-lookup"><span data-stu-id="93582-482">There are three methods of naming files and defining their paths when transferring files to and from an AS400 system:</span></span>  

-   <span data-ttu-id="93582-483">**文件名字段**： 当向 FTP 服务器发送文件，输入中的文件名称**文件名**字段。</span><span class="sxs-lookup"><span data-stu-id="93582-483">**Filename field**: When sending a file to an FTP server, enter the file name in the **Filename** field.</span></span> <span data-ttu-id="93582-484">文件名必须符合 AS400 系统的文件命名约定，因为文件将存储在该库文件系统中。</span><span class="sxs-lookup"><span data-stu-id="93582-484">The file name must conform to the file-naming conventions of the AS400 system because the file will be stored in the Library File System.</span></span>  

-   <span data-ttu-id="93582-485">**Quote 命令**: Quote 命令用于在远程计算机上运行脚本。</span><span class="sxs-lookup"><span data-stu-id="93582-485">**Quote command**: Use the Quote command to run a script on the remote computer.</span></span> <span data-ttu-id="93582-486">输入 Quote 命令到**GET 前**， **PUT 前**， **GET 后**，以及**PUT 后**任一终结点上的字段。</span><span class="sxs-lookup"><span data-stu-id="93582-486">Enter the Quote command into the **Before GET**, **Before PUT**, **After GET**, and **After PUT** fields on any of the endpoints.</span></span> <span data-ttu-id="93582-487">请按以下格式输入 Quote 命令：</span><span class="sxs-lookup"><span data-stu-id="93582-487">Enter the Quote command in the following format:</span></span>  

    ```  
    QUOTE RCMD <command to be run on the remote system>.  
    ```  

-   <span data-ttu-id="93582-488">**集成文件系统 (IFS)**: IFS 是 AS400 系统，它允许存储基于 PC 的文件，因此相同的命名约定与 PC 上的区域。</span><span class="sxs-lookup"><span data-stu-id="93582-488">**Integrated File System (IFS)**: IFS is an area on the AS400 system that allows the storage of PC-based files and therefore the same naming conventions as a PC.</span></span> <span data-ttu-id="93582-489">若要用 IFS 代替默认库文件系统，输入的第一个命令应为 `quote site namefmt 1`。</span><span class="sxs-lookup"><span data-stu-id="93582-489">To use the IFS instead of the default Library File System, the first command to enter is `quote site namefmt 1`.</span></span> <span data-ttu-id="93582-490">此命令将通知 AS400 系统使用 IFS 命名约定。</span><span class="sxs-lookup"><span data-stu-id="93582-490">This command tells the AS400 system to use the IFS naming convention.</span></span>    


## <a name="more-good-stuff"></a><span data-ttu-id="93582-491">更多有用内容</span><span class="sxs-lookup"><span data-stu-id="93582-491">More good stuff</span></span>

[<span data-ttu-id="93582-492">FTP 适配器属性架构和属性</span><span class="sxs-lookup"><span data-stu-id="93582-492">FTP Adapter Property Schema and Properties</span></span>](../core/ftp-adapter-property-schema-and-properties.md)  

[<span data-ttu-id="93582-493">最佳做法和 FTP 适配器的建议</span><span class="sxs-lookup"><span data-stu-id="93582-493">Best practices and recommendations for the FTP adapter</span></span>](../core/best-practices-and-recommendations-for-the-ftp-adapter.md)  

[<span data-ttu-id="93582-494">FTP 适配器</span><span class="sxs-lookup"><span data-stu-id="93582-494">FTP Adapter</span></span>](../core/ftp-adapter.md)
