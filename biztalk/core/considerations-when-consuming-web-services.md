---
title: Web 服务使用时的注意事项 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: ea7038dc-4740-4c0a-b6a1-08bc22f42bc2
caps.latest.revision: 31
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: e7747e04357f041451e8aa6651704f815cba562a
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65354703"
---
# <a name="considerations-when-consuming-web-services"></a><span data-ttu-id="6fc4b-102">使用 Web 服务时的注意事项</span><span class="sxs-lookup"><span data-stu-id="6fc4b-102">Considerations When Consuming Web Services</span></span>
<span data-ttu-id="6fc4b-103">本部分提供使用 Web 服务时应考虑的信息。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-103">This section provides information that you should take into consideration when consuming Web services.</span></span>  
  
## <a name="using-two-underscore-characters-in-a-parameter-name"></a><span data-ttu-id="6fc4b-104">参数名称中使用两个下划线字符</span><span class="sxs-lookup"><span data-stu-id="6fc4b-104">Using two underscore characters in a parameter name</span></span>  
 <span data-ttu-id="6fc4b-105">Web 方法的参数名称不能以"__"（两条下划线） 开头。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-105">Parameter names for Web methods cannot begin with "__" (two underscore characters).</span></span> <span data-ttu-id="6fc4b-106">以两个下划线字符开头的名称可能会创建不受支持的 Web 消息部分 （不可用） 的 XLANG/s。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-106">Names that begin with two underscore characters may create Web message parts that are unsupported (unusable) by XLANG/s.</span></span>  
  
## <a name="the-any-element-and-the-anyattribute-attributes-are-not-supported-in-web-methods"></a><span data-ttu-id="6fc4b-107">在 Web 方法中不支持 any 元素和 anyAttribute 属性。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-107">The any element and the anyAttribute attributes are not supported in Web methods</span></span>  
 <span data-ttu-id="6fc4b-108">不能使用**任何**元素或**anyAttribute** Web 方法的架构中的属性。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-108">You cannot use the **any** element or **anyAttribute** attribute in the schema for a Web method.</span></span>  
  
## <a name="using-xlangs-keywords"></a><span data-ttu-id="6fc4b-109">使用 XLANG/s 关键字</span><span class="sxs-lookup"><span data-stu-id="6fc4b-109">Using XLANG/s keywords</span></span>  
 <span data-ttu-id="6fc4b-110">Web 服务名称或 Web 方法名称不能是 XLANG/s 中的关键字。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-110">A Web service name or a Web method name cannot be a keyword in an XLANG/s.</span></span> <span data-ttu-id="6fc4b-111">如果使用 Web 服务名称或 Web 方法名称中的 XLANG/s 关键字，则会编译错误，当您将添加 Web 服务。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-111">If you use an XLANG/s keyword in the Web service name or Web method name, you will get a compilation error when you add the Web service.</span></span> <span data-ttu-id="6fc4b-112">XLANG/s 语言保留字的列表，请参阅[xlang-s 保留字](../core/xlang-s-reserved-words.md)。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-112">For a list of reserved words for the XLANG/s language, see [XLANG-s Reserved Words](../core/xlang-s-reserved-words.md).</span></span>  
  
## <a name="required-xlangs-support-for-parameter-types"></a><span data-ttu-id="6fc4b-113">参数类型所需的 XLANG/s 支持</span><span class="sxs-lookup"><span data-stu-id="6fc4b-113">Required XLANG/s support for parameter types</span></span>  
 <span data-ttu-id="6fc4b-114">使用非 XLANG/s 支持的 Web 方法参数类型将导致编译错误。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-114">Using non-XLANG/s supported Web method parameter type will cause compilation errors.</span></span> <span data-ttu-id="6fc4b-115">例如，BizTalk Server 不支持包含的一维数组的架构类型的参数。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-115">For example, BizTalk Server does not support a parameter that consists of a single dimensional array of schema types.</span></span> <span data-ttu-id="6fc4b-116">此外，BizTalk Server 不支持多维数组。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-116">In addition, BizTalk Server does not support multi-dimensional arrays.</span></span> <span data-ttu-id="6fc4b-117">XLANG/s 语言保留在 BizTalk Server 中的单词列表，请参阅[xlang-s 保留字](../core/xlang-s-reserved-words.md)。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-117">For a list of words that XLANG/s language reserves in BizTalk Server, see [XLANG-s Reserved Words](../core/xlang-s-reserved-words.md).</span></span>  
  
## <a name="avoiding-compilation-errors-caused-by-adding-web-references-containing-c-keywords-or-identifiers"></a><span data-ttu-id="6fc4b-118">避免由添加包含 C# 关键字或标识符的 Web 引用导致的编译错误</span><span class="sxs-lookup"><span data-stu-id="6fc4b-118">Avoiding compilation errors caused by adding Web references containing C# keywords or identifiers</span></span>  
 <span data-ttu-id="6fc4b-119">当你使用**添加服务引用**服务将引用添加到 BizTalk 项目，BizTalk Server 将调用架构到每个 Web 方法所需的架构类型。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-119">When you use the **Add Service Reference** to add service references to BizTalk projects, BizTalk Server converts the schema types that are required to call each Web method to schemas.</span></span> <span data-ttu-id="6fc4b-120">BizTalk Server 将这些架构添加到 Reference.xsd。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-120">BizTalk Server adds these schemas to Reference.xsd.</span></span> <span data-ttu-id="6fc4b-121">如果您的架构包含元素名称的 C# 关键字或元素名称不是有效的 C# 标识符，您可能会出现运行时错误。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-121">If your schemas contain element names that are C# keywords or the element name is not valid as a C# identifier, you may get a run-time error.</span></span> <span data-ttu-id="6fc4b-122">若要避免运行时错误，请确保你使用的 Web 服务不包含 C# 关键字或无效 C# 标识符的元素名称。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-122">To avoid run-time errors, ensure that the Web service you consume does not contain element names that are C# keywords or invalid C# identifiers.</span></span>  
  
## <a name="multiple-serviceport-type-definitions-are-unsupported"></a><span data-ttu-id="6fc4b-123">不支持多个服务/端口类型定义</span><span class="sxs-lookup"><span data-stu-id="6fc4b-123">Multiple service/port type definitions are unsupported</span></span>  
 <span data-ttu-id="6fc4b-124">BizTalk Server 支持添加单个服务和端口类型定义的 Web 服务文件。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-124">BizTalk Server supports adding a Web service file with a single service and port type definition.</span></span> <span data-ttu-id="6fc4b-125">如果添加具有多个服务的 WSDL 文件或端口类型定义，可能会收到以下错误：</span><span class="sxs-lookup"><span data-stu-id="6fc4b-125">If you add a WSDL file with multiple service or port type definitions, you may receive the following error:</span></span>  
  
 <span data-ttu-id="6fc4b-126">无法生成 BizTalk 文件。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-126">Could not generate BizTalk files.</span></span> <span data-ttu-id="6fc4b-127">对象引用未设置为某个对象的实例。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-127">Object reference not set to an instance of an object.</span></span>  
  
## <a name="support-for-consuming-arrays-exposed-by-web-services"></a><span data-ttu-id="6fc4b-128">使用 Web 服务所公开的数组的支持</span><span class="sxs-lookup"><span data-stu-id="6fc4b-128">Support for consuming arrays exposed by Web services</span></span>  
 <span data-ttu-id="6fc4b-129">BizTalk Server 可以使用不是 BizTalk Web 服务的 Web 服务公开的一维和交错数组。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-129">BizTalk Server can consume one dimensional and jagged arrays exposed by Web services that are not BizTalk Web services.</span></span> <span data-ttu-id="6fc4b-130">有关如何使用 Web 服务数组的详细信息，请参阅[如何使用 Web 服务数组](../core/how-to-consume-web-service-arrays.md)。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-130">For more information about how to consume Web service arrays, see [How to Consume Web Service Arrays](../core/how-to-consume-web-service-arrays.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="6fc4b-131">不支持多维数组语法。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-131">Multi dimensional array syntax is not supported.</span></span> <span data-ttu-id="6fc4b-132">例如，`MyArray[1,5]`。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-132">For example, `MyArray[1,5]`.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="6fc4b-133">BizTalk Server 不支持使用一个数组**数据集**由 Web 服务公开的对象。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-133">BizTalk Server does not support consuming an array of **DataSet** objects exposed by a Web service.</span></span> <span data-ttu-id="6fc4b-134">XLANG/s 子服务以本机方式支持的.NET 数据集类，但如果您创建一个包含对公开.NET 数据集对象的数组的 Web 服务的 Web 引用的 BizTalk 项目尝试编译项目时，您会收到错误。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-134">The XLANG/s subservice does natively support the .NET DataSet class but if you create a BizTalk project that contains a Web reference to a Web service that exposes an array of .NET DataSet objects you will get errors when you attempt to compile the project.</span></span>  
  
## <a name="web-method-parameters-must-be-xml-serializable"></a><span data-ttu-id="6fc4b-135">Web 方法的参数必须是 Xml 可序列化</span><span class="sxs-lookup"><span data-stu-id="6fc4b-135">Web method parameters must be Xml Serializable</span></span>  
 <span data-ttu-id="6fc4b-136">已使用的 Web 服务中的所有参数必须都是 Xml 可序列化。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-136">All parameters in a consumed Web service must be Xml Serializable.</span></span> <span data-ttu-id="6fc4b-137">如果添加的 Web 方法包含不是 Xml 可序列化的参数时，可能会收到以下错误消息：</span><span class="sxs-lookup"><span data-stu-id="6fc4b-137">If you add a Web method that contains a parameter that is not Xml Serializable, you may receive the following error message:</span></span>  
  
 <span data-ttu-id="6fc4b-138">才能使其必须是 Xml Seralizeable 为消息部分类型。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-138">System.Xml.Element must be Xml Seralizeable to be a message part type.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="6fc4b-139">数据类型， **XmlDocument**并**数据集**，支持时不执行 Xml 序列化。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-139">The data types, **XmlDocument** and **DataSet**, while not Xml Serializable, are supported.</span></span>  
  
## <a name="consuming-messaging-only-web-services"></a><span data-ttu-id="6fc4b-140">使用消息传送的唯一 Web 服务</span><span class="sxs-lookup"><span data-stu-id="6fc4b-140">Consuming Messaging only Web services</span></span>  
 <span data-ttu-id="6fc4b-141">当使用消息传送仅 Web 服务时，所有 BizTalk 消息正文部分组成的名称必须与 Web 方法参数名称都匹配。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-141">When consuming messaging only Web services, all BizTalk message body part names must match the Web method parameter names.</span></span> <span data-ttu-id="6fc4b-142">例如，如果 Web 服务的签名为`WebMethod(MyType1 type1, MyType2 type2)`、 部分名必须为 type1 和 type2，可能会收到以下运行时错误：</span><span class="sxs-lookup"><span data-stu-id="6fc4b-142">For example, if the signature of the Web service is `WebMethod(MyType1 type1, MyType2 type2)`, the part name must be type1 and type2, you may get the following runtime error:</span></span>  
  
 <span data-ttu-id="6fc4b-143">无法检索参数 %1 的消息部分</span><span class="sxs-lookup"><span data-stu-id="6fc4b-143">Failed to retrieve the message part for parameter %1</span></span>  
  
 <span data-ttu-id="6fc4b-144">有关详细信息，请参阅[如何在仅消息传递方案中使用 Web 服务](../core/how-to-consume-web-services-in-a-messaging-only-scenario.md)。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-144">For more information, see [How to Consume Web Services in a Messaging Only Scenario](../core/how-to-consume-web-services-in-a-messaging-only-scenario.md).</span></span>  
  
## <a name="configuring-a-soap-send-port-programmatically"></a><span data-ttu-id="6fc4b-145">以编程方式配置 SOAP 发送端口</span><span class="sxs-lookup"><span data-stu-id="6fc4b-145">Configuring a SOAP Send Port Programmatically</span></span>  
 <span data-ttu-id="6fc4b-146">就可以以编程方式设置配置属性在消息上下文。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-146">It is possible to set configuration properties programmatically on the message context.</span></span> <span data-ttu-id="6fc4b-147">可以在业务流程或自定义管道组件中设置这些属性，指示发送端口为静态或动态。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-147">You can set these properties in an orchestration or a custom pipeline component whether or not the send port is static or dynamic.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="6fc4b-148">若要配置**MethodName**属性为静态 SOAP 发送端口以编程方式，您需要设置**方法名称**到 **[以后指定]** 中**Web服务**选项卡**SOAP 传输属性**BizTalk Server 管理控制台中的对话框。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-148">To configure the **MethodName** property for the static SOAP send port programmatically, you need to set **Method name** to **[Specify Later]** in the **Web Service** tab of the **SOAP Transport Properties** dialog box in the BizTalk Server Administration Console.</span></span>  
> 
>  <span data-ttu-id="6fc4b-149">有关详细信息**MethodName**属性，请参阅[如何动态设置使用 Web 服务的 URI](../core/how-to-dynamically-set-the-uri-of-a-consumed-web-service.md)。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-149">For more information about the **MethodName** property, see [How to Dynamically Set the URI of a Consumed Web Service](../core/how-to-dynamically-set-the-uri-of-a-consumed-web-service.md).</span></span>  
> 
>  <span data-ttu-id="6fc4b-150">有关详细信息**SOAP 传输属性**对话框中，请参阅**SOAP 传输属性对话框，Web 服务**选项卡[!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)]。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-150">For more information about **SOAP Transport Properties** dialog box, see the **SOAP Transport Properties Dialog Box, Web service** tab [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].</span></span>
  
## <a name="property-rules"></a><span data-ttu-id="6fc4b-151">属性规则</span><span class="sxs-lookup"><span data-stu-id="6fc4b-151">Property Rules</span></span>  
 <span data-ttu-id="6fc4b-152">如果在业务流程中或在接收管道的自定义管道组件中设置配置属性，然后应用以下规则：</span><span class="sxs-lookup"><span data-stu-id="6fc4b-152">If the configuration property is set in an orchestration or in a custom pipeline component in a receive pipeline, then the following rules are applied:</span></span>  
  
- <span data-ttu-id="6fc4b-153">如果一条消息发送到静态发送端口，属性值将覆盖与该发送端口配置的值。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-153">If a message is sent to a static send port, the property value will be overwritten with the value configured for that send port.</span></span>  
  
- <span data-ttu-id="6fc4b-154">如果一条消息发送到动态发送端口，则不会覆盖属性值。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-154">If a message is sent to a dynamic send port, the property value will not be overwritten.</span></span>  
  
  <span data-ttu-id="6fc4b-155">如果在发送管道的自定义管道组件中设置配置属性，则应用以下规则：</span><span class="sxs-lookup"><span data-stu-id="6fc4b-155">If a configuration property is set in a custom pipeline component in a send pipeline, then the following rule is applied:</span></span>  
  
- <span data-ttu-id="6fc4b-156">值不会被覆盖而不考虑是否将消息发送到静态或动态发送端口。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-156">The value will not be overwritten regardless of whether the message is sent to a static or dynamic send port.</span></span> <span data-ttu-id="6fc4b-157">换而言之，发送管道组件覆盖无论后者已设置的配置属性。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-157">In other words, send pipeline components overwrite the configuration property no matter where it was set.</span></span>  
  
- <span data-ttu-id="6fc4b-158">有关自定义管道组件的详细信息，请参阅[开发自定义管道组件](../core/developing-custom-pipeline-components.md)。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-158">For more information about custom pipeline components, see [Developing Custom Pipeline Components](../core/developing-custom-pipeline-components.md).</span></span>  
  
- <span data-ttu-id="6fc4b-159">有关 SOAP 发送适配器的配置属性的详细信息，请参阅[如何动态设置使用 Web 服务的 URI](../core/how-to-dynamically-set-the-uri-of-a-consumed-web-service.md)。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-159">For more information about the configuration properties of the SOAP send adapter, see [How to Dynamically Set the URI of a Consumed Web Service](../core/how-to-dynamically-set-the-uri-of-a-consumed-web-service.md).</span></span>  
  
## <a name="adding-a-web-reference-to-a-consumed-web-service-that-contains-a-multi-rooted-schema-will-cause-a-compilation-error"></a><span data-ttu-id="6fc4b-160">添加对包含多个根的架构的已使用 Web 服务的 Web 引用将导致编译错误</span><span class="sxs-lookup"><span data-stu-id="6fc4b-160">Adding a Web reference to a consumed Web service that contains a multi-rooted schema will cause a compilation error</span></span>  
 <span data-ttu-id="6fc4b-161">如果添加对已发布的 BizTalk 业务流程中派生的 Web 服务的项目的 Web 引用，并且该业务流程包含具有多个根的架构然后编译项目时也将会出错。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-161">If you add a Web reference to your project for a Web service that was derived from a published BizTalk orchestration and the orchestration contains a schema with multiple roots then an error will occur when the project is compiled.</span></span> <span data-ttu-id="6fc4b-162">如果您添加到你的项目已发布的 BizTalk 业务流程中派生的 Web 引用，请确保该业务流程不包含任何多根的架构。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-162">If you add a Web reference to your project that was derived from a published BizTalk orchestration, ensure that the orchestration does not contain any multi-rooted schemas.</span></span>  
  
## <a name="using-typeddatasets-as-parameters-to-web-methods"></a><span data-ttu-id="6fc4b-163">将 TypedDataSets 用作 Web 方法的参数</span><span class="sxs-lookup"><span data-stu-id="6fc4b-163">Using TypedDataSets as parameters to Web methods</span></span>  
 <span data-ttu-id="6fc4b-164">下面是需要执行的操作支持将 TypedDataSets 用作 Web 方法的参数：</span><span class="sxs-lookup"><span data-stu-id="6fc4b-164">The following is what you need to do to support using TypedDataSets as parameters to Web methods:</span></span>  
  
1. <span data-ttu-id="6fc4b-165">添加一个 C# 项目的 Web 引用，然后生成代理。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-165">Add the Web reference to a C# project and then generate the proxy.</span></span>  
  
2. <span data-ttu-id="6fc4b-166">创建 SOAP 发送端口和发送端口上指定该代理，并选择的方法。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-166">Create a SOAP send port and specify the proxy on the send port and choose the method.</span></span>  
  
3. <span data-ttu-id="6fc4b-167">在业务流程，定义后期绑定的端口并定义消息类型。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-167">In the orchestration, define a late bound port and define the message types.</span></span> <span data-ttu-id="6fc4b-168">在大多数情况下需要没有属性升级或可分辨的字段访问的位置，该类型可以定义为**XMLDocument**。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-168">For most cases where no property promotion or distinguished field access is needed, the type can be defined as **XMLDocument**.</span></span> <span data-ttu-id="6fc4b-169">与此类型选择直通管道。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-169">Select PassThrough pipelines with this type.</span></span>  
  
4. <span data-ttu-id="6fc4b-170">在 BizTalk Server 管理控制台中，在**Web 服务**选项卡**SOAP 传输属性**对话框中的 soap 发送端口中，指定你想要使用创建该代理。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-170">In BizTalk Server Administration console, in the **Web Service** tab in the **SOAP Transport Properties** dialog box of the SOAP send port, specify that you want to use that proxy that you created.</span></span> <span data-ttu-id="6fc4b-171">此外需要指定程序集、 类型和方法。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-171">You will also need to specify assembly, type, and method.</span></span> <span data-ttu-id="6fc4b-172">有关详细信息，请参阅**SOAP 传输属性对话框，Web 服务**选项卡[!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)]。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-172">For more information, see the **SOAP Transport Properties Dialog Box, Web service** tab [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].</span></span>
  
## <a name="adding-a-web-reference-to-a-consumed-web-service-that-contains-a-web-method-expecting-generic-based-parameters-will-cause-a-compilation-error"></a><span data-ttu-id="6fc4b-173">添加对包含的 Web 方法需要基于泛型的参数的已使用 Web 服务的 Web 引用将导致编译错误</span><span class="sxs-lookup"><span data-stu-id="6fc4b-173">Adding a Web reference to a consumed Web service that contains a Web method expecting generic based parameters will cause a compilation error</span></span>  
 <span data-ttu-id="6fc4b-174">如果添加对包含的 Web 方法需要基于泛型的参数可以为 null 的参数等的 Web 服务的项目的 Web 引用时，编译项目时，将会出错。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-174">If you add a Web reference to your project for a Web service that contains a Web method expecting generic based parameters such as nullable parameters, an error will occur when the project is compiled.</span></span> <span data-ttu-id="6fc4b-175">不支持此设置。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-175">This is not supported.</span></span> <span data-ttu-id="6fc4b-176">您必须使用显式专用化从 XLANG/s 调用泛型类。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-176">You must use explicit specialization to call the generic class from XLANG/s.</span></span>  
  
## <a name="biztalk-schema-generation-using-the-add-service-reference"></a><span data-ttu-id="6fc4b-177">使用添加服务引用生成 BizTalk 架构</span><span class="sxs-lookup"><span data-stu-id="6fc4b-177">BizTalk Schema Generation using the Add Service Reference</span></span>  
 <span data-ttu-id="6fc4b-178">当你使用**添加服务引用**服务将引用添加到 BizTalk 项目，BizTalk Server 将调用架构到每个 Web 方法所需的架构类型。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-178">When you use the **Add Service Reference** to add service references to BizTalk projects, BizTalk Server converts the schema types that are required to call each Web method to schemas.</span></span> <span data-ttu-id="6fc4b-179">BizTalk Server 将这些架构添加到 Reference.xsd。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-179">BizTalk Server adds these schemas to Reference.xsd.</span></span> <span data-ttu-id="6fc4b-180">若要确保**添加服务引用**生成 BizTalk 架构正确，Web 服务必须符合以下要求：</span><span class="sxs-lookup"><span data-stu-id="6fc4b-180">To ensure that the **Add Service Reference** generates the BizTalk schemas correctly, the Web services must conform to the following guidelines:</span></span>  
  
-   <span data-ttu-id="6fc4b-181">Web 方法应有**SoapDocumentMethodAttribute**而不是**SoapRpcMethodAttribute**。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-181">Web methods should have **SoapDocumentMethodAttribute** instead of **SoapRpcMethodAttribute**.</span></span>  
  
-   <span data-ttu-id="6fc4b-182">Web 服务和方法必须使用**文字**而不绑定**Encoded**如 **[SoapDocumentMethod(Use=SoapBindingUse.Literal)]**。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-182">Web services and methods must use the **Literal** binding instead of **Encoded** such as **[SoapDocumentMethod(Use=SoapBindingUse.Literal)]**.</span></span>  
  
-   <span data-ttu-id="6fc4b-183">Web 方法参数和返回类型必须具有**XmlRootAttribute**使用一个有效**Namespace**属性除非它们是本机 XSD 类型和 XmlNode 类型。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-183">Web method parameters and return types must have **XmlRootAttribute** with a valid **Namespace** property unless they are native XSD types and the XmlNode type.</span></span>  
  
-   <span data-ttu-id="6fc4b-184">不能使用 web 方法**RequestNamespace**并**ResponseNamespace**中的属性**SoapDocumentMethodAttribute**。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-184">Web methods must not use the **RequestNamespace** and **ResponseNamespace** properties in **SoapDocumentMethodAttribute**.</span></span>  
  
-   <span data-ttu-id="6fc4b-185">Web 服务必须符合 Web 服务互操作性 (WSI) 基本概要 1.1 版。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-185">Web services must be compliant with the Web services interoperability (WSI) Basic Profile version 1.1.</span></span>  
  
## <a name="xsd-will-not-contain-nodes-for-simple-parameter-types"></a><span data-ttu-id="6fc4b-186">XSD 将不包含简单参数类型的节点</span><span class="sxs-lookup"><span data-stu-id="6fc4b-186">XSD will not contain nodes for simple parameter types</span></span>  
 <span data-ttu-id="6fc4b-187">如果添加 Web 引用和 Web 方法包含是简单类型的参数，所生成的 XSD 将不包含该参数的节点。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-187">When you add a Web reference and the Web method has a parameter that is a simple type, the generated XSD will not contain nodes for that parameter.</span></span> <span data-ttu-id="6fc4b-188">相反，会生成多部分消息将包含属于简单类型的部件。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-188">Instead, the multipart message that is generated will contain a part that is of the simple type.</span></span> <span data-ttu-id="6fc4b-189">业务流程应适当地处理此消息部分。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-189">The orchestration should handle this message part appropriately.</span></span> <span data-ttu-id="6fc4b-190">如果它是对 Web 服务的请求的一部分，手动将该值赋给具有消息赋值形状该部件。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-190">If it is a part of the request to the Web service, manually assign the value to that part with a message assignment shape.</span></span> <span data-ttu-id="6fc4b-191">如果它属于来自 Web 服务的响应，手动访问以查看值的表达式形状中该部分。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-191">If it is a part of the response from the Web service, manually access that part in an expression shape to see the value.</span></span>  
  
## <a name="the-add-service-reference-do-not-support-the-web-services-description-language-wsdl-import-element"></a><span data-ttu-id="6fc4b-192">添加服务引用不支持 Web 服务描述语言 (WSDL) 导入元素</span><span class="sxs-lookup"><span data-stu-id="6fc4b-192">The Add Service Reference do not support the Web Services Description Language (WSDL) import element</span></span>  
 <span data-ttu-id="6fc4b-193">添加服务引用的 WSDL 文件的导入元素时，添加服务引用将失败。</span><span class="sxs-lookup"><span data-stu-id="6fc4b-193">The Add Service Reference fails when you add service references for the WSDL file with the import element.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6fc4b-194">请参阅</span><span class="sxs-lookup"><span data-stu-id="6fc4b-194">See Also</span></span>  
 [<span data-ttu-id="6fc4b-195">构造 Web 消息</span><span class="sxs-lookup"><span data-stu-id="6fc4b-195">Constructing Web Messages</span></span>](../core/constructing-web-messages.md)