---
title: 自定义信封架构中的枚举 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 2b053d82-753f-4a05-9922-fa5dbd073ba9
caps.latest.revision: 17
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 4c5ee34c80b2bcdc0d0abfe085e174bf5ee6b599
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65353280"
---
# <a name="customizing-enumerations-in-the-envelope-schema"></a><span data-ttu-id="92eb2-102">信封架构中自定义枚举</span><span class="sxs-lookup"><span data-stu-id="92eb2-102">Customizing Enumerations in the Envelope Schema</span></span>
[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] <span data-ttu-id="92eb2-103">允许你自定义服务 （信封） 架构中的 ID 字段枚举。</span><span class="sxs-lookup"><span data-stu-id="92eb2-103">enables you to customize ID field enumerations in the service (envelope) schema.</span></span> <span data-ttu-id="92eb2-104">这使您可以接收或发送具有非标准值的交换 (之外的一组值定义的 X12 标准正文) 信封中的发送方或接收方 ID 字段中。</span><span class="sxs-lookup"><span data-stu-id="92eb2-104">This enables you to receive or send interchanges that have non-standard values (outside the set of values defined by the X12 standards body) in the sender or receiver ID fields in the envelope.</span></span> <span data-ttu-id="92eb2-105">它还可以更改在协议属性定义的标头值下拉列表中可用的限定符。</span><span class="sxs-lookup"><span data-stu-id="92eb2-105">It also enables you to change the qualifiers that are available in drop-down lists for header values in agreement property definitions.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="92eb2-106">当您修改架构的修改会应用于上述标准中的所有事务。</span><span class="sxs-lookup"><span data-stu-id="92eb2-106">When you modify a schema, that modification applies to all transactions for the standard in question.</span></span> <span data-ttu-id="92eb2-107">为某一参与方，不能在信封架构中进行修改。</span><span class="sxs-lookup"><span data-stu-id="92eb2-107">You cannot make a modification in the envelope schema for a single party.</span></span>  
  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] <span data-ttu-id="92eb2-108">将拉取的产品随附的 Microsoft.BizTalk.Edi.BaseArtifacts.dll 的静态服务架构中的允许值列表。</span><span class="sxs-lookup"><span data-stu-id="92eb2-108">pulls the list of allowed values from static service schemas in the Microsoft.BizTalk.Edi.BaseArtifacts.dll, which ships with the product.</span></span> <span data-ttu-id="92eb2-109">若要扩展基本的值集，您需要开发和部署服务架构扩展。</span><span class="sxs-lookup"><span data-stu-id="92eb2-109">To extend the base set of values, you need to develop and deploy a service schema extension.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] <span data-ttu-id="92eb2-110">提供服务 （信封） 架构模板。 可用于修改中的枚举。</span><span class="sxs-lookup"><span data-stu-id="92eb2-110">provides service (envelope) schema templates that you can use to modify the enumerations in.</span></span> <span data-ttu-id="92eb2-111">这些服务架构为 X12_ServiceSchemaExtension.xsd 和 EDIFACT_ServiceSchemaExtension.xsd。</span><span class="sxs-lookup"><span data-stu-id="92eb2-111">These service schemas are X12_ServiceSchemaExtension.xsd and EDIFACT_ServiceSchemaExtension.xsd.</span></span> <span data-ttu-id="92eb2-112">每个自定义架构将具有以下命名空间，根据标准之一。</span><span class="sxs-lookup"><span data-stu-id="92eb2-112">Each custom schema will have one of the following namespaces, based upon the standard.</span></span> <span data-ttu-id="92eb2-113">不能更改此命名空间。</span><span class="sxs-lookup"><span data-stu-id="92eb2-113">This namespace cannot be changed.</span></span>  
  
|<span data-ttu-id="92eb2-114">标准</span><span class="sxs-lookup"><span data-stu-id="92eb2-114">Standard</span></span>|<span data-ttu-id="92eb2-115">命名空间</span><span class="sxs-lookup"><span data-stu-id="92eb2-115">Namespace</span></span>|  
|--------------|---------------|  
|<span data-ttu-id="92eb2-116">X12 和 HIPAA</span><span class="sxs-lookup"><span data-stu-id="92eb2-116">X12 and HIPAA</span></span>|`http://schemas.microsoft.com/BizTalk/EDI/X12/2006`|  
|<span data-ttu-id="92eb2-117">EDIFACT</span><span class="sxs-lookup"><span data-stu-id="92eb2-117">EDIFACT</span></span>|`http://schemas.microsoft.com/BizTalk/EDI/EDIFACT/2006`|  
  
 <span data-ttu-id="92eb2-118">对架构在 BizTalk 编辑器中进行更改[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]（请参阅下面的过程）。</span><span class="sxs-lookup"><span data-stu-id="92eb2-118">You make the changes to the schema in BizTalk Editor in [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] (see the procedure below).</span></span> <span data-ttu-id="92eb2-119">进行所需的更改后，必须部署架构。</span><span class="sxs-lookup"><span data-stu-id="92eb2-119">After making the required changes, you must deploy the schema.</span></span>  
  
 <span data-ttu-id="92eb2-120">端接收和发送端，当[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]验证信封段 （ISA 和 GS，对于 X12 或 UNB 和 UNG edifact），它将检查是否存在基于其命名空间的自定义服务架构。</span><span class="sxs-lookup"><span data-stu-id="92eb2-120">On both the receive and send sides, when [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] validates the envelope segments (ISA and GS for X12, or UNB and UNG for EDIFACT), it will check for the existence of the custom service schema based on its namespace.</span></span> <span data-ttu-id="92eb2-121">如果已部署自定义架构，[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]会将该架构与常规服务架构合并，并且将自定义和标准枚举值中指定。</span><span class="sxs-lookup"><span data-stu-id="92eb2-121">If the custom schema is deployed, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will merge that schema with the regular service schema and will use both custom and standard enumeration values where specified.</span></span> <span data-ttu-id="92eb2-122">你可以自定义架构以扩展枚举列表中，但无法从中删除值。</span><span class="sxs-lookup"><span data-stu-id="92eb2-122">You can customize the schema to extend an enumeration list, but you cannot remove values from it.</span></span> <span data-ttu-id="92eb2-123">如果未部署自定义架构，[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]将使用标准服务架构。</span><span class="sxs-lookup"><span data-stu-id="92eb2-123">If a custom schema is not deployed, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will use the standard service schema.</span></span>  
  
 <span data-ttu-id="92eb2-124">部署自定义架构后[!INCLUDE[firstref_TPM](../includes/firstref-tpm-md.md)]中的用户界面[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理控制台将使用的值中的自定义枚举来填充中的相应下拉列表[!INCLUDE[TPM_abbrev](../includes/tpm-abbrev-md.md)]属性页。</span><span class="sxs-lookup"><span data-stu-id="92eb2-124">After you have deployed a custom schema, the [!INCLUDE[firstref_TPM](../includes/firstref-tpm-md.md)] user interface in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console will use the values in a custom enumeration to populate the appropriate drop-down lists in the [!INCLUDE[TPM_abbrev](../includes/tpm-abbrev-md.md)] property pages.</span></span> <span data-ttu-id="92eb2-125">如果尚未部署自定义架构，[!INCLUDE[TPM_abbrev](../includes/tpm-abbrev-md.md)]将使用标准服务架构中的枚举中的值。</span><span class="sxs-lookup"><span data-stu-id="92eb2-125">If you have not deployed a custom schema, [!INCLUDE[TPM_abbrev](../includes/tpm-abbrev-md.md)] will use the values in the enumerations in the standard service schema.</span></span> <span data-ttu-id="92eb2-126">此外，[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]运行时将使用自定义枚举来验证消息。</span><span class="sxs-lookup"><span data-stu-id="92eb2-126">In addition, the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] runtime will use the custom enumeration to validate a message.</span></span>  
  
 <span data-ttu-id="92eb2-127">如果你使用随提供的 XML 工具[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]验证与实例信封，并且您已自定义服务架构，必须将包含自定义服务架构在 BizTalk 项目中，此外到文档 （事务集）架构和如有必要，批架构。</span><span class="sxs-lookup"><span data-stu-id="92eb2-127">If you use the XML tools provided with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to validate an instance with its envelope, and you have customized the service schema, you will have to include the custom service schema in the BizTalk project, in addition to the document (transaction set) schema(s) and if necessary, the batch schema.</span></span> <span data-ttu-id="92eb2-128">这不是必需的如果您要验证没有信封的事务集实例。</span><span class="sxs-lookup"><span data-stu-id="92eb2-128">This is not necessary if you are validating a transaction-set instance that does not have an envelope.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="92eb2-129">先决条件</span><span class="sxs-lookup"><span data-stu-id="92eb2-129">Prerequisites</span></span>  
 <span data-ttu-id="92eb2-130">必须以成员的身份登录[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]Administrators 组。</span><span class="sxs-lookup"><span data-stu-id="92eb2-130">You must be logged on as a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group.</span></span>  
  
##  <a name="BKMK_Env_Can"></a> <span data-ttu-id="92eb2-131">可以修改的信封字段</span><span class="sxs-lookup"><span data-stu-id="92eb2-131">Envelope Fields That Can Be Modified</span></span>  
 <span data-ttu-id="92eb2-132">可以修改仅以下信封字段。</span><span class="sxs-lookup"><span data-stu-id="92eb2-132">Only the following envelope fields can be modified.</span></span> <span data-ttu-id="92eb2-133">仅这些字段包括在扩展架构。</span><span class="sxs-lookup"><span data-stu-id="92eb2-133">Only these fields are included in the extension schemas.</span></span> <span data-ttu-id="92eb2-134">添加服务扩展架构中的其他字段不会处理任何影响。</span><span class="sxs-lookup"><span data-stu-id="92eb2-134">Added other fields in the service extension schema will not have any effect on processing.</span></span>  
  
|<span data-ttu-id="92eb2-135">标准</span><span class="sxs-lookup"><span data-stu-id="92eb2-135">Standard</span></span>|<span data-ttu-id="92eb2-136">字段</span><span class="sxs-lookup"><span data-stu-id="92eb2-136">Field</span></span>|  
|--------------|-----------|  
|<span data-ttu-id="92eb2-137">X12 和 HIPAA</span><span class="sxs-lookup"><span data-stu-id="92eb2-137">X12 and HIPAA</span></span>|<span data-ttu-id="92eb2-138">ISA01 – 授权限定符</span><span class="sxs-lookup"><span data-stu-id="92eb2-138">ISA01 – Authorization Qualifier</span></span><br /><br /> <span data-ttu-id="92eb2-139">ISA03 – 安全限定符</span><span class="sxs-lookup"><span data-stu-id="92eb2-139">ISA03 – Security Qualifier</span></span><br /><br /> <span data-ttu-id="92eb2-140">ISA05 – Sender ID Qualifier</span><span class="sxs-lookup"><span data-stu-id="92eb2-140">ISA05 – Sender ID Qualifier</span></span><br /><br /> <span data-ttu-id="92eb2-141">ISA07-接收方 ID 限定符</span><span class="sxs-lookup"><span data-stu-id="92eb2-141">ISA07 - Receiver ID Qualifier</span></span><br /><br /> <span data-ttu-id="92eb2-142">GS01-功能代码</span><span class="sxs-lookup"><span data-stu-id="92eb2-142">GS01 - Functional Code</span></span><br /><br /> <span data-ttu-id="92eb2-143">GS07-责任代理</span><span class="sxs-lookup"><span data-stu-id="92eb2-143">GS07 - Responsible Agency</span></span>|  
|<span data-ttu-id="92eb2-144">EDIFACT</span><span class="sxs-lookup"><span data-stu-id="92eb2-144">EDIFACT</span></span>|<span data-ttu-id="92eb2-145">UNB2.2-发送方代码限定符</span><span class="sxs-lookup"><span data-stu-id="92eb2-145">UNB2.2 - Sender Code Qualifier</span></span><br /><br /> <span data-ttu-id="92eb2-146">UNB3.2-接收方代码限定符</span><span class="sxs-lookup"><span data-stu-id="92eb2-146">UNB3.2 - Receiver Code Qualifier</span></span>|  
  
## <a name="envelope-fields-that-should-not-be-modified"></a><span data-ttu-id="92eb2-147">不应修改的信封字段</span><span class="sxs-lookup"><span data-stu-id="92eb2-147">Envelope Fields That Should Not Be Modified</span></span>  
 <span data-ttu-id="92eb2-148">引擎中的信封驱动器行为中的某些字段。</span><span class="sxs-lookup"><span data-stu-id="92eb2-148">Some fields in the envelope drive behaviors in the engine.</span></span> <span data-ttu-id="92eb2-149">因此，不应将值添加到其中的任何字段的现有枚举列表。</span><span class="sxs-lookup"><span data-stu-id="92eb2-149">As a result, you should not add values to the existing enumeration list for any of these fields.</span></span> <span data-ttu-id="92eb2-150">这些字段如下所示：</span><span class="sxs-lookup"><span data-stu-id="92eb2-150">These fields are the following:</span></span>  
  
|<span data-ttu-id="92eb2-151">标准</span><span class="sxs-lookup"><span data-stu-id="92eb2-151">Standard</span></span>|<span data-ttu-id="92eb2-152">字段</span><span class="sxs-lookup"><span data-stu-id="92eb2-152">Field</span></span>|  
|--------------|-----------|  
|<span data-ttu-id="92eb2-153">X12 和 HIPAA</span><span class="sxs-lookup"><span data-stu-id="92eb2-153">X12 and HIPAA</span></span>|<span data-ttu-id="92eb2-154">ISA11 – 交换控制标准标识符</span><span class="sxs-lookup"><span data-stu-id="92eb2-154">ISA11 – Interchange Control Standards Identifier</span></span><br /><br /> <span data-ttu-id="92eb2-155">ISA12 – 交换控制版本号</span><span class="sxs-lookup"><span data-stu-id="92eb2-155">ISA12 – Interchange Control Version Number</span></span><br /><br /> <span data-ttu-id="92eb2-156">ISA14 – 请求确认</span><span class="sxs-lookup"><span data-stu-id="92eb2-156">ISA14 – Acknowledgment Requested</span></span>|  
|<span data-ttu-id="92eb2-157">EDIFACT</span><span class="sxs-lookup"><span data-stu-id="92eb2-157">EDIFACT</span></span>|<span data-ttu-id="92eb2-158">UNB1.1 – 语法标识符</span><span class="sxs-lookup"><span data-stu-id="92eb2-158">UNB1.1 – Syntax Identifier</span></span><br /><br /> <span data-ttu-id="92eb2-159">UNB1.2 – 语法版本号</span><span class="sxs-lookup"><span data-stu-id="92eb2-159">UNB1.2 – Syntax Version Number</span></span><br /><br /> <span data-ttu-id="92eb2-160">UNB9 – 确认请求</span><span class="sxs-lookup"><span data-stu-id="92eb2-160">UNB9 – Acknowledgment Request</span></span>|  
  
### <a name="to-customize-an-enumeration-in-the-envelope-schema"></a><span data-ttu-id="92eb2-161">若要自定义信封架构中的枚举</span><span class="sxs-lookup"><span data-stu-id="92eb2-161">To customize an enumeration in the envelope schema</span></span>  
  
1. <span data-ttu-id="92eb2-162">在[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]，创建一个新项目。</span><span class="sxs-lookup"><span data-stu-id="92eb2-162">In [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], create a new project.</span></span>  
  
2. <span data-ttu-id="92eb2-163">添加的 X12_ServiceSchemaExtension.xsd 架构 （以修改 X12 或 HIPAA 枚举） 或 EDIFACT_ServiceSchemaExtension.xsd 架构中的[!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]XSD_Schema\EDI 向 BizTalk 项目在 BizTalk 编辑器中。</span><span class="sxs-lookup"><span data-stu-id="92eb2-163">Add the X12_ServiceSchemaExtension.xsd schema (to modify X12 or HIPAA enums) or the EDIFACT_ServiceSchemaExtension.xsd schema in [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]XSD_Schema\EDI to a BizTalk project in the BizTalk Editor.</span></span> <span data-ttu-id="92eb2-164">打开该架构。</span><span class="sxs-lookup"><span data-stu-id="92eb2-164">Open the schema.</span></span>  
  
3. <span data-ttu-id="92eb2-165">若要更改枚举中的值，请选择中的枚举**属性**窗格中，然后单击省略号以打开**枚举编辑器**。</span><span class="sxs-lookup"><span data-stu-id="92eb2-165">To change the values in an enumeration, select the enumeration in the **Properties** pane, and then click the ellipsis to open the **Enumeration Editor**.</span></span> <span data-ttu-id="92eb2-166">根据需要确保在每行一个值添加到值列表**值**窗格。</span><span class="sxs-lookup"><span data-stu-id="92eb2-166">Add to the list of values, as needed, ensuring that there is one value on each line in the **Values** pane.</span></span> <span data-ttu-id="92eb2-167">单击“确定” 。</span><span class="sxs-lookup"><span data-stu-id="92eb2-167">Click **OK**.</span></span>  
  
   > [!IMPORTANT]
   >  <span data-ttu-id="92eb2-168">不能更改服务架构的命名空间。</span><span class="sxs-lookup"><span data-stu-id="92eb2-168">You cannot change the namespace for the service schema.</span></span> <span data-ttu-id="92eb2-169">架构应具有形式随产品一起安装的原始扩展架构的相同命名空间和根节点名称。</span><span class="sxs-lookup"><span data-stu-id="92eb2-169">The schema should have the same namespace and root node name as the original extension schema installed with the product.</span></span>  
  
   > [!NOTE]
   >  <span data-ttu-id="92eb2-170">如果您打算向架构添加新字段，该字段将被忽略。</span><span class="sxs-lookup"><span data-stu-id="92eb2-170">If you were to add a new field to the schemas, that field would be ignored.</span></span> <span data-ttu-id="92eb2-171">仅中列出的字段[信封字段，可以修改](../core/customizing-enumerations-in-the-envelope-schema.md#BKMK_Env_Can)上面部分可以进行更改。</span><span class="sxs-lookup"><span data-stu-id="92eb2-171">Only the fields listed in the [Envelope Fields That Can Be Modified](../core/customizing-enumerations-in-the-envelope-schema.md#BKMK_Env_Can) section above can be changed.</span></span>  
  
4. <span data-ttu-id="92eb2-172">保存该架构。</span><span class="sxs-lookup"><span data-stu-id="92eb2-172">Save the schema.</span></span>  
  
5. <span data-ttu-id="92eb2-173">右键单击架构，然后单击**部署**。</span><span class="sxs-lookup"><span data-stu-id="92eb2-173">Right-click the schema, and click **Deploy**.</span></span>  
  
   > [!NOTE]
   >  <span data-ttu-id="92eb2-174">架构必须部署在当前 BizTalk 组中。</span><span class="sxs-lookup"><span data-stu-id="92eb2-174">The schema must be deployed in the current BizTalk group.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="92eb2-175">请参阅</span><span class="sxs-lookup"><span data-stu-id="92eb2-175">See Also</span></span>  
 <span data-ttu-id="92eb2-176">[开发 EDI 架构](../core/developing-edi-schemas.md) </span><span class="sxs-lookup"><span data-stu-id="92eb2-176">[Developing EDI Schemas](../core/developing-edi-schemas.md) </span></span>  
 [<span data-ttu-id="92eb2-177">修改 EDI 架构</span><span class="sxs-lookup"><span data-stu-id="92eb2-177">Modifying EDI Schemas</span></span>](../core/modifying-edi-schemas.md)