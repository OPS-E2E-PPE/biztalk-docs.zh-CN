---
title: 自定义信封架构中的枚举 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 2b053d82-753f-4a05-9922-fa5dbd073ba9
caps.latest.revision: 17
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: d8897130974f0d2248de49d2fd84646bb0cbafd7
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/27/2018
ms.locfileid: "36991990"
---
# <a name="customizing-enumerations-in-the-envelope-schema"></a><span data-ttu-id="1e74d-102">信封架构中自定义枚举</span><span class="sxs-lookup"><span data-stu-id="1e74d-102">Customizing Enumerations in the Envelope Schema</span></span>
<span data-ttu-id="1e74d-103">使用 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]，您可以在服务（信封）架构中自定义 ID 字段枚举。</span><span class="sxs-lookup"><span data-stu-id="1e74d-103">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] enables you to customize ID field enumerations in the service (envelope) schema.</span></span> <span data-ttu-id="1e74d-104">这样，您可以接收或发送在信封的发送方或接收方 ID 字段中具有非标准值（在 X12 标准正文定义的值集以外）的交换。</span><span class="sxs-lookup"><span data-stu-id="1e74d-104">This enables you to receive or send interchanges that have non-standard values (outside the set of values defined by the X12 standards body) in the sender or receiver ID fields in the envelope.</span></span> <span data-ttu-id="1e74d-105">您还可以更改在协议属性定义的标头值下拉列表中可用的限定符。</span><span class="sxs-lookup"><span data-stu-id="1e74d-105">It also enables you to change the qualifiers that are available in drop-down lists for header values in agreement property definitions.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="1e74d-106">对架构的修改会应用于上述标准中的所有事务。</span><span class="sxs-lookup"><span data-stu-id="1e74d-106">When you modify a schema, that modification applies to all transactions for the standard in question.</span></span> <span data-ttu-id="1e74d-107">为某一参与方，不能在信封架构中进行修改。</span><span class="sxs-lookup"><span data-stu-id="1e74d-107">You cannot make a modification in the envelope schema for a single party.</span></span>  
  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="1e74d-108"> 从产品随附的 Microsoft.BizTalk.Edi.BaseArtifacts.dll 的静态服务架构中请求允许的值列表。</span><span class="sxs-lookup"><span data-stu-id="1e74d-108"> pulls the list of allowed values from static service schemas in the Microsoft.BizTalk.Edi.BaseArtifacts.dll, which ships with the product.</span></span> <span data-ttu-id="1e74d-109">若要扩展基本的值集，您需要开发并部署服务架构扩展。</span><span class="sxs-lookup"><span data-stu-id="1e74d-109">To extend the base set of values, you need to develop and deploy a service schema extension.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="1e74d-110"> 提供服务 （信封） 架构模板。 可用于修改中的枚举。</span><span class="sxs-lookup"><span data-stu-id="1e74d-110"> provides service (envelope) schema templates that you can use to modify the enumerations in.</span></span> <span data-ttu-id="1e74d-111">这些服务架构为 X12_ServiceSchemaExtension.xsd 和 EDIFACT_ServiceSchemaExtension.xsd。</span><span class="sxs-lookup"><span data-stu-id="1e74d-111">These service schemas are X12_ServiceSchemaExtension.xsd and EDIFACT_ServiceSchemaExtension.xsd.</span></span> <span data-ttu-id="1e74d-112">每个自定义架构都将根据标准拥有下列命名空间中的一个。</span><span class="sxs-lookup"><span data-stu-id="1e74d-112">Each custom schema will have one of the following namespaces, based upon the standard.</span></span> <span data-ttu-id="1e74d-113">此命名空间不能更改。</span><span class="sxs-lookup"><span data-stu-id="1e74d-113">This namespace cannot be changed.</span></span>  
  
|<span data-ttu-id="1e74d-114">Standard</span><span class="sxs-lookup"><span data-stu-id="1e74d-114">Standard</span></span>|<span data-ttu-id="1e74d-115">命名空间</span><span class="sxs-lookup"><span data-stu-id="1e74d-115">Namespace</span></span>|  
|--------------|---------------|  
|<span data-ttu-id="1e74d-116">X12 和 HIPAA</span><span class="sxs-lookup"><span data-stu-id="1e74d-116">X12 and HIPAA</span></span>|`http://schemas.microsoft.com/BizTalk/EDI/X12/2006`|  
|<span data-ttu-id="1e74d-117">EDIFACT</span><span class="sxs-lookup"><span data-stu-id="1e74d-117">EDIFACT</span></span>|`http://schemas.microsoft.com/BizTalk/EDI/EDIFACT/2006`|  
  
 <span data-ttu-id="1e74d-118">可以在 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 的 BizTalk 编辑器中更改架构（请参阅下面的过程）。</span><span class="sxs-lookup"><span data-stu-id="1e74d-118">You make the changes to the schema in BizTalk Editor in [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] (see the procedure below).</span></span> <span data-ttu-id="1e74d-119">进行所需更改之后，必须部署架构。</span><span class="sxs-lookup"><span data-stu-id="1e74d-119">After making the required changes, you must deploy the schema.</span></span>  
  
 <span data-ttu-id="1e74d-120">当 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 验证信封段（对于 X12 为 ISA 和 GS，或者对于 EDIFACT 为 UNB 和 UNG）时，在接收端和发送端都将检查是否存在基于其命名空间的自定义服务架构。</span><span class="sxs-lookup"><span data-stu-id="1e74d-120">On both the receive and send sides, when [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] validates the envelope segments (ISA and GS for X12, or UNB and UNG for EDIFACT), it will check for the existence of the custom service schema based on its namespace.</span></span> <span data-ttu-id="1e74d-121">如果已部署自定义架构，[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 会将该架构与常规服务架构合并在一起，并将在指定之处同时使用自定义枚举值和标准枚举值。</span><span class="sxs-lookup"><span data-stu-id="1e74d-121">If the custom schema is deployed, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will merge that schema with the regular service schema and will use both custom and standard enumeration values where specified.</span></span> <span data-ttu-id="1e74d-122">可以自定义架构以扩展枚举列表，但不能从该列表中删除值。</span><span class="sxs-lookup"><span data-stu-id="1e74d-122">You can customize the schema to extend an enumeration list, but you cannot remove values from it.</span></span> <span data-ttu-id="1e74d-123">如果未部署自定义架构，[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 将使用标准服务架构。</span><span class="sxs-lookup"><span data-stu-id="1e74d-123">If a custom schema is not deployed, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will use the standard service schema.</span></span>  
  
 <span data-ttu-id="1e74d-124">部署自定义架构之后，[!INCLUDE[firstref_TPM](../includes/firstref-tpm-md.md)] 管理控制台中的 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 用户界面将使用自定义枚举中的值填充 [!INCLUDE[TPM_abbrev](../includes/tpm-abbrev-md.md)] 属性页中的相应下拉列表。</span><span class="sxs-lookup"><span data-stu-id="1e74d-124">After you have deployed a custom schema, the [!INCLUDE[firstref_TPM](../includes/firstref-tpm-md.md)] user interface in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console will use the values in a custom enumeration to populate the appropriate drop-down lists in the [!INCLUDE[TPM_abbrev](../includes/tpm-abbrev-md.md)] property pages.</span></span> <span data-ttu-id="1e74d-125">如果尚未部署自定义架构，[!INCLUDE[TPM_abbrev](../includes/tpm-abbrev-md.md)] 将在标准服务架构中使用枚举中的值。</span><span class="sxs-lookup"><span data-stu-id="1e74d-125">If you have not deployed a custom schema, [!INCLUDE[TPM_abbrev](../includes/tpm-abbrev-md.md)] will use the values in the enumerations in the standard service schema.</span></span> <span data-ttu-id="1e74d-126">另外，[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 运行时将使用自定义枚举来验证消息。</span><span class="sxs-lookup"><span data-stu-id="1e74d-126">In addition, the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] runtime will use the custom enumeration to validate a message.</span></span>  
  
 <span data-ttu-id="1e74d-127">如果使用 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 提供的 XML 工具验证带有信封的实例，并且已自定义了服务架构，则在 BizTalk 项目中除文档（事务集）架构之外还必须包括自定义服务架构，并且必要时还要包括批处理架构。</span><span class="sxs-lookup"><span data-stu-id="1e74d-127">If you use the XML tools provided with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to validate an instance with its envelope, and you have customized the service schema, you will have to include the custom service schema in the BizTalk project, in addition to the document (transaction set) schema(s) and if necessary, the batch schema.</span></span> <span data-ttu-id="1e74d-128">如果验证的是不带信封的事务集实例，则不必包括此架构。</span><span class="sxs-lookup"><span data-stu-id="1e74d-128">This is not necessary if you are validating a transaction-set instance that does not have an envelope.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="1e74d-129">必要條件</span><span class="sxs-lookup"><span data-stu-id="1e74d-129">Prerequisites</span></span>  
 <span data-ttu-id="1e74d-130">你必须以 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理员组成员的身份登录。</span><span class="sxs-lookup"><span data-stu-id="1e74d-130">You must be logged on as a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group.</span></span>  
  
##  <a name="BKMK_Env_Can"></a> <span data-ttu-id="1e74d-131">可以修改的信封字段</span><span class="sxs-lookup"><span data-stu-id="1e74d-131">Envelope Fields That Can Be Modified</span></span>  
 <span data-ttu-id="1e74d-132">只能修改以下信封字段。</span><span class="sxs-lookup"><span data-stu-id="1e74d-132">Only the following envelope fields can be modified.</span></span> <span data-ttu-id="1e74d-133">只有这些字段包括在扩展架构中。</span><span class="sxs-lookup"><span data-stu-id="1e74d-133">Only these fields are included in the extension schemas.</span></span> <span data-ttu-id="1e74d-134">在服务扩展架构中添加其他字段对处理没有任何影响。</span><span class="sxs-lookup"><span data-stu-id="1e74d-134">Added other fields in the service extension schema will not have any effect on processing.</span></span>  
  
|<span data-ttu-id="1e74d-135">Standard</span><span class="sxs-lookup"><span data-stu-id="1e74d-135">Standard</span></span>|<span data-ttu-id="1e74d-136">字段</span><span class="sxs-lookup"><span data-stu-id="1e74d-136">Field</span></span>|  
|--------------|-----------|  
|<span data-ttu-id="1e74d-137">X12 和 HIPAA</span><span class="sxs-lookup"><span data-stu-id="1e74d-137">X12 and HIPAA</span></span>|<span data-ttu-id="1e74d-138">ISA01 – 授权限定符</span><span class="sxs-lookup"><span data-stu-id="1e74d-138">ISA01 – Authorization Qualifier</span></span><br /><br /> <span data-ttu-id="1e74d-139">ISA03 – 安全限定符</span><span class="sxs-lookup"><span data-stu-id="1e74d-139">ISA03 – Security Qualifier</span></span><br /><br /> <span data-ttu-id="1e74d-140">ISA05 – 发送方 ID 限定符</span><span class="sxs-lookup"><span data-stu-id="1e74d-140">ISA05 – Sender ID Qualifier</span></span><br /><br /> <span data-ttu-id="1e74d-141">ISA07 - 接收方 ID 限定符</span><span class="sxs-lookup"><span data-stu-id="1e74d-141">ISA07 - Receiver ID Qualifier</span></span><br /><br /> <span data-ttu-id="1e74d-142">GS01 - 功能代码</span><span class="sxs-lookup"><span data-stu-id="1e74d-142">GS01 - Functional Code</span></span><br /><br /> <span data-ttu-id="1e74d-143">GS07 - 责任代理</span><span class="sxs-lookup"><span data-stu-id="1e74d-143">GS07 - Responsible Agency</span></span>|  
|<span data-ttu-id="1e74d-144">EDIFACT</span><span class="sxs-lookup"><span data-stu-id="1e74d-144">EDIFACT</span></span>|<span data-ttu-id="1e74d-145">UNB2.2 - 发送方代码限定符</span><span class="sxs-lookup"><span data-stu-id="1e74d-145">UNB2.2 - Sender Code Qualifier</span></span><br /><br /> <span data-ttu-id="1e74d-146">UNB3.2 - 接收方代码限定符</span><span class="sxs-lookup"><span data-stu-id="1e74d-146">UNB3.2 - Receiver Code Qualifier</span></span>|  
  
## <a name="envelope-fields-that-should-not-be-modified"></a><span data-ttu-id="1e74d-147">不应修改的信封字段</span><span class="sxs-lookup"><span data-stu-id="1e74d-147">Envelope Fields That Should Not Be Modified</span></span>  
 <span data-ttu-id="1e74d-148">信封中的某些字段控制引擎中的行为。</span><span class="sxs-lookup"><span data-stu-id="1e74d-148">Some fields in the envelope drive behaviors in the engine.</span></span> <span data-ttu-id="1e74d-149">因此，不应向任何这些字段的现有枚举列表添加值。</span><span class="sxs-lookup"><span data-stu-id="1e74d-149">As a result, you should not add values to the existing enumeration list for any of these fields.</span></span> <span data-ttu-id="1e74d-150">这些字段如下所示：</span><span class="sxs-lookup"><span data-stu-id="1e74d-150">These fields are the following:</span></span>  
  
|<span data-ttu-id="1e74d-151">Standard</span><span class="sxs-lookup"><span data-stu-id="1e74d-151">Standard</span></span>|<span data-ttu-id="1e74d-152">字段</span><span class="sxs-lookup"><span data-stu-id="1e74d-152">Field</span></span>|  
|--------------|-----------|  
|<span data-ttu-id="1e74d-153">X12 和 HIPAA</span><span class="sxs-lookup"><span data-stu-id="1e74d-153">X12 and HIPAA</span></span>|<span data-ttu-id="1e74d-154">ISA11 – 交换控制标准标识符</span><span class="sxs-lookup"><span data-stu-id="1e74d-154">ISA11 – Interchange Control Standards Identifier</span></span><br /><br /> <span data-ttu-id="1e74d-155">ISA12 – 交换控制版本号</span><span class="sxs-lookup"><span data-stu-id="1e74d-155">ISA12 – Interchange Control Version Number</span></span><br /><br /> <span data-ttu-id="1e74d-156">ISA14 – 请求确认</span><span class="sxs-lookup"><span data-stu-id="1e74d-156">ISA14 – Acknowledgment Requested</span></span>|  
|<span data-ttu-id="1e74d-157">EDIFACT</span><span class="sxs-lookup"><span data-stu-id="1e74d-157">EDIFACT</span></span>|<span data-ttu-id="1e74d-158">UNB1.1 – 语法标识符</span><span class="sxs-lookup"><span data-stu-id="1e74d-158">UNB1.1 – Syntax Identifier</span></span><br /><br /> <span data-ttu-id="1e74d-159">UNB1.2 – 语法版本号</span><span class="sxs-lookup"><span data-stu-id="1e74d-159">UNB1.2 – Syntax Version Number</span></span><br /><br /> <span data-ttu-id="1e74d-160">UNB9 – 确认请求</span><span class="sxs-lookup"><span data-stu-id="1e74d-160">UNB9 – Acknowledgment Request</span></span>|  
  
### <a name="to-customize-an-enumeration-in-the-envelope-schema"></a><span data-ttu-id="1e74d-161">在信封架构中自定义枚举</span><span class="sxs-lookup"><span data-stu-id="1e74d-161">To customize an enumeration in the envelope schema</span></span>  
  
1. <span data-ttu-id="1e74d-162">在 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 中，创建一个新项目。</span><span class="sxs-lookup"><span data-stu-id="1e74d-162">In [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], create a new project.</span></span>  
  
2. <span data-ttu-id="1e74d-163">在 BizTalk 编辑器中，将 [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]XSD_Schema\EDI 中的 X12_ServiceSchemaExtension.xsd 架构（以修改 X12 或 HIPAA 枚举）或 EDIFACT_ServiceSchemaExtension.xsd 架构添加到 BizTalk 项目。</span><span class="sxs-lookup"><span data-stu-id="1e74d-163">Add the X12_ServiceSchemaExtension.xsd schema (to modify X12 or HIPAA enums) or the EDIFACT_ServiceSchemaExtension.xsd schema in [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]XSD_Schema\EDI to a BizTalk project in the BizTalk Editor.</span></span> <span data-ttu-id="1e74d-164">打开架构。</span><span class="sxs-lookup"><span data-stu-id="1e74d-164">Open the schema.</span></span>  
  
3. <span data-ttu-id="1e74d-165">若要更改枚举中的值，请选择中的枚举**属性**窗格中，然后单击省略号以打开**枚举编辑器**。</span><span class="sxs-lookup"><span data-stu-id="1e74d-165">To change the values in an enumeration, select the enumeration in the **Properties** pane, and then click the ellipsis to open the **Enumeration Editor**.</span></span> <span data-ttu-id="1e74d-166">根据需要确保在每行一个值添加到值列表**值**窗格。</span><span class="sxs-lookup"><span data-stu-id="1e74d-166">Add to the list of values, as needed, ensuring that there is one value on each line in the **Values** pane.</span></span> <span data-ttu-id="1e74d-167">单击“确定” 。</span><span class="sxs-lookup"><span data-stu-id="1e74d-167">Click **OK**.</span></span>  
  
   > [!IMPORTANT]
   >  <span data-ttu-id="1e74d-168">不能更改服务架构的命名空间。</span><span class="sxs-lookup"><span data-stu-id="1e74d-168">You cannot change the namespace for the service schema.</span></span> <span data-ttu-id="1e74d-169">架构应与随产品一起安装的原始扩展架构具有相同的命名空间和根节点名称。</span><span class="sxs-lookup"><span data-stu-id="1e74d-169">The schema should have the same namespace and root node name as the original extension schema installed with the product.</span></span>  
  
   > [!NOTE]
   >  <span data-ttu-id="1e74d-170">如果要向架构添加新字段，该字段将被忽略。</span><span class="sxs-lookup"><span data-stu-id="1e74d-170">If you were to add a new field to the schemas, that field would be ignored.</span></span> <span data-ttu-id="1e74d-171">仅中列出的字段[信封字段，可以修改](../core/customizing-enumerations-in-the-envelope-schema.md#BKMK_Env_Can)上面部分可以进行更改。</span><span class="sxs-lookup"><span data-stu-id="1e74d-171">Only the fields listed in the [Envelope Fields That Can Be Modified](../core/customizing-enumerations-in-the-envelope-schema.md#BKMK_Env_Can) section above can be changed.</span></span>  
  
4. <span data-ttu-id="1e74d-172">保存该架构。</span><span class="sxs-lookup"><span data-stu-id="1e74d-172">Save the schema.</span></span>  
  
5. <span data-ttu-id="1e74d-173">右键单击架构，然后单击**部署**。</span><span class="sxs-lookup"><span data-stu-id="1e74d-173">Right-click the schema, and click **Deploy**.</span></span>  
  
   > [!NOTE]
   >  <span data-ttu-id="1e74d-174">架构必须部署在当前 BizTalk 组中。</span><span class="sxs-lookup"><span data-stu-id="1e74d-174">The schema must be deployed in the current BizTalk group.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1e74d-175">请参阅</span><span class="sxs-lookup"><span data-stu-id="1e74d-175">See Also</span></span>  
 <span data-ttu-id="1e74d-176">[开发 EDI 架构](../core/developing-edi-schemas.md) </span><span class="sxs-lookup"><span data-stu-id="1e74d-176">[Developing EDI Schemas](../core/developing-edi-schemas.md) </span></span>  
 [<span data-ttu-id="1e74d-177">修改 EDI 架构</span><span class="sxs-lookup"><span data-stu-id="1e74d-177">Modifying EDI Schemas</span></span>](../core/modifying-edi-schemas.md)