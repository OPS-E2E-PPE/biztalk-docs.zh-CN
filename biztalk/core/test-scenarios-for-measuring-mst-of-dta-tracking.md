---
title: "用于测量 MST DTA 跟踪测试方案 |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 303dc1d8-baac-4b54-92c8-95c0ce640a76
caps.latest.revision: "12"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 28a1cee9de5a97ac7430cebbee8b5e2a253a1ceb
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
---
# <a name="test-scenarios-for-measuring-mst-of-dta-tracking"></a><span data-ttu-id="096db-102">用于测量 MST DTA 跟踪测试方案</span><span class="sxs-lookup"><span data-stu-id="096db-102">Test Scenarios for Measuring MST of DTA Tracking</span></span>
<span data-ttu-id="096db-103">为了说明实践中的工作方式以及介绍用于度量跟踪的最大可承受吞吐量 (MST) 的简单技术，我们现在将针对度量跟踪 MST 提供一个测试方案。</span><span class="sxs-lookup"><span data-stu-id="096db-103">To show how all of this works in practice and to introduce a simple technique for measuring maximum sustainable throughput (MST) for tracking, we will now present a test scenario for which the tracking MST has been measured.</span></span> <span data-ttu-id="096db-104">我们不仅将提供涉及的技术，而且您还可以将提供的数据用作起点，评估其他系统的跟踪性能。</span><span class="sxs-lookup"><span data-stu-id="096db-104">Not only will we provide the techniques involved, but you can use the data presented as a starting point to estimate tracking performance for other systems.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="096db-105">读者应了解本主题所包含的信息代表了 Microsoft 在文档发布之日对所讨论的问题的当前观点。</span><span class="sxs-lookup"><span data-stu-id="096db-105">Readers should be aware that the information contained in this topic represents the current view of Microsoft on the issues discussed as of the date of publication.</span></span> <span data-ttu-id="096db-106">由于我们必须对市场条件和技术的更改作出响应，所以 Microsoft 无法确保数据发布后的所有信息的准确性。</span><span class="sxs-lookup"><span data-stu-id="096db-106">Because we must respond to changing market conditions and technologies, Microsoft cannot guarantee the accuracy of any information presented after the date of publication.</span></span>  
  
## <a name="test-scenario-topology-and-configuration"></a><span data-ttu-id="096db-107">测试方案拓扑结构和配置</span><span class="sxs-lookup"><span data-stu-id="096db-107">Test Scenario Topology and Configuration</span></span>  
 <span data-ttu-id="096db-108">下图显示了测试方案的拓扑结构和配置。</span><span class="sxs-lookup"><span data-stu-id="096db-108">The following figure shows the topology and configuration for the test scenario.</span></span>  <span data-ttu-id="096db-109">它是四个 MessageBox 数据库服务器、 专用的 BizTalkDTADb 数据库服务器，与运行的七个服务器的总共相当多生成扩展[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="096db-109">It is a sizable build-out with four MessageBox database servers, a dedicated BizTalkDTADb database server, and a total of seven servers running [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="096db-110">请注意，图中的 BAM 服务器没有用于此测试方案。</span><span class="sxs-lookup"><span data-stu-id="096db-110">Note that the BAM server pictured in the figure was not in use for this test scenario.</span></span>  
  
 <span data-ttu-id="096db-111">**BizTalkDTADb 可持续吞吐量**</span><span class="sxs-lookup"><span data-stu-id="096db-111">**BizTalkDTADb Sustainable Throughput**</span></span>  
  
 <span data-ttu-id="096db-112">![跟踪性能拓扑](../core/media/trackingperformancetopology.gif "TrackingPerformanceTopology")</span><span class="sxs-lookup"><span data-stu-id="096db-112">![Tracking performance topology](../core/media/trackingperformancetopology.gif "TrackingPerformanceTopology")</span></span>  
  
 <span data-ttu-id="096db-113">**硬件规范 (BizTalk Server)**</span><span class="sxs-lookup"><span data-stu-id="096db-113">**Hardware specification (BizTalk Server)**</span></span>  
  
-   <span data-ttu-id="096db-114">CPU： 双 3 GHz (缓存： L2: 512 KB/L3: 1 MB)</span><span class="sxs-lookup"><span data-stu-id="096db-114">CPU: Dual 3 GHz (Cache: L2: 512 KB/L3: 1 MB)</span></span>  
  
-   <span data-ttu-id="096db-115">内存： 2 GB 的 RAM</span><span class="sxs-lookup"><span data-stu-id="096db-115">Memory: 2 GB of RAM</span></span>  
  
-   <span data-ttu-id="096db-116">HDD: 2 X 32 GB/15 K</span><span class="sxs-lookup"><span data-stu-id="096db-116">HDD: 2 X 32 GB/15 K</span></span>  
  
 <span data-ttu-id="096db-117">**硬件规范 (SQL Server)**</span><span class="sxs-lookup"><span data-stu-id="096db-117">**Hardware specification (SQL Server)**</span></span>  
  
-   <span data-ttu-id="096db-118">CPU： 四核 2 GHz (L2: 512 KB/L3: 1 MB)</span><span class="sxs-lookup"><span data-stu-id="096db-118">CPU: Quad 2 GHz (L2: 512 KB/L3: 1 MB)</span></span>  
  
-   <span data-ttu-id="096db-119">内存： 4 GB RAM</span><span class="sxs-lookup"><span data-stu-id="096db-119">Memory: 4 GB of RAM</span></span>  
  
-   <span data-ttu-id="096db-120">HDD: 2 X 32 GB/15 K + SAN</span><span class="sxs-lookup"><span data-stu-id="096db-120">HDD: 2 X 32 GB/15 K + SAN</span></span>  
  
 <span data-ttu-id="096db-121">下图概述了这一测试方案结构，其中：</span><span class="sxs-lookup"><span data-stu-id="096db-121">The next figure provides an overview of the test scenario architecture, where</span></span>  
  
-   <span data-ttu-id="096db-122">**TP** = 跟踪点，其中某些元素将会跟踪，如事件或消息属性的点。</span><span class="sxs-lookup"><span data-stu-id="096db-122">**TP** = Track Point, a point at which some elements are tracked such as events or message properties.</span></span>  
  
-   <span data-ttu-id="096db-123">**MB** = 消息正文，在其中跟踪消息正文的点。</span><span class="sxs-lookup"><span data-stu-id="096db-123">**MB** = Message Body, a point at which a message body is tracked.</span></span>  
  
 <span data-ttu-id="096db-124">下面的解决方案结构显示具有三个主要配置组件的跟踪配置：</span><span class="sxs-lookup"><span data-stu-id="096db-124">The following solution architecture shows a tracking configuration with three main configuration components:</span></span>  
  
-   <span data-ttu-id="096db-125">**默认 DTA 跟踪**。</span><span class="sxs-lookup"><span data-stu-id="096db-125">**Default DTA Tracking**.</span></span> <span data-ttu-id="096db-126">所有图中的事件跟踪点都在默认情况下时[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]安装。</span><span class="sxs-lookup"><span data-stu-id="096db-126">All of the event track points in the figure are on by default when [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] is installed.</span></span>  
  
-   <span data-ttu-id="096db-127">**消息属性**。</span><span class="sxs-lookup"><span data-stu-id="096db-127">**Message Properties**.</span></span> <span data-ttu-id="096db-128">与入站管道中的拆装器 (DA) 组件相关联的跟踪点表示跟踪来自入站消息的 10 个属性。</span><span class="sxs-lookup"><span data-stu-id="096db-128">The track point associated with the dis-assembler (DA) component in the inbound pipeline represents the tracking of 10 properties from the inbound message.</span></span> <span data-ttu-id="096db-129">有关如何升级跟踪的属性的详细信息，请参阅[提升属性](../core/promoting-properties.md)。</span><span class="sxs-lookup"><span data-stu-id="096db-129">For more information about how to promote properties for tracking, see [Promoting Properties](../core/promoting-properties.md).</span></span>  
  
-   <span data-ttu-id="096db-130">**消息正文**。</span><span class="sxs-lookup"><span data-stu-id="096db-130">**Message Body**.</span></span> <span data-ttu-id="096db-131">图中的两个消息正文 (MB) 点表示跟踪消息正文的点。</span><span class="sxs-lookup"><span data-stu-id="096db-131">The two message body (MB) points from the figure represent the points at which message bodies are tracked.</span></span> <span data-ttu-id="096db-132">有关如何设置跟踪的消息正文的详细信息，请参阅[配置跟踪使用 BizTalk Server 管理控制台](http://msdn.microsoft.com/en-us/49b7f9d3-60b5-41bd-ba8b-029253926bef)。</span><span class="sxs-lookup"><span data-stu-id="096db-132">For more information on how to set up message body tracking, see [Configuring Tracking Using the BizTalk Server Administration Console](http://msdn.microsoft.com/en-us/49b7f9d3-60b5-41bd-ba8b-029253926bef).</span></span>  
  
 <span data-ttu-id="096db-133">**测试方案体系结构**</span><span class="sxs-lookup"><span data-stu-id="096db-133">**Test Scenario Architecture**</span></span>  
  
 <span data-ttu-id="096db-134">![性能方案](../core/media/performancescenarios.gif "PerformanceScenarios")</span><span class="sxs-lookup"><span data-stu-id="096db-134">![Performance scenarios](../core/media/performancescenarios.gif "PerformanceScenarios")</span></span>  
  
## <a name="test-techniques"></a><span data-ttu-id="096db-135">测试技术</span><span class="sxs-lookup"><span data-stu-id="096db-135">Test Techniques</span></span>  
 <span data-ttu-id="096db-136">文件适配器既用于接收，又用于发送。</span><span class="sxs-lookup"><span data-stu-id="096db-136">The file adapter was used for both receiving and sending.</span></span> <span data-ttu-id="096db-137">我们使用了负载生成工具 LoadGen 2007 将消息传送到入站文件共享。</span><span class="sxs-lookup"><span data-stu-id="096db-137">We used the Load Generation tool, LoadGen 2007, to deliver messages to the inbound file share.</span></span> <span data-ttu-id="096db-138">该 LoadGen 工具配置为以特定速率传送文件，以便我们可以在搜索跟踪 MST 级别时变化负载。</span><span class="sxs-lookup"><span data-stu-id="096db-138">The LoadGen tool was configured to deliver files at a specific rate so that we could vary the load while searching for our tracking MST level.</span></span> <span data-ttu-id="096db-139">有关 LoadGen 工具的详细信息，请参阅[使用 Microsoft BizTalk LoadGen 2007 工具](../core/using-the-microsoft-biztalk-loadgen-2007-tool.md)。</span><span class="sxs-lookup"><span data-stu-id="096db-139">For more information about the LoadGen tool, see [Using the Microsoft BizTalk LoadGen 2007 Tool](../core/using-the-microsoft-biztalk-loadgen-2007-tool.md).</span></span>  
  
 <span data-ttu-id="096db-140">出于测试目的，我们假定要求数据在 BizTalkDTADb 数据库中保留 24 小时。</span><span class="sxs-lookup"><span data-stu-id="096db-140">For our tests, we assumed a requirement of 24 hrs retention in the BizTalkDTADb database.</span></span> <span data-ttu-id="096db-141">即，任何早于 24 小时的内容都将从数据库中清除。</span><span class="sxs-lookup"><span data-stu-id="096db-141">That is, anything older than 24 hrs was purged from the database.</span></span> <span data-ttu-id="096db-142">存档和清除 SQL 作业设计为只清除已存档的数据，以便在这一过程中不会丢失任何数据。</span><span class="sxs-lookup"><span data-stu-id="096db-142">The archive and purge SQL job is designed so that only the data that has been archived is purged so that no data is lost during the process.</span></span>  
  
 <span data-ttu-id="096db-143">为了按此要求完全测试系统，负载必须至少运行 25 小时，以便包括至少一个存档和清除周期。</span><span class="sxs-lookup"><span data-stu-id="096db-143">To fully test the system with this requirement, it was necessary to run the load for at least 25 hours so that at least one archive and purge cycle was included.</span></span> <span data-ttu-id="096db-144">我们选择运行整 48 小时，以便在第一个存档后监控系统 24 小时，确保其可承受。</span><span class="sxs-lookup"><span data-stu-id="096db-144">We elected to run for a full 48 hours to monitor the system for 24 hours after the first archive to be sure it was sustainable.</span></span> <span data-ttu-id="096db-145">要求第一个 24 小时是为了积累足够旧到存档（每 24 小时）的数据，以便模拟稳定的状态。</span><span class="sxs-lookup"><span data-stu-id="096db-145">The first 24 hours was required in order to build up data that was old enough to be archived (every 24 hours) to simulate steady state.</span></span> <span data-ttu-id="096db-146">在第二个 24 小时期间对系统进行监控，以便确定所有进程（例如 TDDS、存档和清除）能够赶上吞吐量。</span><span class="sxs-lookup"><span data-stu-id="096db-146">The system was monitored during the second 24 hours to determine that all processes (for example, TDDS, archiving and purging) were able to keep up with the throughput.</span></span>  
  
 <span data-ttu-id="096db-147">基于我们对跟踪行为的理解，通常只需对以下几个关键性能指标 (KPI) 进行监控以确定可承受能力：</span><span class="sxs-lookup"><span data-stu-id="096db-147">Drawing from our understanding of the tracking behavior, there are just a few key performance indicators (KPI) that typically need to be monitored to determine sustainability:</span></span>  
  
-   <span data-ttu-id="096db-148">**物理磁盘空闲时间 BizTalkDTADb 数据库数据文件**。</span><span class="sxs-lookup"><span data-stu-id="096db-148">**The physical disk idle time for BizTalkDTADb database data file**.</span></span> <span data-ttu-id="096db-149">如果该物理磁盘空闲时间接近 0，则表明 BizTalkDTADb 数据库因充斥了大量跟踪数据、存档行为和/或清除行为而趋于饱和。</span><span class="sxs-lookup"><span data-stu-id="096db-149">If the physical disk idle time approaches 0, this is a good sign that the BizTalkDTADb database is saturated with either the influx of tracked data, archiving activity, and/or purging activity.</span></span>  
  
-   <span data-ttu-id="096db-150">**Trackingdata 表深度**。</span><span class="sxs-lookup"><span data-stu-id="096db-150">**The trackingdata table depth**.</span></span> <span data-ttu-id="096db-151">如果 trackingdata 表开始单调增长，即无限制地持续增长，则表明基于当前吞吐率，TDDS 将数据插入 BizTalkDTADb 数据库的速度太快了，以致它跟不上。</span><span class="sxs-lookup"><span data-stu-id="096db-151">If the trackingdata table starts to grow monotonically, that is, continues to grow unbounded, then it is a clear sign that, at the current throughput rate, TDDS is not able to insert data into the BizTalkDTADb database fast enough to keep up.</span></span>  
  
-   <span data-ttu-id="096db-152">**假脱机深度**。</span><span class="sxs-lookup"><span data-stu-id="096db-152">**The spool depth**.</span></span> <span data-ttu-id="096db-153">有多种因素可能导致后台处理增长。</span><span class="sxs-lookup"><span data-stu-id="096db-153">There are a number of things that can cause the spool to grow.</span></span> <span data-ttu-id="096db-154">可能导致后台处理增长的情形之一是：将跟踪消息正文从 MessageBox 数据库复制到 BizTalkDTADb 数据库的 SQL 作业落后了。</span><span class="sxs-lookup"><span data-stu-id="096db-154">One of the situations that can cause spool growth is if the SQL job that copies tracked message bodies from the MessageBox database to the BizTalkDTADb database gets behind.</span></span> <span data-ttu-id="096db-155">因为需要跟踪的消息在成功复制到 BizTalkDTADb 数据库之前不能从 MessageBox 数据库删除（通过 MessageBox 清除作业），所以，如果该复制作业落后，则会导致后台处理逐渐累积。</span><span class="sxs-lookup"><span data-stu-id="096db-155">Because the messages that need to be tracked cannot be removed from the MessageBox database (by the MessageBox cleanup jobs) until they have been successfully copied to the BizTalkDTADb database, if the copy job gets behind, it results in spool build up.</span></span>  
  
 <span data-ttu-id="096db-156">对于大多数系统，只监控上述三个负载性能指标，所获得的信息就足以确定负载是否可承受了。</span><span class="sxs-lookup"><span data-stu-id="096db-156">For the majority of systems, monitoring just these three performance indicators under load provides enough information to determine if the load is sustainable or not.</span></span>  
  
 <span data-ttu-id="096db-157">**在可持续负载下的关键性能指标**</span><span class="sxs-lookup"><span data-stu-id="096db-157">**Key Performance Indicators Under Sustainable Load**</span></span>  
  
 <span data-ttu-id="096db-158">![跟踪数据库的性能监视](../core/media/perf-monitor-tracking-db.gif "Perf_Monitor_Tracking_db")</span><span class="sxs-lookup"><span data-stu-id="096db-158">![Performance monitoring for the Tracking database](../core/media/perf-monitor-tracking-db.gif "Perf_Monitor_Tracking_db")</span></span>  
  
 <span data-ttu-id="096db-159">使用示例方案，在每秒收到 20 个消息的负载下，我们得到了有价值的 48 小时的关键性能指标，如生成的 Perfmon 图所示。</span><span class="sxs-lookup"><span data-stu-id="096db-159">Using the sample scenario, with a load of 20 messages received per second, we acquired 48 hours worth of key performance indicators as shown in the generated Perfmon graph.</span></span> <span data-ttu-id="096db-160">请注意该图上指示可承受能力的以下趋势：</span><span class="sxs-lookup"><span data-stu-id="096db-160">Note from the graph, the following trends that indicate sustainability:</span></span>  
  
-   <span data-ttu-id="096db-161">**BizTalkDTADbdata 深度 （黑色的行）**。</span><span class="sxs-lookup"><span data-stu-id="096db-161">**BizTalkDTADbdata depth (black lines)**.</span></span> <span data-ttu-id="096db-162">使用我们的三个发布的 MessageBox 数据库，可以看到，即使在 24 小时上的第一次存档后，trackingdata 表的深度也依然保持稳定，没有继续增长。</span><span class="sxs-lookup"><span data-stu-id="096db-162">With our three publishing MessageBox databases, we can see that, even after the first archive at 24 hours, the depth of the trackingdata table stabilizes and does not continue to trend up.</span></span>  
  
-   <span data-ttu-id="096db-163">**假脱机深度 （蓝线）**。</span><span class="sxs-lookup"><span data-stu-id="096db-163">**Spool depth (blue lines)**.</span></span> <span data-ttu-id="096db-164">后台处理深度在整个运行中非常稳定，这指出即使存档和清除操作正在占用资源，但跟踪消息（每个消息的大小为 10 kb）仍复制到 BizTalkDTADb 数据库并且没有落后。</span><span class="sxs-lookup"><span data-stu-id="096db-164">The spool depth is very stable throughout the run indicating that, even with archiving and purging taking resources, the tracked messages, which are each 10 kilobytes in size, are copied to the BizTalkDTADb database without falling behind.</span></span>  
  
-   <span data-ttu-id="096db-165">**BizTalkDTADb 数据库数据文件的物理磁盘空闲时间线 （红色）**。</span><span class="sxs-lookup"><span data-stu-id="096db-165">**BizTalkDTADb database data file Physical Disk Idle Time (red line)**.</span></span> <span data-ttu-id="096db-166">对于要进行存档和清除操作之前的第一个 24 小时，BizTalkDTADb 数据库将累积越来越多的数据，导致随着 TDDS 不断插入数据，磁盘 I/O 也越来越繁忙。</span><span class="sxs-lookup"><span data-stu-id="096db-166">For the first 24 hours before archive and purge have any work to do, the BizTalkDTADb database is accumulating more and more data which results in more and more disk I/O as data is inserted by TDDS.</span></span> <span data-ttu-id="096db-167">物理磁盘空闲时间的稳步下降清楚地表明了这一趋势。</span><span class="sxs-lookup"><span data-stu-id="096db-167">This is clearly seen as a steady decline in the physical disk idle time.</span></span>  
  
     <span data-ttu-id="096db-168">在 24 小时数加到运行，I/O 空闲时间中的清除删除观察到，这与存档和清除有工作要做的第一个时间一致。</span><span class="sxs-lookup"><span data-stu-id="096db-168">At 24 hours into the run, a clear drop in I/O idle time is observed, which coincides with the first time that archive and purge have work to do.</span></span> <span data-ttu-id="096db-169">第一个存档后, 清除有工作要做每分钟的时间来清除数据超过 24 小时 （请记住，没有仍在系统上加载），这会导致接近零的空闲时间。</span><span class="sxs-lookup"><span data-stu-id="096db-169">After the first archive, purge has work to do every minute to purge data older than 24 hours (remember, there is still load on the system), which results in a near zero idle time.</span></span>  
  
     <span data-ttu-id="096db-170">这里的一个关键点就是在发生首次存档后，也就是说，在系统经过了第一个“活动 BizTalkDTADb 数据库数据保留”时段后，在系统达到或接近 MST 时磁盘空闲时间将非常接近于零。</span><span class="sxs-lookup"><span data-stu-id="096db-170">A key point here is that, after the first archive has taken place, that is, the system has passed the first "live BizTalkDTADb database data retention" window, the disk idle time will be very near zero when the system is at or near MST.</span></span> <span data-ttu-id="096db-171">这是因为，磁盘 I/O 子系统的速度在大多数情况下是 BizTalkDTADb 数据库的瓶颈。</span><span class="sxs-lookup"><span data-stu-id="096db-171">This is because the bottleneck for the BizTalkDTADb database is almost always the speed of the disk I/O subsystem.</span></span>  
  
 <span data-ttu-id="096db-172">在许多情况下，最好将关闭了跟踪功能的 MST 作为系统的度量基准。</span><span class="sxs-lookup"><span data-stu-id="096db-172">In many cases, it can be beneficial to measure MST with tracking off as a baseline for the system.</span></span> <span data-ttu-id="096db-173">例如，在我们的例子中，关闭了所有跟踪的 MST 是每秒 290 个消息，是上述具有相关功能和 DTA 数据保留时段的启用了跟踪功能的系统 MST 的许多倍。</span><span class="sxs-lookup"><span data-stu-id="096db-173">In our case, for example, the MST with all tracking turned off was 290 messages per second, which is many times the MST of the system with tracking turned on with the features and DTA data retention window stated above.</span></span> <span data-ttu-id="096db-174">这表明，一旦系统启用了跟踪功能，其利用率会显著降低。</span><span class="sxs-lookup"><span data-stu-id="096db-174">This tells us that the system with tracking turned on is significantly under utilized.</span></span> <span data-ttu-id="096db-175">也就是说，在我们需要跟踪的内容仅支持 20 个消息/秒的 MST 时，我们不需要具备 290 个消息/秒的系统能力。换言之，假定 BizTalkDTADb 数据库硬件不更改，要实现每秒 20 个消息的吞吐量，所需的 BizTalk 和 MessageBox 数据库服务器可以比方案中所示数目少得多。</span><span class="sxs-lookup"><span data-stu-id="096db-175">That is, we do not need to build a system capable of 290 messages/sec when tracking the things we need to track will only support an MST of 20 messages/sec. Stated another way, assuming the BizTalkDTADb database hardware doesn’t change, many fewer BizTalk and MessageBox database servers would be required to achieve a throughput of 20 messages per second than what we have in our scenario.</span></span>  
  
## <a name="searching-for-maximum-sustainable-throughput"></a><span data-ttu-id="096db-176">搜索最大可承受吞吐量</span><span class="sxs-lookup"><span data-stu-id="096db-176">Searching for Maximum Sustainable Throughput</span></span>  
 <span data-ttu-id="096db-177">现在，我们已看到以 MST 运行的系统的 KPI 的情况，让我们补充讨论如何达到示例方案的 20 个消息/秒的 MST。</span><span class="sxs-lookup"><span data-stu-id="096db-177">Now that we have seen what the KPI look like for a system running at MST, let’s back up and discuss how we arrived at our 20 messages/sec MST for the sample scenario.</span></span> <span data-ttu-id="096db-178">它是一个如下所示的简单迭代“二进制搜索”方法：</span><span class="sxs-lookup"><span data-stu-id="096db-178">It is a simple iterative, "binary search" approach as follows:</span></span>  
  
-   <span data-ttu-id="096db-179">**选取一个起始点**。</span><span class="sxs-lookup"><span data-stu-id="096db-179">**Pick a starting point**.</span></span> <span data-ttu-id="096db-180">除非你已有经验性能测试[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]，你将需要自己利用提供的信息在其他系统上获得的内容。</span><span class="sxs-lookup"><span data-stu-id="096db-180">Unless you already have experience with performance testing on [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], you will need to avail yourself of the information available on what has been achieved on other systems.</span></span>  
  
     <span data-ttu-id="096db-181">例如，我们已经为本主题中的示例方案提供了所有的硬件、配置和解决方案结构。</span><span class="sxs-lookup"><span data-stu-id="096db-181">For example, we have provided all of the hardware, configuration, and solution architecture for the sample scenario in this topic.</span></span> <span data-ttu-id="096db-182">使用这一结构、我们已启用的跟踪类型（默认值 + 10 个属性 + 10KB 的消息正文）和我们已实现的 MST（20 个消息/秒）以及 24 小时的 DTA 数据保留时段，将它们与您的设置和要求进行比较。</span><span class="sxs-lookup"><span data-stu-id="096db-182">Using that, and the type of tracking we had turned on (default + 10 properties + 10KB message bodies) and the MST we achieved (20 msgs/sec) with a 24 hour DTA data retention window, compare that to your setup and requirements.</span></span>  
  
     <span data-ttu-id="096db-183">您应该至少能够评估您的解决方案的 MST 是高于还是低于我们实现的 MST。</span><span class="sxs-lookup"><span data-stu-id="096db-183">You should at least be able to estimate if the MST for your solution will be higher or lower than what we achieved.</span></span> <span data-ttu-id="096db-184">我们还提供了不同的技术案例研究供您与您的系统进行比较。</span><span class="sxs-lookup"><span data-stu-id="096db-184">Various technical case studies may also be available to which you can compare your system.</span></span> <span data-ttu-id="096db-185">有关示例，请在 BizTalk Server 开发人员中心中上, 看到案例研究可用在[http://go.microsoft.com/fwlink/?LinkId=49339](http://go.microsoft.com/fwlink/?LinkId=49339)。</span><span class="sxs-lookup"><span data-stu-id="096db-185">For examples, see the case studies available on the BizTalk Server Developer Center, at [http://go.microsoft.com/fwlink/?LinkId=49339](http://go.microsoft.com/fwlink/?LinkId=49339).</span></span>  
  
-   <span data-ttu-id="096db-186">**运行估计 MST 负载中的系统和监视 KPI**。</span><span class="sxs-lookup"><span data-stu-id="096db-186">**Run the system under the estimated MST load and monitor the KPI**.</span></span> <span data-ttu-id="096db-187">通常，从您的预期 MST 的高端开始可缩短找到 MST 所用的时间。</span><span class="sxs-lookup"><span data-stu-id="096db-187">Typically, starting out on the high side of your expected MST can shorten the time it takes to find MST.</span></span> <span data-ttu-id="096db-188">通过从高端开始，将用比发现您低于 MST（即，至少一个完整数据保留时段）更少的时间驱动 KPI 达到饱和（尤其是磁盘 I/O）。</span><span class="sxs-lookup"><span data-stu-id="096db-188">By starting high, you will drive the KPI to saturation (especially disk I/O) in less time than it will take to discover that you are below MST (that is, at least one full data retention window).</span></span>  
  
-   <span data-ttu-id="096db-189">**细化 MST 估计和重复**。</span><span class="sxs-lookup"><span data-stu-id="096db-189">**Refine the MST Estimate and Repeat**.</span></span> <span data-ttu-id="096db-190">根据您的测试运行结果，优化您的 MST 评估值并使用新评估值重复执行该测试。</span><span class="sxs-lookup"><span data-stu-id="096db-190">Looking at your results for the test run, refine your estimate of MST and repeat the test using the new estimate.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="096db-191">另请参阅</span><span class="sxs-lookup"><span data-stu-id="096db-191">See Also</span></span>  
 <span data-ttu-id="096db-192">[测量的最大可持续跟踪吞吐量](../core/measuring-maximum-sustainable-tracking-throughput.md) </span><span class="sxs-lookup"><span data-stu-id="096db-192">[Measuring Maximum Sustainable Tracking Throughput](../core/measuring-maximum-sustainable-tracking-throughput.md) </span></span>  
 <span data-ttu-id="096db-193">[了解 DTA 跟踪性能行为](../core/understanding-dta-tracking-performance-behavior.md) </span><span class="sxs-lookup"><span data-stu-id="096db-193">[Understanding DTA Tracking Performance Behavior](../core/understanding-dta-tracking-performance-behavior.md) </span></span>  
 <span data-ttu-id="096db-194">[查找的跟踪的 DTA MST 的提示和技巧](../core/tips-and-tricks-for-finding-mst-of-dta-tracking.md) </span><span class="sxs-lookup"><span data-stu-id="096db-194">[Tips and Tricks for Finding MST of DTA Tracking](../core/tips-and-tricks-for-finding-mst-of-dta-tracking.md) </span></span>  
 [<span data-ttu-id="096db-195">跟踪数据库的大小调整准则</span><span class="sxs-lookup"><span data-stu-id="096db-195">Tracking Database Sizing Guidelines</span></span>](../core/tracking-database-sizing-guidelines.md)