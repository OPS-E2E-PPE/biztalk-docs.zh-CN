---
title: 配置本地主机设置 （X12-交换设置） |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: c66c1e63-c654-4ccb-b424-34c06f1ce94e
caps.latest.revision: 8
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: ca40e971b4c19af1490fa320fc2eb303640a438b
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/27/2018
ms.locfileid: "37006054"
---
# <a name="configuring-local-host-settings-x12-interchange-settings"></a><span data-ttu-id="ac40a-102">配置本地主机设置（X12-交换设置）</span><span class="sxs-lookup"><span data-stu-id="ac40a-102">Configuring Local Host Settings (X12-Interchange Settings)</span></span>
<span data-ttu-id="ac40a-103">本地主机设置控制如何处理 EDI 交换。</span><span class="sxs-lookup"><span data-stu-id="ac40a-103">The local host settings govern how the EDI interchanges are processed.</span></span> <span data-ttu-id="ac40a-104">此页上的设置可以分为两个类别：接收方设置（用于传入交换）和发送方设置（用于传出交换）。</span><span class="sxs-lookup"><span data-stu-id="ac40a-104">The settings on this page can be divided into two categories – receiver’s settings (for incoming interchanges) and sender’s settings (for outgoing interchanges).</span></span> <span data-ttu-id="ac40a-105">在接收方的设置中，可以指定传入的批是拆分为事务集还是保留。</span><span class="sxs-lookup"><span data-stu-id="ac40a-105">As part of the receiver’s settings, you can specify whether an incoming batch will be split into transaction sets or preserved.</span></span> <span data-ttu-id="ac40a-106">如果保留，可以指定 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 在发生错误时是否挂起交换或事务集。</span><span class="sxs-lookup"><span data-stu-id="ac40a-106">If preserved, you can specify whether [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] suspends the interchange or transaction set if an error occurs.</span></span> <span data-ttu-id="ac40a-107">在发送方的设置中，您可以指定如何为传出消息生成控制编号。</span><span class="sxs-lookup"><span data-stu-id="ac40a-107">As part of the sender’s settings, you can specify how the control numbers are generated for outgoing messages</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ac40a-108">此处所述的设置同样适用于 HIPAA 交换。</span><span class="sxs-lookup"><span data-stu-id="ac40a-108">The settings described here also apply to HIPAA interchanges.</span></span>  
> 
> [!IMPORTANT]
>  <span data-ttu-id="ac40a-109">以下属性上将禁用**参与方 A-> 参与方 B**单向协议选项卡，如果你清除了**本地 BizTalk 处理参与方或支持来自此参与方发送消息的接收的消息**参与方 a 的复选框</span><span class="sxs-lookup"><span data-stu-id="ac40a-109">The following properties are disabled on **Party A->Party B** one-way agreement tab if you cleared the **Local BizTalk processes messages received by the party or supports sending messages from this party** check box for Party A.</span></span>  
> 
> - <span data-ttu-id="ac40a-110">下的所有属性**发件人的设置**部分。</span><span class="sxs-lookup"><span data-stu-id="ac40a-110">All properties under the **Sender’s Settings** section.</span></span>  
> 
>   <span data-ttu-id="ac40a-111">以下属性中的相同页上将禁用与此类似，**参与方 B-> 参与方 A**选项卡上，如果您创建参与方 A.时选中复选框</span><span class="sxs-lookup"><span data-stu-id="ac40a-111">Similarly, the following properties are disabled on the same page in the **Party B->Party A** tab if you selected the check box while creating Party A.</span></span>  
> 
> - <span data-ttu-id="ac40a-112">下的所有属性**接收方设置**部分。</span><span class="sxs-lookup"><span data-stu-id="ac40a-112">All properties under the **Receiver’s Settings** section.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="ac40a-113">必要條件</span><span class="sxs-lookup"><span data-stu-id="ac40a-113">Prerequisites</span></span>  
 <span data-ttu-id="ac40a-114">必须以 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理员组或 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] B2B Operators 组成员的身份登录。</span><span class="sxs-lookup"><span data-stu-id="ac40a-114">You must be logged on as a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators or [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] B2B Operators group.</span></span>  
  
### <a name="to-configure-local-host--receivers-settings"></a><span data-ttu-id="ac40a-115">配置本地主机 – 接收方设置</span><span class="sxs-lookup"><span data-stu-id="ac40a-115">To configure local host – receiver’s settings</span></span>  
  
1. <span data-ttu-id="ac40a-116">创建 X12 编码协议，如中所述[配置常规设置 (X12)](../core/configuring-general-settings-x12.md)。</span><span class="sxs-lookup"><span data-stu-id="ac40a-116">Create an X12 encoding agreement as described in [Configuring General Settings (X12)](../core/configuring-general-settings-x12.md).</span></span> <span data-ttu-id="ac40a-117">若要更新现有的协议，请右键单击中的协议**参与方和业务配置文件**页，然后单击**属性**。</span><span class="sxs-lookup"><span data-stu-id="ac40a-117">To update an existing agreement, right-click the agreement in the **Parties and Business Profiles** page, and click **Properties**.</span></span>  
  
2. <span data-ttu-id="ac40a-118">在单向协议选项卡下**交换设置**部分中，单击**本地主机设置**。</span><span class="sxs-lookup"><span data-stu-id="ac40a-118">On a one-way agreement tab, under **Interchange Settings** section, click **Local Host Settings**.</span></span>  
  
3. <span data-ttu-id="ac40a-119">清除**将确认路由到发送管道请求-响应接收端口**返回由单独的确认的发送端口。</span><span class="sxs-lookup"><span data-stu-id="ac40a-119">Clear the **Route ACK to send pipeline on request-response receive port** to return the acknowledgment by a separate send port.</span></span> <span data-ttu-id="ac40a-120">如果将该属性保留为选中状态，则会在与双向请求-响应接收端口关联的发送端口上返回确认。</span><span class="sxs-lookup"><span data-stu-id="ac40a-120">Leave the property selected to return the acknowledgment on the send port associated with the two-way request-response receive port.</span></span>  
  
4. <span data-ttu-id="ac40a-121">若要指定确认中使用的事务集控制编号范围，请输入中的值**确认控制编号 (ST02)** 字段。</span><span class="sxs-lookup"><span data-stu-id="ac40a-121">To designate the range of transaction set control numbers used in an acknowledgment, enter values in the **ACK Control number (ST02)** fields.</span></span> <span data-ttu-id="ac40a-122">请在中间两个字段中输入一个数值，而为前缀和后缀字段输入字母数字值（如果需要）。</span><span class="sxs-lookup"><span data-stu-id="ac40a-122">Enter a numeric value for the middle two fields, and an alphanumeric value (if desired) for the prefix and suffix fields.</span></span> <span data-ttu-id="ac40a-123">中间字段是必填字段，包含控制编号的最小值和最大值；前缀和后缀可选。</span><span class="sxs-lookup"><span data-stu-id="ac40a-123">The middle fields are required and contain the minimum and maximum values for the control number; the prefix and suffix are optional.</span></span> <span data-ttu-id="ac40a-124">所有三个字段的最大长度均为 9 个字符。</span><span class="sxs-lookup"><span data-stu-id="ac40a-124">The maximum length for all three fields is nine characters.</span></span>  
  
    <span data-ttu-id="ac40a-125">若要重置当前事务集控制编号的最小值，请单击**重置**。</span><span class="sxs-lookup"><span data-stu-id="ac40a-125">To reset the current transaction set control number to the minimum value, click **Reset**.</span></span> <span data-ttu-id="ac40a-126">检查**重置为下限值超出界限时**重置为下限的控制编号，一旦超出了最大值。</span><span class="sxs-lookup"><span data-stu-id="ac40a-126">Check **Reset to lower limit when out of bound** to reset the control number to the lower limit once the maximum value has been exceeded.</span></span>  
  
5. <span data-ttu-id="ac40a-127">选择**屏蔽上下文属性中的安全/授权/密码信息**复选框以启用屏蔽上下文属性以防止信息中的授权/密码安全信息 （ISA2 和 ISA4 字段）泄露。</span><span class="sxs-lookup"><span data-stu-id="ac40a-127">Select **Mask security/authorization/password information in context property** check box to enable masking of authorization/password security information (the ISA2 and ISA4 fields) in the context property to prevent information disclosure.</span></span>  
  
   > [!NOTE]
   >  <span data-ttu-id="ac40a-128">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 收到消息时，它将 ISA 标头升级到消息的上下文中。</span><span class="sxs-lookup"><span data-stu-id="ac40a-128">When [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] receives messages, it promotes the ISA header into the context of the message.</span></span> <span data-ttu-id="ac40a-129">如果不屏蔽，具有管理权限的任何人都可获取此上下文中的安全信息。</span><span class="sxs-lookup"><span data-stu-id="ac40a-129">Without masking, the security information within the context would be available to anyone with administrative privileges.</span></span> <span data-ttu-id="ac40a-130">为了屏蔽此信息[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]替代信息中的每个字符**#** 字符。</span><span class="sxs-lookup"><span data-stu-id="ac40a-130">To mask this information, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] replaces each character of the information with a **#** character.</span></span> <span data-ttu-id="ac40a-131">这是一个单向过程： **#** 字符不能转换为实际的字符。</span><span class="sxs-lookup"><span data-stu-id="ac40a-131">This is a one-way process: the **#** characters cannot be converted to actual characters.</span></span>  
  
6. <span data-ttu-id="ac40a-132">在中**入站批处理选项**下拉列表中，执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="ac40a-132">In the **Inbound batch processing option** drop-down, do the following:</span></span>  
  
   1.  <span data-ttu-id="ac40a-133">选择默认选项**将交换拆分为事务集-出错时挂起事务集**以指定 BizTalk Server 应解析为单独 XML 文档将交换中设置每个事务。</span><span class="sxs-lookup"><span data-stu-id="ac40a-133">Select the default option **Split Interchange as Transaction Sets - suspend Transaction Sets on Error** to specify that BizTalk Server should parse each transaction set in an interchange into a separate XML document.</span></span> <span data-ttu-id="ac40a-134">然后，BizTalk Server 将相应的信封应用到事务集，并且将事务集文档路由至 MessageBox。</span><span class="sxs-lookup"><span data-stu-id="ac40a-134">BizTalk Server will then apply the appropriate envelope to the transaction set and route the transaction set document to the MessageBox.</span></span> <span data-ttu-id="ac40a-135">选择此选项后，如果交换中的一个或多个事务集未能通过验证，BizTalk Server 将仅挂起这些交换集。</span><span class="sxs-lookup"><span data-stu-id="ac40a-135">With this option, if one or more transaction sets in the interchange fail validation, BizTalk Server will suspend only those transaction sets.</span></span>  
  
   2.  <span data-ttu-id="ac40a-136">选择**将交换拆分为事务集-出错时挂起交换**以指定 BizTalk Server 应解析为单独 XML 文档将交换中设置每个事务。</span><span class="sxs-lookup"><span data-stu-id="ac40a-136">Select **Split Interchange as Transaction Sets - suspend Interchange on Error** to specify that BizTalk Server should parse each transaction set in an interchange into a separate XML document.</span></span> <span data-ttu-id="ac40a-137">然后，BizTalk Server 将相应的信封应用到事务集，并且将事务集文档路由至 MessageBox。</span><span class="sxs-lookup"><span data-stu-id="ac40a-137">BizTalk Server will then apply the appropriate envelope to the transaction set and route the transaction set document to the MessageBox.</span></span> <span data-ttu-id="ac40a-138">选择此选项后，如果交换中的一个或多个事务集未能通过验证，BizTalk Server 将挂起整个交换。</span><span class="sxs-lookup"><span data-stu-id="ac40a-138">With this option, if one or more transaction sets in the interchange fail validation, BizTalk Server will suspend the entire interchange.</span></span>  
  
   3.  <span data-ttu-id="ac40a-139">选择**保留交换-出错时挂起交换**以指定 BizTalk Server 应原样保留交换不变，同时创建一个 XML 文档为整个批处理交换。</span><span class="sxs-lookup"><span data-stu-id="ac40a-139">Select **Preserve Interchange - suspend Interchange on Error** to specify that BizTalk Server should leave the interchange intact, creating an XML document for the entire batched interchange.</span></span> <span data-ttu-id="ac40a-140">选择此选项后，如果交换中的一个或多个事务集未能通过验证，BizTalk Server 将挂起整个交换。</span><span class="sxs-lookup"><span data-stu-id="ac40a-140">With this option, if one or more transaction sets in the interchange fail validation, BizTalk Server will suspend the entire interchange.</span></span>  
  
   4.  <span data-ttu-id="ac40a-141">选择**保留交换-出错时挂起事务集**以指定 BizTalk Server 应原样保留交换不变，同时创建一个 XML 文档为整个批处理交换。</span><span class="sxs-lookup"><span data-stu-id="ac40a-141">Select **Preserve Interchange - suspend Transaction Sets on Error** to specify that BizTalk Server should leave the interchange intact, creating an XML document for the entire batched interchange.</span></span> <span data-ttu-id="ac40a-142">使用此选项，如果交换中的一个或多个事务集未能通过验证，BizTalk Server 将挂起的事务集，同时继续处理所有其他事务集。</span><span class="sxs-lookup"><span data-stu-id="ac40a-142">With this option, if one or more transaction sets in the interchange fail validation, BizTalk Server will suspend only those transaction sets, while continuing to process all other transaction set.</span></span>  
  
       > [!NOTE]
       >  <span data-ttu-id="ac40a-143">如果选择**保留交换-出错时挂起交换**或**保留交换-出错时挂起事务集**，交换、 组和事务集段属性 (确定 BizTalk Server 将如何创建传出交换的 ISA、 GS 和 ST 标头） 不适用。</span><span class="sxs-lookup"><span data-stu-id="ac40a-143">If you select **Preserve Interchange - suspend Interchange on Error** or **Preserve Interchange - suspend Transaction Sets on Error**, the interchange, group, and transaction set segment properties (which determine how BizTalk Server will create the ISA, GS, and ST headers of an outgoing interchange) do not apply.</span></span> <span data-ttu-id="ac40a-144">被保留的交换中存在的交换、组和事务集标头将在发送管道对其执行发送前的相关处理时予以保留。</span><span class="sxs-lookup"><span data-stu-id="ac40a-144">The interchange, group, and transaction-set headers that exist in the interchange that is being preserved are retained when the send pipeline processes it for sending.</span></span>  
  
### <a name="to-configure-local-host--senders-settings"></a><span data-ttu-id="ac40a-145">配置本地主机 – 发送方设置</span><span class="sxs-lookup"><span data-stu-id="ac40a-145">To configure local host – sender’s settings</span></span>  
  
1.  <span data-ttu-id="ac40a-146">有关**交换控制编号 (ISA13)**，输入要由 BizTalk Server 生成传出交换的交换控制编号的值的范围。</span><span class="sxs-lookup"><span data-stu-id="ac40a-146">For **Interchange control number (ISA13)**, enter a range of values for the interchange control number to be used by BizTalk Server in generating an outgoing interchange.</span></span> <span data-ttu-id="ac40a-147">输入一个最小为 1、最大为 999999999 的数值。</span><span class="sxs-lookup"><span data-stu-id="ac40a-147">Enter a numeric value with a minimum of 1 and a maximum of 999999999.</span></span> <span data-ttu-id="ac40a-148">此字段是必需字段。</span><span class="sxs-lookup"><span data-stu-id="ac40a-148">This is a mandatory field.</span></span>  
  
     <span data-ttu-id="ac40a-149">若要将控制编号重置为指定的最小值，请单击**重置**按钮。</span><span class="sxs-lookup"><span data-stu-id="ac40a-149">To reset the control number to the minimum value specified, click the **Reset** button.</span></span> <span data-ttu-id="ac40a-150">检查**重置为下限值超出界限时**以自动重置为最小值超过了最大值。</span><span class="sxs-lookup"><span data-stu-id="ac40a-150">Check **Reset to lower limit when out of bound** to automatically reset to the minimum value if the maximum value is exceeded.</span></span>  
  
2.  <span data-ttu-id="ac40a-151">有关**组控制编号 (GS06)**，输入 BizTalk Server 应为组控制编号使用的数字范围。</span><span class="sxs-lookup"><span data-stu-id="ac40a-151">For **Group control number (GS06)**, enter the range of numbers that BizTalk Server should use for the group control number.</span></span> <span data-ttu-id="ac40a-152">输入一个最小为 1 个字符最大为 9 个字符的数值。</span><span class="sxs-lookup"><span data-stu-id="ac40a-152">Enter a numeric value with a minimum of one character and a maximum of nine characters.</span></span> <span data-ttu-id="ac40a-153">这是必填字段。</span><span class="sxs-lookup"><span data-stu-id="ac40a-153">This is a required field.</span></span>  
  
     <span data-ttu-id="ac40a-154">若要将组控制编号重置为指定的最小值，请单击**重置**按钮。</span><span class="sxs-lookup"><span data-stu-id="ac40a-154">To reset the group control number to the minimum value specified, click the **Reset** button.</span></span> <span data-ttu-id="ac40a-155">检查**重置为下限值超出界限时**以自动重置为最小值超过了最大值。</span><span class="sxs-lookup"><span data-stu-id="ac40a-155">Check **Reset to lower limit when out of bound** to automatically reset to the minimum value if the maximum value is exceeded.</span></span>  
  
3.  <span data-ttu-id="ac40a-156">有关**事务集控制编号 (ST02)**，单击**应用新 ID**然后为可选前缀和后缀输入所需的中间字段的数值和字母数字值的范围。</span><span class="sxs-lookup"><span data-stu-id="ac40a-156">For **Transaction Set Control number (ST02)**, click **Apply new ID** and then enter a range of numeric values for the required middle fields, and alphanumeric values for the optional prefix and suffix.</span></span> <span data-ttu-id="ac40a-157">所有四个字段的最大长度为 9 个字符。</span><span class="sxs-lookup"><span data-stu-id="ac40a-157">The maximum length of all four fields is nine characters.</span></span>  
  
     <span data-ttu-id="ac40a-158">若要重置当前事务集控制编号的最小值，请单击**重置**。</span><span class="sxs-lookup"><span data-stu-id="ac40a-158">To reset the current transaction set control number to the minimum value, click **Reset**.</span></span> <span data-ttu-id="ac40a-159">选择**重置为下限值超出界限时**重置控制编号的最小值，如果超过了最大值。</span><span class="sxs-lookup"><span data-stu-id="ac40a-159">Select **Reset to lower limit when out of bound** to reset the control number to the minimum value if the maximum value has been exceeded.</span></span>  
  
4.  <span data-ttu-id="ac40a-160">单击**Apply**以接受更改，然后才能继续进行配置，或单击**确定**以验证所做的更改，然后关闭对话框。</span><span class="sxs-lookup"><span data-stu-id="ac40a-160">Click **Apply** to accept the changes before continuing with the configuration, or click **OK** to validate the changes and then close the dialog box.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ac40a-161">请参阅</span><span class="sxs-lookup"><span data-stu-id="ac40a-161">See Also</span></span>  
 [<span data-ttu-id="ac40a-162">配置交换设置 (X12)</span><span class="sxs-lookup"><span data-stu-id="ac40a-162">Configuring Interchange Settings (X12)</span></span>](../core/configuring-interchange-settings-x12.md)