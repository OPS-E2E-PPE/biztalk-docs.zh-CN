---
title: 如何修改业务流程阻止设置 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
f1_keywords:
- Bts10.settings.HostOrchestration
ms.assetid: 30086994-cb55-4ff7-9940-df197e5e35ce
caps.latest.revision: 12
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 4dd51b52aea9d38ba9f6f9911680ae27b069b58c
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65384582"
---
# <a name="how-to-modify-orchestration-throttling-settings"></a><span data-ttu-id="3aaf0-102">如何修改业务流程阻止设置</span><span class="sxs-lookup"><span data-stu-id="3aaf0-102">How to Modify Orchestration Throttling Settings</span></span>
<span data-ttu-id="3aaf0-103">使用 BizTalk 设置仪表板，可以修改的业务流程的给定主机的配置设置阻止跨 BizTalk 组。</span><span class="sxs-lookup"><span data-stu-id="3aaf0-103">Using the BizTalk Settings Dashboard, you can modify the orchestration throttling configuration settings of a given host, across the BizTalk Group.</span></span> <span data-ttu-id="3aaf0-104">这些设置适用于所有分配给给定主机的主机实例。</span><span class="sxs-lookup"><span data-stu-id="3aaf0-104">These settings apply to all host instances assigned to the given host.</span></span> <span data-ttu-id="3aaf0-105">本主题提供了修改这些设置的分步过程。</span><span class="sxs-lookup"><span data-stu-id="3aaf0-105">This topic provides the step-by-step procedure to modify these settings.</span></span>  

 <span data-ttu-id="3aaf0-106">限制设置中指定的业务流程**btsntsvc.exe.config**文件中，防止业务流程占用太多内存的限制可以具有的未处理消息的数量。</span><span class="sxs-lookup"><span data-stu-id="3aaf0-106">The orchestration throttling settings, specified in the **btsntsvc.exe.config** file, prevent an orchestration from consuming too much memory by limiting the number of outstanding messages it can have.</span></span> <span data-ttu-id="3aaf0-107">所有消息将都继续传送到 MessageBox 中;但是，排队的消息不会传递到业务流程直到它处理某些其未处理的消息。</span><span class="sxs-lookup"><span data-stu-id="3aaf0-107">All messages continue to be delivered to the MessageBox; however, queued messages are not delivered to the orchestration until it processes some of its outstanding messages.</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="3aaf0-108">先决条件</span><span class="sxs-lookup"><span data-stu-id="3aaf0-108">Prerequisites</span></span>  
 <span data-ttu-id="3aaf0-109">若要执行此操作，必须以 BizTalk Server Administrators 组的成员的身份登录。</span><span class="sxs-lookup"><span data-stu-id="3aaf0-109">To perform this operation, you must be logged on as a member of the BizTalk Server Administrators group.</span></span>  

### <a name="to-modify-the-orchestrations-throttling-settings-of-a-host"></a><span data-ttu-id="3aaf0-110">若要修改的业务流程阻止主机设置</span><span class="sxs-lookup"><span data-stu-id="3aaf0-110">To modify the orchestrations throttling settings of a host</span></span>  

1. <span data-ttu-id="3aaf0-111">在中**BizTalk Server 管理控制台**，展开[!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)]，右键单击**BizTalk 组**，然后单击**设置**。</span><span class="sxs-lookup"><span data-stu-id="3aaf0-111">In the **BizTalk Server Administration Console**, expand [!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)], right-click **BizTalk Group**, and then click **Settings**.</span></span>  

2. <span data-ttu-id="3aaf0-112">在中**BizTalk 设置仪表板**对话框中，在**主机**选项卡上，单击**业务流程阻止**选项卡。</span><span class="sxs-lookup"><span data-stu-id="3aaf0-112">In the **BizTalk Settings Dashboard** dialog box, on the **Hosts** tab, click the **Orchestrations Throttling** tab.</span></span>  

3. <span data-ttu-id="3aaf0-113">执行以下操作，然后依次**应用**以应用修改并转到另一个选项卡。或单击**确定**应用所做的修改并退出设置仪表板。</span><span class="sxs-lookup"><span data-stu-id="3aaf0-113">Do the following, and then click **Apply** to apply the modifications and proceed to another tab. Or click **OK** to apply the modifications and exit the Settings Dashboard.</span></span>  


   |         <span data-ttu-id="3aaf0-114">使用此选项</span><span class="sxs-lookup"><span data-stu-id="3aaf0-114">Use this</span></span>         |                                                                                                                                                                                                                                                                                                                                                               <span data-ttu-id="3aaf0-115">执行的操作</span><span class="sxs-lookup"><span data-stu-id="3aaf0-115">To do this</span></span>                                                                                                                                                                                                                                                                                                                                                                |               <span data-ttu-id="3aaf0-116">边界值</span><span class="sxs-lookup"><span data-stu-id="3aaf0-116">Boundary values</span></span>               | <span data-ttu-id="3aaf0-117">默认值</span><span class="sxs-lookup"><span data-stu-id="3aaf0-117">Default value</span></span> | <span data-ttu-id="3aaf0-118">升级逻辑</span><span class="sxs-lookup"><span data-stu-id="3aaf0-118">Upgrade logic</span></span> |
   |--------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|---------------|---------------|
   |         <span data-ttu-id="3aaf0-119">**主机**</span><span class="sxs-lookup"><span data-stu-id="3aaf0-119">**Host**</span></span>         |                                                                                                                                                                                                                                                                                     <span data-ttu-id="3aaf0-120">从下拉列表中，选择表示主机[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]运行时实例。</span><span class="sxs-lookup"><span data-stu-id="3aaf0-120">From the drop-down list, select the host representing the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] runtime instances.</span></span>                                                                                                                                                                                                                                                                                     |                      -                      |       -       |       -       |
   | <span data-ttu-id="3aaf0-121">**冻结行为**</span><span class="sxs-lookup"><span data-stu-id="3aaf0-121">**Dehydration behavior**</span></span> | <span data-ttu-id="3aaf0-122">选择业务流程 (XLANG) 引擎的冻结行为。</span><span class="sxs-lookup"><span data-stu-id="3aaf0-122">Select the dehydration behavior of the orchestration (XLANG) engine.</span></span> <span data-ttu-id="3aaf0-123">请注意，仅当选择"自定义"可编辑其他 XLANG 设置。</span><span class="sxs-lookup"><span data-stu-id="3aaf0-123">Note that the other XLANG settings are editable only if you select “Custom”.</span></span><br /><br /> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] <span data-ttu-id="3aaf0-124">使用冻结属性来确定何时冻结和解除冻结业务流程。</span><span class="sxs-lookup"><span data-stu-id="3aaf0-124">uses the dehydration properties to decide when to dehydrate and rehydrate orchestrations.</span></span> <span data-ttu-id="3aaf0-125">在正常负载时，默认冻结值就足够了，但如果在重负载下运行，并且希望改变性能特征，应优化值。</span><span class="sxs-lookup"><span data-stu-id="3aaf0-125">Under normal load, the default dehydration values are sufficient, but if you are running under heavy load and want to change the performance characteristics, you should tune the values.</span></span> <span data-ttu-id="3aaf0-126">冻结行为[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]完全取决于可用内存量是以及所使用的内存量。</span><span class="sxs-lookup"><span data-stu-id="3aaf0-126">The dehydration behavior of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] depends entirely on how much memory is available and how much memory is being used.</span></span> | <span data-ttu-id="3aaf0-127">始终</span><span class="sxs-lookup"><span data-stu-id="3aaf0-127">Always</span></span><br /><br /> <span data-ttu-id="3aaf0-128">从不</span><span class="sxs-lookup"><span data-stu-id="3aaf0-128">Never</span></span><br /><br /> <span data-ttu-id="3aaf0-129">自定义</span><span class="sxs-lookup"><span data-stu-id="3aaf0-129">Custom</span></span> |    <span data-ttu-id="3aaf0-130">自定义</span><span class="sxs-lookup"><span data-stu-id="3aaf0-130">Custom</span></span>     |       -       |

    <span data-ttu-id="3aaf0-131">**基于时间**</span><span class="sxs-lookup"><span data-stu-id="3aaf0-131">**Time Based**</span></span>  

   |<span data-ttu-id="3aaf0-132">使用此选项</span><span class="sxs-lookup"><span data-stu-id="3aaf0-132">Use this</span></span>|<span data-ttu-id="3aaf0-133">执行的操作</span><span class="sxs-lookup"><span data-stu-id="3aaf0-133">To do this</span></span>|<span data-ttu-id="3aaf0-134">边界值</span><span class="sxs-lookup"><span data-stu-id="3aaf0-134">Boundary values</span></span>|<span data-ttu-id="3aaf0-135">默认值</span><span class="sxs-lookup"><span data-stu-id="3aaf0-135">Default value</span></span>|<span data-ttu-id="3aaf0-136">升级逻辑</span><span class="sxs-lookup"><span data-stu-id="3aaf0-136">Upgrade logic</span></span>|  
   |--------------|----------------|---------------------|-------------------|-------------------|  
   |<span data-ttu-id="3aaf0-137">**最大阈值**</span><span class="sxs-lookup"><span data-stu-id="3aaf0-137">**Maximum threshold**</span></span>|<span data-ttu-id="3aaf0-138">指定在冻结之前阻止业务流程实例的最大空闲时间。</span><span class="sxs-lookup"><span data-stu-id="3aaf0-138">Specify the maximum idle time an orchestration instance could be blocked before being dehydrated.</span></span>|<span data-ttu-id="3aaf0-139">(MinThreshold – 整型的最大值]</span><span class="sxs-lookup"><span data-stu-id="3aaf0-139">(MinThreshold – Maximum value of type Integer]</span></span>|<span data-ttu-id="3aaf0-140">为 1800 秒</span><span class="sxs-lookup"><span data-stu-id="3aaf0-140">1800 sec</span></span>|-|  
   |<span data-ttu-id="3aaf0-141">**最小阈值**</span><span class="sxs-lookup"><span data-stu-id="3aaf0-141">**Minimum threshold**</span></span>|<span data-ttu-id="3aaf0-142">指定在冻结之前阻止业务流程实例的最小空闲时间。</span><span class="sxs-lookup"><span data-stu-id="3aaf0-142">Specify the minimum idle time an orchestration instance could be blocked before being dehydrated.</span></span>|<span data-ttu-id="3aaf0-143">[1 – 最大值类型为 Integer）</span><span class="sxs-lookup"><span data-stu-id="3aaf0-143">[1 – Maximum value of type Integer)</span></span>|<span data-ttu-id="3aaf0-144">1 秒</span><span class="sxs-lookup"><span data-stu-id="3aaf0-144">1 sec</span></span>|-|  
   |<span data-ttu-id="3aaf0-145">**订阅**</span><span class="sxs-lookup"><span data-stu-id="3aaf0-145">**Subscriptions**</span></span>|<span data-ttu-id="3aaf0-146">选择此选项可手动设置的暂停点和继续点值的订阅。</span><span class="sxs-lookup"><span data-stu-id="3aaf0-146">Select this option to manually set the ‘pause at’ and ‘resume at’ values for a subscription.</span></span> <span data-ttu-id="3aaf0-147">默认情况下，系统将负责在运行时的订阅。</span><span class="sxs-lookup"><span data-stu-id="3aaf0-147">By default, the system takes care of the subscriptions at runtime.</span></span>|<span data-ttu-id="3aaf0-148">On、 Off</span><span class="sxs-lookup"><span data-stu-id="3aaf0-148">On, Off</span></span>|<span data-ttu-id="3aaf0-149">Off</span><span class="sxs-lookup"><span data-stu-id="3aaf0-149">Off</span></span>|-|  
   |<span data-ttu-id="3aaf0-150">**在暂停**</span><span class="sxs-lookup"><span data-stu-id="3aaf0-150">**Pause at**</span></span>|<span data-ttu-id="3aaf0-151">指定你想要存储的订阅的消息的最大数目。</span><span class="sxs-lookup"><span data-stu-id="3aaf0-151">Specify the maximum number of messages you want a subscription to store.</span></span><br /><br /> <span data-ttu-id="3aaf0-152">当订阅具有大于或等于指定数字的消息等待使用时，消息不传送到订阅实例。</span><span class="sxs-lookup"><span data-stu-id="3aaf0-152">When a subscription has messages waiting to be consumed that are greater than or equal to the specified number, the messages are not delivered to the subscription instance.</span></span> <span data-ttu-id="3aaf0-153">消息的最小数量将是继续点值。</span><span class="sxs-lookup"><span data-stu-id="3aaf0-153">The minimum number of messages would be the ‘resume at’ value.</span></span><br /><br /> <span data-ttu-id="3aaf0-154">例如，如果您设置**处暂停**值为 100，这意味着业务流程具有 100 个未完成的消息，并且 MessageBox 将停止发送其他消息。</span><span class="sxs-lookup"><span data-stu-id="3aaf0-154">For example, if you set **Pause at** value to 100, it means an orchestration has 100 outstanding messages and the MessageBox will stop sending additional messages.</span></span>|<span data-ttu-id="3aaf0-155">(ResumeAt – 整数类型的最大值]。</span><span class="sxs-lookup"><span data-stu-id="3aaf0-155">(ResumeAt – Maximum value of type Integer].</span></span><br /><br /> <span data-ttu-id="3aaf0-156">两者均为 0 时除外。</span><span class="sxs-lookup"><span data-stu-id="3aaf0-156">Except when both are 0.</span></span>|<span data-ttu-id="3aaf0-157">Off</span><span class="sxs-lookup"><span data-stu-id="3aaf0-157">Off</span></span>|-|  
   |<span data-ttu-id="3aaf0-158">**继续点**</span><span class="sxs-lookup"><span data-stu-id="3aaf0-158">**Resume at**</span></span>|<span data-ttu-id="3aaf0-159">指定您希望继续将消息发送到订阅 MessageBox 的消息数。</span><span class="sxs-lookup"><span data-stu-id="3aaf0-159">Specify the number of messages you want the MessageBox to resume sending messages to subscription.</span></span><br /><br /> <span data-ttu-id="3aaf0-160">例如，设置**继续点**为 50 的值。</span><span class="sxs-lookup"><span data-stu-id="3aaf0-160">For example, set the **Resume at** value to 50.</span></span> <span data-ttu-id="3aaf0-161">未处理消息的业务流程的数量下降到 50 时，它指定 MessageBox 可以继续发送消息。</span><span class="sxs-lookup"><span data-stu-id="3aaf0-161">When the orchestration's number of outstanding messages is down to 50, it specifies that MessageBox can resume sending messages.</span></span>|<span data-ttu-id="3aaf0-162">[0 – 整数类型的最大值)</span><span class="sxs-lookup"><span data-stu-id="3aaf0-162">[0 – Maximum value of type Integer)</span></span>|<span data-ttu-id="3aaf0-163">Off</span><span class="sxs-lookup"><span data-stu-id="3aaf0-163">Off</span></span>|-|  

   > [!NOTE]
   >  <span data-ttu-id="3aaf0-164">若要还原默认设置，请单击**还原为默认值**。</span><span class="sxs-lookup"><span data-stu-id="3aaf0-164">To restore the default settings, click **Restore Defaults**.</span></span>  

## <a name="see-also"></a><span data-ttu-id="3aaf0-165">请参阅</span><span class="sxs-lookup"><span data-stu-id="3aaf0-165">See Also</span></span>  
 [<span data-ttu-id="3aaf0-166">如何修改主机设置</span><span class="sxs-lookup"><span data-stu-id="3aaf0-166">How to Modify Host Settings</span></span>](../core/how-to-modify-host-settings.md)