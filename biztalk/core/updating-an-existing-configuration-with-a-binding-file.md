---
title: "与绑定文件更新现有配置 |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- binding files, updating
- binding files, rules
- artifacts, binding files
- binding files, unbinding
- binding files, customizing
- artifacts, updating
ms.assetid: 11580e59-7147-42d0-a976-f6b5e6933d24
caps.latest.revision: "10"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 03b17ee54f053fb6a81b3855ffbcbcc1e776f513
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
---
# <a name="updating-an-existing-configuration-with-a-binding-file"></a>使用绑定文件更新现有配置
绑定文件中的信息将取代现有的配置信息。 如果绑定文件中项目的名称与现有配置中项目的名称相匹配，则当您导入绑定文件时绑定文件中的项目将更新现有配置中的项目。  
  
 使用绑定文件项目更新现有项目时，应遵循某些规则。 本主题介绍在使用绑定文件中的项目更新现有配置中的项目时应遵循的规则。  
  
 本部分假定在导入文件时绑定文件中存在的值为有效值，而不讨论绑定文件包含无效值的任何方案。  
  
## <a name="rules-followed-by-biztalk-server-when-updating-a-configuration-with-a-binding-file"></a>使用绑定文件更新配置时 BizTalk Server 遵循的规则  
 使用绑定文件中的匹配项目更新现有项目时，BizTalk Server 遵循某些规则。 通常情况下，应用以下规则：  
  
-   通过 BizTalk Server 用户界面（如 BizTalk Server 管理控制台或 BizTalk 浏览器）配置项目时显示的文本框和复选框必须设置为特定值或为空。 为绑定文件中的项目提供的值将会相应地为所更新的项设置用户界面值。  
  
-   使用 BizTalk Server 用户界面配置项目时显示的下拉框必须设置为特定值或“None”。 为绑定文件中的项目提供的值将会相应地为所更新的项设置用户界面值。  
  
-   通过 BizTalk Server 用户界面配置项目时显示的数据网格视图将使用绑定文件中对应项的列表更新。 与数据网格视图关联的列表始终被绑定文件中的列表覆盖，除非数据网格视图列表与端口或接收位置关联。 在这种情况下，绑定文件中的列表与现有数据网格视图列表合并。  
  
-   绑定文件中的项目由主键值标识。 在用户界面中，与项目的主键相关的值永远无法设置为空，因此绑定文件中的所有项目必须设置主键值。 如果与绑定文件中项目的主键相关的值和与现有配置项目的主键相关的值相匹配，则这些项目将被看作相同或相匹配。 如果绑定文件项目与现有项目相同，则使用绑定文件项目来更新现有项目，如下表中所述。 如果绑定文件中的项目包含唯一的主键值，则当导入绑定文件时将在 BizTalk Server 配置中创建一个新项目。  
  
 下表介绍通过导入绑定文件使用匹配的项目更新现有配置项目时的预期行为。  
  
|项目类型|属性|指定属性可能出现的次数|用户界面字段|从绑定文件导入匹配项目的影响。|  
|-------------------|--------------|------------------------------------------------|--------------------------|--------------------------------------------------------------|  
|**方**|Name|最小出现次数： 1<br /><br /> 最大出现次数： 1|文本框|主键|  
||Aliases|最小出现次数： 0<br /><br /> 最大出现次数: *|数据网格|使用绑定文件中的别名列表覆盖该别名列表。|  
||发送端口|最小出现次数： 0<br /><br /> 最大出现次数: *|数据网格|将绑定文件中此参与方的端口列表与此参与方的现有端口列表合并。|  
||证书公用名称和指纹|最小出现次数： 0<br /><br /> 最大出现次数： 1<br /><br /> （每个属性）|文本框|使用绑定文件中的指定值覆盖这些值。 如果绑定文件中不存在这些值，则设置为空。|  
|**业务流程**|Description|最小出现次数： 1<br /><br /> 最大出现次数： 1|文本框|使用指定绑定文件中的值覆盖此值。|  
||主机|最小出现次数： 0<br /><br /> 最大出现次数： 1|下拉列表|使用绑定文件中的指定值覆盖此值。 如果绑定文件中不存在此值，则设置为空。|  
||入站端口和出站端口|最小出现次数： 0<br /><br /> 最大出现次数: *|下拉列表|将逻辑端口绑定到现有物理端口。 物理端口可以在以下位置存在：<br /><br /> -在组中。<br />-在应用程序。<br />中的绑定文件中。<br /><br /> （可选） 将 port 设置为**无**。 如果设置为**无**然后逻辑端口未绑定到任何资源。|  
||跟踪属性复选框|最小出现次数： 1<br /><br /> 最大出现次数： 1<br /><br /> （每个属性）|复选框|使用绑定文件中指定的值覆盖这些值。|  
|**发送端口组**|Name|最小出现次数： 1<br /><br /> 最大出现次数： 1|文本框|主键|  
||发送端口|最小出现次数： 0<br /><br /> 最大出现次数: *|数据网格|将此发送端口组的现有端口列表和绑定文件中指定的此发送端口组的端口列表合并。|  
||筛选器|最小出现次数： 0<br /><br /> 最大出现次数: *|数据网格|使用绑定文件中指定的此发送端口组的筛选器列表覆盖此发送端口组的现有筛选器列表。|  
|**发送端口**|Name|最小出现次数： 1<br /><br /> 最大出现次数： 1|文本框|主键|  
||传输 - 类型|最小出现次数： 1<br /><br /> 最大出现次数： 1|下拉列表|使用指定绑定文件中的值覆盖此值。|  
||传输 - 发送处理程序|最小出现次数： 1<br /><br /> 最大出现次数： 1|下拉列表|使用指定绑定文件中的值覆盖此值。|  
||发送管道|最小出现次数： 1<br /><br /> 最大出现次数： 1|下拉列表|使用指定绑定文件中的值覆盖此值。|  
||重试次数、重试时间间隔和优先级|最小出现次数： 1<br /><br /> 最大出现次数： 1<br /><br /> （每属性）|滚动框|使用绑定文件中指定的值覆盖这些值。|  
||按序送达|最小出现次数： 1<br /><br /> 最大出现次数： 1|复选框|使用指定绑定文件中的值覆盖此值。|  
||为失败消息启用路由功能|最小出现次数： 1<br /><br /> 最大出现次数： 1|复选框|使用指定绑定文件中的值覆盖此值。|  
||启用服务时段|最小出现次数： 1<br /><br /> 最大出现次数： 1|复选框|使用指定绑定文件中的值覆盖此值。|  
||服务时段开始时间和服务时段停止时间|最小出现次数： 1<br /><br /> 最大出现次数： 1|滚动框|使用绑定文件中指定的值覆盖这些值。|  
||地图|最小出现次数： 0<br /><br /> 最大出现次数: *|数据网格|使用绑定文件中指定的此发送端口的映射列表覆盖此发送端口的现有映射列表。|  
||“筛选器”|最小出现次数： 0<br /><br /> 最大出现次数: *|数据网格|使用绑定文件中指定的此发送端口的筛选器列表覆盖此发送端口的现有筛选器列表。|  
||证书公用名|最小出现次数： 1<br /><br /> 最大出现次数： 1|文本框|使用指定绑定文件中的值覆盖此值。|  
||证书指纹|最小出现次数： 1<br /><br /> 最大出现次数： 1|文本框|使用指定绑定文件中的值覆盖此值。|  
||跟踪|最小出现次数： 0<br /><br /> 最大出现次数： 1|复选框|使用指定绑定文件中的值覆盖此值。|  
||备份传输类型|最小出现次数： 0<br /><br /> 最大出现次数： 1|下拉列表|使用指定绑定文件中的值覆盖此值。|  
||备份传输 URI|最小出现次数： 1<br /><br /> 最大出现次数： 1|文本框|使用指定绑定文件中的值覆盖此值。 仅在设置备份传输类型后才有效。|  
||备份传输发送处理程序|最小出现次数： 1<br /><br /> 最大出现次数： 1|下拉列表|使用指定绑定文件中的值覆盖此值。 仅在设置备份传输类型后才有效。|  
||备份传输重试次数|最小出现次数： 1<br /><br /> 最大出现次数： 1|滚动框|使用指定绑定文件中的值覆盖此值。 仅在设置备份传输类型后才有效。|  
||备份传输重试时间间隔|最小出现次数： 1<br /><br /> 最大出现次数： 1|滚动框|使用指定绑定文件中的值覆盖此值。 仅在设置备份传输类型后才有效。|  
||备份传输启用服务时段|最小出现次数： 1<br /><br /> 最大出现次数： 1|复选框|使用指定绑定文件中的值覆盖此值。 仅在设置备份传输类型后才有效。|  
||备份传输服务时段开始时间和服务时段停止时间|最小出现次数： 1<br /><br /> 最大出现次数： 1|滚动框|使用绑定文件中指定的值覆盖这些值。 仅在设置备份传输类型和启用服务时段值后才有效。|  
|**接收端口**|Name|最小出现次数： 1<br /><br /> 最大出现次数： 1|文本框|主键|  
||验证设置（单选按钮）|最小出现次数： 1<br /><br /> 最大出现次数： 1|单选按钮|使用指定绑定文件中的值覆盖此值。|  
||启用失败消息路由功能|最小出现次数： 1<br /><br /> 最大出现次数： 1|复选框|使用指定绑定文件中的值覆盖此值。|  
||Description|最小出现次数： 1<br /><br /> 最大出现次数： 1|文本框|使用指定绑定文件中的值覆盖此值。|  
||接收位置|最小出现次数： 0<br /><br /> 最大出现次数: *|数据网格|使用绑定文件中指定的此接收端口的接收位置列表覆盖此接收端口的现有接收位置列表。 如果绑定文件中的所有接收位置已存在于组中，则导入失败。|  
||地图|最小出现次数： 0<br /><br /> 最大出现次数: *|数据网格|使用绑定文件中指定的此接收端口的映射列表覆盖此接收端口的现有映射列表。|  
||跟踪 - 跟踪消息正文和跟踪消息属性|最小出现次数： 1<br /><br /> 最大出现次数： 1<br /><br /> （每复选框）|复选框|使用绑定文件中指定的值覆盖这些值。|  
|**接收位置**|Name|最小出现次数： 1<br /><br /> 最大出现次数： 1|文本框|主键|  
||传输类型|最小出现次数： 1<br /><br /> 最大出现次数： 1|下拉列表|使用指定绑定文件中的值覆盖此值。|  
||接收处理程序|最小出现次数： 1<br /><br /> 最大出现次数： 1|下拉列表|使用指定绑定文件中的值覆盖此值。|  
||管道|最小出现次数： 1<br /><br /> 最大出现次数： 1|下拉列表|使用指定绑定文件中的值覆盖此值。|  
||Description|最小出现次数： 1<br /><br /> 最大出现次数： 1|文本框|使用指定绑定文件中的值覆盖此值。|  
||计划开始日期和停止日期复选框和下拉框。|最小出现次数： 1<br /><br /> 最大出现次数： 1|复选框和下拉框。|使用绑定文件中指定的值覆盖这些值。 即使未启用复选框值，也将导入日期值。|  
||启用服务时段复选框|最小出现次数： 1<br /><br /> 最大出现次数： 1|复选框|使用指定绑定文件中的值覆盖此值。|  
||服务时段开始时间和服务时段停止时间|最小出现次数： 1<br /><br /> 最大出现次数： 1|滚动框|使用绑定文件中指定的值覆盖这些值。 仅在设置启用服务时段值后才有效。|  
|**架构**|Description|最小出现次数： 1<br /><br /> 最大出现次数： 1|文本框|使用指定绑定文件中的值覆盖此值。|  
||跟踪 - 始终跟踪所有属性|最小出现次数： 1<br /><br /> 最大出现次数： 1|复选框|使用指定绑定文件中的值覆盖此值。|  
||跟踪 - 选择所有消息属性|最小出现次数： 1<br /><br /> 最大出现次数： 1|复选框|使用指定绑定文件中的值覆盖此值。 如果此值已启用，则也将启用可选中的所有消息属性。|  
||跟踪 – 单个属性|最小出现次数： 0<br /><br /> 最大出现次数: *|复选框|使用绑定文件中指定的此架构的跟踪属性列表覆盖此架构的现有跟踪属性列表。<br /><br /> 如果绑定文件已导入并且引用了不可用于现有架构的跟踪属性，则会生成错误。|  
|**地图**|Description|最小出现次数： 1<br /><br /> 最大出现次数： 1|文本框|使用指定绑定文件中的值覆盖此值。|  
|**管道**|Description|最小出现次数： 1<br /><br /> 最大出现次数： 1|文本框|使用指定绑定文件中的值覆盖此值。|  
||跟踪事件|最小出现次数： 1<br /><br /> 最大出现次数： 1<br /><br /> （每复选框）|复选框|使用绑定文件中指定的值覆盖这些值。|  
||跟踪消息正文|最小出现次数： 1<br /><br /> 最大出现次数： 1<br /><br /> （每复选框）|复选框|使用绑定文件中指定的值覆盖这些值。|  
|**策略**|不适用。 策略不可导出到绑定文件。|不适用|不适用|不适用|  
|**角色链接**|不适用。 角色链接无法被导出到绑定文件。|不适用|不适用|不适用|  
  
## <a name="unbinding-behavior-when-updating-existing-artifacts-with-matching-artifacts-in-a-binding-file"></a>使用绑定文件中的匹配项目更新现有项目时的取消绑定行为  
 通常情况下，绑定文件项目配置为引用其他项目，例如接收端口通常配置为引用接收位置。 在此方案中，接收端口是父项目，接收位置是子项目。 接收端口是**显式**配置以引用接收位置和接收位置然后**隐式**引用接收端口。 如果绑定文件中存在配置不完整的父项目（例如没有为接收端口配置接收位置），则导入绑定文件后它们的配置将会不完整，无论它们在现有配置中的状态如何。 例如，如果你拥有现有的接收使用配置的端口 myRP 接收位置 myRL 和相同接收端口绑定文件中的 myRP 是**不**配置与接收位置 myRL，则该绑定文件词条将采用优先。 对于此示例接收端口 myRP 将不配置与接收位置导入的绑定文件，因此必须将有效地后**未绑定**从 myRP myRL。  
  
 此规则仅适用于导入进行显式引用的项目，而不适用于导入具有隐式引用的项目。 因此，如果您导入了隐式地引用其他 10 个项目（即被其他 10 个项目显式地引用）的映射，则不必担心该映射会从隐式引用的项目取消绑定。  
  
## <a name="see-also"></a>另请参阅  
 [自定义绑定文件](../core/customizing-binding-files.md)