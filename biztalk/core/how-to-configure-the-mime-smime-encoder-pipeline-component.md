---
title: 如何配置 MIME-SMIME 编码器管道组件 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- messages, encrypting digital signatures
- pipeline components, MIME/SMIME Encoder
- Partner Management, security
- MIME/SMIME Encoder [pipeline component], configuring
- messages, encoding
- messages, multi-parts
ms.assetid: dcbb08e8-d300-4e7f-9c1c-907fb602e721
caps.latest.revision: 9
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 9b0dbe61e79ba569313d3bccbbbbfdf053835042
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/27/2018
ms.locfileid: "36991062"
---
# <a name="how-to-configure-the-mime-smime-encoder-pipeline-component"></a><span data-ttu-id="043fc-102">如何配置 MIME-SMIME 编码器管道组件</span><span class="sxs-lookup"><span data-stu-id="043fc-102">How to Configure the MIME-SMIME Encoder Pipeline Component</span></span>
<span data-ttu-id="043fc-103">使用 MIME/SMIME 编码器管道组件可对传出消息进行编码和加密并对传出消息进行签名。</span><span class="sxs-lookup"><span data-stu-id="043fc-103">Use the MIME/SMIME Encoder pipeline component to encode and encrypt outgoing messages and to sign outgoing messages.</span></span> <span data-ttu-id="043fc-104">当 BizTalk Server 与外部合作伙伴之间需要进行安全文档交换时，此组件非常有用。</span><span class="sxs-lookup"><span data-stu-id="043fc-104">This component is useful when you require secured document interchange between BizTalk Server and external partners.</span></span> <span data-ttu-id="043fc-105">还可以使用此组件发送 BizTalk Server 多部分消息。</span><span class="sxs-lookup"><span data-stu-id="043fc-105">You can also use this component to send BizTalk Server multi-part messages.</span></span>  

> [!NOTE]
>  <span data-ttu-id="043fc-106">在 BizTalk 2006 中，MIME/SMIME 编码器管道组件将不再支持本机 64 位模式。</span><span class="sxs-lookup"><span data-stu-id="043fc-106">In BizTalk 2006, the MIME/SMIME encoder pipeline component will not have native 64-bit support.</span></span>  <span data-ttu-id="043fc-107">这意味着此组件必须运行在 32 位仿真模式进程 (WOW64) 中。</span><span class="sxs-lookup"><span data-stu-id="043fc-107">This means that this component must be run in a 32-bit emulation mode process (WOW64).</span></span>  <span data-ttu-id="043fc-108">这表示运行此编码器组件（或其所属发送管道）的主机实例必须以 32 位仿真模式运行。</span><span class="sxs-lookup"><span data-stu-id="043fc-108">This implies that the host instance in which this encoder component (or the send pipeline of which it is a part) runs must be running in 32-bit emulation mode.</span></span>  <span data-ttu-id="043fc-109">请注意此限制对运行在此主机实例中的其他 BizTalk 元素性能（和其他方面）的影响。</span><span class="sxs-lookup"><span data-stu-id="043fc-109">Be aware of the performance (and other) implications of this restriction for other elements of BizTalk running in this same host instance.</span></span>  

### <a name="to-configure-the-properties-for-the-mimesmime-encoder-pipeline-component"></a><span data-ttu-id="043fc-110">配置 MIME/SMIME 编码器管道组件的属性</span><span class="sxs-lookup"><span data-stu-id="043fc-110">To configure the properties for the MIME/SMIME Encoder pipeline component</span></span>  

1. <span data-ttu-id="043fc-111">将 MIME/SMIME 编码器管道组件拖至发送管道的编码阶段。</span><span class="sxs-lookup"><span data-stu-id="043fc-111">Drag the MIME/SMIME Encoder pipeline component into the Encode stage of a send pipeline.</span></span>  

2. <span data-ttu-id="043fc-112">在属性窗口中**管道组件属性**部分中，执行以下操作。</span><span class="sxs-lookup"><span data-stu-id="043fc-112">In the Properties window, in the **Pipeline Component Properties** section, do the following.</span></span>  


   |             <span data-ttu-id="043fc-113">使用此选项</span><span class="sxs-lookup"><span data-stu-id="043fc-113">Use this</span></span>             |                                                                                                                                                                                                                                                                                                                              <span data-ttu-id="043fc-114">执行的操作</span><span class="sxs-lookup"><span data-stu-id="043fc-114">To do this</span></span>                                                                                                                                                                                                                                                                                                                               |
   |----------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   | <span data-ttu-id="043fc-115">**向消息添加签名证书**</span><span class="sxs-lookup"><span data-stu-id="043fc-115">**Add Signing Cert To Message**</span></span>  |                                                                                                                                                                                                                    <span data-ttu-id="043fc-116">如果**签名类型**属性不是**NoSign**，您可以选择是否向签名的消息添加签名证书，方法是设置**向消息添加签名证书**属性。</span><span class="sxs-lookup"><span data-stu-id="043fc-116">If the **Signature Type** property is not **NoSign**, you can select whether to add the signing certificate to the signed message by setting the **Add Signing Cert to Message** property.</span></span><br /><br /> <span data-ttu-id="043fc-117">中**Wcf-custom 传输属性**对话框中，在常规选项卡上，配置终结点地址、 服务标识，并且SOAPAction标头WCF 自定义发送端口。**</span><span class="sxs-lookup"><span data-stu-id="043fc-117">Default value: **True**</span></span>                                                                                                                                                                                                                     |
   |    <span data-ttu-id="043fc-118">**检查吊销列表**</span><span class="sxs-lookup"><span data-stu-id="043fc-118">**Check revocation list**</span></span>     |                                                                                                                                                                                                                                                                   <span data-ttu-id="043fc-119">指定处理 SMIME 消息时是否检查证书吊销列表。</span><span class="sxs-lookup"><span data-stu-id="043fc-119">Specifies whether to check the certificate revocation list while processing a SMIME message.</span></span><br /><br /> <span data-ttu-id="043fc-120">中**Wcf-custom 传输属性**对话框中，在常规选项卡上，配置终结点地址、 服务标识，并且SOAPAction标头WCF 自定义发送端口。**</span><span class="sxs-lookup"><span data-stu-id="043fc-120">Default value: **True**</span></span>                                                                                                                                                                                                                                                                    |
   |  <span data-ttu-id="043fc-121">**内容传输编码**</span><span class="sxs-lookup"><span data-stu-id="043fc-121">**Content transfer encoding**</span></span>   |                                                                                                                                                                                                                                                     <span data-ttu-id="043fc-122">指示编码格式。</span><span class="sxs-lookup"><span data-stu-id="043fc-122">Indicates the encoding format.</span></span><br /><br /> <span data-ttu-id="043fc-123">选项：Base64、QuotedPrintable、SevenBit、EightBit、Binary 和 UUEncode。</span><span class="sxs-lookup"><span data-stu-id="043fc-123">Options: Base64, QuotedPrintable, SevenBit, EightBit, Binary, and UUEncode.</span></span><br /><br /> <span data-ttu-id="043fc-124">默认值： **Base64**</span><span class="sxs-lookup"><span data-stu-id="043fc-124">Default value: **Base64**</span></span>                                                                                                                                                                                                                                                      |
   |      <span data-ttu-id="043fc-125">**启用加密**</span><span class="sxs-lookup"><span data-stu-id="043fc-125">**Enable encryption**</span></span>       |                                                                                                                                     <span data-ttu-id="043fc-126">设置为 **，则返回 True**如果想要对传出消息进行加密。</span><span class="sxs-lookup"><span data-stu-id="043fc-126">Set to **True** if you want to encrypt the outgoing message.</span></span> <span data-ttu-id="043fc-127">如果启用此选项，则用户可以选择要通过设置使用的加密算法**加密算法**属性。</span><span class="sxs-lookup"><span data-stu-id="043fc-127">If this option is enabled, the user can select the encryption algorithm to use by setting the **Encryption algorithm** property.</span></span> <span data-ttu-id="043fc-128">MIME/SMIME 编码器管道组件使用与 BizTalk 浏览器中发送端口相关联的公钥证书进行消息加密。</span><span class="sxs-lookup"><span data-stu-id="043fc-128">For message encryption, the MIME/SMIME Encoder pipeline component uses the public key certificate that is associated with a send port in BizTalk Explorer.</span></span><br /><br /> <span data-ttu-id="043fc-129">默认值： **False**</span><span class="sxs-lookup"><span data-stu-id="043fc-129">Default value: **False**</span></span>                                                                                                                                     |
   |     <span data-ttu-id="043fc-130">**加密算法**</span><span class="sxs-lookup"><span data-stu-id="043fc-130">**Encryption algorithm**</span></span>     |                                                                            <span data-ttu-id="043fc-131">定义加密算法。</span><span class="sxs-lookup"><span data-stu-id="043fc-131">Define the encryption algorithm.</span></span><br /><br /> <span data-ttu-id="043fc-132">可以仅设置此属性，如果**启用加密**设置为**True**。</span><span class="sxs-lookup"><span data-stu-id="043fc-132">This property can only be set if **Enable encryption** is set to **True**.</span></span><br /><br /><span data-ttu-id="043fc-133">**从开始[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]及更高版本**，将自动包括 AES 加密。</span><span class="sxs-lookup"><span data-stu-id="043fc-133">**Starting with [!INCLUDE[bts2016_md](../includes/bts2016-md.md)] and newer versions**, AES encryption is automatically included.</span></span> <span data-ttu-id="043fc-134">选项包括： DES3、 DES、 RC2、 AES128 （默认）、 AES192 和 AES256。</span><span class="sxs-lookup"><span data-stu-id="043fc-134">Options include: DES3, DES, RC2, AES128 (default), AES192, and AES256.</span></span><br /><br /><span data-ttu-id="043fc-135">对于以前[!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)]版本中，选项包括： DES3 （默认）、 DES、 RC2。</span><span class="sxs-lookup"><span data-stu-id="043fc-135">For previous [!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)] versions, options include: DES3 (default), DES, RC2.</span></span>                                                                             |
   | <span data-ttu-id="043fc-136">**将正文部分作为附件发送**</span><span class="sxs-lookup"><span data-stu-id="043fc-136">**Send body part as attachment**</span></span> |                                                                                                                                        <span data-ttu-id="043fc-137">设置为 **，则返回 True**如果你想要将 BizTalk 消息的正文参与方作为 MIME 附件发送。</span><span class="sxs-lookup"><span data-stu-id="043fc-137">Set to **True** if you want to send the body party of a BizTalk message as a MIME attachment.</span></span><br /><br /> <span data-ttu-id="043fc-138">默认值： **False** **重要说明：** 不应将此属性设置为**True**时 BizTalk Server 之间发送消息。</span><span class="sxs-lookup"><span data-stu-id="043fc-138">Default value: **False** **Important:**  You should not set this property to **True** when sending messages between BizTalk Servers.</span></span> <span data-ttu-id="043fc-139">否则，由于消息在接收端被解释为两部分消息，因而消息解码将需要自定义编码。</span><span class="sxs-lookup"><span data-stu-id="043fc-139">Otherwise, the message decoding will require custom coding because the message is interpreted on the receive side as a two-part message.</span></span>                                                                                                                                        |
   |        <span data-ttu-id="043fc-140">**签名类型**</span><span class="sxs-lookup"><span data-stu-id="043fc-140">**Signature Type**</span></span>        | <span data-ttu-id="043fc-141">如果希望对传出消息进行签名，请使用此属性选择签名格式。</span><span class="sxs-lookup"><span data-stu-id="043fc-141">If you want to sign the outgoing message, select a signing format with this property.</span></span> <span data-ttu-id="043fc-142">此属性有三个值：</span><span class="sxs-lookup"><span data-stu-id="043fc-142">This property has three values:</span></span><br /><br /> <span data-ttu-id="043fc-143">-   **NoSign**。</span><span class="sxs-lookup"><span data-stu-id="043fc-143">-   **NoSign**.</span></span> <span data-ttu-id="043fc-144">不对消息进行签名。</span><span class="sxs-lookup"><span data-stu-id="043fc-144">The message will not be signed.</span></span><br /><span data-ttu-id="043fc-145">-   **ClearSign**。</span><span class="sxs-lookup"><span data-stu-id="043fc-145">-   **ClearSign**.</span></span> <span data-ttu-id="043fc-146">签名将附加到消息。</span><span class="sxs-lookup"><span data-stu-id="043fc-146">The signature will be appended to the message.</span></span> <span data-ttu-id="043fc-147">**ClearSign**如果不能使用**启用加密**设置为**True**。</span><span class="sxs-lookup"><span data-stu-id="043fc-147">**ClearSign** cannot be used if **Enable Encryption** is set to **True**.</span></span><br /><span data-ttu-id="043fc-148">-   **BlobSign**。</span><span class="sxs-lookup"><span data-stu-id="043fc-148">-   **BlobSign**.</span></span> <span data-ttu-id="043fc-149">签名将附加到消息中，并且消息将被编码。</span><span class="sxs-lookup"><span data-stu-id="043fc-149">The signature will be appended to the message and the message will be encoded.</span></span><br /><br /> <span data-ttu-id="043fc-150">MIME/SMIME 编码器组件使用与 BizTalk 管理控制台中 BizTalk 组关联的私钥客户端证书进行消息签名。</span><span class="sxs-lookup"><span data-stu-id="043fc-150">For message signing, the MIME/SMIME Encoder component uses the private key client certificate that is associated with BizTalk Group in the BizTalk Administration console.</span></span><br /><br /> <span data-ttu-id="043fc-151">默认值： **NoSign**</span><span class="sxs-lookup"><span data-stu-id="043fc-151">Default value: **NoSign**</span></span> |

   <span data-ttu-id="043fc-152">若要设置 MIME 附件的文件名，使用**文件名**属性中的**系统**消息部分的命名空间。</span><span class="sxs-lookup"><span data-stu-id="043fc-152">To set the file name for MIME attachments, use the **FileName** property in the **System** namespace for the message part.</span></span>  

## <a name="see-also"></a><span data-ttu-id="043fc-153">请参阅</span><span class="sxs-lookup"><span data-stu-id="043fc-153">See Also</span></span>  
 <span data-ttu-id="043fc-154">[MIME-SMIME 编码器管道组件](../core/mime-smime-encoder-pipeline-component.md) </span><span class="sxs-lookup"><span data-stu-id="043fc-154">[MIME-SMIME Encoder Pipeline Component](../core/mime-smime-encoder-pipeline-component.md) </span></span>  
 <span data-ttu-id="043fc-155">[配置本地管道组件](../core/configuring-native-pipeline-components.md) </span><span class="sxs-lookup"><span data-stu-id="043fc-155">[Configuring Native Pipeline Components](../core/configuring-native-pipeline-components.md) </span></span>  
 <span data-ttu-id="043fc-156">[MIME-SMIME 属性架构和属性](../core/mime-smime-property-schema-and-properties.md) </span><span class="sxs-lookup"><span data-stu-id="043fc-156">[MIME-SMIME Property Schema and Properties](../core/mime-smime-property-schema-and-properties.md) </span></span>  
 [<span data-ttu-id="043fc-157">MIME（BizTalk Server 示例）</span><span class="sxs-lookup"><span data-stu-id="043fc-157">MIME (BizTalk Server Sample)</span></span>](../core/mime-biztalk-server-sample.md)