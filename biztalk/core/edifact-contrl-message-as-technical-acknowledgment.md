---
title: 作为技术确认的 EDIFACT CONTRL 消息 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 6f2a7564-dbd3-48d0-b0a6-a77a0560459f
caps.latest.revision: 9
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: f8048578c18c68dd424e23a0454d77a821e701ec
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65350121"
---
# <a name="edifact-contrl-message-as-technical-acknowledgment"></a><span data-ttu-id="35fb2-102">作为技术确认的 EDIFACT CONTRL 消息</span><span class="sxs-lookup"><span data-stu-id="35fb2-102">EDIFACT CONTRL Message as Technical Acknowledgment</span></span>
<span data-ttu-id="35fb2-103">如果您已选择在业务配置文件设置或贸易合作伙伴协议 （或如果两个业务配置文件之间不定义任何协议的后备协议），生成技术确认，或消息中的 UNB9 字段设置为"2"，将 CONTRL将生成消息作为技术确认。</span><span class="sxs-lookup"><span data-stu-id="35fb2-103">If you have selected to generate a technical acknowledgment in business profile settings or trading partner agreement (or fallback agreement if no agreement is defined between the two business profiles), or if the UNB9 field in the message is set to "2", a CONTRL message will be generated as a technical acknowledgment.</span></span> <span data-ttu-id="35fb2-104">此确认会报告交换回执的结果。</span><span class="sxs-lookup"><span data-stu-id="35fb2-104">This ACK reports the results of the receipt of the interchange.</span></span>  
  
 <span data-ttu-id="35fb2-105">CONTRL 技术确认包括以下段：</span><span class="sxs-lookup"><span data-stu-id="35fb2-105">The CONTRL technical ACK includes the following segments:</span></span>  
  
- <span data-ttu-id="35fb2-106">UNH 消息标头 （必需）</span><span class="sxs-lookup"><span data-stu-id="35fb2-106">UNH message header (mandatory)</span></span>  
  
- <span data-ttu-id="35fb2-107">UCI 交换响应，用于标识交换主题并指示交换回执 （必需） 的性质。</span><span class="sxs-lookup"><span data-stu-id="35fb2-107">UCI interchange response that identifies the subject interchange and indicates the nature of interchange receipt (mandatory).</span></span> <span data-ttu-id="35fb2-108">UCI 段具有 1; 最大出现次数因此，它报告在一个控制段中遇到的第一个错误。</span><span class="sxs-lookup"><span data-stu-id="35fb2-108">The UCI segment has a max occurrence of 1; as a result, it reports the first error encountered in one of the control segments.</span></span>  
  
- <span data-ttu-id="35fb2-109">UNT 消息尾部 （必需）。</span><span class="sxs-lookup"><span data-stu-id="35fb2-109">UNT message trailer (mandatory).</span></span>  
  
  <span data-ttu-id="35fb2-110">在 UCI5"语法错误代码"、 数据元素中报告错误。</span><span class="sxs-lookup"><span data-stu-id="35fb2-110">An error is reported in the UCI5, "Syntax Error Code", data element.</span></span> <span data-ttu-id="35fb2-111">没有与 X12 编码的交换为 EDIFACT 编码的交换，没有"已接受但存在错误"条件。</span><span class="sxs-lookup"><span data-stu-id="35fb2-111">There is no "accepted with errors" condition for EDIFACT-encoded interchanges, as there is with X12-encoded interchanges.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="35fb2-112">仅当传入的 EDIFACT 消息重复或信封 （例如，问题的字符集） 中有错误时，CONTRL 回执 （EDIFACT 技术确认） 报告的状态为"已拒绝"。</span><span class="sxs-lookup"><span data-stu-id="35fb2-112">A CONTRL receipt (EDIFACT technical acknowledgment) reports a status of “Rejected” only when the incoming EDIFACT message is a duplicate or there are errors in the envelope (for example, an issue with the character set).</span></span> <span data-ttu-id="35fb2-113">EDIFACT 不在 CONTRL 技术确认中报告的状态为"已接受交换但出现错误"，如 X12 在 TA1 确认的 TA104 字段中作用。</span><span class="sxs-lookup"><span data-stu-id="35fb2-113">EDIFACT does not report a state of “Interchange accepted with errors” in the CONTRL technical acknowledgment, as X12 does in the TA104 field in a TA1 acknowledgment.</span></span> <span data-ttu-id="35fb2-114">如果接受 EDIFACT 消息的一部分，CONTRL 技术确认将报告"已接受"。</span><span class="sxs-lookup"><span data-stu-id="35fb2-114">If part of the EDIFACT message is accepted, the CONTRL technical acknowledgment will report “Accepted”.</span></span> <span data-ttu-id="35fb2-115">在某些情况下，将被拒绝消息的一部分，但 CONTRL 确认仍将报告的状态为"已接受"。</span><span class="sxs-lookup"><span data-stu-id="35fb2-115">In some scenarios, part of the message will be rejected, but the CONTRL acknowledgment will still report a status of “Accepted”.</span></span> <span data-ttu-id="35fb2-116">在这种情况下，UCI5 元素可能报告错误。</span><span class="sxs-lookup"><span data-stu-id="35fb2-116">In such scenarios, the UCI5 element may report the error.</span></span>  
  
 <span data-ttu-id="35fb2-117">CONTRL 技术确认包括以下数据元素：</span><span class="sxs-lookup"><span data-stu-id="35fb2-117">The CONTRL technical ACK includes the following data elements:</span></span>  
  
|<span data-ttu-id="35fb2-118">数据元素</span><span class="sxs-lookup"><span data-stu-id="35fb2-118">Data Element</span></span>|<span data-ttu-id="35fb2-119">“属性”</span><span class="sxs-lookup"><span data-stu-id="35fb2-119">Name</span></span>|<span data-ttu-id="35fb2-120">用法</span><span class="sxs-lookup"><span data-stu-id="35fb2-120">Usage</span></span>|  
|------------------|----------|-----------|  
|<span data-ttu-id="35fb2-121">UNH1</span><span class="sxs-lookup"><span data-stu-id="35fb2-121">UNH1</span></span>|<span data-ttu-id="35fb2-122">消息参考编号</span><span class="sxs-lookup"><span data-stu-id="35fb2-122">Message reference number</span></span>|-|  
|<span data-ttu-id="35fb2-123">UNH2</span><span class="sxs-lookup"><span data-stu-id="35fb2-123">UNH2</span></span>|<span data-ttu-id="35fb2-124">消息标识符子组件</span><span class="sxs-lookup"><span data-stu-id="35fb2-124">Message identifier subcomponents</span></span>|<span data-ttu-id="35fb2-125">子组件为：</span><span class="sxs-lookup"><span data-stu-id="35fb2-125">The subcomponents are:</span></span><br /><br /> <span data-ttu-id="35fb2-126">-1 = CONTRL</span><span class="sxs-lookup"><span data-stu-id="35fb2-126">- 1 = CONTRL</span></span><br /><br /> <span data-ttu-id="35fb2-127">- 2 = 4</span><span class="sxs-lookup"><span data-stu-id="35fb2-127">- 2 = 4</span></span><br /><br /> <span data-ttu-id="35fb2-128">- 3 = 1</span><span class="sxs-lookup"><span data-stu-id="35fb2-128">- 3 = 1</span></span><br /><br /> <span data-ttu-id="35fb2-129">-4 = 取消</span><span class="sxs-lookup"><span data-stu-id="35fb2-129">- 4 = UN</span></span>|  
|<span data-ttu-id="35fb2-130">UCI1</span><span class="sxs-lookup"><span data-stu-id="35fb2-130">UCI1</span></span>|<span data-ttu-id="35fb2-131">交换控制编号</span><span class="sxs-lookup"><span data-stu-id="35fb2-131">Interchange control number</span></span>|<span data-ttu-id="35fb2-132">映射自已接收消息的 UNB5 字段。</span><span class="sxs-lookup"><span data-stu-id="35fb2-132">Mapped from the UNB5 field of the received message.</span></span>|  
|<span data-ttu-id="35fb2-133">UCI2</span><span class="sxs-lookup"><span data-stu-id="35fb2-133">UCI2</span></span>|<span data-ttu-id="35fb2-134">交换发送方</span><span class="sxs-lookup"><span data-stu-id="35fb2-134">Interchange sender</span></span>|<span data-ttu-id="35fb2-135">映射自已接收消息的 UNB2 字段。</span><span class="sxs-lookup"><span data-stu-id="35fb2-135">Mapped from the UNB2 field of the received message.</span></span> <span data-ttu-id="35fb2-136">第一个子组件 （标识） 是必需的。</span><span class="sxs-lookup"><span data-stu-id="35fb2-136">The first subcomponent (identification) is mandatory.</span></span> <span data-ttu-id="35fb2-137">第二个子组件 （代码限定符） 和第三个组件 （反向路由地址） 是可选的。</span><span class="sxs-lookup"><span data-stu-id="35fb2-137">The second subcomponent (code qualifier) and the third component (reverse routing address) are optional.</span></span>|  
|<span data-ttu-id="35fb2-138">UCI3</span><span class="sxs-lookup"><span data-stu-id="35fb2-138">UCI3</span></span>|<span data-ttu-id="35fb2-139">交换接收方</span><span class="sxs-lookup"><span data-stu-id="35fb2-139">Interchange recipient</span></span>|<span data-ttu-id="35fb2-140">映射自已接收消息的 UNB3 字段。</span><span class="sxs-lookup"><span data-stu-id="35fb2-140">Mapped from the UNB3 field of the received message.</span></span> <span data-ttu-id="35fb2-141">第一个子组件 （标识） 是必需的。</span><span class="sxs-lookup"><span data-stu-id="35fb2-141">The first subcomponent (identification) is mandatory.</span></span> <span data-ttu-id="35fb2-142">第二个子组件 （代码限定符） 是可选的。</span><span class="sxs-lookup"><span data-stu-id="35fb2-142">The second subcomponent (code qualifier) is optional.</span></span>|  
|<span data-ttu-id="35fb2-143">UCI4</span><span class="sxs-lookup"><span data-stu-id="35fb2-143">UCI4</span></span>|<span data-ttu-id="35fb2-144">操作代码</span><span class="sxs-lookup"><span data-stu-id="35fb2-144">Action code</span></span>|<span data-ttu-id="35fb2-145">这些操作代码为：</span><span class="sxs-lookup"><span data-stu-id="35fb2-145">The action codes are:</span></span><br /><br /> <span data-ttu-id="35fb2-146">-8 如果交换被接受</span><span class="sxs-lookup"><span data-stu-id="35fb2-146">- 8 if the interchange is accepted</span></span><br /><br /> <span data-ttu-id="35fb2-147">-7 如果交换被接受，但某些事务集将被拒绝</span><span class="sxs-lookup"><span data-stu-id="35fb2-147">- 7 if the interchange is accepted but some transaction sets are rejected</span></span><br /><br /> <span data-ttu-id="35fb2-148">-4 如果交换被拒绝由于 UNA 或 UNB 段中出现错误</span><span class="sxs-lookup"><span data-stu-id="35fb2-148">- 4 if the interchange is rejected because of an error in the UNA or UNB segment</span></span><br /><br /> <span data-ttu-id="35fb2-149">这是必需的数据元素。</span><span class="sxs-lookup"><span data-stu-id="35fb2-149">This is a mandatory data element.</span></span>|  
|<span data-ttu-id="35fb2-150">UCI5</span><span class="sxs-lookup"><span data-stu-id="35fb2-150">UCI5</span></span>|<span data-ttu-id="35fb2-151">语法错误代码</span><span class="sxs-lookup"><span data-stu-id="35fb2-151">Syntax Error Code</span></span>|<span data-ttu-id="35fb2-152">标识错误条件 （如果有）。</span><span class="sxs-lookup"><span data-stu-id="35fb2-152">Identifies the error condition (if any).</span></span> <span data-ttu-id="35fb2-153">有关详细信息，请参阅[EDIFACT CONTRL 确认错误代码](../core/edifact-contrl-acknowledgment-error-codes.md)。</span><span class="sxs-lookup"><span data-stu-id="35fb2-153">For more information, see [EDIFACT CONTRL Acknowledgment Error Codes](../core/edifact-contrl-acknowledgment-error-codes.md).</span></span><br /><br /> <span data-ttu-id="35fb2-154">此数据元素为条件可选。</span><span class="sxs-lookup"><span data-stu-id="35fb2-154">This data element has conditional optionality.</span></span>|  
|<span data-ttu-id="35fb2-155">UCI6</span><span class="sxs-lookup"><span data-stu-id="35fb2-155">UCI6</span></span>|<span data-ttu-id="35fb2-156">服务段标记</span><span class="sxs-lookup"><span data-stu-id="35fb2-156">Service Segment Tag</span></span>|<span data-ttu-id="35fb2-157">标识在 UCI.5 数据元素中确定了错误情况的段。</span><span class="sxs-lookup"><span data-stu-id="35fb2-157">Identifies the segment that has the error condition identified in the UCI.5 data element.</span></span><br /><br /> <span data-ttu-id="35fb2-158">此数据元素为条件可选。</span><span class="sxs-lookup"><span data-stu-id="35fb2-158">This data element has conditional optionality.</span></span>|  
|<span data-ttu-id="35fb2-159">UCI7</span><span class="sxs-lookup"><span data-stu-id="35fb2-159">UCI7</span></span>|<span data-ttu-id="35fb2-160">数据元素标识</span><span class="sxs-lookup"><span data-stu-id="35fb2-160">Data element identification</span></span>|<span data-ttu-id="35fb2-161">标识在 UCI.5 数据元素中确定了错误情况的数据元素。</span><span class="sxs-lookup"><span data-stu-id="35fb2-161">Identifies the data elements that have the error condition identified in the UCI.5 data element.</span></span> <span data-ttu-id="35fb2-162">UCI7 的子组件为：</span><span class="sxs-lookup"><span data-stu-id="35fb2-162">The subcomponents of UCI7 are:</span></span><br /><br /> <span data-ttu-id="35fb2-163">-中的位置错误数据元素的段 （必需）</span><span class="sxs-lookup"><span data-stu-id="35fb2-163">- Position of erroneous data element in segment (mandatory)</span></span><br /><br /> <span data-ttu-id="35fb2-164">-错误组件数据元素的位置中段 （条件可选）</span><span class="sxs-lookup"><span data-stu-id="35fb2-164">- Position of erroneous component data element in segment (conditional optionality)</span></span><br /><br /> <span data-ttu-id="35fb2-165">的错误数据元素在段 （条件可选） 中匹配项</span><span class="sxs-lookup"><span data-stu-id="35fb2-165">- Occurrence of erroneous data element in segment (conditional optionality)</span></span>|  
|<span data-ttu-id="35fb2-166">UCI8</span><span class="sxs-lookup"><span data-stu-id="35fb2-166">UCI8</span></span>|-|-|  
|<span data-ttu-id="35fb2-167">UNT1</span><span class="sxs-lookup"><span data-stu-id="35fb2-167">UNT1</span></span>|<span data-ttu-id="35fb2-168">段的计数</span><span class="sxs-lookup"><span data-stu-id="35fb2-168">Count of segments</span></span>|-|  
|<span data-ttu-id="35fb2-169">UNT2</span><span class="sxs-lookup"><span data-stu-id="35fb2-169">UNT2</span></span>|<span data-ttu-id="35fb2-170">消息参考编号</span><span class="sxs-lookup"><span data-stu-id="35fb2-170">Message reference number</span></span>|-|