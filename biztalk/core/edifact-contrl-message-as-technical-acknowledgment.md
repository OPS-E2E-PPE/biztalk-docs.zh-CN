---
title: 为技术确认 EDIFACT CONTRL 消息 |Microsoft 文档
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 6f2a7564-dbd3-48d0-b0a6-a77a0560459f
caps.latest.revision: 9
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 8376e3249a102486c1bef4d92a7512c8aa29636c
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
ms.locfileid: "22242509"
---
# <a name="edifact-contrl-message-as-technical-acknowledgment"></a><span data-ttu-id="825db-102">作为技术确认的 EDIFACT CONTRL 消息</span><span class="sxs-lookup"><span data-stu-id="825db-102">EDIFACT CONTRL Message as Technical Acknowledgment</span></span>
<span data-ttu-id="825db-103">如果已在业务配置文件设置或贸易合作伙伴协议（或者没有在两个业务配置文件之间定义协议时在后备协议）中选择生成技术确认，或者如果消息中的 UNB9 字段设置为“2”，则会生成 CONTRL 消息作为技术确认。</span><span class="sxs-lookup"><span data-stu-id="825db-103">If you have selected to generate a technical acknowledgment in business profile settings or trading partner agreement (or fallback agreement if no agreement is defined between the two business profiles), or if the UNB9 field in the message is set to "2", a CONTRL message will be generated as a technical acknowledgment.</span></span> <span data-ttu-id="825db-104">此确认会报告交换回执的结果。</span><span class="sxs-lookup"><span data-stu-id="825db-104">This ACK reports the results of the receipt of the interchange.</span></span>  
  
 <span data-ttu-id="825db-105">CONTRL 技术确认包括以下段：</span><span class="sxs-lookup"><span data-stu-id="825db-105">The CONTRL technical ACK includes the following segments:</span></span>  
  
-   <span data-ttu-id="825db-106">UNH 消息标头（必需）</span><span class="sxs-lookup"><span data-stu-id="825db-106">UNH message header (mandatory)</span></span>  
  
-   <span data-ttu-id="825db-107">UCI 交换响应，用于标识交换主题并指示交换回执的性质（必需）。</span><span class="sxs-lookup"><span data-stu-id="825db-107">UCI interchange response that identifies the subject interchange and indicates the nature of interchange receipt (mandatory).</span></span> <span data-ttu-id="825db-108">UCI 段的最大出现次数为 1；因此，它将报告在一个控制段中遇到的第一个错误。</span><span class="sxs-lookup"><span data-stu-id="825db-108">The UCI segment has a max occurrence of 1; as a result, it reports the first error encountered in one of the control segments.</span></span>  
  
-   <span data-ttu-id="825db-109">UNT 消息尾部（必需）。</span><span class="sxs-lookup"><span data-stu-id="825db-109">UNT message trailer (mandatory).</span></span>  
  
 <span data-ttu-id="825db-110">错误在 UCI5“语法错误代码”数据元素中报告。</span><span class="sxs-lookup"><span data-stu-id="825db-110">An error is reported in the UCI5, "Syntax Error Code", data element.</span></span> <span data-ttu-id="825db-111">与 X12 编码的交换不同，EDIFACT 编码的交换没有“已接受但存在错误”条件。</span><span class="sxs-lookup"><span data-stu-id="825db-111">There is no "accepted with errors" condition for EDIFACT-encoded interchanges, as there is with X12-encoded interchanges.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="825db-112">仅当传入的 EDIFACT 消息重复或信封中存在错误（例如，字符集存在问题）时，CONTRL 回执（EDIFACT 技术确认）才报告“已拒绝”状态。</span><span class="sxs-lookup"><span data-stu-id="825db-112">A CONTRL receipt (EDIFACT technical acknowledgment) reports a status of “Rejected” only when the incoming EDIFACT message is a duplicate or there are errors in the envelope (for example, an issue with the character set).</span></span> <span data-ttu-id="825db-113">与 X12 在 TA1 确认的 TA104 字段中报告“已接受交换但存在错误”不同，EDIFACT 不在 CONTRL 技术确认中报告这一状态。</span><span class="sxs-lookup"><span data-stu-id="825db-113">EDIFACT does not report a state of “Interchange accepted with errors” in the CONTRL technical acknowledgment, as X12 does in the TA104 field in a TA1 acknowledgment.</span></span> <span data-ttu-id="825db-114">如果接受了 EDIFACT 消息的一部分，CONTRL 技术确认将报告“已接受”。</span><span class="sxs-lookup"><span data-stu-id="825db-114">If part of the EDIFACT message is accepted, the CONTRL technical acknowledgment will report “Accepted”.</span></span> <span data-ttu-id="825db-115">在某些情况下，虽然消息的一部分将被拒绝，但 CONTRL 确认仍将报告“已接受”状态。</span><span class="sxs-lookup"><span data-stu-id="825db-115">In some scenarios, part of the message will be rejected, but the CONTRL acknowledgment will still report a status of “Accepted”.</span></span> <span data-ttu-id="825db-116">在这种情况下，UCI5 元素可能报告错误。</span><span class="sxs-lookup"><span data-stu-id="825db-116">In such scenarios, the UCI5 element may report the error.</span></span>  
  
 <span data-ttu-id="825db-117">CONTRL 技术确认包括以下数据元素：</span><span class="sxs-lookup"><span data-stu-id="825db-117">The CONTRL technical ACK includes the following data elements:</span></span>  
  
|<span data-ttu-id="825db-118">Data 元素</span><span class="sxs-lookup"><span data-stu-id="825db-118">Data Element</span></span>|<span data-ttu-id="825db-119">Name</span><span class="sxs-lookup"><span data-stu-id="825db-119">Name</span></span>|<span data-ttu-id="825db-120">用法</span><span class="sxs-lookup"><span data-stu-id="825db-120">Usage</span></span>|  
|------------------|----------|-----------|  
|<span data-ttu-id="825db-121">UNH1</span><span class="sxs-lookup"><span data-stu-id="825db-121">UNH1</span></span>|<span data-ttu-id="825db-122">消息参考编号</span><span class="sxs-lookup"><span data-stu-id="825db-122">Message reference number</span></span>|-|  
|<span data-ttu-id="825db-123">UNH2</span><span class="sxs-lookup"><span data-stu-id="825db-123">UNH2</span></span>|<span data-ttu-id="825db-124">消息标识符子组件</span><span class="sxs-lookup"><span data-stu-id="825db-124">Message identifier subcomponents</span></span>|<span data-ttu-id="825db-125">这些子组件为：</span><span class="sxs-lookup"><span data-stu-id="825db-125">The subcomponents are:</span></span><br /><br /> <span data-ttu-id="825db-126">-1 = CONTRL</span><span class="sxs-lookup"><span data-stu-id="825db-126">- 1 = CONTRL</span></span><br /><br /> <span data-ttu-id="825db-127">- 2 = 4</span><span class="sxs-lookup"><span data-stu-id="825db-127">- 2 = 4</span></span><br /><br /> <span data-ttu-id="825db-128">- 3 = 1</span><span class="sxs-lookup"><span data-stu-id="825db-128">- 3 = 1</span></span><br /><br /> <span data-ttu-id="825db-129">-4 = 取消</span><span class="sxs-lookup"><span data-stu-id="825db-129">- 4 = UN</span></span>|  
|<span data-ttu-id="825db-130">UCI1</span><span class="sxs-lookup"><span data-stu-id="825db-130">UCI1</span></span>|<span data-ttu-id="825db-131">交换控制编号</span><span class="sxs-lookup"><span data-stu-id="825db-131">Interchange control number</span></span>|<span data-ttu-id="825db-132">映射自已接收消息的 UNB5 字段。</span><span class="sxs-lookup"><span data-stu-id="825db-132">Mapped from the UNB5 field of the received message.</span></span>|  
|<span data-ttu-id="825db-133">UCI2</span><span class="sxs-lookup"><span data-stu-id="825db-133">UCI2</span></span>|<span data-ttu-id="825db-134">交换发送方</span><span class="sxs-lookup"><span data-stu-id="825db-134">Interchange sender</span></span>|<span data-ttu-id="825db-135">映射自已接收消息的 UNB2 字段。</span><span class="sxs-lookup"><span data-stu-id="825db-135">Mapped from the UNB2 field of the received message.</span></span> <span data-ttu-id="825db-136">第一个子组件（标识）是必需的。</span><span class="sxs-lookup"><span data-stu-id="825db-136">The first subcomponent (identification) is mandatory.</span></span> <span data-ttu-id="825db-137">第二个子组件（代码限定符）和第三个组件（反向路由地址）是可选的。</span><span class="sxs-lookup"><span data-stu-id="825db-137">The second subcomponent (code qualifier) and the third component (reverse routing address) are optional.</span></span>|  
|<span data-ttu-id="825db-138">UCI3</span><span class="sxs-lookup"><span data-stu-id="825db-138">UCI3</span></span>|<span data-ttu-id="825db-139">交换接收方</span><span class="sxs-lookup"><span data-stu-id="825db-139">Interchange recipient</span></span>|<span data-ttu-id="825db-140">映射自已接收消息的 UNB3 字段。</span><span class="sxs-lookup"><span data-stu-id="825db-140">Mapped from the UNB3 field of the received message.</span></span> <span data-ttu-id="825db-141">第一个子组件（标识）是必需的。</span><span class="sxs-lookup"><span data-stu-id="825db-141">The first subcomponent (identification) is mandatory.</span></span> <span data-ttu-id="825db-142">第二个子组件（代码限定符）是可选的。</span><span class="sxs-lookup"><span data-stu-id="825db-142">The second subcomponent (code qualifier) is optional.</span></span>|  
|<span data-ttu-id="825db-143">UCI4</span><span class="sxs-lookup"><span data-stu-id="825db-143">UCI4</span></span>|<span data-ttu-id="825db-144">操作代码</span><span class="sxs-lookup"><span data-stu-id="825db-144">Action code</span></span>|<span data-ttu-id="825db-145">这些操作代码为：</span><span class="sxs-lookup"><span data-stu-id="825db-145">The action codes are:</span></span><br /><br /> <span data-ttu-id="825db-146">-如果接受交换的 8</span><span class="sxs-lookup"><span data-stu-id="825db-146">- 8 if the interchange is accepted</span></span><br /><br /> <span data-ttu-id="825db-147">-如果接受交换的 7，但某些事务集将被拒绝</span><span class="sxs-lookup"><span data-stu-id="825db-147">- 7 if the interchange is accepted but some transaction sets are rejected</span></span><br /><br /> <span data-ttu-id="825db-148">-如果该交换拒绝由于 UNA 或 UNB 段中出现错误的 4</span><span class="sxs-lookup"><span data-stu-id="825db-148">- 4 if the interchange is rejected because of an error in the UNA or UNB segment</span></span><br /><br /> <span data-ttu-id="825db-149">这是一个必需的数据元素。</span><span class="sxs-lookup"><span data-stu-id="825db-149">This is a mandatory data element.</span></span>|  
|<span data-ttu-id="825db-150">UCI5</span><span class="sxs-lookup"><span data-stu-id="825db-150">UCI5</span></span>|<span data-ttu-id="825db-151">语法错误代码</span><span class="sxs-lookup"><span data-stu-id="825db-151">Syntax Error Code</span></span>|<span data-ttu-id="825db-152">标识错误情况（如果有）。</span><span class="sxs-lookup"><span data-stu-id="825db-152">Identifies the error condition (if any).</span></span> <span data-ttu-id="825db-153">有关详细信息，请参阅[EDIFACT CONTRL 确认错误代码](../core/edifact-contrl-acknowledgment-error-codes.md)。</span><span class="sxs-lookup"><span data-stu-id="825db-153">For more information, see [EDIFACT CONTRL Acknowledgment Error Codes](../core/edifact-contrl-acknowledgment-error-codes.md).</span></span><br /><br /> <span data-ttu-id="825db-154">此数据元素为条件可选。</span><span class="sxs-lookup"><span data-stu-id="825db-154">This data element has conditional optionality.</span></span>|  
|<span data-ttu-id="825db-155">UCI6</span><span class="sxs-lookup"><span data-stu-id="825db-155">UCI6</span></span>|<span data-ttu-id="825db-156">服务段标记</span><span class="sxs-lookup"><span data-stu-id="825db-156">Service Segment Tag</span></span>|<span data-ttu-id="825db-157">标识在 UCI.5 数据元素中确定了错误情况的段。</span><span class="sxs-lookup"><span data-stu-id="825db-157">Identifies the segment that has the error condition identified in the UCI.5 data element.</span></span><br /><br /> <span data-ttu-id="825db-158">此数据元素为条件可选。</span><span class="sxs-lookup"><span data-stu-id="825db-158">This data element has conditional optionality.</span></span>|  
|<span data-ttu-id="825db-159">UCI7</span><span class="sxs-lookup"><span data-stu-id="825db-159">UCI7</span></span>|<span data-ttu-id="825db-160">数据元素标识</span><span class="sxs-lookup"><span data-stu-id="825db-160">Data element identification</span></span>|<span data-ttu-id="825db-161">标识在 UCI.5 数据元素中确定了错误情况的数据元素。</span><span class="sxs-lookup"><span data-stu-id="825db-161">Identifies the data elements that have the error condition identified in the UCI.5 data element.</span></span> <span data-ttu-id="825db-162">UCI7 的子组件为：</span><span class="sxs-lookup"><span data-stu-id="825db-162">The subcomponents of UCI7 are:</span></span><br /><br /> <span data-ttu-id="825db-163">元素的位置错误的数据段 （必需） 中</span><span class="sxs-lookup"><span data-stu-id="825db-163">- Position of erroneous data element in segment (mandatory)</span></span><br /><br /> <span data-ttu-id="825db-164">-错误组件数据元素中位置段 (条件 optionality)</span><span class="sxs-lookup"><span data-stu-id="825db-164">- Position of erroneous component data element in segment (conditional optionality)</span></span><br /><br /> <span data-ttu-id="825db-165">的段 (条件 optionality) 中的错误的数据元素匹配项</span><span class="sxs-lookup"><span data-stu-id="825db-165">- Occurrence of erroneous data element in segment (conditional optionality)</span></span>|  
|<span data-ttu-id="825db-166">UCI8</span><span class="sxs-lookup"><span data-stu-id="825db-166">UCI8</span></span>|-|-|  
|<span data-ttu-id="825db-167">UNT1</span><span class="sxs-lookup"><span data-stu-id="825db-167">UNT1</span></span>|<span data-ttu-id="825db-168">段计数</span><span class="sxs-lookup"><span data-stu-id="825db-168">Count of segments</span></span>|-|  
|<span data-ttu-id="825db-169">UNT2</span><span class="sxs-lookup"><span data-stu-id="825db-169">UNT2</span></span>|<span data-ttu-id="825db-170">消息参考编号</span><span class="sxs-lookup"><span data-stu-id="825db-170">Message reference number</span></span>|-|