---
title: 协议设置 |Microsoft 文档
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 224a9837-5c85-4511-b6d9-c8fda63a27d1
caps.latest.revision: 7
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 0a8fe9e7024bfe3a9d5f1d5d7727a2115bcd31a2
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
ms.locfileid: "22271917"
---
# <a name="protocol-settings"></a><span data-ttu-id="a934b-102">协议设置</span><span class="sxs-lookup"><span data-stu-id="a934b-102">Protocol Settings</span></span>
## <a name="overview"></a><span data-ttu-id="a934b-103">概述</span><span class="sxs-lookup"><span data-stu-id="a934b-103">Overview</span></span>
<span data-ttu-id="a934b-104">创建用于反映组织内业务部门的业务配置文件之后，企业需要声明用于定义业务配置文件之间如何通信的参数。</span><span class="sxs-lookup"><span data-stu-id="a934b-104">After creating the business profiles, which reflect the business divisions within an organization, an enterprise needs to declare the parameters that define how the communication between the business profiles takes place.</span></span> <span data-ttu-id="a934b-105">这些通信参数被定义为协议设置。</span><span class="sxs-lookup"><span data-stu-id="a934b-105">These communication parameters are defined as protocol settings.</span></span> <span data-ttu-id="a934b-106">协议设置定义对于特定 B2B 协议如何支持业务事务。</span><span class="sxs-lookup"><span data-stu-id="a934b-106">Protocol settings define how business transactions are to be supported for a specific B2B protocol.</span></span> <span data-ttu-id="a934b-107">对于合作伙伴可以通过其进行通信的每个 B2B 协议，每个业务配置文件定义用于处理消息（编码）或传输消息（传输）的各种设置。</span><span class="sxs-lookup"><span data-stu-id="a934b-107">Each business profile defines the various settings for processing messages (encoding) or transmitting messages (transport) for each of the B2B protocols over which the partner can communicate.</span></span> <span data-ttu-id="a934b-108">定义的业务配置文件的通信参数分为以下两个类别：</span><span class="sxs-lookup"><span data-stu-id="a934b-108">The communication parameters for the business profiles are defined under the following two categories:</span></span>  
  
-   <span data-ttu-id="a934b-109">**编码协议设置**： 编码协议控制结构和 B2B 消息的内容。</span><span class="sxs-lookup"><span data-stu-id="a934b-109">**Encoding Protocol Settings**: The encoding protocols govern the structure and content of a B2B message.</span></span> <span data-ttu-id="a934b-110">业务配置文件的编码协议设置定义业务部门用于发送和接收 B2B 消息的编码协议。</span><span class="sxs-lookup"><span data-stu-id="a934b-110">The encoding protocol settings for a business profile define the encoding protocol that a business division uses to send and receive B2B messages.</span></span> <span data-ttu-id="a934b-111">编码的协议的一些示例包括 X12、 EDIFACT HL7，等等。有关详细的讨论大约支持编码的协议[!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)]，请参阅[EDI 标准支持](../core/edi-standards-support.md)。</span><span class="sxs-lookup"><span data-stu-id="a934b-111">Some examples of encoding protocols are X12, EDIFACT, HL7, etc. For a detailed discussion around supported encoding protocols for [!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)], see [EDI Standards Support](../core/edi-standards-support.md).</span></span> <span data-ttu-id="a934b-112">作为编码的协议的一部分，你可以提供各种设置，例如是否发送方需要确认时，是否对消息进行批处理，还是单独，发送等。你始终可以作为贸易合作伙伴协议的一部分来覆盖这些设置。</span><span class="sxs-lookup"><span data-stu-id="a934b-112">As part of the encoding protocol you can provide various settings like whether the sending party expects an acknowledgement, whether the messages will be batched or sent individually, etc. You can always overwrite these settings as part of the trading partner agreement.</span></span> <span data-ttu-id="a934b-113">请参阅[贸易合作伙伴协议](../core/trading-partner-agreement.md)。</span><span class="sxs-lookup"><span data-stu-id="a934b-113">See [Trading Partner Agreement](../core/trading-partner-agreement.md).</span></span>  
  
-   <span data-ttu-id="a934b-114">**传输协议设置**： 传输协议控制传输通道用于发送两个合作伙伴之间来回的消息。</span><span class="sxs-lookup"><span data-stu-id="a934b-114">**Transport Protocol Settings**: The transport protocol governs the transport channel used for sending the messages back and forth between two partners.</span></span> <span data-ttu-id="a934b-115">由于传输实质上是在两个传输终结点之间进行，因此每个业务配置文件定义其自身的“传输终结点”配置，并与其贸易合作伙伴的业务配置文件的单一“传输终结点”进行通信。</span><span class="sxs-lookup"><span data-stu-id="a934b-115">Since transport is essentially between two transport end points, each business profile defines its own “transport end point” configuration and communicates with a singular “transport end point” of its trading partner’s business profile.</span></span> <span data-ttu-id="a934b-116">有关支持的传输协议的信息，请参阅[BizTalk Server 中的 AS2 支持](../core/as2-support-in-biztalk-server.md)。</span><span class="sxs-lookup"><span data-stu-id="a934b-116">For information about the supported transport protocol, see [AS2 Support in BizTalk Server](../core/as2-support-in-biztalk-server.md).</span></span> <span data-ttu-id="a934b-117">作为传输协议的一部分，你可以提供各种设置，例如是否应对消息进行签名，是否应对消息进行加密，等等。你始终可以作为贸易合作伙伴协议的一部分来覆盖这些设置。</span><span class="sxs-lookup"><span data-stu-id="a934b-117">As part of the transport protocol, you can provide various settings like whether the message should be signed, whether the message should be encrypted, etc. You can always overwrite these settings as part of the trading partner agreement.</span></span> <span data-ttu-id="a934b-118">有关协议的详细信息，请参阅[贸易合作伙伴协议](../core/trading-partner-agreement.md)。</span><span class="sxs-lookup"><span data-stu-id="a934b-118">For more information about agreements, see [Trading Partner Agreement](../core/trading-partner-agreement.md).</span></span>  
  
 <span data-ttu-id="a934b-119">通过定义协议设置，业务配置文件声明用于在贸易合作伙伴之间发送 B2B 消息的消息格式和传输协议。</span><span class="sxs-lookup"><span data-stu-id="a934b-119">By defining the protocol settings, the business profiles declare the message format and the transport protocol to be used for sending B2B messages between trading partners.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="a934b-120">将协议设置定义为业务配置文件的一部分是可选的。</span><span class="sxs-lookup"><span data-stu-id="a934b-120">Defining the protocol settings as part of a business profile is optional.</span></span> <span data-ttu-id="a934b-121">如果您不指定协议设置作为业务配置文件的一部分，则可以始终在协议中指定这些设置。</span><span class="sxs-lookup"><span data-stu-id="a934b-121">If you don’t specify the protocol settings as part of the business profile, you can always specify those in an agreement.</span></span>  
  
 <span data-ttu-id="a934b-122">下图说明了贸易合作伙伴、业务配置文件和协议设置如何融合到 TPM 解决方案中。</span><span class="sxs-lookup"><span data-stu-id="a934b-122">The following figure illustrates how trading partner, business profiles, and protocol settings gel together in a TPM solution:</span></span>  
  
 <span data-ttu-id="a934b-123">![贸易合作伙伴配置文件和协议设置](../core/media/protocolsettings.gif "ProtocolSettings")</span><span class="sxs-lookup"><span data-stu-id="a934b-123">![Trading partner profiles and protocol settings](../core/media/protocolsettings.gif "ProtocolSettings")</span></span>  
  
 <span data-ttu-id="a934b-124">在上图中，“发货”业务配置文件可以发送和接收通过 AS2 传输协议发送的 X12 编码格式的消息。</span><span class="sxs-lookup"><span data-stu-id="a934b-124">In the above illustration, the “Shipping” business profile can send and receive messages with X12 encoding format sent over AS2 transport protocol.</span></span> <span data-ttu-id="a934b-125">同样，“发票”发货配置文件可以发送和接收通过 AS2 传输协议发送的 X12 和 EDIFACT 编码格式的消息。</span><span class="sxs-lookup"><span data-stu-id="a934b-125">Similarly, the “Invoice” shipping profile can send and receive messages of both X12 and EDIFACT encoding format over the AS2 transport protocol.</span></span>  
  
 <span data-ttu-id="a934b-126">现在，如何定义业务配置文件显然对于在 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 中创建 TPM 解决方案很有帮助。</span><span class="sxs-lookup"><span data-stu-id="a934b-126">It is now evident how defining a business profile is helpful in creating a TPM solution in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="a934b-127">目前，如图所显，“发货”配置文件只能发送和接收 X12 消息。</span><span class="sxs-lookup"><span data-stu-id="a934b-127">Currently, as the illustration shows, the “Shipping” business profile can only send and receive X12 messages.</span></span> <span data-ttu-id="a934b-128">因此，与“发货”业务配置文件进行通信的任何业务配置文件将必须符合“发货”业务配置文件的属性设置。</span><span class="sxs-lookup"><span data-stu-id="a934b-128">So, any business profile communicating with “Shipping” business profile will have to adhere to the properties setting for the “Shipping” business profile.</span></span> <span data-ttu-id="a934b-129">但是，未来，如果“发货”业务配置文件开始接受具有 EDIFACT 编码的消息，则只需将相关属性设置为包括 EDIFACT 支持。</span><span class="sxs-lookup"><span data-stu-id="a934b-129">However, in future, if the “Shipping” business profile starts accepting messages with EDIFACT encoding, it only needs to set the relevant properties to include EDIFACT support.</span></span> <span data-ttu-id="a934b-130">合作伙伴组织不需要为同一发货部门创建新的业务配置文件。</span><span class="sxs-lookup"><span data-stu-id="a934b-130">The partner organization does not need to create a new business profile for the same shipping division.</span></span>  
  
## <a name="do-i-always-need-to-specify-the-protocol-settings-when-creating-a-business-profile"></a><span data-ttu-id="a934b-131">创建业务配置文件时，总是需要指定协议设置吗？</span><span class="sxs-lookup"><span data-stu-id="a934b-131">Do I always need to specify the protocol settings when creating a business profile?</span></span>  
 <span data-ttu-id="a934b-132">从理论上来说，是的，业务配置文件必须包含协议设置定义。</span><span class="sxs-lookup"><span data-stu-id="a934b-132">In theoretical terms, yes, a business profile must contain the protocol settings definition.</span></span> <span data-ttu-id="a934b-133">但是，这并不意味着在 TPM 用户界面中创建业务配置文件时必须定义协议设置。</span><span class="sxs-lookup"><span data-stu-id="a934b-133">However, this does not imply that you must define the protocol settings while creating a business profile in TPM user interface.</span></span> <span data-ttu-id="a934b-134">TPM 允许您在创建业务配置文件或创建贸易合作伙伴协议时，可根据需要来指定协议设置。</span><span class="sxs-lookup"><span data-stu-id="a934b-134">TPM provides you with the flexibility of specifying the protocol settings while creating the business profile or while creating a trading partner agreement.</span></span> <span data-ttu-id="a934b-135">如果定义协议设置作为业务配置文件的一部分，则为该配置文件创建贸易合作伙伴协议时，将可以使用这些设置。</span><span class="sxs-lookup"><span data-stu-id="a934b-135">If you define the protocol settings as part of the business profile, they will be available for you while creating a trading partner agreement for that profile.</span></span> <span data-ttu-id="a934b-136">但是，如果将协议设置定义为该协议的一部分，则将必须提供所有值作为该协议的一部分。</span><span class="sxs-lookup"><span data-stu-id="a934b-136">However, if you define the protocol settings as part of the agreement, you will have to provide all the values as part of the agreement.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="a934b-137">如果未将协议设置定义为业务配置文件的一部分，则将需要输入值作为该业务配置文件的每个协议的一部分，因此阻止了新 TPM 解决方案的可伸缩性模型。</span><span class="sxs-lookup"><span data-stu-id="a934b-137">If you do not define the protocol settings as part of the business profile, you will need to enter the values as part of each agreement for that business profile, thereby defeating the scalability model of the new TPM solution.</span></span> <span data-ttu-id="a934b-138">因此，Microsoft 建议您为每个业务配置文件定义协议设置。</span><span class="sxs-lookup"><span data-stu-id="a934b-138">Hence, Microsoft recommends that you define the protocol settings for each business profile.</span></span> <span data-ttu-id="a934b-139">如果需要，您可以在创建贸易合作伙伴协议时始终覆盖这些设置。</span><span class="sxs-lookup"><span data-stu-id="a934b-139">You can always override those settings, if required, while creating a trading partner agreement.</span></span>  

## <a name="learn-next"></a><span data-ttu-id="a934b-140">了解下一步</span><span class="sxs-lookup"><span data-stu-id="a934b-140">Learn next</span></span>
[<span data-ttu-id="a934b-141">贸易合作伙伴协议</span><span class="sxs-lookup"><span data-stu-id="a934b-141">Trading Partner Agreement</span></span>](../core/trading-partner-agreement.md)  
[<span data-ttu-id="a934b-142">综合： 定义一个贸易合作伙伴管理解决方案</span><span class="sxs-lookup"><span data-stu-id="a934b-142">Putting it all Together: Defining a Trading Partner Management Solution</span></span>](../core/putting-it-all-together-defining-a-trading-partner-management-solution.md)  
  
## <a name="see-also"></a><span data-ttu-id="a934b-143">另请参阅</span><span class="sxs-lookup"><span data-stu-id="a934b-143">See Also</span></span>  
 [<span data-ttu-id="a934b-144">贸易合作伙伴管理解决方案的构建基块</span><span class="sxs-lookup"><span data-stu-id="a934b-144">Building Blocks of a Trading Partner Management Solution</span></span>](../core/building-blocks-of-a-trading-partner-management-solution.md)