---
title: 协议设置 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 224a9837-5c85-4511-b6d9-c8fda63a27d1
caps.latest.revision: 7
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 9c2a61bb26ae330b6ccb1e296d277ecdeebb2d11
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65398447"
---
# <a name="protocol-settings"></a><span data-ttu-id="d9646-102">协议设置</span><span class="sxs-lookup"><span data-stu-id="d9646-102">Protocol Settings</span></span>
## <a name="overview"></a><span data-ttu-id="d9646-103">概述</span><span class="sxs-lookup"><span data-stu-id="d9646-103">Overview</span></span>
<span data-ttu-id="d9646-104">创建业务配置文件，反映组织内的业务部门后, 企业需要声明的参数定义进行业务配置文件之间通信的方式放置。</span><span class="sxs-lookup"><span data-stu-id="d9646-104">After creating the business profiles, which reflect the business divisions within an organization, an enterprise needs to declare the parameters that define how the communication between the business profiles takes place.</span></span> <span data-ttu-id="d9646-105">这些通信参数被定义为协议设置。</span><span class="sxs-lookup"><span data-stu-id="d9646-105">These communication parameters are defined as protocol settings.</span></span> <span data-ttu-id="d9646-106">协议设置定义的特定 B2B 协议支持业务事务的方式。</span><span class="sxs-lookup"><span data-stu-id="d9646-106">Protocol settings define how business transactions are to be supported for a specific B2B protocol.</span></span> <span data-ttu-id="d9646-107">每个业务配置文件定义用于处理消息 （编码） 或传输消息 （传输） 合作伙伴可以为每个 B2B 协议对其进行通信的各种设置。</span><span class="sxs-lookup"><span data-stu-id="d9646-107">Each business profile defines the various settings for processing messages (encoding) or transmitting messages (transport) for each of the B2B protocols over which the partner can communicate.</span></span> <span data-ttu-id="d9646-108">在以下两个类别下定义的业务配置文件的通信参数：</span><span class="sxs-lookup"><span data-stu-id="d9646-108">The communication parameters for the business profiles are defined under the following two categories:</span></span>  
  
- <span data-ttu-id="d9646-109">**编码协议设置**:编码协议控制结构和 B2B 消息的内容。</span><span class="sxs-lookup"><span data-stu-id="d9646-109">**Encoding Protocol Settings**: The encoding protocols govern the structure and content of a B2B message.</span></span> <span data-ttu-id="d9646-110">为业务配置文件的编码协议设置定义业务部门用来发送和接收 B2B 消息的编码协议。</span><span class="sxs-lookup"><span data-stu-id="d9646-110">The encoding protocol settings for a business profile define the encoding protocol that a business division uses to send and receive B2B messages.</span></span> <span data-ttu-id="d9646-111">编码协议的一些示例包括 X12、 EDIFACT、 HL7，等等。对于大约详细的讨论受支持的编码协议[!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)]，请参阅[EDI 标准支持](../core/edi-standards-support.md)。</span><span class="sxs-lookup"><span data-stu-id="d9646-111">Some examples of encoding protocols are X12, EDIFACT, HL7, etc. For a detailed discussion around supported encoding protocols for [!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)], see [EDI Standards Support](../core/edi-standards-support.md).</span></span> <span data-ttu-id="d9646-112">作为编码协议的一部分，您可以提供各种设置，例如是否发送参与方期望确认、 消息进行批处理还是立即发送等。你可以始终覆盖这些设置作为贸易合作伙伴协议的一部分。</span><span class="sxs-lookup"><span data-stu-id="d9646-112">As part of the encoding protocol you can provide various settings like whether the sending party expects an acknowledgement, whether the messages will be batched or sent individually, etc. You can always overwrite these settings as part of the trading partner agreement.</span></span> <span data-ttu-id="d9646-113">请参阅[贸易合作伙伴协议](../core/trading-partner-agreement.md)。</span><span class="sxs-lookup"><span data-stu-id="d9646-113">See [Trading Partner Agreement](../core/trading-partner-agreement.md).</span></span>  
  
- <span data-ttu-id="d9646-114">**传输协议设置**:传输协议控制用于发送两个合作伙伴之间来回的消息的传输通道。</span><span class="sxs-lookup"><span data-stu-id="d9646-114">**Transport Protocol Settings**: The transport protocol governs the transport channel used for sending the messages back and forth between two partners.</span></span> <span data-ttu-id="d9646-115">由于传输实质上是两个传输终结点之间，每个业务配置文件定义其自己的"传输终结点"配置和通信的单一"传输终结点"的其贸易合作伙伴的业务配置文件。</span><span class="sxs-lookup"><span data-stu-id="d9646-115">Since transport is essentially between two transport end points, each business profile defines its own “transport end point” configuration and communicates with a singular “transport end point” of its trading partner’s business profile.</span></span> <span data-ttu-id="d9646-116">有关支持的传输协议的信息，请参阅[BizTalk Server 中的 AS2 支持](../core/as2-support-in-biztalk-server.md)。</span><span class="sxs-lookup"><span data-stu-id="d9646-116">For information about the supported transport protocol, see [AS2 Support in BizTalk Server](../core/as2-support-in-biztalk-server.md).</span></span> <span data-ttu-id="d9646-117">作为传输协议的一部分，您可以提供各种设置，例如是否应对消息进行签名，是否应对消息进行加密，等等。你可以始终覆盖这些设置作为贸易合作伙伴协议的一部分。</span><span class="sxs-lookup"><span data-stu-id="d9646-117">As part of the transport protocol, you can provide various settings like whether the message should be signed, whether the message should be encrypted, etc. You can always overwrite these settings as part of the trading partner agreement.</span></span> <span data-ttu-id="d9646-118">有关协议的详细信息，请参阅[贸易合作伙伴协议](../core/trading-partner-agreement.md)。</span><span class="sxs-lookup"><span data-stu-id="d9646-118">For more information about agreements, see [Trading Partner Agreement](../core/trading-partner-agreement.md).</span></span>  
  
  <span data-ttu-id="d9646-119">通过定义协议设置，业务配置文件声明的消息格式和要用于贸易合作伙伴之间发送 B2B 消息的传输协议。</span><span class="sxs-lookup"><span data-stu-id="d9646-119">By defining the protocol settings, the business profiles declare the message format and the transport protocol to be used for sending B2B messages between trading partners.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="d9646-120">作为业务配置文件的一部分定义的协议设置是可选的。</span><span class="sxs-lookup"><span data-stu-id="d9646-120">Defining the protocol settings as part of a business profile is optional.</span></span> <span data-ttu-id="d9646-121">如果不指定协议设置作为业务配置文件的一部分，您始终可以指定这些协议中。</span><span class="sxs-lookup"><span data-stu-id="d9646-121">If you don’t specify the protocol settings as part of the business profile, you can always specify those in an agreement.</span></span>  
  
 <span data-ttu-id="d9646-122">下图说明了贸易合作伙伴、 业务配置文件和协议设置融合到 TPM 解决方案中：</span><span class="sxs-lookup"><span data-stu-id="d9646-122">The following figure illustrates how trading partner, business profiles, and protocol settings gel together in a TPM solution:</span></span>  
  
 <span data-ttu-id="d9646-123">![贸易合作伙伴配置文件和协议设置](../core/media/protocolsettings.gif "ProtocolSettings")</span><span class="sxs-lookup"><span data-stu-id="d9646-123">![Trading partner profiles and protocol settings](../core/media/protocolsettings.gif "ProtocolSettings")</span></span>  
  
 <span data-ttu-id="d9646-124">在上图中，"发货"业务配置文件可以发送和接收的 X12 编码格式通过 AS2 传输协议发送的消息。</span><span class="sxs-lookup"><span data-stu-id="d9646-124">In the above illustration, the “Shipping” business profile can send and receive messages with X12 encoding format sent over AS2 transport protocol.</span></span> <span data-ttu-id="d9646-125">同样，"发票"发货配置文件可以通过发送和接收消息的 X12 和 EDIFACT 编码格式的 AS2 传输协议。</span><span class="sxs-lookup"><span data-stu-id="d9646-125">Similarly, the “Invoice” shipping profile can send and receive messages of both X12 and EDIFACT encoding format over the AS2 transport protocol.</span></span>  
  
 <span data-ttu-id="d9646-126">它是现在显而易见如何定义业务配置文件是有助于创建 TPM 解决方案中的[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="d9646-126">It is now evident how defining a business profile is helpful in creating a TPM solution in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="d9646-127">目前，如图所示，"发货"业务配置文件只能发送和接收 X12 消息。</span><span class="sxs-lookup"><span data-stu-id="d9646-127">Currently, as the illustration shows, the “Shipping” business profile can only send and receive X12 messages.</span></span> <span data-ttu-id="d9646-128">因此，与"发货"业务配置文件进行通信的任何业务配置文件必须遵守属性设置为"Shipping"业务配置文件。</span><span class="sxs-lookup"><span data-stu-id="d9646-128">So, any business profile communicating with “Shipping” business profile will have to adhere to the properties setting for the “Shipping” business profile.</span></span> <span data-ttu-id="d9646-129">但是，在将来，如果"发货"业务配置文件开始接受具有 EDIFACT 编码的消息，它只需将相关属性设置为包括 EDIFACT 支持。</span><span class="sxs-lookup"><span data-stu-id="d9646-129">However, in future, if the “Shipping” business profile starts accepting messages with EDIFACT encoding, it only needs to set the relevant properties to include EDIFACT support.</span></span> <span data-ttu-id="d9646-130">合作伙伴组织不必创建新的业务配置文件为同一发货部门。</span><span class="sxs-lookup"><span data-stu-id="d9646-130">The partner organization does not need to create a new business profile for the same shipping division.</span></span>  
  
## <a name="do-i-always-need-to-specify-the-protocol-settings-when-creating-a-business-profile"></a><span data-ttu-id="d9646-131">是否始终需要创建业务配置文件时指定的协议设置？</span><span class="sxs-lookup"><span data-stu-id="d9646-131">Do I always need to specify the protocol settings when creating a business profile?</span></span>  
 <span data-ttu-id="d9646-132">从理论上来说，是的业务配置文件必须包含协议设置定义。</span><span class="sxs-lookup"><span data-stu-id="d9646-132">In theoretical terms, yes, a business profile must contain the protocol settings definition.</span></span> <span data-ttu-id="d9646-133">但是，这并不意味着在 TPM 用户界面中创建业务配置文件时，必须定义协议设置。</span><span class="sxs-lookup"><span data-stu-id="d9646-133">However, this does not imply that you must define the protocol settings while creating a business profile in TPM user interface.</span></span> <span data-ttu-id="d9646-134">TPM 可创建业务配置文件或创建贸易合作伙伴协议时指定的协议设置的灵活性。</span><span class="sxs-lookup"><span data-stu-id="d9646-134">TPM provides you with the flexibility of specifying the protocol settings while creating the business profile or while creating a trading partner agreement.</span></span> <span data-ttu-id="d9646-135">如果定义协议设置作为业务配置文件的一部分，它们将为您创建该配置文件的贸易合作伙伴协议时可用。</span><span class="sxs-lookup"><span data-stu-id="d9646-135">If you define the protocol settings as part of the business profile, they will be available for you while creating a trading partner agreement for that profile.</span></span> <span data-ttu-id="d9646-136">但是，如果协议设置定义为协议的一部分，您将必须提供所有值作为协议的一部分。</span><span class="sxs-lookup"><span data-stu-id="d9646-136">However, if you define the protocol settings as part of the agreement, you will have to provide all the values as part of the agreement.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="d9646-137">如果未定义协议设置作为业务配置文件的一部分，你需要输入的值作为该业务配置文件中，每个协议的一部分这违背了新 TPM 解决方案的可伸缩性模型。</span><span class="sxs-lookup"><span data-stu-id="d9646-137">If you do not define the protocol settings as part of the business profile, you will need to enter the values as part of each agreement for that business profile, thereby defeating the scalability model of the new TPM solution.</span></span> <span data-ttu-id="d9646-138">因此，Microsoft 建议您定义每个业务配置文件的协议设置。</span><span class="sxs-lookup"><span data-stu-id="d9646-138">Hence, Microsoft recommends that you define the protocol settings for each business profile.</span></span> <span data-ttu-id="d9646-139">如有必要，创建贸易合作伙伴协议时，始终可以重写这些设置。</span><span class="sxs-lookup"><span data-stu-id="d9646-139">You can always override those settings, if required, while creating a trading partner agreement.</span></span>  

## <a name="learn-next"></a><span data-ttu-id="d9646-140">接下来了解</span><span class="sxs-lookup"><span data-stu-id="d9646-140">Learn next</span></span>
[<span data-ttu-id="d9646-141">贸易合作伙伴协议</span><span class="sxs-lookup"><span data-stu-id="d9646-141">Trading Partner Agreement</span></span>](../core/trading-partner-agreement.md)  
[<span data-ttu-id="d9646-142">配合使用：定义贸易合作伙伴管理解决方案</span><span class="sxs-lookup"><span data-stu-id="d9646-142">Putting it all Together: Defining a Trading Partner Management Solution</span></span>](../core/putting-it-all-together-defining-a-trading-partner-management-solution.md)  
  
## <a name="see-also"></a><span data-ttu-id="d9646-143">请参阅</span><span class="sxs-lookup"><span data-stu-id="d9646-143">See Also</span></span>  
 [<span data-ttu-id="d9646-144">贸易合作伙伴管理解决方案的构建基块</span><span class="sxs-lookup"><span data-stu-id="d9646-144">Building Blocks of a Trading Partner Management Solution</span></span>](../core/building-blocks-of-a-trading-partner-management-solution.md)