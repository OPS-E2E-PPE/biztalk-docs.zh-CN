---
title: 部署 BizTalk 应用程序的最佳实践 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- best practices, deploying
- best practices, applications
- applications, best practices
- deploying, best practices
ms.assetid: 97ebf479-0dc5-4e95-b409-d3b6ad3d60d0
caps.latest.revision: 24
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 03221335dcb41e8496c6808a8f20f0da364979ea
ms.sourcegitcommit: d27732e569b0897361dfaebca8352aa97bb7efe1
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/10/2019
ms.locfileid: "65529125"
---
# <a name="best-practices-for-deploying-a-biztalk-application"></a><span data-ttu-id="f9df7-102">部署 BizTalk 应用程序的最佳做法</span><span class="sxs-lookup"><span data-stu-id="f9df7-102">Best Practices for Deploying a BizTalk Application</span></span>
<span data-ttu-id="f9df7-103">本主题介绍部署 BizTalk 应用程序的最佳做法。</span><span class="sxs-lookup"><span data-stu-id="f9df7-103">This topic describes best practices for deploying a BizTalk application.</span></span>  
  
## <a name="group-related-artifacts-together-in-a-single-application"></a><span data-ttu-id="f9df7-104">分组在一起的单个应用程序的相关的项目</span><span class="sxs-lookup"><span data-stu-id="f9df7-104">Group related artifacts together in a single application</span></span>  
 <span data-ttu-id="f9df7-105">尽可能多地，将相关的项目放在同一 BizTalk 应用程序。</span><span class="sxs-lookup"><span data-stu-id="f9df7-105">As much as possible, place related artifacts in the same BizTalk application.</span></span> <span data-ttu-id="f9df7-106">这允许您管理和部署项目作为单个实体，从而更易于管理。</span><span class="sxs-lookup"><span data-stu-id="f9df7-106">This allows you to manage and deploy the artifacts as a single entity, making management easier.</span></span> <span data-ttu-id="f9df7-107">支持同一业务流程的项目或项目，在单个应用程序中执行相似的功能，可以进行分组。</span><span class="sxs-lookup"><span data-stu-id="f9df7-107">You can group artifacts that support the same business process or artifacts that perform similar functions into a single application.</span></span>  
  
## <a name="deploy-shared-artifacts-in-a-separate-application"></a><span data-ttu-id="f9df7-108">部署单独的应用程序中的共享的项目</span><span class="sxs-lookup"><span data-stu-id="f9df7-108">Deploy shared artifacts in a separate application</span></span>  
 <span data-ttu-id="f9df7-109">如果项目将两个或多个应用程序共享，将这些共享的项目部署到单独的应用程序。</span><span class="sxs-lookup"><span data-stu-id="f9df7-109">If artifacts are going to be shared by two or more applications, deploy the shared artifacts into a separate application.</span></span> <span data-ttu-id="f9df7-110">例如，如果两个应用程序共享一个架构，则将该架构部署在单独的应用程序中。</span><span class="sxs-lookup"><span data-stu-id="f9df7-110">For example, if two applications share a schema, place the schema in a separate application.</span></span> <span data-ttu-id="f9df7-111">这是因为只有一个项目具有的相同本地唯一标识符 (LUID)-项目名称和可选的其他属性组成-可以存在于 BizTalk 组。</span><span class="sxs-lookup"><span data-stu-id="f9df7-111">This is because only one artifact having the same locally unique identifier (LUID) -- which consists of the artifact name and optionally other attributes -- can exist in a BizTalk group.</span></span> <span data-ttu-id="f9df7-112">如果您在一个应用程序中包括了某个项目，然后创建从另一个应用程序对它的引用，可能会遇到问题，例如引用的应用程序不正常时停止应用程序包含该项目。</span><span class="sxs-lookup"><span data-stu-id="f9df7-112">If you include an artifact in one application, and then create a reference to it from another application, you may encounter problems such as the referring application not functioning correctly when you stop the application containing the artifact.</span></span>  
  
 <span data-ttu-id="f9df7-113">此最佳实践适用于所有项目类型，如自述文件和脚本，以添加到应用程序作为文件类型的项目的文件除外。</span><span class="sxs-lookup"><span data-stu-id="f9df7-113">This best practice applies to all artifact types except for files, such as Readme files and scripts, which are added to the application as a File type of artifact.</span></span> <span data-ttu-id="f9df7-114">这是因为可在 BizTalk 组中部署多个文件项目具有相同的名称。</span><span class="sxs-lookup"><span data-stu-id="f9df7-114">This is because more than one file artifact having the same name can be deployed in a BizTalk group.</span></span> <span data-ttu-id="f9df7-115">因此，您可以使用两个或多个应用程序中具有相同名称的文件。</span><span class="sxs-lookup"><span data-stu-id="f9df7-115">Therefore, you can use a file having the same name in two or more applications.</span></span> <span data-ttu-id="f9df7-116">停止一个应用程序不会影响其他应用程序。</span><span class="sxs-lookup"><span data-stu-id="f9df7-116">Stopping one application will not impact the other application.</span></span> <span data-ttu-id="f9df7-117">有关添加文件项目的详细信息，请参阅[如何将文件添加到应用程序](../core/how-to-add-a-file-to-an-application.md)。</span><span class="sxs-lookup"><span data-stu-id="f9df7-117">For more information about adding File artifacts, see [How to Add a File to an Application](../core/how-to-add-a-file-to-an-application.md).</span></span>  
  
 <span data-ttu-id="f9df7-118">有关共享特定项目类型的最佳实践，请参阅"部署共享的网站，并在单独的应用程序，""部署共享中单独的应用程序策略"和"共享证书部署在单独的应用程序"在本部分中。</span><span class="sxs-lookup"><span data-stu-id="f9df7-118">For best practices on sharing specific artifact types, see "Deploy a shared Web site in a separate application," "Deploy shared policies in a separate application," and "Deploy shared certificates in a separate application" in this section.</span></span>  
  
## <a name="deploy-a-shared-web-site-in-a-separate-application"></a><span data-ttu-id="f9df7-119">部署单独的应用程序中的共享的 Web 站点</span><span class="sxs-lookup"><span data-stu-id="f9df7-119">Deploy a shared Web site in a separate application</span></span>  
 <span data-ttu-id="f9df7-120">如果网站将由多个业务解决方案共享，将网站部署在单独的应用程序。</span><span class="sxs-lookup"><span data-stu-id="f9df7-120">If a Web site will be shared by more than one business solution, deploy the Web site in a separate application.</span></span> <span data-ttu-id="f9df7-121">这是因为在卸载 BizTalk 应用程序时，会删除属于该应用程序的任何网站的虚拟目录，即使该网站正在运行。</span><span class="sxs-lookup"><span data-stu-id="f9df7-121">This is because when you uninstall a BizTalk application, the virtual directory of any Web site that is part of the application is removed, even if the Web site is running.</span></span> <span data-ttu-id="f9df7-122">如果网站上与另一个业务解决方案共享，另一种业务解决方案将不再正常工作结果。</span><span class="sxs-lookup"><span data-stu-id="f9df7-122">If the Web site is shared with another business solution, the other business solution will no longer function correctly as a result.</span></span>  
  
## <a name="deploy-shared-policies-in-a-separate-application"></a><span data-ttu-id="f9df7-123">部署单独的应用程序中的共享的策略</span><span class="sxs-lookup"><span data-stu-id="f9df7-123">Deploy shared policies in a separate application</span></span>  
 <span data-ttu-id="f9df7-124">如果策略由两个或多个应用程序，应将其部署在单独的应用程序，而不是从到另一个应用程序创建的引用。</span><span class="sxs-lookup"><span data-stu-id="f9df7-124">If a policy is used by two or more applications, you should deploy it in a separate application rather than creating a reference from one application to another.</span></span> <span data-ttu-id="f9df7-125">这是因为当停止应用程序时，会取消部署其策略。</span><span class="sxs-lookup"><span data-stu-id="f9df7-125">This is because when you stop an application, its policies are undeployed.</span></span> <span data-ttu-id="f9df7-126">如果停止包括由其他应用程序的策略的应用程序，该策略将在任一应用程序不再起作用。</span><span class="sxs-lookup"><span data-stu-id="f9df7-126">If you stop an application that includes a policy used by another application, the policy will no longer function in either application.</span></span>  
  
## <a name="deploy-shared-certificates-in-a-separate-application"></a><span data-ttu-id="f9df7-127">部署在单独的应用程序中的共享的证书</span><span class="sxs-lookup"><span data-stu-id="f9df7-127">Deploy shared certificates in a separate application</span></span>  
 <span data-ttu-id="f9df7-128">如果证书由发送端口或接收位置在两个或多个应用程序中，应将不同的应用程序，该证书部署，然后从需要使用证书的应用程序中引用此应用程序。</span><span class="sxs-lookup"><span data-stu-id="f9df7-128">If a certificate is used by a send port or receive location in two or more applications, you should deploy the certificate in a separate application, and then reference this application from the applications that need to use the certificate.</span></span> <span data-ttu-id="f9df7-129">这是因为只有一个项目具有特定的 LUID 可以存在于 BizTalk 组中，因此你将不能导入两个不同的应用程序中的相同证书。</span><span class="sxs-lookup"><span data-stu-id="f9df7-129">This is because only one artifact having a particular LUID can exist in the BizTalk group, so you will not be able to import the same certificate in two different applications.</span></span> <span data-ttu-id="f9df7-130">如果你尝试导入每个使用相同的证书的两个应用程序，第一个导入将成功，并且第二个将不会。</span><span class="sxs-lookup"><span data-stu-id="f9df7-130">If you attempt to import two applications that each use the same certificate, the first import will succeed, and the second will not.</span></span> <span data-ttu-id="f9df7-131">在这种情况下，使用覆盖导入选项未更正问题，如你想要覆盖现有证书包含在另一个应用程序。</span><span class="sxs-lookup"><span data-stu-id="f9df7-131">In this case, using the Overwrite import option does not correct the problem, as the existing certificate that you want to overwrite is contained in another application.</span></span>  
  
## <a name="never-deploy-an-assembly-from-visual-studio-on-a-production-computer"></a><span data-ttu-id="f9df7-132">永远不会部署 Visual Studio 中的生产计算机上的程序集</span><span class="sxs-lookup"><span data-stu-id="f9df7-132">Never deploy an assembly from Visual Studio on a production computer</span></span>  
 <span data-ttu-id="f9df7-133">在开发过程中，开发人员经常需要重新部署程序集从[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="f9df7-133">During the development process, the developer often must redeploy assemblies from [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)].</span></span> <span data-ttu-id="f9df7-134">若要启用重新部署，[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]可能取消部署、 取消绑定、 停止和取消登记项目包含在程序集。</span><span class="sxs-lookup"><span data-stu-id="f9df7-134">To enable the redeployment, [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] may undeploy, unbind, stop, and unenlist artifacts included in the assemblies.</span></span> <span data-ttu-id="f9df7-135">虽然这是必要和适当的开发环境中，它可能会导致意外后果导致生产环境中。</span><span class="sxs-lookup"><span data-stu-id="f9df7-135">Although this is necessary and appropriate in the development environment, it can cause unexpected and undesired consequences in a production environment.</span></span> <span data-ttu-id="f9df7-136">出于此原因，也为了避免有人尝试从部署程序集的可能[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]的生产计算机上，我们建议您永远不会安装[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]的生产计算机上。</span><span class="sxs-lookup"><span data-stu-id="f9df7-136">For this reason, as well as to avoid the possibility of anyone's attempting to deploy an assembly from [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] on a production computer, we recommend that you never install [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] on a production computer.</span></span>  
  
 <span data-ttu-id="f9df7-137">此外，永远不会引用生产数据库中的运行的计算机[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="f9df7-137">In addition, never refer to a production database from a computer running [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)].</span></span>  
  
## <a name="when-deploying-large-msi-files-you-may-need-to-increase-the-default-transaction-timeout-of-the-com-components-used-by-biztalk-to-deploy-applications"></a><span data-ttu-id="f9df7-138">在部署大的 MSI 文件时，可能需要增大 BizTalk 用于部署应用程序的 COM + 组件的默认事务超时值</span><span class="sxs-lookup"><span data-stu-id="f9df7-138">When deploying large MSI files, you may need to increase the default transaction timeout of the COM+ components used by BizTalk to deploy applications</span></span>  
 <span data-ttu-id="f9df7-139">如果要部署的 MSI 文件非常大 (超过 100 MB) 则不会在 BizTalk 应用程序部署期间所使用的 COM + 组件的默认事务超时值内部署应用程序。</span><span class="sxs-lookup"><span data-stu-id="f9df7-139">If the MSI file being deployed is very large (over 100 MB) then the application may not be deployed within the default transaction timeout of the COM+ components that are used by BizTalk during application deployment.</span></span> <span data-ttu-id="f9df7-140">如果相关联的事务与这些 COM + 组件超时时间之前完成部署部署将失败。</span><span class="sxs-lookup"><span data-stu-id="f9df7-140">If the transactions associated with these COM+ components time out before the deployment is completed then the deployment will fail.</span></span> <span data-ttu-id="f9df7-141">如果要部署很大的 MSI 文件则应考虑采用其中一种方法，以缓解此问题：</span><span class="sxs-lookup"><span data-stu-id="f9df7-141">If you are deploying very large MSI files then consider taking one of these approaches to mitigate this problem:</span></span>  
  
1.  <span data-ttu-id="f9df7-142">部署多个较小的 MSI 文件，而不是一个大的 MSI 文件。</span><span class="sxs-lookup"><span data-stu-id="f9df7-142">Deploy several smaller MSI files instead of one large MSI file.</span></span>  
  
2.  <span data-ttu-id="f9df7-143">增加 3000 秒与关联的默认事务超时**Microsoft.BizTalk.ApplicationDeployment.Group**并**Microsoft.BizTalk.Deployment.DeployerComponent**中的组件**组件服务**管理界面。</span><span class="sxs-lookup"><span data-stu-id="f9df7-143">Increase the default transaction timeout of 3000 seconds associated with the **Microsoft.BizTalk.ApplicationDeployment.Group** and the **Microsoft.BizTalk.Deployment.DeployerComponent** components in the **Component Services** management interface.</span></span> <span data-ttu-id="f9df7-144">这些组件属于**Microsoft.BizTalk.ApplicationDeployment.Engine**并**Microsoft.Biztalk.Deployment** COM + 应用程序分别。</span><span class="sxs-lookup"><span data-stu-id="f9df7-144">These components belong to the **Microsoft.BizTalk.ApplicationDeployment.Engine** and **Microsoft.Biztalk.Deployment** COM+ applications respectively.</span></span> <span data-ttu-id="f9df7-145">有关如何更改事务的详细信息请参阅 COM + 组件的超时值[如何更改用于 MTS 或 COM + 事务超时值](http://go.microsoft.com/fwlink/?LinkId=67691)。</span><span class="sxs-lookup"><span data-stu-id="f9df7-145">For more information about how to change the transaction time out value for a COM+ component see [How To Change the Transaction Time-Out Value for MTS or COM+](http://go.microsoft.com/fwlink/?LinkId=67691).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f9df7-146">请参阅</span><span class="sxs-lookup"><span data-stu-id="f9df7-146">See Also</span></span>  
 [<span data-ttu-id="f9df7-147">部署和管理 BizTalk 应用程序</span><span class="sxs-lookup"><span data-stu-id="f9df7-147">Deploying and Managing BizTalk Applications</span></span>](../core/deploying-and-managing-biztalk-applications.md)