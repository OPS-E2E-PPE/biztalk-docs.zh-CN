---
title: EDI 服务和控制架构 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 4866571b-b12d-446c-8d27-a72fe7e479ef
caps.latest.revision: 14
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 9b12bdee5fd1e29e1f65fa709612cceb729e2cd7
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65389595"
---
# <a name="edi-service-and-control-schemas"></a><span data-ttu-id="d5cd2-102">EDI 服务和控制架构</span><span class="sxs-lookup"><span data-stu-id="d5cd2-102">EDI Service and Control Schemas</span></span>
<span data-ttu-id="d5cd2-103">处理消息信封 （标头控制架构） 和确认所需控制架构。</span><span class="sxs-lookup"><span data-stu-id="d5cd2-103">Control schemas are required to process message envelopes (header control schemas) and acknowledgments.</span></span> <span data-ttu-id="d5cd2-104">这些架构由安装程序部署在 Microsoft.BizTalk.Edi.BaseArtifacts.dll 中。</span><span class="sxs-lookup"><span data-stu-id="d5cd2-104">These schemas are deployed in Microsoft.BizTalk.Edi.BaseArtifacts.dll by the setup program.</span></span> <span data-ttu-id="d5cd2-105">这些架构无需添加到 BizTalk 项目，因为它们部署在 BaseArtifacts.dll 中。</span><span class="sxs-lookup"><span data-stu-id="d5cd2-105">These schemas do not have to be added to BizTalk projects because they are deployed in BaseArtifacts.dll.</span></span> <span data-ttu-id="d5cd2-106">需要将对 BaseArtifacts.dll 程序集的引用添加到包含您要使用这些架构的架构的项目。</span><span class="sxs-lookup"><span data-stu-id="d5cd2-106">You need to add a reference to the BaseArtifacts.dll assembly to the project containing your schemas for these schemas to be used.</span></span>  

## <a name="envelope-service-schemas"></a><span data-ttu-id="d5cd2-107">信封服务架构</span><span class="sxs-lookup"><span data-stu-id="d5cd2-107">Envelope Service Schemas</span></span>  
 <span data-ttu-id="d5cd2-108">服务架构 X12ServiceSchema 和 EdifactServiceSchema 用于验证交换、 组和事务集标头和尾部中的 EDI 交换的信封。</span><span class="sxs-lookup"><span data-stu-id="d5cd2-108">The service schemas X12ServiceSchema and EdifactServiceSchema are used to validate the interchange, group, and transaction set headers and trailers in the envelope of an EDI interchange.</span></span> <span data-ttu-id="d5cd2-109">这适用于所有 EDI 交换： 未批处理的交换、 要拆分的批处理的交换或要保留的批处理的交换。</span><span class="sxs-lookup"><span data-stu-id="d5cd2-109">This is true for all EDI interchanges: an unbatched interchange, a batched interchange to be split, or a batched interchange to be preserved.</span></span> <span data-ttu-id="d5cd2-110">这些架构的命名空间 http://schemas.microsoft.com/Edi/X12ServiceSchema 和 http://schemas.microsoft.com/Edi/EdifactServiceSchema 。</span><span class="sxs-lookup"><span data-stu-id="d5cd2-110">The namespaces for these schemas are http://schemas.microsoft.com/Edi/X12ServiceSchema and http://schemas.microsoft.com/Edi/EdifactServiceSchema.</span></span>  

 <span data-ttu-id="d5cd2-111">如果 EDI 交换为保留的批交换，则除使用服务架构之外，BizTalk 运行时还使用批架构 X12_BatchSchema 和 Edifact_BatchSchema。</span><span class="sxs-lookup"><span data-stu-id="d5cd2-111">When the EDI interchange is a preserved batch interchange, the batch schemas X12_BatchSchema and Edifact_BatchSchema are used by the BizTalk runtime, in addition to the service schemas.</span></span> <span data-ttu-id="d5cd2-112">有关详细信息，请参阅[EDI 批架构](../core/edi-batch-schemas.md)。</span><span class="sxs-lookup"><span data-stu-id="d5cd2-112">For more information, see [EDI Batch Schemas](../core/edi-batch-schemas.md).</span></span>  

 <span data-ttu-id="d5cd2-113">您可以自定义这些架构中的 ID 字段枚举。</span><span class="sxs-lookup"><span data-stu-id="d5cd2-113">You can customize ID field enumerations in these schemas.</span></span> <span data-ttu-id="d5cd2-114">不允许使用任何其他修改。</span><span class="sxs-lookup"><span data-stu-id="d5cd2-114">No other modifications are allowed.</span></span> <span data-ttu-id="d5cd2-115">有关详细信息，请参阅[信封架构中自定义枚举](../core/customizing-enumerations-in-the-envelope-schema.md)。</span><span class="sxs-lookup"><span data-stu-id="d5cd2-115">For more information, see [Customizing Enumerations in the Envelope Schema](../core/customizing-enumerations-in-the-envelope-schema.md).</span></span>  

## <a name="acknowledgment-control-schemas"></a><span data-ttu-id="d5cd2-116">确认控制架构</span><span class="sxs-lookup"><span data-stu-id="d5cd2-116">Acknowledgment Control Schemas</span></span>  
 <span data-ttu-id="d5cd2-117">EDI 接收管道使用确认架构生成要发送的确认和 EDI 发送管道使用处理收到的确认。</span><span class="sxs-lookup"><span data-stu-id="d5cd2-117">The EDI receive pipeline uses acknowledgment schemas to generate acknowledgments to be sent and the EDI send pipeline uses them to process received acknowledgments.</span></span> <span data-ttu-id="d5cd2-118">这些架构包括下表中所示的 997 功能确认架构和 TA1 交换确认架构用于 X12 编码和用于 EDIFACT 编码的 CONTRL 架构。</span><span class="sxs-lookup"><span data-stu-id="d5cd2-118">These schemas include the 997 functional acknowledgment schema and the TA1 interchange acknowledgment schema for X12 encoding, and the CONTRL schema for EDIFACT encoding, as shown in the following table.</span></span> <span data-ttu-id="d5cd2-119">不能修改这些架构。</span><span class="sxs-lookup"><span data-stu-id="d5cd2-119">You cannot modify these schemas.</span></span>  


|      <span data-ttu-id="d5cd2-120">确认</span><span class="sxs-lookup"><span data-stu-id="d5cd2-120">ACK</span></span>       |     <span data-ttu-id="d5cd2-121">架构名称</span><span class="sxs-lookup"><span data-stu-id="d5cd2-121">Schema Name</span></span>      |             <span data-ttu-id="d5cd2-122">目标 Namespace</span><span class="sxs-lookup"><span data-stu-id="d5cd2-122">Target Namespace</span></span>             |                               <span data-ttu-id="d5cd2-123">Root</span><span class="sxs-lookup"><span data-stu-id="d5cd2-123">Root</span></span>                                |
|----------------|----------------------|------------------------------------------|-------------------------------------------------------------------|
|    <span data-ttu-id="d5cd2-124">X12 TA1</span><span class="sxs-lookup"><span data-stu-id="d5cd2-124">X12 TA1</span></span>     |    <span data-ttu-id="d5cd2-125">X12_TA1Schema</span><span class="sxs-lookup"><span data-stu-id="d5cd2-125">X12_TA1Schema</span></span>     |   http://schemas.microsoft.com/Edi/X12   |                   <span data-ttu-id="d5cd2-126">TA1</span><span class="sxs-lookup"><span data-stu-id="d5cd2-126">TA1</span></span><br /><br /> <span data-ttu-id="d5cd2-127">X12_TA1_Root</span><span class="sxs-lookup"><span data-stu-id="d5cd2-127">X12_TA1_Root</span></span>                    |
|    <span data-ttu-id="d5cd2-128">X12 997</span><span class="sxs-lookup"><span data-stu-id="d5cd2-128">X12 997</span></span>     |    <span data-ttu-id="d5cd2-129">X12_997Schema</span><span class="sxs-lookup"><span data-stu-id="d5cd2-129">X12_997Schema</span></span>     |   http://schemas.microsoft.com/Edi/X12   |            <span data-ttu-id="d5cd2-130">ST</span><span class="sxs-lookup"><span data-stu-id="d5cd2-130">ST</span></span><br /><br /> <span data-ttu-id="d5cd2-131">SE</span><span class="sxs-lookup"><span data-stu-id="d5cd2-131">SE</span></span><br /><br /> <span data-ttu-id="d5cd2-132">X12_997_Root</span><span class="sxs-lookup"><span data-stu-id="d5cd2-132">X12_997_Root</span></span>             |
| <span data-ttu-id="d5cd2-133">EDIFACT CONTRL</span><span class="sxs-lookup"><span data-stu-id="d5cd2-133">EDIFACT CONTRL</span></span> | <span data-ttu-id="d5cd2-134">Edifact_ContrlSchema</span><span class="sxs-lookup"><span data-stu-id="d5cd2-134">Edifact_ContrlSchema</span></span> | http://schemas.microsoft.com/Edi/Edifact | <span data-ttu-id="d5cd2-135">Efact_Contrl_Root</span><span class="sxs-lookup"><span data-stu-id="d5cd2-135">Efact_Contrl_Root</span></span><br /><br /> <span data-ttu-id="d5cd2-136">UCD</span><span class="sxs-lookup"><span data-stu-id="d5cd2-136">UCD</span></span><br /><br /> <span data-ttu-id="d5cd2-137">UCM</span><span class="sxs-lookup"><span data-stu-id="d5cd2-137">UCM</span></span><br /><br /> <span data-ttu-id="d5cd2-138">UCS</span><span class="sxs-lookup"><span data-stu-id="d5cd2-138">UCS</span></span> |

 <span data-ttu-id="d5cd2-139">对于 X12 编码，997 功能确认架构定义交换、 组和事务集/消息标头和尾部中信封的消息时，使用和 AK1、 AK2、 AK3、 AK4、 AK5 和 AK9 段该报表的正文验证结果.</span><span class="sxs-lookup"><span data-stu-id="d5cd2-139">For X12 encoding, the 997 functional acknowledgment schema defines the interchange, group, and transaction set/message headers and trailers used in the envelope of a message, and the AK1, AK2, AK3, AK4, AK5, and AK9 segments that report the result of body validation.</span></span> <span data-ttu-id="d5cd2-140">TA1 技术确认架构定义交换标头和尾部以及报告标头验证结果的 TA1 确认段。</span><span class="sxs-lookup"><span data-stu-id="d5cd2-140">The TA1 technical acknowledgment schema defines the interchange header and trailer, and the TA1 acknowledgment segment that reports the result of header validation.</span></span> <span data-ttu-id="d5cd2-141">这些架构的命名约定是 X12_\<版本号\>*997.xsd 和 X12\\*\<版本号\>_TA1.xsd。</span><span class="sxs-lookup"><span data-stu-id="d5cd2-141">The naming convention for these schemas is X12_\<version number\>*997.xsd and X12\\*\<version number\>_TA1.xsd.</span></span> <span data-ttu-id="d5cd2-142">这些架构的目标命名空间是 http://schemas.microsoft.com/BizTalk/EDI/X12/2006 。</span><span class="sxs-lookup"><span data-stu-id="d5cd2-142">The target namespace for these schemas is http://schemas.microsoft.com/BizTalk/EDI/X12/2006.</span></span>  

 <span data-ttu-id="d5cd2-143">EDIFACT 支持两段式确认范例。</span><span class="sxs-lookup"><span data-stu-id="d5cd2-143">EDIFACT supports a two-phased acknowledgment paradigm.</span></span> <span data-ttu-id="d5cd2-144">第一个确认是使用 CONTRL 架构中的三个段构造的交换回执。</span><span class="sxs-lookup"><span data-stu-id="d5cd2-144">The first acknowledgment is an interchange receipt that is constructed using three segments from the CONTRL schema.</span></span> <span data-ttu-id="d5cd2-145">此技术确认报告标头验证的结果。</span><span class="sxs-lookup"><span data-stu-id="d5cd2-145">This technical acknowledgment reports the result of header validation.</span></span> <span data-ttu-id="d5cd2-146">第二个确认使用 CONTRL 架构的其余段。</span><span class="sxs-lookup"><span data-stu-id="d5cd2-146">The second acknowledgment uses the remaining segments of the CONTRL schema.</span></span> <span data-ttu-id="d5cd2-147">此架构的命名约定是 EFACT_\<版本号\>_CONTRL.xsd。</span><span class="sxs-lookup"><span data-stu-id="d5cd2-147">The naming convention for this schema is EFACT_\<Version number\>_CONTRL.xsd.</span></span> <span data-ttu-id="d5cd2-148">此架构的目标命名空间是 http://schemas.microsoft.com/BizTalk/EDI/EDIFACT/2006 。</span><span class="sxs-lookup"><span data-stu-id="d5cd2-148">The target namespace for this schema is http://schemas.microsoft.com/BizTalk/EDI/EDIFACT/2006.</span></span>  

## <a name="see-also"></a><span data-ttu-id="d5cd2-149">请参阅</span><span class="sxs-lookup"><span data-stu-id="d5cd2-149">See Also</span></span>  
 <span data-ttu-id="d5cd2-150">[BizTalk Server 如何接收 EDI 消息](../core/how-biztalk-server-receives-edi-messages.md) </span><span class="sxs-lookup"><span data-stu-id="d5cd2-150">[How BizTalk Server Receives EDI Messages](../core/how-biztalk-server-receives-edi-messages.md) </span></span>  
 [<span data-ttu-id="d5cd2-151">BizTalk Server 如何发送 EDI 消息</span><span class="sxs-lookup"><span data-stu-id="d5cd2-151">How BizTalk Server Sends EDI Messages</span></span>](../core/how-biztalk-server-sends-edi-messages.md)