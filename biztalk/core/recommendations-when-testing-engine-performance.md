---
title: 引擎性能测试时的建议 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- maximum sustainable throughput (MST), best practices
ms.assetid: 0aa9d833-0e7d-4347-a6ca-8d658749b4f2
caps.latest.revision: 6
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: cf1a6712a2ad52dfb82f7a52b341f770eb48c7bb
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65398073"
---
# <a name="recommendations-when-testing-engine-performance"></a>测试引擎性能时提供的建议
测试 BizTalk 引擎性能时应遵循以下准则：  
  
 **了解加载行为配置文件**三个负载测试所示，如有必要了解随着时间的推移处理消息负载的配置文件。  这一点理解越深，更准确地测试和调整系统容量。 如果只知道峰值吞吐量要求，则最保守的方法应调整系统大小，以便最大可承受吞吐量等于或大于峰值负载。 但是，如果您知道您的负载中具有可预测的高峰和低谷，您可以更好地优化您的系统之间峰值，从而导致较小、 开销更低的整体部署进行恢复。  
  
 **测试性能尽早**避免将大量精力在设计和测试解决方案的功能而应等到最后一分钟，若要测试生产硬件上的性能陷阱。 尽早可能是可以在开发周期中模拟预期的负载配置文件在系统上运行性能测试。 如果您需要更改您的设计中的任何内容或体系结构，以实现您尽早了解这一点的目标将提供时间进行调整和重新测试。  
  
 **测试性能时模拟预期的负载状况**有这两个主要组件：  
  
1. 随着时间的推移模拟负载配置文件。  
  
2. 足够长的时间运行的测试来评估可承受。  
  
   如果通常都是如此，您的周期是每天在本质上你应计划运行至少一天，以验证可持续发展的性能测试。 时间运行的测试，性能越好。  
  
   **模拟生产配置**示例、 数量和类型的端口，在主机和主机实例配置、 数据库配置和适配器安装程序。 不要认为配置更改会显著影响性能。  
  
   **使用真实消息**消息大小和消息复杂性会影响性能，因此务必，测试具有相同的消息架构和计划以查看在生产环境中的实例。  
  
   **性能测试期间模拟正常操作**尽管负载测试不包括它们的标准操作活动，例如定期数据库查询、 备份和清除将会影响可承受吞吐量，因此请确保你在性能和容量测试运行期间执行这些任务。 这包括 DTA 和 BAM 跟踪，如果你打算在生产环境中使用它们。  
  
   **MessageBox 的 I/O 子系统的速度是成功的关键因素**执行负载测试所做的快速存储区域网络专用于此扩展的 MessageBox 数据库文件使用。甚至在这种情况下，清除作业也能够以接近零的 SQL 数据文件的空闲时间。 通常，I/O 子系统是生产系统中成为瓶颈。 优化 SQL I/O 的常见策略是放置的数据库数据文件并在可能的情况记录在单独的物理驱动器上的文件。  
  
   **请确保所有 MessageBox 服务器上正在运行 SQL 代理**很明显，清除作业将永远不会运行如果未运行 SQL 代理，因此请确保它们运行。  
  
   **后台处理深度是关键指标**而不考虑其他指标，此度量值将可让你快速且轻松地评估您的系统超负荷运行或不。