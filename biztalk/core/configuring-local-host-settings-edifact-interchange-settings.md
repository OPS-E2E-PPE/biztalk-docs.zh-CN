---
title: 配置本地主机设置 （EDIFACT 交换设置） |Microsoft 文档
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: f1cf8696-d1f4-49aa-aa0a-ecf66f55e01d
caps.latest.revision: 6
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 0b93833e8143f1b6706d86295e3f5db8292bc6c8
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
ms.locfileid: "22234685"
---
# <a name="configuring-local-host-settings-edifact-interchange-settings"></a><span data-ttu-id="61b40-102">配置本地主机设置（EDIFACT-交换设置）</span><span class="sxs-lookup"><span data-stu-id="61b40-102">Configuring Local Host Settings (EDIFACT-Interchange Settings)</span></span>
<span data-ttu-id="61b40-103">本地主机设置控制如何处理 EDI 交换。</span><span class="sxs-lookup"><span data-stu-id="61b40-103">The local host settings govern how the EDI interchanges are processed.</span></span> <span data-ttu-id="61b40-104">此页上的设置可以分为两个类别：接收方设置（用于传入交换）和发送方设置（用于传出交换）。</span><span class="sxs-lookup"><span data-stu-id="61b40-104">The settings on this page can be divided into two categories – receiver’s settings (for incoming interchanges) and sender’s settings (for outgoing interchanges).</span></span> <span data-ttu-id="61b40-105">在接收方的设置中，可以指定传入的批是拆分为事务集还是保留。</span><span class="sxs-lookup"><span data-stu-id="61b40-105">As part of the receiver’s settings, you can specify whether an incoming batch will be split into transaction sets or preserved.</span></span> <span data-ttu-id="61b40-106">如果保留，可以指定 BizTalk Server 在发生错误时是否挂起交换或事务集。</span><span class="sxs-lookup"><span data-stu-id="61b40-106">If preserved, you can specify whether BizTalk Server suspends the interchange or transaction set if an error occurs.</span></span> <span data-ttu-id="61b40-107">作为发送方设置的一部分，可以指定为传出消息生成控制编号的方式。</span><span class="sxs-lookup"><span data-stu-id="61b40-107">As part of the sender’s settings, you can specify how the control numbers are generated for outgoing messages.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="61b40-108">以下属性上将禁用**A 方-> 方 B**单向协议选项卡，如果你清除**本地 BizTalk 处理接收方或支持从该参与方发送消息的消息**复选框 a 方。</span><span class="sxs-lookup"><span data-stu-id="61b40-108">The following properties are disabled on **Party A->Party B** one-way agreement tab if you cleared the **Local BizTalk processes messages received by the party or supports sending messages from this party** check box for Party A.</span></span>  
>   
>  -   <span data-ttu-id="61b40-109">下的所有属性**发件人设置**部分。</span><span class="sxs-lookup"><span data-stu-id="61b40-109">All properties under the **Sender’s Settings** section.</span></span>  
>   
>  <span data-ttu-id="61b40-110">同样，将以下属性禁用中相同页面上**B 方-> A 方**选项卡上，如果创建 a 方。 时选中复选框</span><span class="sxs-lookup"><span data-stu-id="61b40-110">Similarly, the following properties are disabled on the same page in the **Party B->Party A** tab if you selected the check box while creating Party A.</span></span>  
>   
>  -   <span data-ttu-id="61b40-111">下的所有属性**接收方设置**部分。</span><span class="sxs-lookup"><span data-stu-id="61b40-111">All properties under the **Receiver’s Settings** section.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="61b40-112">先决条件</span><span class="sxs-lookup"><span data-stu-id="61b40-112">Prerequisites</span></span>  
 <span data-ttu-id="61b40-113">必须以 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理员组或 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] B2B Operators 组成员的身份登录。</span><span class="sxs-lookup"><span data-stu-id="61b40-113">You must be logged on as a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators or [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] B2B Operators group.</span></span>  
  
### <a name="to-configure-local-host--receivers-settings"></a><span data-ttu-id="61b40-114">配置本地主机 – 接收方设置</span><span class="sxs-lookup"><span data-stu-id="61b40-114">To configure local host – receiver’s settings</span></span>  
  
1.  <span data-ttu-id="61b40-115">创建 EDIFACT 编码协议中所述[配置常规设置 (EDIFACT)](../core/configuring-general-settings-edifact.md)。</span><span class="sxs-lookup"><span data-stu-id="61b40-115">Create an EDIFACT encoding agreement as described in [Configuring General Settings (EDIFACT)](../core/configuring-general-settings-edifact.md).</span></span> <span data-ttu-id="61b40-116">若要更新现有协议，右键单击在协议**方和业务配置文件**页，然后单击**属性**。</span><span class="sxs-lookup"><span data-stu-id="61b40-116">To update an existing agreement, right-click the agreement in the **Parties and Business Profiles** page, and click **Properties**.</span></span>  
  
2.  <span data-ttu-id="61b40-117">单向协议选项卡上，在**交换设置**部分中，单击**本地主机设置**。</span><span class="sxs-lookup"><span data-stu-id="61b40-117">On a one-way agreement tab, under **Interchange Settings** section, click **Local Host Settings**.</span></span>  
  
3.  <span data-ttu-id="61b40-118">在**EDIFACT ACK**部分中，指定事务集引用编号，以确认中, 使用输入的值的前缀、 引用编号和后缀的范围。</span><span class="sxs-lookup"><span data-stu-id="61b40-118">In the **EDIFACT ACK** section, to designate the transaction set reference numbers to be used in an acknowledgment, enter a value for the prefix, a range of reference numbers, and suffix.</span></span>  
  
     <span data-ttu-id="61b40-119">单击**重置**重置当前事务集引用编号为下限。</span><span class="sxs-lookup"><span data-stu-id="61b40-119">Click **Reset** to reset the current transaction set reference number to the lower limit.</span></span> <span data-ttu-id="61b40-120">选择**重置为下限超出界限时**能够[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]将引用编号重置为较低范围值限制，如果超出最大限制。</span><span class="sxs-lookup"><span data-stu-id="61b40-120">Select **Reset to lower limit when out of bound** to have [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] reset the reference number to the lower range value limit if the maximum limit is exceeded.</span></span>  
  
4.  <span data-ttu-id="61b40-121">清除**路由 ACK 发送管道请求-响应接收端口**返回通过单独确认发送端口。</span><span class="sxs-lookup"><span data-stu-id="61b40-121">Clear the **Route ACK to send pipeline on request-response receive port** to return the acknowledgment via a separate send port.</span></span> <span data-ttu-id="61b40-122">如果将该属性保留为选中状态，则会在与双向请求-响应接收端口关联的发送端口上返回确认。</span><span class="sxs-lookup"><span data-stu-id="61b40-122">Leave the property selected to return the acknowledgment on the send port associated with the two-way request-response receive port.</span></span>  
  
5.  <span data-ttu-id="61b40-123">清除**屏蔽安全/授权/密码信息**禁用屏蔽上下文属性，以防止信息泄漏中的授权/密码安全信息 （UNB6.1 和 UNB6.2 字段）。</span><span class="sxs-lookup"><span data-stu-id="61b40-123">Clear **Mask security/authorization/password information** disable masking of authorization/password security information (the UNB6.1 and UNB6.2 fields) in the context property to prevent information disclosure.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="61b40-124">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 收到消息后，会将 UNB 标头升级到消息的上下文中。</span><span class="sxs-lookup"><span data-stu-id="61b40-124">When [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] receives messages, it promotes the UNB header into the context of the message.</span></span> <span data-ttu-id="61b40-125">如果不屏蔽，具有管理权限的任何人都可获取此上下文中的安全信息。</span><span class="sxs-lookup"><span data-stu-id="61b40-125">Without masking, the security information within the context would be available to anyone with administrative privileges.</span></span> <span data-ttu-id="61b40-126">若要屏蔽此信息[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]替换信息的每个字符 **#** 字符。</span><span class="sxs-lookup"><span data-stu-id="61b40-126">To mask this information, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] replaces each character of the information with a **#** character.</span></span> <span data-ttu-id="61b40-127">这是一个单向过程：  **#** 字符无法转换为实际字符。</span><span class="sxs-lookup"><span data-stu-id="61b40-127">This is a one-way process: the **#** characters cannot be converted to actual characters.</span></span>  
  
6.  <span data-ttu-id="61b40-128">在**入站批处理选项**下拉列表中，执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="61b40-128">In the **Inbound batch processing option** drop-down, do the following:</span></span>  
  
    1.  <span data-ttu-id="61b40-129">选择默认选项**将交换拆分为事务集-出错时暂停事务集**指定 BizTalk Server 应分析每个事务集到单独的 XML 文档将交换中。</span><span class="sxs-lookup"><span data-stu-id="61b40-129">Select the default option **Split Interchange as Transaction Sets - suspend Transaction Sets on Error** to specify that BizTalk Server should parse each transaction set in an interchange into a separate XML document.</span></span> <span data-ttu-id="61b40-130">然后，BizTalk Server 将相应的信封应用到事务集，并且将事务集文档路由至 MessageBox。</span><span class="sxs-lookup"><span data-stu-id="61b40-130">BizTalk Server will then apply the appropriate envelope to the transaction set and route the transaction set document to the MessageBox.</span></span> <span data-ttu-id="61b40-131">选择此选项后，如果交换中的一个或多个事务集未能通过验证，BizTalk Server 将仅挂起这些交换集。</span><span class="sxs-lookup"><span data-stu-id="61b40-131">With this option, if one or more transaction sets in the interchange fail validation, BizTalk Server will suspend only those transaction sets.</span></span>  
  
    2.  <span data-ttu-id="61b40-132">选择**将交换拆分为事务集-出错时暂停交换**指定 BizTalk Server 应分析每个事务集到单独的 XML 文档将交换中。</span><span class="sxs-lookup"><span data-stu-id="61b40-132">Select **Split Interchange as Transaction Sets - suspend Interchange on Error** to specify that BizTalk Server should parse each transaction set in an interchange into a separate XML document.</span></span> <span data-ttu-id="61b40-133">然后，BizTalk Server 将相应的信封应用到事务集，并且将事务集文档路由至 MessageBox。</span><span class="sxs-lookup"><span data-stu-id="61b40-133">BizTalk Server will then apply the appropriate envelope to the transaction set and route the transaction set document to the MessageBox.</span></span> <span data-ttu-id="61b40-134">选择此选项后，如果交换中的一个或多个事务集未能通过验证，BizTalk Server 将挂起整个交换。</span><span class="sxs-lookup"><span data-stu-id="61b40-134">With this option, if one or more transaction sets in the interchange fail validation, BizTalk Server will suspend the entire interchange.</span></span>  
  
    3.  <span data-ttu-id="61b40-135">选择**保留交换-出错时暂停交换**指定 BizTalk Server，应保留交换不变，以创建 XML 文档是否为整个批处理的交换。</span><span class="sxs-lookup"><span data-stu-id="61b40-135">Select **Preserve Interchange - suspend Interchange on Error** to specify that BizTalk Server should leave the interchange intact, creating an XML document for the entire batched interchange.</span></span> <span data-ttu-id="61b40-136">选择此选项后，如果交换中的一个或多个事务集未能通过验证，BizTalk Server 将挂起整个交换。</span><span class="sxs-lookup"><span data-stu-id="61b40-136">With this option, if one or more transaction sets in the interchange fail validation, BizTalk Server will suspend the entire interchange.</span></span>  
  
    4.  <span data-ttu-id="61b40-137">选择**保留交换-出错时暂停事务集**指定 BizTalk Server，应保留交换不变，以创建 XML 文档是否为整个批处理的交换。</span><span class="sxs-lookup"><span data-stu-id="61b40-137">Select **Preserve Interchange - suspend Transaction Sets on Error** to specify that BizTalk Server should leave the interchange intact, creating an XML document for the entire batched interchange.</span></span> <span data-ttu-id="61b40-138">使用此选项时，如果交换中的一个或多个事务集未通过验证，BizTalk Server 将会挂起仅这些事务集，同时继续处理所有其他事务集。</span><span class="sxs-lookup"><span data-stu-id="61b40-138">With this option, if one or more transaction sets in the interchange fail validation, BizTalk Server will suspend only those transaction sets, while continuing to process all other transaction sets.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="61b40-139">如果你选择**保留交换-出错时暂停交换**或**保留交换-出错时暂停事务集**上的属性设置**ISA 段定义**和**GS 和 ST 段定义**页 （用于确定如何 BizTalk Server 将创建传出交换的 ISA，GS 和 ST 标头） 不适用于。</span><span class="sxs-lookup"><span data-stu-id="61b40-139">If you select **Preserve Interchange - suspend Interchange on Error** or **Preserve Interchange - suspend Transaction Sets on Error**, the property settings on the **ISA Segment Definition** and **GS and ST Segment Definition** pages (which determine how BizTalk Server will create the ISA, GS, and ST headers of an outgoing interchange) do not apply.</span></span> <span data-ttu-id="61b40-140">被保留的交换中存在的交换、组和事务集标头将在发送管道对其执行发送前的相关处理时予以保留。</span><span class="sxs-lookup"><span data-stu-id="61b40-140">The interchange, group, and transaction-set headers that exist in the interchange that is being preserved are retained when the send pipeline processes it for sending.</span></span>  
  
### <a name="to-configure-local-host--senders-settings"></a><span data-ttu-id="61b40-141">配置本地主机 – 发送方设置</span><span class="sxs-lookup"><span data-stu-id="61b40-141">To configure local host – sender’s settings</span></span>  
  
1.  <span data-ttu-id="61b40-142">有关**交换控制编号 (UNB5)**，输入的用于 BizTalk Server 中生成传出交换的交换控制编号的值的范围。</span><span class="sxs-lookup"><span data-stu-id="61b40-142">For **Interchange control number (UNB5)**, enter a range of values for the interchange control number to be used by BizTalk Server in generating an outgoing interchange.</span></span> <span data-ttu-id="61b40-143">输入一个最小为 1、最大为 999999999 的数值。</span><span class="sxs-lookup"><span data-stu-id="61b40-143">Enter a numeric value with a minimum of 1 and a maximum of 999999999.</span></span> <span data-ttu-id="61b40-144">此字段是必需字段。</span><span class="sxs-lookup"><span data-stu-id="61b40-144">This is a mandatory field.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="61b40-145">第一个字段 (**UNB5.1**) 是前缀; 第二个和第三个字段 (**UNB5.2**) 包含要用作交换控制编号; 和第四个字段的数字范围 (**UNB5.3**)是的后缀。</span><span class="sxs-lookup"><span data-stu-id="61b40-145">The first field (**UNB5.1**) is the prefix; the second and third fields (**UNB5.2**) contain the range of numbers to use as the interchange control number; and the fourth field (**UNB5.3**) is the suffix.</span></span> <span data-ttu-id="61b40-146">前缀和后缀是可选的；控制编号是必需的。</span><span class="sxs-lookup"><span data-stu-id="61b40-146">The prefix and suffix are optional; the control number is required.</span></span> <span data-ttu-id="61b40-147">每条新消息的控制编号是递增的；前缀和后缀保持不变。</span><span class="sxs-lookup"><span data-stu-id="61b40-147">The control number is incremented for each new message; the prefix and suffix remain the same.</span></span> <span data-ttu-id="61b40-148">控制编号最多 14 个字符，前缀和后缀最多 13 个字符，三个字段合起来最多 14 个字符。</span><span class="sxs-lookup"><span data-stu-id="61b40-148">The maximum number of characters is 14 for the control number, 13 for the prefix and suffix, and 14 for all three fields combined.</span></span>  
    >   
    >  <span data-ttu-id="61b40-149">若要将控制编号重置为指定的最小值，请单击**重置**按钮。</span><span class="sxs-lookup"><span data-stu-id="61b40-149">To reset the control number to the minimum value specified, click the **Reset** button.</span></span> <span data-ttu-id="61b40-150">检查**重置为下限超出界限时**自动重置的最小值如果超出最大值。</span><span class="sxs-lookup"><span data-stu-id="61b40-150">Check **Reset to lower limit when out of bound** to automatically reset to the minimum value if the maximum value is exceeded.</span></span>  
  
2.  <span data-ttu-id="61b40-151">有关**组控制编号 (UNG5)**、 输入前缀、 引用编号范围，以及 BizTalk Server 应该用于发送第一个交换组控制编号的后缀。</span><span class="sxs-lookup"><span data-stu-id="61b40-151">For **Group control number (UNG5)**, enter the prefix, reference number range, and suffix that BizTalk Server should use for the group control number of the first interchange that it sends.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="61b40-152">第一个字段 (**UNG5.1**) 是前缀; 第二个和第三个字段 (**UNG5.2**) 包含要用于组控制编号; 和第四个字段的数字范围 (**UNG5.3**) 是的后缀。</span><span class="sxs-lookup"><span data-stu-id="61b40-152">The first field (**UNG5.1**) is the prefix; the second and third fields (**UNG5.2**) contain the range of numbers to use for the group control number; and the fourth field (**UNG5.3**) is the suffix.</span></span> <span data-ttu-id="61b40-153">前缀和后缀是可选的；控制编号是必需的。</span><span class="sxs-lookup"><span data-stu-id="61b40-153">The prefix and suffix are optional; the control number is required.</span></span> <span data-ttu-id="61b40-154">每条新消息的控制编号是递增的直到达到最大值；前缀和后缀保持不变。</span><span class="sxs-lookup"><span data-stu-id="61b40-154">The control number is incremented for each new message until the maximum value is reached; the prefix and suffix remain the same.</span></span> <span data-ttu-id="61b40-155">数字可以用在**UNG5.2**。</span><span class="sxs-lookup"><span data-stu-id="61b40-155">Only numbers are allowed in **UNG5.2**.</span></span> <span data-ttu-id="61b40-156">控制编号最多 14 个字符，前缀和后缀最多 13 个字符，三个字段合起来最多 14 个字符。</span><span class="sxs-lookup"><span data-stu-id="61b40-156">The maximum number of characters is 14 for the control number, 13 for the prefix and suffix, and 14 for all three fields combined.</span></span>  
    >   
    >  <span data-ttu-id="61b40-157">若要将组控制编号重置为指定的最小值，请单击**重置**按钮。</span><span class="sxs-lookup"><span data-stu-id="61b40-157">To reset the group control number to the minimum value specified, click the **Reset** button.</span></span> <span data-ttu-id="61b40-158">检查**重置为下限超出界限时**自动重置的最小值如果超出最大值。</span><span class="sxs-lookup"><span data-stu-id="61b40-158">Check **Reset to lower limit when out of bound** to automatically reset to the minimum value if the maximum value is exceeded.</span></span>  
  
3.  <span data-ttu-id="61b40-159">有关**消息标头 （新罕布什尔大学）**，单击**应用新的 ID**、 输入前缀、 引用编号范围中，输入和输入 BizTalk 服务器应使用为事务集引用编号的后缀。</span><span class="sxs-lookup"><span data-stu-id="61b40-159">For **Message Header (UNH)**, click **Apply new ID**, enter the prefix, enter the reference number range, and enter the suffix that BizTalk Server should use for the transaction set reference number.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="61b40-160">第一个字段 (**UNH1.1**) 是前缀; 第二个和第三个字段 (**UNH1.2**) 是引用编号范围; 和第四个字段 (**UNH1.3**) 是的后缀。</span><span class="sxs-lookup"><span data-stu-id="61b40-160">The first field (**UNH1.1**) is the prefix; the second and third fields (**UNH1.2**) are the reference number range; and the fourth field (**UNH1.3**) is the suffix.</span></span> <span data-ttu-id="61b40-161">前缀和后缀是可选的；参考编号是必需的。</span><span class="sxs-lookup"><span data-stu-id="61b40-161">The prefix and suffix are optional; the reference number is required.</span></span> <span data-ttu-id="61b40-162">每条新消息的参考编号是递增的；前缀和后缀保持不变。</span><span class="sxs-lookup"><span data-stu-id="61b40-162">The reference number is incremented for each new message; the prefix and suffix remain the same.</span></span> <span data-ttu-id="61b40-163">参考编号的默认值范围是 1 到 99999999999999。</span><span class="sxs-lookup"><span data-stu-id="61b40-163">The default value range for the reference number is 1 to 99999999999999.</span></span> <span data-ttu-id="61b40-164">数字可以用在**UNH1.2**。</span><span class="sxs-lookup"><span data-stu-id="61b40-164">Only numbers are allowed in **UNH1.2**.</span></span> <span data-ttu-id="61b40-165">控制编号最多 14 个字符，前缀和后缀最多 13 个字符，三个字段合起来最多 14 个字符。</span><span class="sxs-lookup"><span data-stu-id="61b40-165">The maximum number of characters is 14 for the control number, 13 for the prefix and suffix, and 14 for all three fields combined.</span></span>  
    >   
    >  <span data-ttu-id="61b40-166">若要重置当前事务集控制编号的最小值，请单击**重置**。</span><span class="sxs-lookup"><span data-stu-id="61b40-166">To reset the current transaction set control number to the minimum value, click **Reset**.</span></span> <span data-ttu-id="61b40-167">选择**重置为下限超出界限时**来将控制编号重置的最小值为，如果尚未超过最大值。</span><span class="sxs-lookup"><span data-stu-id="61b40-167">Select **Reset to lower limit when out of bound** to reset the control number to the minimum value if the maximum value has been exceeded.</span></span>  
  
4.  <span data-ttu-id="61b40-168">单击**应用**接受所做的更改，然后才能继续进行配置，或单击**确定**验证所做的更改，然后关闭对话框。</span><span class="sxs-lookup"><span data-stu-id="61b40-168">Click **Apply** to accept the changes before continuing with the configuration, or click **OK** to validate the changes and then close the dialog box.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="61b40-169">另请参阅</span><span class="sxs-lookup"><span data-stu-id="61b40-169">See Also</span></span>  
 [<span data-ttu-id="61b40-170">配置交换设置 (EDIFACT)</span><span class="sxs-lookup"><span data-stu-id="61b40-170">Configuring Interchange Settings (EDIFACT)</span></span>](../core/configuring-interchange-settings-edifact.md)