---
title: 业务活动监视 (BAM) |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- BAM, tools
- utilities, Tracking Profile Deployment Utility
- BAM, deployment process
- BAM
- BAM, presentation layers
- BAM, Tracking Profile Deployment utility
- BAM, about BAM
- BAM, data storage
- BAM Management utility
- Tracking Profile Deployment utility
- BAM, runtime process
- BAM, design time
- BAM, data insertion
- BAM, data consumption
- BAM, BAM Management utility
- BAM, processing
ms.assetid: a8ad48b1-6891-4bbb-b125-27d224e49293
caps.latest.revision: 17
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: acac201eac5ec76c0d6f9d06a97c58aaa3b4af46
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65357758"
---
# <a name="business-activity-monitoring-bam"></a><span data-ttu-id="a1961-102">业务活动监视 (BAM)</span><span class="sxs-lookup"><span data-stu-id="a1961-102">Business Activity Monitoring (BAM)</span></span>
<span data-ttu-id="a1961-103">下图说明了业务活动监视 (BAM) 功能的体系结构。</span><span class="sxs-lookup"><span data-stu-id="a1961-103">The following diagram illustrates the architecture for the Business Activity Monitoring (BAM) feature.</span></span>  
  
 <span data-ttu-id="a1961-104">![](../core/media/architecture-bam-01.gif "architecture_bam_01")</span><span class="sxs-lookup"><span data-stu-id="a1961-104">![](../core/media/architecture-bam-01.gif "architecture_bam_01")</span></span>  
  
## <a name="tools"></a><span data-ttu-id="a1961-105">工具</span><span class="sxs-lookup"><span data-stu-id="a1961-105">Tools</span></span>  
 <span data-ttu-id="a1961-106">可以使用以下工具来设计、 开发和部署 BizTalk 解决方案与 BAM 相集成。</span><span class="sxs-lookup"><span data-stu-id="a1961-106">You can use the following tools to design, develop, and deploy BizTalk solutions that integrate with BAM.</span></span>  
  
-   <span data-ttu-id="a1961-107">**Microsoft Excel**。</span><span class="sxs-lookup"><span data-stu-id="a1961-107">**Microsoft Excel**.</span></span> <span data-ttu-id="a1961-108">BAM 外接程序 excel 提供了指导业务分析员完成活动和视图的创建过程的用户界面。</span><span class="sxs-lookup"><span data-stu-id="a1961-108">The BAM Add-In for Excel provides a user interface that guides business analysts during the creation of Activities and Views.</span></span> <span data-ttu-id="a1961-109">Excel 可作为用于业务分析师的设计工具和业务用户的数据使用工具。</span><span class="sxs-lookup"><span data-stu-id="a1961-109">Excel serves as both a design tool for business analysts and a data consumption tool for business users.</span></span> <span data-ttu-id="a1961-110">有关 BAM 外接程序 excel 的详细信息，请参阅[使用 excel BAM 外接程序的要求](../core/requirements-for-using-the-bam-add-in-for-excel.md)。</span><span class="sxs-lookup"><span data-stu-id="a1961-110">For more information about the BAM Add-In for Excel, see [Requirements for Using the BAM Add-In for Excel](../core/requirements-for-using-the-bam-add-in-for-excel.md).</span></span>  
  
-   <span data-ttu-id="a1961-111">**BAM 管理实用程序**。</span><span class="sxs-lookup"><span data-stu-id="a1961-111">**BAM Management Utility**.</span></span> <span data-ttu-id="a1961-112">BAM 管理实用程序是一种部署工具，允许在工作簿部署到企业中创建的 BAM 定义。</span><span class="sxs-lookup"><span data-stu-id="a1961-112">The BAM Management Utility is a deployment tool that allows BAM definitions created in Excel to be deployed into the enterprise.</span></span> <span data-ttu-id="a1961-113">BAM 管理实用程序创建必需的 SQL Server 数据库、 Analysis Services 多维数据集、 SQL Notification Services 数据库和 DTS 或 SSIS 任务 （具体取决于哪个版本的 SQL Server 安装）。</span><span class="sxs-lookup"><span data-stu-id="a1961-113">The BAM Management Utility creates the necessary SQL Server databases, Analysis Services cubes, SQL Notification Services databases, and DTS or SSIS tasks (depending on which version of SQL Server is installed).</span></span> <span data-ttu-id="a1961-114">有关 BAM 管理器的详细信息，请参阅[BAM 管理实用程序](../core/bam-management-utility.md)。</span><span class="sxs-lookup"><span data-stu-id="a1961-114">For more information about the BAM Manager, see [BAM Management Utility](../core/bam-management-utility.md).</span></span>  
  
-   <span data-ttu-id="a1961-115">**跟踪配置文件编辑器**。</span><span class="sxs-lookup"><span data-stu-id="a1961-115">**Tracking Profile Editor**.</span></span> <span data-ttu-id="a1961-116">跟踪配置文件编辑器，BizTalk 开发人员将映射到包括业务流程的 BizTalk 实现业务分析员定义的数据元素和消息传送。</span><span class="sxs-lookup"><span data-stu-id="a1961-116">The Tracking Profile Editor enables BizTalk developers to map the data elements defined by business analysts into the BizTalk implementation including Orchestrations and Messaging.</span></span> <span data-ttu-id="a1961-117">有关跟踪配置文件编辑器的详细信息，请参阅[跟踪配置文件编辑器](../core/tracking-profile-editor.md)。</span><span class="sxs-lookup"><span data-stu-id="a1961-117">For more information about the Tracking Profile Editor, see [Tracking Profile Editor](../core/tracking-profile-editor.md).</span></span>  
  
-   <span data-ttu-id="a1961-118">**跟踪配置文件部署实用程序**。</span><span class="sxs-lookup"><span data-stu-id="a1961-118">**Tracking Profile Deployment Utility**.</span></span> <span data-ttu-id="a1961-119">跟踪配置文件部署实用程序允许 IT 专业人员将新的和更新跟踪配置文件部署到 BAM 基础结构。</span><span class="sxs-lookup"><span data-stu-id="a1961-119">The Tracking Profile Deployment Utility allows IT professionals to deploy new and updated tracking profiles to the BAM infrastructure.</span></span> <span data-ttu-id="a1961-120">有关跟踪配置文件部署工具的详细信息，请参阅[跟踪配置文件部署实用程序](../core/tracking-profile-deployment-utility.md)。</span><span class="sxs-lookup"><span data-stu-id="a1961-120">For more information about the Tracking Profile Deploy tool, see [Tracking Profile Deployment Utility](../core/tracking-profile-deployment-utility.md).</span></span>  
  
## <a name="presentation"></a><span data-ttu-id="a1961-121">表示形式</span><span class="sxs-lookup"><span data-stu-id="a1961-121">Presentation</span></span>  
 <span data-ttu-id="a1961-122">表示层包括：</span><span class="sxs-lookup"><span data-stu-id="a1961-122">The presentation layer consists of the following:</span></span>  
  
- <span data-ttu-id="a1961-123">**BAM 门户**。</span><span class="sxs-lookup"><span data-stu-id="a1961-123">**BAM Portal**.</span></span> <span data-ttu-id="a1961-124">Microsoft 中的 BAM 门户[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]提供向业务流程的实时、 端到端可见性。</span><span class="sxs-lookup"><span data-stu-id="a1961-124">The BAM portal in Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] provides real-time, end-to-end visibility into a business process.</span></span> <span data-ttu-id="a1961-125">它是集合的基于 Web 的功能，它包含的 ASP.NET 页。</span><span class="sxs-lookup"><span data-stu-id="a1961-125">It is a Web-based feature that consists of a collection of ASP.NET  pages.</span></span> <span data-ttu-id="a1961-126">您可以自定义 BAM 以提高性能和用户体验。</span><span class="sxs-lookup"><span data-stu-id="a1961-126">You can customize BAM to enhance the performance and experience for your users.</span></span> <span data-ttu-id="a1961-127">有关 BAM 门户的详细信息，请参阅[BAM 门户](../core/bam-portal.md)。</span><span class="sxs-lookup"><span data-stu-id="a1961-127">For more information about the BAM Portal, see [BAM Portal](../core/bam-portal.md).</span></span>  
  
- <span data-ttu-id="a1961-128">**Microsoft Excel**。</span><span class="sxs-lookup"><span data-stu-id="a1961-128">**Microsoft Excel**.</span></span> <span data-ttu-id="a1961-129">BAM 外接程序 excel 提供了指导业务分析员完成活动和视图的创建过程的用户界面。</span><span class="sxs-lookup"><span data-stu-id="a1961-129">The BAM Add-In for Excel provides a user interface that guides business analysts during the creation of Activities and Views.</span></span> <span data-ttu-id="a1961-130">Excel 可作为用于业务分析师的设计工具和业务用户的数据使用工具。</span><span class="sxs-lookup"><span data-stu-id="a1961-130">Excel serves as both a design tool for business analysts and a data consumption tool for business users.</span></span> <span data-ttu-id="a1961-131">有关 BAM 外接程序 excel 的详细信息，请参阅[使用 excel BAM 外接程序的要求](../core/requirements-for-using-the-bam-add-in-for-excel.md)。</span><span class="sxs-lookup"><span data-stu-id="a1961-131">For more information about the BAM Add-In for Excel, see [Requirements for Using the BAM Add-In for Excel](../core/requirements-for-using-the-bam-add-in-for-excel.md).</span></span>  
  
- <span data-ttu-id="a1961-132">**自定义用户界面**。</span><span class="sxs-lookup"><span data-stu-id="a1961-132">**Custom User Interface**.</span></span> <span data-ttu-id="a1961-133">ISV 和开发人员可以创建显示 BAM 数据的自定义应用程序</span><span class="sxs-lookup"><span data-stu-id="a1961-133">ISV’s and developers can create custom applications that display BAM data</span></span>  
  
## <a name="processing"></a><span data-ttu-id="a1961-134">处理</span><span class="sxs-lookup"><span data-stu-id="a1961-134">Processing</span></span>  
 <span data-ttu-id="a1961-135">处理层包括：</span><span class="sxs-lookup"><span data-stu-id="a1961-135">The processing layer consists of the following:</span></span>  
  
- <span data-ttu-id="a1961-136">**BAM 管理 Web Service**。</span><span class="sxs-lookup"><span data-stu-id="a1961-136">**BAM Management Web Service**.</span></span> <span data-ttu-id="a1961-137">BAM 门户应用程序使用此 Web 服务进行通信与 BAM 主导入表 (PIT)。</span><span class="sxs-lookup"><span data-stu-id="a1961-137">This Web service is used by the BAM Portal application to communicate with the BAM Primary Import Tables (PIT).</span></span> <span data-ttu-id="a1961-138">完成与数据库之间的通信使用的模拟凭据存储在配置期间创建的注册表中。</span><span class="sxs-lookup"><span data-stu-id="a1961-138">The communication with the database is done using impersonated credentials stored in the registry which is created during configuration.</span></span> <span data-ttu-id="a1961-139">此 Web 服务公开的方法自定义客户端可以用于获取视图及其详细信息、 相关的活动和数据透视表布局的任何用户。</span><span class="sxs-lookup"><span data-stu-id="a1961-139">Methods exposed by this Web service can be used by custom clients to get views and their details, related activities, and pivot table layouts for any user.</span></span> <span data-ttu-id="a1961-140">它们还可以用于管理数据库中的警报。</span><span class="sxs-lookup"><span data-stu-id="a1961-140">They can also be used to manage alerts in the database.</span></span>  
  
- <span data-ttu-id="a1961-141">**事件总线**。</span><span class="sxs-lookup"><span data-stu-id="a1961-141">**Event Bus** .</span></span> <span data-ttu-id="a1961-142">BAM 事件总线服务处理存储在源数据库中的跟踪数据 （流） 并将目标数据库中以查询表格式数据持续。</span><span class="sxs-lookup"><span data-stu-id="a1961-142">The BAM Event Bus Service processes tracking data (streams) stored in a source database and persists that data in a query table format in the destination database.</span></span>  
  
- <span data-ttu-id="a1961-143">**SQL Notification Services**。</span><span class="sxs-lookup"><span data-stu-id="a1961-143">**SQL Notification Services**.</span></span> <span data-ttu-id="a1961-144">SQL Notification Services 可评估由业务用户定义的实例和聚合 BAM 警报。</span><span class="sxs-lookup"><span data-stu-id="a1961-144">SQL Notification Services evaluates the Instance and Aggregate BAM alerts that are defined by the business user.</span></span>  
  
  <span data-ttu-id="a1961-145">下图演示了 BAM 结构的基础物理流程。</span><span class="sxs-lookup"><span data-stu-id="a1961-145">The following diagram illustrates the underlying physical processes for the BAM architecture.</span></span>  
  
  <span data-ttu-id="a1961-146">![](../core/media/architecture-bam-02.gif "architecture_bam_02")</span><span class="sxs-lookup"><span data-stu-id="a1961-146">![](../core/media/architecture-bam-02.gif "architecture_bam_02")</span></span>  
  
## <a name="design-time-experience"></a><span data-ttu-id="a1961-147">设计时体验</span><span class="sxs-lookup"><span data-stu-id="a1961-147">Design time experience</span></span>  
 <span data-ttu-id="a1961-148">下图说明了设计时体验。</span><span class="sxs-lookup"><span data-stu-id="a1961-148">The following diagram illustrates the design time experience.</span></span>  
  
 <span data-ttu-id="a1961-149">![](../core/media/architecture-bam-03.gif "architecture_bam_03")</span><span class="sxs-lookup"><span data-stu-id="a1961-149">![](../core/media/architecture-bam-03.gif "architecture_bam_03")</span></span>  
  
 <span data-ttu-id="a1961-150">以下步骤描述上图中所示的序列。</span><span class="sxs-lookup"><span data-stu-id="a1961-150">The following steps describe the sequence depicted in the illustration above.</span></span>  
  
1.  <span data-ttu-id="a1961-151">跟踪配置文件编辑器假定 BizTalk Server 配置、 该至少一个 BAM 定义已部署 （使用 BM.exe） 和基础结构，包括主导入数据库已创建了。</span><span class="sxs-lookup"><span data-stu-id="a1961-151">The Tracking Profile Editor assumes that BizTalk Server has been configured, that at least one BAM definition has already been deployed (using BM.exe), and that the infrastructure, including the Primary Import Database has been created.</span></span> <span data-ttu-id="a1961-152">跟踪配置文件编辑器使用在 BizTalk 配置过程中设置来确定管理数据库所在的位置的注册表项。</span><span class="sxs-lookup"><span data-stu-id="a1961-152">The Tracking Profile Editor uses a registry key that is set during BizTalk configuration to determine where the Management database is located.</span></span>  
  
    1.  <span data-ttu-id="a1961-153">BAM 一旦发现枚举主导入数据库中的活动。</span><span class="sxs-lookup"><span data-stu-id="a1961-153">BAM enumerates the activities within the Primary Import Database once it is discovered.</span></span> <span data-ttu-id="a1961-154">BizTalk 开发人员选择从 BAM 主导入数据库中获取请求的已部署的活动。</span><span class="sxs-lookup"><span data-stu-id="a1961-154">BizTalk developers select the deployed activities which get pulled from the BAM Primary Import database.</span></span>  
  
    2.  <span data-ttu-id="a1961-155">BizTalk 开发人员将其映射到物理实现通过浏览从 BizTalk 管理数据库中检索的已部署程序集。</span><span class="sxs-lookup"><span data-stu-id="a1961-155">The BizTalk developer maps this to a physical implementation by browsing the deployed assemblies retrieved from the BizTalk Management database.</span></span>  
  
    3.  <span data-ttu-id="a1961-156">一旦开发人员具有直观地将此项映射到 BizTalk 项目，元数据提交到 BizTalk Server 运行时，收集和存储数据。</span><span class="sxs-lookup"><span data-stu-id="a1961-156">Once the developer has visually mapped this to the BizTalk artifacts, metadata is submitted to the BizTalk Server runtime to collect and store the data.</span></span> <span data-ttu-id="a1961-157">这是通过批注 （对于消息传送用于解码已收集的数据的信息） 和跟踪配置文件 （用来检索运行时数据）。</span><span class="sxs-lookup"><span data-stu-id="a1961-157">This is done via annotations (for messaging information used to decode the collected data) and the tracking profile (used to retrieve the runtime data).</span></span>  
  
2.  <span data-ttu-id="a1961-158">Microsoft Excel 用作设计时工具和数据使用或表示工具。</span><span class="sxs-lookup"><span data-stu-id="a1961-158">Microsoft Excel is used as both a design time tool and a data consumption or presentation tool.</span></span> <span data-ttu-id="a1961-159">设计时 Excel 体验，用户可以通过创建 BAM 活动和视图构造 BAM 定义。</span><span class="sxs-lookup"><span data-stu-id="a1961-159">The design time Excel experience allows users to construct a BAM definition by creating BAM Activities and Views.</span></span> <span data-ttu-id="a1961-160">它还允许创建数据透视控件和最终显示在 BAM 门户中的关系图。</span><span class="sxs-lookup"><span data-stu-id="a1961-160">It also allows for the creation of the pivot controls and graphs that are ultimately displayed in the BAM portal.</span></span>  
  
## <a name="deployment"></a><span data-ttu-id="a1961-161">部署</span><span class="sxs-lookup"><span data-stu-id="a1961-161">Deployment</span></span>  
 <span data-ttu-id="a1961-162">有两个类别的部署</span><span class="sxs-lookup"><span data-stu-id="a1961-162">There are two categories of deployment</span></span>  
  
- <span data-ttu-id="a1961-163">构建动态基础结构</span><span class="sxs-lookup"><span data-stu-id="a1961-163">Building out the dynamic infrastructure</span></span>  
  
- <span data-ttu-id="a1961-164">检测运行时收集数据。</span><span class="sxs-lookup"><span data-stu-id="a1961-164">Instrumenting the runtime to collect data.</span></span>  
  
  <span data-ttu-id="a1961-165">下图显示了 BAM 部署。</span><span class="sxs-lookup"><span data-stu-id="a1961-165">The following diagram illustrates BAM deployment.</span></span>  
  
  <span data-ttu-id="a1961-166">![](../core/media/architecture-bam-04.gif "architecture_bam_04")</span><span class="sxs-lookup"><span data-stu-id="a1961-166">![](../core/media/architecture-bam-04.gif "architecture_bam_04")</span></span>  
  
  <span data-ttu-id="a1961-167">以下步骤描述上图中所示的序列。</span><span class="sxs-lookup"><span data-stu-id="a1961-167">The following steps describe the sequence depicted in the illustration above.</span></span>  
  
1.  <span data-ttu-id="a1961-168">BAM 管理实用程序用于构建动态基础结构。</span><span class="sxs-lookup"><span data-stu-id="a1961-168">The BAM Management Utility is used to build out the dynamic infrastructure.</span></span> <span data-ttu-id="a1961-169">使用 BAM 定义或设计时 Excel 工作簿以及 BAM 配置 XML 文件，BAM 管理实用程序将生成所有必需的数据库和系统运行所需的相应 DTS 或 SSIS 任务。</span><span class="sxs-lookup"><span data-stu-id="a1961-169">Using the BAM definition or a design time Excel workbook plus the BAM Configuration XML file, the BAM Management Utility builds all the necessary databases and the corresponding DTS or SSIS tasks necessary for the system to operate.</span></span>  
  
    1.  <span data-ttu-id="a1961-170">BAM 主导入数据库和所有支持存储过程、 触发器以及 DTS 或 SSIS 任务构造。</span><span class="sxs-lookup"><span data-stu-id="a1961-170">The BAM Primary Import database and all the supporting stored procedures, triggers, and DTS or SSIS tasks are constructed.</span></span>  
  
    2.  <span data-ttu-id="a1961-171">BAM 存档数据库定义，但未创建，直到执行存档 DTS 或 SSIS 任务。</span><span class="sxs-lookup"><span data-stu-id="a1961-171">The BAM Archive database is defined, but not created, until the Archiving DTS or SSIS task is executed.</span></span>  
  
    3.  <span data-ttu-id="a1961-172">如果定义了 BAM OLAP 聚合，则 BAM 星型架构数据库。</span><span class="sxs-lookup"><span data-stu-id="a1961-172">The BAM Star Schema database if BAM OLAP Aggregations were defined.</span></span> <span data-ttu-id="a1961-173">您可以确定是否是否已定义聚合**实时聚合**Excel 电子表格中的按钮处于禁用状态或**CreateOlapCube**设置为**true**中BAM 定义和配置 XML 文件具有一个部署单元，以便**AnalysisDatabase**。</span><span class="sxs-lookup"><span data-stu-id="a1961-173">You can determine if aggregations have been defined if the **Real Time Aggregation** button in the Excel spreadsheet is disabled or the **CreateOlapCube** is set to **true** in the BAM Definition and the Configuration XML file has a Deployment Unit for **AnalysisDatabase**.</span></span>  
  
    4.  <span data-ttu-id="a1961-174">BAM 定义和配置 XML 必须不是 RTA 的 BAM OLAP 多维数据集创建的聚合定义。</span><span class="sxs-lookup"><span data-stu-id="a1961-174">The BAM Definition and Configuration XML have to have an Aggregation defined that is not an RTA in order for a BAM OLAP cube to be created.</span></span>  
  
    5.  <span data-ttu-id="a1961-175">BAM 管理器进程的分解视图显示了名为 Notification Services 进程 (nscontrol.exe) 以创建 SQL NS 数据库。</span><span class="sxs-lookup"><span data-stu-id="a1961-175">Exploded view of the BAM Manager process shows that the Notification Services process (nscontrol.exe) is called to create the SQL NS databases.</span></span>  
  
2.  <span data-ttu-id="a1961-176">跟踪配置文件编辑器用户界面已检测运行时进行跟踪和解码来自运行时系统的数据的部署命令。</span><span class="sxs-lookup"><span data-stu-id="a1961-176">The Tracking Profile Editor UI has a deployment command which instruments the runtime to track and decode data from the runtime systems.</span></span> <span data-ttu-id="a1961-177">在这种情况下它会促使**批注**到 BAM 主导入数据库 （如果将数据从消息传送系统请求）。</span><span class="sxs-lookup"><span data-stu-id="a1961-177">In this case it pushes **annotations** into the BAM Primary Import database (if data is pulled from the messaging system).</span></span> <span data-ttu-id="a1961-178">跟踪配置文件插入到的 BizTalk 管理数据库的 BizTalk 运行时用于确定要将发布到 BAM 系统的数据。</span><span class="sxs-lookup"><span data-stu-id="a1961-178">A tracking profile is inserted into the BizTalk Management database which is used by the BizTalk Runtime to determine what data to publish to the BAM system.</span></span>  
  
3.  <span data-ttu-id="a1961-179">BizTalk 跟踪部署命令行工具允许跟踪配置文件，以发布到 BAM 主导入数据库和管理数据库，这类似于跟踪配置文件编辑器的作用;但是命令行工具不允许映射功能。</span><span class="sxs-lookup"><span data-stu-id="a1961-179">The BizTalk Tracking Deployment command line tool allows Tracking Profiles to be published to the BAM Primary Import database and Management database, which is similar to what the Tracking Profile Editor does; however the command line tool does not allow mapping capabilities.</span></span>  
  
## <a name="data-consumption"></a><span data-ttu-id="a1961-180">数据使用</span><span class="sxs-lookup"><span data-stu-id="a1961-180">Data Consumption</span></span>  
 <span data-ttu-id="a1961-181">数据流量消耗是指在其中业务用户将使用 BAM 基础结构已收集的信息的过程。</span><span class="sxs-lookup"><span data-stu-id="a1961-181">Data consumption refers to the process in which a business user consumes the information that the BAM infrastructure has collected.</span></span> <span data-ttu-id="a1961-182">假定此时，已创建了 BAM 定义 (定义哪些数据收集以及如何查看它)、 已部署 BAM 定义 （动态地创建基础结构） 和 BAM 定义已映射到物理实现 (定义从中收集数据，在某些情况下编写代码以推送至系统)。</span><span class="sxs-lookup"><span data-stu-id="a1961-182">It is assumed at this point, that the BAM definition has been created (defining what data to collect and how to view it), that the BAM definition has been deployed (dynamically creating the infrastructure), and that the BAM definition has been mapped to the physical implementation (defining where to collect the data, and in some cases writing code to push into the system).</span></span>  
  
 <span data-ttu-id="a1961-183">下图说明了数据使用的过程。</span><span class="sxs-lookup"><span data-stu-id="a1961-183">The following diagram illustrates the process of data consumption.</span></span>  
  
 <span data-ttu-id="a1961-184">![](../core/media/architecture-bam-05.gif "architecture_bam_05")</span><span class="sxs-lookup"><span data-stu-id="a1961-184">![](../core/media/architecture-bam-05.gif "architecture_bam_05")</span></span>  
  
 <span data-ttu-id="a1961-185">以下步骤描述上图中所示的序列。</span><span class="sxs-lookup"><span data-stu-id="a1961-185">The following steps describe the sequence depicted in the illustration above.</span></span>  
  
1.  <span data-ttu-id="a1961-186">BAM 门户将拆分为两个进程、 Internet Explorer 和 Internet 信息服务中托管的 BAM Web 门户进程。</span><span class="sxs-lookup"><span data-stu-id="a1961-186">The BAM portal is split out into two processes, Internet Explorer and the BAM Web portal process hosted in Internet Information Services.</span></span>  
  
    1.  <span data-ttu-id="a1961-187">Internet Explorer 使用连接到 BAM 门户网站的业务用户的安全上下文。</span><span class="sxs-lookup"><span data-stu-id="a1961-187">Internet Explorer uses the security context of the business user connecting to the BAM Portal Web site.</span></span> <span data-ttu-id="a1961-188">BAM 门户网站是使用 BAM 管理 Web 服务来收集信息的 ASPX 应用程序。</span><span class="sxs-lookup"><span data-stu-id="a1961-188">The BAM Portal Web site is an ASPX application that uses the BAM Management Web Service to collect information.</span></span>  
  
    2.  <span data-ttu-id="a1961-189">BAM 门户调用 BAM 管理 Web 服务来检索特定的业务用户可以看到信息如哪些 BAM 活动/视图。</span><span class="sxs-lookup"><span data-stu-id="a1961-189">The BAM Portal calls the BAM Management Web Service to retrieve information such as what BAM Activities/Views the particular business user can see.</span></span> <span data-ttu-id="a1961-190">很重要，BAM 管理 Web 服务是能够模拟业务用户，因此，典型部署应是 BAM 门户和 Web 服务托管在同一台计算机上</span><span class="sxs-lookup"><span data-stu-id="a1961-190">It is critical that the BAM Management Web Service is able to impersonate the business user, therefore, the typical deployment is the BAM Portal and the Web Service are hosted on the same machine</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="a1961-191">如果您的企业支持 Kerberos 和 Active Directory 设置为支持委派，就可以在门户和 Web 服务可以位于不同的计算机上。</span><span class="sxs-lookup"><span data-stu-id="a1961-191">If your enterprise supports Kerberos and Active Directory is set up to support delegation, it is possible that the Portal and Web Service can be located on different machines.</span></span>  
  
    3.  <span data-ttu-id="a1961-192">Web 服务调用存储的过程在 BAM 主导入数据库执行安全检查、 检索元数据，以及检索 BAM 实时聚合有关的信息。</span><span class="sxs-lookup"><span data-stu-id="a1961-192">The Web Service calls stored procedures in the BAM Primary Import to perform security checks, retrieve metadata, and retrieve information about BAM Real Time Aggregations.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="a1961-193">BAM 门户使用名为的未记录的 Web 服务的当前**查询 Web 服务**。</span><span class="sxs-lookup"><span data-stu-id="a1961-193">Currently the BAM Portal uses an undocumented Web Service called the **Query Web Service**.</span></span> <span data-ttu-id="a1961-194">这不受支持，很可能将在下一版本中弃用。</span><span class="sxs-lookup"><span data-stu-id="a1961-194">This is not supported and will most likely be deprecated in the next release.</span></span>  
  
    4.  <span data-ttu-id="a1961-195">Internet Explorer 承载 Office Web 控件 (OWC) 的直接连接到 BAM Analysis Services 多维数据集。</span><span class="sxs-lookup"><span data-stu-id="a1961-195">Internet Explorer hosts the Office Web Controls (OWC) which makes direct connections to the BAM Analysis Services cubes.</span></span>  
  
2.  <span data-ttu-id="a1961-196">“导出”</span><span class="sxs-lookup"><span data-stu-id="a1961-196">Excel</span></span>  
  
## <a name="runtime"></a><span data-ttu-id="a1961-197">运行时</span><span class="sxs-lookup"><span data-stu-id="a1961-197">Runtime</span></span>  
 <span data-ttu-id="a1961-198">已定义了 BAM 定义，基础结构已构建，并且开发人员已测试所需系统启用可见性后，数据可以开始源源不断地流经整个系统。</span><span class="sxs-lookup"><span data-stu-id="a1961-198">After the BAM Definition has been defined, the infrastructure has been built out, and the developer has instrumented the necessary systems to enable visibility, data can begin flowing through the system.</span></span>  
  
### <a name="data-insertion"></a><span data-ttu-id="a1961-199">插入数据</span><span class="sxs-lookup"><span data-stu-id="a1961-199">Data Insertion</span></span>  
 <span data-ttu-id="a1961-200">一种主要方式数据流入 BAM 系统是通过 BizTalk 服务 (BTSNTSvc.exe)。</span><span class="sxs-lookup"><span data-stu-id="a1961-200">One of the primary ways data flows into the BAM system is via the BizTalk Service (BTSNTSvc.exe).</span></span> <span data-ttu-id="a1961-201">BizTalk 服务的体系结构，以便它可以包含逻辑子系统。</span><span class="sxs-lookup"><span data-stu-id="a1961-201">The BizTalk Service is architected such that it can contain logical subsystems.</span></span>  
  
 <span data-ttu-id="a1961-202">下图说明了此过程。</span><span class="sxs-lookup"><span data-stu-id="a1961-202">The following diagram illustrates this process.</span></span>  
  
 <span data-ttu-id="a1961-203">![](../core/media/architecture-bam-06.gif "architecture_bam_06")</span><span class="sxs-lookup"><span data-stu-id="a1961-203">![](../core/media/architecture-bam-06.gif "architecture_bam_06")</span></span>  
  
 <span data-ttu-id="a1961-204">以下步骤描述上图中所示的序列。</span><span class="sxs-lookup"><span data-stu-id="a1961-204">The following steps describe the sequence depicted in the illustration above.</span></span>  
  
1.  <span data-ttu-id="a1961-205">一个子系统托管 BizTalk Server 引擎本身。</span><span class="sxs-lookup"><span data-stu-id="a1961-205">One subsystem hosts the BizTalk Server engine itself.</span></span> <span data-ttu-id="a1961-206">此引擎是负责执行业务流程和消息传送。</span><span class="sxs-lookup"><span data-stu-id="a1961-206">The engine is responsible for executing orchestrations and messaging.</span></span>  
  
2.  <span data-ttu-id="a1961-207">另一个子系统为事件总线服务。</span><span class="sxs-lookup"><span data-stu-id="a1961-207">Another subsystem is the Event Bus Service.</span></span> <span data-ttu-id="a1961-208">事件总线服务负责缓冲事件 Stream 数据写入 BAM 主导入数据库。</span><span class="sxs-lookup"><span data-stu-id="a1961-208">The Event Bus Service is responsible for writing Buffered Event Stream data into the BAM Primary Import database.</span></span>  
  
### <a name="booting-the-runtime"></a><span data-ttu-id="a1961-209">启动运行时</span><span class="sxs-lookup"><span data-stu-id="a1961-209">Booting the runtime</span></span>  
 <span data-ttu-id="a1961-210">BizTalk 服务启动时，每个子系统都会加载该子系统运行所需的元数据。</span><span class="sxs-lookup"><span data-stu-id="a1961-210">When the BizTalk Service starts, each subsystem loads metadata that is necessary for the subsystems to operate.</span></span>  
  
 <span data-ttu-id="a1961-211">下图说明了此过程。</span><span class="sxs-lookup"><span data-stu-id="a1961-211">The following diagram illustrates this process.</span></span>  
  
 <span data-ttu-id="a1961-212">![](../core/media/architecture-bam-07.gif "architecture_bam_07")</span><span class="sxs-lookup"><span data-stu-id="a1961-212">![](../core/media/architecture-bam-07.gif "architecture_bam_07")</span></span>  
  
 <span data-ttu-id="a1961-213">以下步骤描述上图中所示的序列。</span><span class="sxs-lookup"><span data-stu-id="a1961-213">The following steps describe the sequence depicted in the illustration above.</span></span>  
  
1.  <span data-ttu-id="a1961-214">何时执行 BizTalk 引擎 （业务流程或消息传送），它调用规定数据从该引擎流入 BAM 的侦听器。</span><span class="sxs-lookup"><span data-stu-id="a1961-214">When the BizTalk Engine is executing (either orchestrations or messaging), it calls into interceptors which regulate the data flow from the engine into BAM.</span></span> <span data-ttu-id="a1961-215">在该引擎调用侦听器时，侦听器分析引擎所处的位置相对于业务流程或消息传送项目的执行顺序。</span><span class="sxs-lookup"><span data-stu-id="a1961-215">When the engine calls the interceptor, the interceptor analyzes where the engine is at in relation to the order of execution for the orchestration or messaging artifacts.</span></span> <span data-ttu-id="a1961-216">如果需要从当前正在执行引擎的位置检索的数据，则侦听器将收集相应的数据。</span><span class="sxs-lookup"><span data-stu-id="a1961-216">If there is data that needs to be retrieved from the location where the engine is currently executing, the interceptor gathers the appropriate data.</span></span> <span data-ttu-id="a1961-217">确定需要捕获数据和哪些数据需捕获的元数据位于跟踪配置文件。</span><span class="sxs-lookup"><span data-stu-id="a1961-217">The metadata that determines where the data needs to be captured and what data needs to be captured is housed in the Tracking Profile.</span></span> <span data-ttu-id="a1961-218">启动 BizTalk 服务，期间引擎的侦听器将与 BizTalk 管理数据库中提取适当的跟踪配置文件要执行的项目。</span><span class="sxs-lookup"><span data-stu-id="a1961-218">During booting of the BizTalk Service, the engine’s interceptors will contact the BizTalk Management database to pull the appropriate Tracking Profile for the artifacts being executed.</span></span>  
  
2.  <span data-ttu-id="a1961-219">事件总线服务的主要功能是将数据 blob （由 BizTalk 引擎写入） 转换为可用数据项，并将数据插入 BAM 主导入数据库。</span><span class="sxs-lookup"><span data-stu-id="a1961-219">The Event Bus Service's primary function is to convert data blobs (written by the BizTalk Engine) into usable data items and insert the data into the BAM Primary Import database.</span></span> <span data-ttu-id="a1961-220">消息传送侦听器将原始数据写入的压缩形式。</span><span class="sxs-lookup"><span data-stu-id="a1961-220">The messaging interceptor writes the raw data in a compressed form.</span></span> <span data-ttu-id="a1961-221">这样做是为了避免大型内存工作集。</span><span class="sxs-lookup"><span data-stu-id="a1961-221">This is done to avoid a large memory working set.</span></span> <span data-ttu-id="a1961-222">为了使事件总线服务将消息传送数据转换为可用数据项，则必须首先加载可解释原始数据的元数据。</span><span class="sxs-lookup"><span data-stu-id="a1961-222">In order for the Event Bus Service to convert messaging data into usable data items, it must first load metadata that can interpret the raw data.</span></span> <span data-ttu-id="a1961-223">此元数据被称为**批注**。</span><span class="sxs-lookup"><span data-stu-id="a1961-223">This metadata is known as **annotations**.</span></span> <span data-ttu-id="a1961-224">将批注元数据放置在此处通过跟踪配置文件编辑器或命令行跟踪配置文件部署工具。</span><span class="sxs-lookup"><span data-stu-id="a1961-224">The annotation metadata was put there via the Tracking Profile Editor or the command line Tracking Profile Deploy tool.</span></span> <span data-ttu-id="a1961-225">如果部署的解决方案不会检索与消息传递的数据将不会有任何批注。</span><span class="sxs-lookup"><span data-stu-id="a1961-225">If the solution deployed does not retrieve data from messaging there will not be any annotations.</span></span> <span data-ttu-id="a1961-226">业务流程侦听器编码事件总线服务进行正确解码而无需附加的批注的原始窗体中的信息不足。</span><span class="sxs-lookup"><span data-stu-id="a1961-226">Orchestration interceptors encode enough information in the raw form for the Event Bus Service to properly decode without having additional annotations.</span></span>  
  
### <a name="storing-data"></a><span data-ttu-id="a1961-227">将数据存储</span><span class="sxs-lookup"><span data-stu-id="a1961-227">Storing data</span></span>  
 <span data-ttu-id="a1961-228">本部分讨论如何从 BizTalk 服务捕获数据。</span><span class="sxs-lookup"><span data-stu-id="a1961-228">This section discusses how data is captured from the BizTalk Service.</span></span>  
  
 <span data-ttu-id="a1961-229">下图说明了此过程。</span><span class="sxs-lookup"><span data-stu-id="a1961-229">The following diagram illustrates this process.</span></span>  
  
 <span data-ttu-id="a1961-230">![](../core/media/architecture-bam-08.gif "architecture_bam_08")</span><span class="sxs-lookup"><span data-stu-id="a1961-230">![](../core/media/architecture-bam-08.gif "architecture_bam_08")</span></span>  
  
 <span data-ttu-id="a1961-231">以下步骤描述上图中所示的序列。</span><span class="sxs-lookup"><span data-stu-id="a1961-231">The following steps describe the sequence depicted in the illustration above.</span></span>  
  
1.  <span data-ttu-id="a1961-232">BizTalk 引擎，如前所述，已在运行时执行的业务流程和消息传送解决方案期间调用的侦听器。</span><span class="sxs-lookup"><span data-stu-id="a1961-232">The BizTalk engine, as described earlier, has interceptors that are called during runtime execution of orchestrations and messaging solutions.</span></span> <span data-ttu-id="a1961-233">根据跟踪配置文件信息，侦听器将确定要捕获并将其发送给 BizTalk MessageBox 以二进制形式的数据。</span><span class="sxs-lookup"><span data-stu-id="a1961-233">Based on the Tracking Profile information, the interceptors will determine what data to capture and then send it to the BizTalk MessageBox in a binary form.</span></span> <span data-ttu-id="a1961-234">没有用于保存序列化 blob 数据在运行时期间捕获的 TrackingData 表。</span><span class="sxs-lookup"><span data-stu-id="a1961-234">There is a TrackingData table which holds serialized blob data captured during runtime.</span></span> <span data-ttu-id="a1961-235">在处理期间，有些的时候需要时在执行期间在内存中存储它所持有的数据引擎。</span><span class="sxs-lookup"><span data-stu-id="a1961-235">During the processing, there are times when the engine needs to store data that it holds in memory during execution.</span></span> <span data-ttu-id="a1961-236">这些参数称为持久化点，而引擎将决定这些点何时发生。</span><span class="sxs-lookup"><span data-stu-id="a1961-236">These are known as persistence points, and the engine decides when these points occur.</span></span> <span data-ttu-id="a1961-237">当在发生持久化点时，从侦听器捕获的数据还刷新和持久保存在同一事务中。</span><span class="sxs-lookup"><span data-stu-id="a1961-237">When a persistence point happens, the data that was captured from the interceptors is also flushed and persisted within the same transaction.</span></span> <span data-ttu-id="a1961-238">这可确保引擎和最终 BAM 可以看到哪些内容中的数据的一致性。</span><span class="sxs-lookup"><span data-stu-id="a1961-238">This ensures the consistency of the data in the engine and ultimately what BAM can see.</span></span> <span data-ttu-id="a1961-239">如果发生故障并且事务回滚后，关联的 BAM 数据将也会回滚工作。</span><span class="sxs-lookup"><span data-stu-id="a1961-239">If a failure occurs and the transaction is rolled back, the associated BAM data will also be rolled back.</span></span>  
  
2.  <span data-ttu-id="a1961-240">事件总线服务位于相同的可执行进程引擎。</span><span class="sxs-lookup"><span data-stu-id="a1961-240">The Event Bus service is housed in the same executable process as the engine.</span></span> <span data-ttu-id="a1961-241">该服务从 BTS 引擎 （或任何 BufferedEventStream 数据源） 存储的 TrackingData 表中的数据源。</span><span class="sxs-lookup"><span data-stu-id="a1961-241">The service feeds off of data in the TrackingData table stored by the BTS Engine (or any BufferedEventStream data source).</span></span> <span data-ttu-id="a1961-242">该图将介绍程序集 – Microsoft.BizTalk.Bam.EventObservation。</span><span class="sxs-lookup"><span data-stu-id="a1961-242">The picture depicts an assembly – Microsoft.BizTalk.Bam.EventObservation.</span></span> <span data-ttu-id="a1961-243">此程序集不公开从 BufferedEventStream 检索数据的方法。</span><span class="sxs-lookup"><span data-stu-id="a1961-243">This assembly does not expose a method of retrieving the data from the BufferedEventStream.</span></span> <span data-ttu-id="a1961-244">此代码位于事件总线服务本身。</span><span class="sxs-lookup"><span data-stu-id="a1961-244">This code is housed in the Event Bus Service itself.</span></span> <span data-ttu-id="a1961-245">检索，然后准备将其存储在主导入数据库数据。</span><span class="sxs-lookup"><span data-stu-id="a1961-245">The data is retrieved and then prepared to be stored in the Primary Import database.</span></span> <span data-ttu-id="a1961-246">大多数情况下，二进制数据是序列化的.NET 对象解除其冻结之后该属性将移动从对象到带格式的 SQL 语句。</span><span class="sxs-lookup"><span data-stu-id="a1961-246">For the most part, the binary data are serialized .NET objects which are rehydrated after which properties are moved from the object to formatted SQL statements.</span></span>  
  
3.  <span data-ttu-id="a1961-247">存储数据时，事件总线服务尝试将大型批处理。</span><span class="sxs-lookup"><span data-stu-id="a1961-247">When storage of the data occurs, the Event Bus service attempts a large batch.</span></span> <span data-ttu-id="a1961-248">批处理包含对生成的 Bam 管理器部署工具的存储过程的调用。</span><span class="sxs-lookup"><span data-stu-id="a1961-248">The batch contains calls to stored procedures that were generated by the Bam Manager deployment tool.</span></span> <span data-ttu-id="a1961-249">由于大量的数据库活动或其他表锁定的情况下，批处理存储可能会失败。</span><span class="sxs-lookup"><span data-stu-id="a1961-249">Due to high database activity or other table locking circumstances, the batch storage could fail.</span></span> <span data-ttu-id="a1961-250">出现故障时，批处理，则尝试若干次。</span><span class="sxs-lookup"><span data-stu-id="a1961-250">In the event of a failure, the batch is tried a couple more times.</span></span> <span data-ttu-id="a1961-251">如果重试失败，批是拆分成较小的批，且重试。</span><span class="sxs-lookup"><span data-stu-id="a1961-251">If the retries fail, the batch is broken up into smaller batches and retried.</span></span> <span data-ttu-id="a1961-252">如果此操作失败，则该批将移至 FailedTracking 表中。</span><span class="sxs-lookup"><span data-stu-id="a1961-252">If this fails, the batch is moved to the FailedTracking table.</span></span>  
  
### <a name="custom-data-insertion"></a><span data-ttu-id="a1961-253">自定义数据插入操作</span><span class="sxs-lookup"><span data-stu-id="a1961-253">Custom data insertion</span></span>  
 <span data-ttu-id="a1961-254">上一节演示了如何 BAM 从 BizTalk Server 主机使用各种不同的方法检索数据的详细信息。</span><span class="sxs-lookup"><span data-stu-id="a1961-254">The previous section demonstrated the details of how BAM retrieves data from the BizTalk Server host using a variety of different methods.</span></span> <span data-ttu-id="a1961-255">间接使用跟踪配置文件编辑器创建一个配置文件，并更直接地使用事件 Stream 方法直接在代码中。</span><span class="sxs-lookup"><span data-stu-id="a1961-255">Indirectly using the Tracking Profile Editor to create a profile, and more directly using the Event Stream methods directly within code.</span></span> <span data-ttu-id="a1961-256">但是，并非所有与 BAM 相关的数据是在 BizTalk 中一定可用。</span><span class="sxs-lookup"><span data-stu-id="a1961-256">However, not all data relevant to BAM is necessarily available in BizTalk.</span></span> <span data-ttu-id="a1961-257">因此没有可用于自定义编写的应用程序的程序集。</span><span class="sxs-lookup"><span data-stu-id="a1961-257">Therefore there is an assembly available to custom written applications.</span></span>  
  
 <span data-ttu-id="a1961-258">下图说明了此过程。</span><span class="sxs-lookup"><span data-stu-id="a1961-258">The following diagram illustrates this process.</span></span>  
  
 <span data-ttu-id="a1961-259">![](../core/media/architecture-bam-09.gif "architecture_bam_09")</span><span class="sxs-lookup"><span data-stu-id="a1961-259">![](../core/media/architecture-bam-09.gif "architecture_bam_09")</span></span>  
  
 <span data-ttu-id="a1961-260">以下步骤描述上图中所示的序列。</span><span class="sxs-lookup"><span data-stu-id="a1961-260">The following steps describe the sequence depicted in the illustration above.</span></span>  
  
1.  <span data-ttu-id="a1961-261">自定义应用程序必须能够加载[Microsoft.BizTalk.Bam.EventObservation](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.aspx)程序集访问的数据插入 BAM 活动的 BAM 方法。</span><span class="sxs-lookup"><span data-stu-id="a1961-261">The custom application must be able to load the [Microsoft.BizTalk.Bam.EventObservation](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.aspx) assembly to access the BAM methods of inserting data into a BAM Activity.</span></span> <span data-ttu-id="a1961-262">有两个主要类公开，DirectEventStream 和 BufferedEventStream。</span><span class="sxs-lookup"><span data-stu-id="a1961-262">There are two primary classes that are exposed, DirectEventStream and BufferedEventStream.</span></span> <span data-ttu-id="a1961-263">上图中突出显示 DirectEventStream 类。</span><span class="sxs-lookup"><span data-stu-id="a1961-263">In the illustration above, the DirectEventStream class is highlighted.</span></span> <span data-ttu-id="a1961-264">此类将直接写入主导入数据库。</span><span class="sxs-lookup"><span data-stu-id="a1961-264">This class writes directly to the Primary Import database.</span></span> <span data-ttu-id="a1961-265">这是数据写入 BAM 活动的最常见方法。</span><span class="sxs-lookup"><span data-stu-id="a1961-265">This is the most common method of writing data into a BAM activity.</span></span>  
  
2.  <span data-ttu-id="a1961-266">与 BizTalk 用于存储数据的方法相似，BufferedEventStream 类将二进制 blob 写入间接数据库。</span><span class="sxs-lookup"><span data-stu-id="a1961-266">Similar to the method in which BizTalk stores data, the BufferedEventStream class writes binary blobs into an indirect database.</span></span> <span data-ttu-id="a1961-267">在这种情况下，BizTalk MessageBox 用作中间存储。</span><span class="sxs-lookup"><span data-stu-id="a1961-267">In this case, the BizTalk MessageBox is used as the intermediate store.</span></span> <span data-ttu-id="a1961-268">你选择哪个类取决于几件事情;但是性能是主要考虑因素。</span><span class="sxs-lookup"><span data-stu-id="a1961-268">Which class you choose depends on several things; however performance is a primary concern.</span></span> <span data-ttu-id="a1961-269">BufferedEventStream 类将数据进行批处理并保持更高的吞吐量。</span><span class="sxs-lookup"><span data-stu-id="a1961-269">The BufferedEventStream class will batch data and sustain higher throughput.</span></span> <span data-ttu-id="a1961-270">缺点是不能直接写入数据。</span><span class="sxs-lookup"><span data-stu-id="a1961-270">The drawback is that the data is not written immediately.</span></span>  
  
3.  <span data-ttu-id="a1961-271">与 BizTalk 方法一样插入数据的事件总线服务将处理的二进制数据、 解码，并最终将其存储在 BAM 主导入数据库中。</span><span class="sxs-lookup"><span data-stu-id="a1961-271">As with the BizTalk method of inserting data, the Event Bus Service will process the binary data, decode it, and ultimately store it within the BAM Primary Import database.</span></span> <span data-ttu-id="a1961-272">这只是数据通过 BufferedEventStream 类写入所必需的。</span><span class="sxs-lookup"><span data-stu-id="a1961-272">This is only required for data written via the BufferedEventStream class.</span></span>  
  
## <a name="distributed-navigation"></a><span data-ttu-id="a1961-273">分布式的导航</span><span class="sxs-lookup"><span data-stu-id="a1961-273">Distributed Navigation</span></span>  
 <span data-ttu-id="a1961-274">BAM 门户分布式的导航功能允许用户跨远程边界查看活动关系。</span><span class="sxs-lookup"><span data-stu-id="a1961-274">The BAM portal distributed navigation feature allows users to see activity relationships across remote boundaries.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a1961-275">请参阅</span><span class="sxs-lookup"><span data-stu-id="a1961-275">See Also</span></span>  
 [<span data-ttu-id="a1961-276">管理和跟踪体系结构</span><span class="sxs-lookup"><span data-stu-id="a1961-276">Management and Tracking Architecture</span></span>](../core/management-and-tracking-architecture.md)