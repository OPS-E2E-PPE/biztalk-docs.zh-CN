---
title: 将业务流程管理解决方案的模式转换 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- artifacts, patterns
- patterns [process management solutions], orchestration boundaries
- patterns [process management solutions], translating patterns to artifacts
- orchestrations, patterns
- orchestrations, boundaries
ms.assetid: 69f37732-f235-4bbb-bc85-31b4971c95ce
caps.latest.revision: 21
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 31e9c850e7e73d95decc7eb610a575d8fd2135aa
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65243514"
---
# <a name="translating-the-patterns-of-the-business-process-management-solution"></a><span data-ttu-id="13884-102">转换业务流程管理解决方案的模式</span><span class="sxs-lookup"><span data-stu-id="13884-102">Translating the Patterns of the Business Process Management Solution</span></span>
<span data-ttu-id="13884-103">本部分介绍如何在解决方案模式关系图将转换为 BizTalk Server 项目。</span><span class="sxs-lookup"><span data-stu-id="13884-103">This section describes how the solution translates the pattern diagram into BizTalk Server artifacts.</span></span>  
  
 <span data-ttu-id="13884-104">![业务流程管理解决方案模式](../core/media/bts-cp-business-process-management-patterns.gif "bts_cp_Business_Process_Management_Patterns")</span><span class="sxs-lookup"><span data-stu-id="13884-104">![Business Process Management Solution Patterns](../core/media/bts-cp-business-process-management-patterns.gif "bts_cp_Business_Process_Management_Patterns")</span></span>  
  
## <a name="connections"></a><span data-ttu-id="13884-105">连接</span><span class="sxs-lookup"><span data-stu-id="13884-105">Connections</span></span>  
 <span data-ttu-id="13884-106">连接是解决方案组件之间的消息路径。</span><span class="sxs-lookup"><span data-stu-id="13884-106">The connections are the message paths among the solution components.</span></span> <span data-ttu-id="13884-107">开始的最简单位置是服务接口。</span><span class="sxs-lookup"><span data-stu-id="13884-107">The simplest place to begin is with the service interface.</span></span> <span data-ttu-id="13884-108">BizTalk Server，可以轻松地将业务流程作为 Web 服务。</span><span class="sxs-lookup"><span data-stu-id="13884-108">BizTalk Server makes it easy to present an orchestration as a Web service.</span></span> <span data-ttu-id="13884-109">有关将业务流程作为 web 服务公开的信息，请参阅[如何映射到 Web 服务的业务流程](../core/how-to-map-orchestrations-to-web-services.md)。</span><span class="sxs-lookup"><span data-stu-id="13884-109">For information about exposing orchestrations as web services, see [How to Map Orchestrations to Web Services](../core/how-to-map-orchestrations-to-web-services.md).</span></span>  
  
 <span data-ttu-id="13884-110">服务与预处理部分之间、 预处理部分与流程管理器之间和进程管理器和处理阶段之间存在其他连接。</span><span class="sxs-lookup"><span data-stu-id="13884-110">Other connections exist between the service and the preprocessing section, between the preprocessing section and the process manager, and between the process manager and the processing stages.</span></span> <span data-ttu-id="13884-111">连接还包括各阶段与后端系统之间和预处理和历史记录数据库和服务的系统之间。</span><span class="sxs-lookup"><span data-stu-id="13884-111">Connections also include those between the stages and the backend systems, and between the preprocessing and the history database and the servicing system.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="13884-112">转换器与 BizTalk 映射相对应。</span><span class="sxs-lookup"><span data-stu-id="13884-112">Translators correspond to BizTalk maps.</span></span> <span data-ttu-id="13884-113">映射是反过来，管道的部分或**转换**业务流程形状。</span><span class="sxs-lookup"><span data-stu-id="13884-113">Maps are, in turn, parts of pipelines or **Transform** orchestration shapes.</span></span>  
  
 <span data-ttu-id="13884-114">建立到流程管理器的连接，同步或异步的决定需要考虑一些问题。</span><span class="sxs-lookup"><span data-stu-id="13884-114">The decision to make the connection to the process manager synchronous or asynchronous requires some thought.</span></span> <span data-ttu-id="13884-115">与信用检查，如在线服务订购过程中的订单不太可能迅速完成。</span><span class="sxs-lookup"><span data-stu-id="13884-115">Unlike a credit check, an order in a process such as cable service ordering is unlikely to finish quickly.</span></span> <span data-ttu-id="13884-116">如果与流程管理器的连接是异步的并且需要与其相关的管理流程的逻辑更复杂。</span><span class="sxs-lookup"><span data-stu-id="13884-116">The logic of managing the process is more complex if the connection to the process manager is asynchronous and requires correlation.</span></span> <span data-ttu-id="13884-117">实际上，此解决方案使用与流程管理器通过将消息发布到 MessageBox 的异步连接。</span><span class="sxs-lookup"><span data-stu-id="13884-117">This solution uses, in effect, an asynchronous connection to the process manager by publishing messages to the MessageBox.</span></span>  
  
 <span data-ttu-id="13884-118">进程管理器和阶段之间的连接表示节省服务器资源与简化逻辑之间的相似权衡。</span><span class="sxs-lookup"><span data-stu-id="13884-118">The connections between the process manager and the stages represent a similar trade-off between conserving server resources and simplifying logic.</span></span> <span data-ttu-id="13884-119">阶段具有较短的处理时间比流程管理器。</span><span class="sxs-lookup"><span data-stu-id="13884-119">The stages have shorter processing times than the process manager.</span></span> <span data-ttu-id="13884-120">每个阶段需要完成其处理，然后继续下一阶段中进行处理。</span><span class="sxs-lookup"><span data-stu-id="13884-120">Each stage needs to finish its processing before the processing continues in the next stage.</span></span> <span data-ttu-id="13884-121">但是，因为我们可能想要修改这些阶段，进程管理器不能是紧密耦合到各个阶段。</span><span class="sxs-lookup"><span data-stu-id="13884-121">However, because we may want to modify the stages, the process manager can't be tightly coupled to the stages.</span></span> <span data-ttu-id="13884-122">在应用程序，如有限发布-订阅模型，可以描述的连接。</span><span class="sxs-lookup"><span data-stu-id="13884-122">In the application, the connection can be described as a limited publish-subscribe model.</span></span> <span data-ttu-id="13884-123">进程管理器将消息发送到通过单个、 专用端口的阶段。</span><span class="sxs-lookup"><span data-stu-id="13884-123">The process manager sends messages to the stages through a single, dedicated port.</span></span> <span data-ttu-id="13884-124">阶段，又会进行筛选以识别其专用的消息。</span><span class="sxs-lookup"><span data-stu-id="13884-124">The stages, in turn, filter to recognize messages specifically for them.</span></span>  
  
## <a name="determining-orchestration-boundaries"></a><span data-ttu-id="13884-125">确定业务流程边界</span><span class="sxs-lookup"><span data-stu-id="13884-125">Determining Orchestration Boundaries</span></span>  
 <span data-ttu-id="13884-126">模式可分为三个主要区域： 预处理消息、 管理业务流程和业务流程本身。</span><span class="sxs-lookup"><span data-stu-id="13884-126">The pattern falls into three major areas: preprocessing the messages, managing the business process, and the business process itself.</span></span> <span data-ttu-id="13884-127">预处理包含处理与 web 服务的连接、 将消息转换为的响应消息，通知服务系统、 历史记录数据库中写入项和消息传输到流程管理器。</span><span class="sxs-lookup"><span data-stu-id="13884-127">The pre-processing consists of handling the connection to the web service, translating messages to messages for the response, notifying the servicing system, making entries in the history database, and transmitting messages to the process manager.</span></span> <span data-ttu-id="13884-128">在应用程序，由单个业务流程处理预处理。</span><span class="sxs-lookup"><span data-stu-id="13884-128">In the application, the preprocessing is handled by a single orchestration.</span></span> <span data-ttu-id="13884-129">管理业务流程由另一个业务流程处理。</span><span class="sxs-lookup"><span data-stu-id="13884-129">Managing the business process is handled by another orchestration.</span></span> <span data-ttu-id="13884-130">管理业务流程将划分成适当阶段。</span><span class="sxs-lookup"><span data-stu-id="13884-130">The business process being managed is broken into appropriate stages.</span></span> <span data-ttu-id="13884-131">每个阶段对应于业务流程以允许进行添加和删除以表示订单流程中的更改。</span><span class="sxs-lookup"><span data-stu-id="13884-131">Each stage corresponds to an orchestration to allow for additions and deletions representing changes in the order process.</span></span> <span data-ttu-id="13884-132">订单处理阶段设计的详细信息，请参阅"划分业务流程"中[业务流程管理解决方案中的某些设计原则](../core/some-design-principles-in-the-business-process-management-solution.md)。</span><span class="sxs-lookup"><span data-stu-id="13884-132">For more information about the design of the order process stages, see "Dividing Business Processes" in [Some Design Principles in the Business Process Management Solution](../core/some-design-principles-in-the-business-process-management-solution.md).</span></span>  
  
## <a name="translating-the-components-into-orchestrations"></a><span data-ttu-id="13884-133">将组件转换为业务流程</span><span class="sxs-lookup"><span data-stu-id="13884-133">Translating the Components into Orchestrations</span></span>  
 <span data-ttu-id="13884-134">第一个业务流程**OrderBroker**，简单直接地转换关系图。</span><span class="sxs-lookup"><span data-stu-id="13884-134">The first orchestration, **OrderBroker**, translates the diagram simply and directly.</span></span> <span data-ttu-id="13884-135">该业务流程将主要用于为流程管理器构造通知消息和订单消息的映射形状。</span><span class="sxs-lookup"><span data-stu-id="13884-135">The orchestration is primarily mapping shapes used to construct the notification messages and the order message for the process manager.</span></span> <span data-ttu-id="13884-136">业务流程形状的完整列表，请参阅[业务流程形状](../core/orchestration-shapes.md)。</span><span class="sxs-lookup"><span data-stu-id="13884-136">For a complete list of orchestration shapes, see [Orchestration Shapes](../core/orchestration-shapes.md).</span></span>  
  
 <span data-ttu-id="13884-137">进程管理器和其附属程序集的逻辑是有些复杂。</span><span class="sxs-lookup"><span data-stu-id="13884-137">The logic of the process manager and its satellite assemblies is somewhat complex.</span></span> <span data-ttu-id="13884-138">有关逻辑的进程管理器业务流程**OrderManager**，请参阅[进程管理器逻辑](../core/process-manager-logic.md)。</span><span class="sxs-lookup"><span data-stu-id="13884-138">For information about the logic of the process manager orchestration, **OrderManager**, see [Process Manager Logic](../core/process-manager-logic.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="13884-139">请参阅</span><span class="sxs-lookup"><span data-stu-id="13884-139">See Also</span></span>  
 <span data-ttu-id="13884-140">[业务流程管理解决方案中的模式](../core/patterns-in-the-business-process-management-solution.md) </span><span class="sxs-lookup"><span data-stu-id="13884-140">[Patterns in the Business Process Management Solution](../core/patterns-in-the-business-process-management-solution.md) </span></span>  
 <span data-ttu-id="13884-141">[使用模式进行设计： 业务流程管理解决方案](../core/designing-with-patterns-the-business-process-management-solution.md) </span><span class="sxs-lookup"><span data-stu-id="13884-141">[Designing with Patterns: the Business Process Management Solution](../core/designing-with-patterns-the-business-process-management-solution.md) </span></span>  
 [<span data-ttu-id="13884-142">业务流程管理解决方案中的模式目录</span><span class="sxs-lookup"><span data-stu-id="13884-142">Pattern Catalog for the Business Process Management Solution</span></span>](../core/pattern-catalog-for-the-business-process-management-solution.md)