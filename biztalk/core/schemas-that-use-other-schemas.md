---
title: 使用其他架构的架构 |Microsoft 文档
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 02954d46-48ce-4cdf-a012-74c212ce8b6d
caps.latest.revision: 6
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 563260031e545b5223697d49992c1ae85bae3891
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
ms.locfileid: "22271597"
---
# <a name="schemas-that-use-other-schemas"></a><span data-ttu-id="e5568-102">使用其他架构的架构</span><span class="sxs-lookup"><span data-stu-id="e5568-102">Schemas That Use Other Schemas</span></span>

## <a name="overview"></a><span data-ttu-id="e5568-103">概述</span><span class="sxs-lookup"><span data-stu-id="e5568-103">Overview</span></span>
<span data-ttu-id="e5568-104">你的架构变得大而复杂，或表示你不同类型的实例消息的架构的共同点某些部分时，它可用于将较小的架构合并到最终定义结构的实例的架构你打算与贸易合作伙伴交换的消息。</span><span class="sxs-lookup"><span data-stu-id="e5568-104">When your schemas become large and complex, or when the schemas that represent your different types of instance messages have some portions in common, it can be useful to combine smaller schemas into the schemas that ultimately define the structure of the instance messages you plan to exchange with trading partners.</span></span> <span data-ttu-id="e5568-105">例如，您可能需要在其中表示一个邮寄地址的多个消息类型。</span><span class="sxs-lookup"><span data-stu-id="e5568-105">For example, you might have multiple message types that require a shipping address to be expressed within them.</span></span> <span data-ttu-id="e5568-106">你可以在单个架构中定义的一个邮寄地址的结构，然后使用该架构中定义，例如，顺序、 Invoice 和传送的通知消息架构的其他架构。</span><span class="sxs-lookup"><span data-stu-id="e5568-106">You can define the structure of a shipping address in a single schema, and then use that schema within other schemas that define, for example, Order, Invoice, and Shipping Notice message schemas.</span></span>  

## <a name="import-include-and-redefine"></a><span data-ttu-id="e5568-107">导入，包括，并且重新定义</span><span class="sxs-lookup"><span data-stu-id="e5568-107">Import, include, and redefine</span></span>  
 <span data-ttu-id="e5568-108">XML 架构定义 (XSD) 语言提供结合使用多个架构的三个相关的机制 BizTalk 编辑器支持。</span><span class="sxs-lookup"><span data-stu-id="e5568-108">XML Schema definition (XSD) language provides three related mechanisms for using multiple schemas together that BizTalk Editor supports.</span></span> <span data-ttu-id="e5568-109">下表总结了这些机制的特征定义 xsd。</span><span class="sxs-lookup"><span data-stu-id="e5568-109">The following table summarizes the characteristics of these mechanisms, as defined by XSD.</span></span>  
  
|<span data-ttu-id="e5568-110">Multischema 机制</span><span class="sxs-lookup"><span data-stu-id="e5568-110">Multischema mechanism</span></span>|<span data-ttu-id="e5568-111">使用方案</span><span class="sxs-lookup"><span data-stu-id="e5568-111">Usage scenario</span></span>|  
|---------------------------|--------------------|  
|<span data-ttu-id="e5568-112">导入</span><span class="sxs-lookup"><span data-stu-id="e5568-112">Import</span></span>|<span data-ttu-id="e5568-113">的访问，并使用在导入的架构中定义的类型。</span><span class="sxs-lookup"><span data-stu-id="e5568-113">-   Accesses and uses types defined in the imported schema.</span></span><br /><span data-ttu-id="e5568-114">-必须在导入的架构，使用类型或它们; 从其派生新类型不允许的类型修改。</span><span class="sxs-lookup"><span data-stu-id="e5568-114">-   Must use types in the imported schema as is, or derive new types from them; no type modification allowed.</span></span><br /><span data-ttu-id="e5568-115">-提供有关使用其他命名空间中定义的类型的机制。</span><span class="sxs-lookup"><span data-stu-id="e5568-115">-   Provides a mechanism for using types defined in other namespaces.</span></span> <span data-ttu-id="e5568-116">事实上，导入的架构必须具有不同于导入架构的目标命名空间。</span><span class="sxs-lookup"><span data-stu-id="e5568-116">Indeed, an imported schema must have a target namespace that is different from the importing schema.</span></span><br /><span data-ttu-id="e5568-117">-使用**导入**元素并将其**命名空间**和**schemaLocation**属性来引用的其他架构。</span><span class="sxs-lookup"><span data-stu-id="e5568-117">-   Uses the **import** element and its **namespace** and **schemaLocation** attributes to reference the other schema.</span></span>|  
|<span data-ttu-id="e5568-118">包括</span><span class="sxs-lookup"><span data-stu-id="e5568-118">Include</span></span>|<span data-ttu-id="e5568-119">-访问和使用包含的架构中定义的类型。</span><span class="sxs-lookup"><span data-stu-id="e5568-119">-   Accesses and uses types defined in the included schema.</span></span><br /><span data-ttu-id="e5568-120">-必须在包含的架构，使用类型或它们; 从其派生新类型不允许的类型修改。</span><span class="sxs-lookup"><span data-stu-id="e5568-120">-   Must use types in the included schema as is, or derive new types from them; no type modification allowed.</span></span><br /><span data-ttu-id="e5568-121">-包含的架构必须包括的架构中，相同的目标命名空间中或包含架构的目标命名空间必须为空。</span><span class="sxs-lookup"><span data-stu-id="e5568-121">-   The included schema must be in the same target namespace as the including schema, or the target namespace of the included schema must be empty.</span></span><br /><span data-ttu-id="e5568-122">-使用**包括**元素并将其**schemaLocation**属性来引用的其他架构。</span><span class="sxs-lookup"><span data-stu-id="e5568-122">-   Uses the **include** element and its **schemaLocation** attribute to reference the other schema.</span></span>|  
|<span data-ttu-id="e5568-123">重新定义</span><span class="sxs-lookup"><span data-stu-id="e5568-123">Redefine</span></span>|<span data-ttu-id="e5568-124">的访问，并使用重新定义架构中定义的类型。</span><span class="sxs-lookup"><span data-stu-id="e5568-124">-   Accesses and uses types defined in the redefined schema.</span></span><br /><span data-ttu-id="e5568-125">-可以重新定义架构中的使用类型按原样，新类型派生，或指定对其进行修改。</span><span class="sxs-lookup"><span data-stu-id="e5568-125">-   Can use types in the redefined schema as is, derive new types from them, or specify modifications to them.</span></span><br /><span data-ttu-id="e5568-126">-重新定义的架构必须重新定义的架构相同的目标命名空间中，或重新定义架构的目标命名空间必须为空。</span><span class="sxs-lookup"><span data-stu-id="e5568-126">-   The redefined schema must be in the same target namespace as the redefining schema, or the target namespace of the redefined schema must be empty.</span></span><br /><span data-ttu-id="e5568-127">-使用**重新定义**元素并将其**schemaLocation**属性来引用的其他架构。</span><span class="sxs-lookup"><span data-stu-id="e5568-127">-   Uses the **redefine** element and its **schemaLocation** attribute to reference the other schema.</span></span> <span data-ttu-id="e5568-128">使用指定了任何类型重新定义**重新定义**元素。</span><span class="sxs-lookup"><span data-stu-id="e5568-128">Any type redefinitions are specified with the **redefine** element.</span></span> <span data-ttu-id="e5568-129">**注意：** 使用重新定义机制是一个高级的 XSD 概念，并且仅用于后必须足够了解如何以及何时应使用。</span><span class="sxs-lookup"><span data-stu-id="e5568-129">**Note:**      Using the redefine mechanism is an advanced XSD concept and should only be used after you have sufficient understanding of how and when it should be used.</span></span>|  
  
> [!NOTE]
>  <span data-ttu-id="e5568-130">有关的差异和相似性之间导入的完整信息，包括，和重新定义机制，请参阅中列出的引用[在 Web 上找到的 XSD 资源](../core/xsd-resources-on-the-web.md)。</span><span class="sxs-lookup"><span data-stu-id="e5568-130">For complete information about the differences and similarities between the import, include, and redefine mechanisms, see the references listed in [XSD Resources on the Web](../core/xsd-resources-on-the-web.md).</span></span>  

## <a name="important-details"></a><span data-ttu-id="e5568-131">重要详细信息</span><span class="sxs-lookup"><span data-stu-id="e5568-131">Important details</span></span>  
 <span data-ttu-id="e5568-132">若要使用另一个架构 (Schema2) 内的一个架构 (Schema1) 中定义的类型，必须提供对中 Schema2 Schema1 的引用。</span><span class="sxs-lookup"><span data-stu-id="e5568-132">To use a type defined in one schema (Schema1) within another schema (Schema2), you must provide a reference to Schema1 within Schema2.</span></span> <span data-ttu-id="e5568-133">为此，请使用**导入**属性**架构**Schema2 中的节点。</span><span class="sxs-lookup"><span data-stu-id="e5568-133">To do so, use the **Imports** property of the **Schema** node in Schema2.</span></span> <span data-ttu-id="e5568-134">当您单击省略号 (**...**) 按钮**导入**属性字段**导入**对话框随即打开。</span><span class="sxs-lookup"><span data-stu-id="e5568-134">When you click the ellipsis (**...**) button in the **Imports** property field, the **Imports** dialog box opens.</span></span> <span data-ttu-id="e5568-135">在**导入的新架构**下拉列表中，选择**XSD 导入**， **XSD 包括**，或**重新定义 XSD**。</span><span class="sxs-lookup"><span data-stu-id="e5568-135">In the **Import New Schema as** drop-down list, select **XSD Import**, **XSD Include**, or **XSD Redefine**.</span></span> <span data-ttu-id="e5568-136">然后单击**添加**以打开**BizTalk 类型选取器**对话框并浏览您的 BizTalk 项目选择中**Schema1**。</span><span class="sxs-lookup"><span data-stu-id="e5568-136">Then click **Add** to open the **BizTalk Type Picker** dialog box and browse within your BizTalk project to select **Schema1**.</span></span>  
  
 <span data-ttu-id="e5568-137">有关这些步骤的详细说明，请参阅[创建架构，使用其他架构](../core/how-to-create-schemas-that-use-other-schemas.md)。</span><span class="sxs-lookup"><span data-stu-id="e5568-137">For detailed instructions about these steps, see [Creating Schemas That Use Other Schemas](../core/how-to-create-schemas-that-use-other-schemas.md).</span></span>  
  
 <span data-ttu-id="e5568-138">当你使用**导入**对话框中，若要导入，包括，或重新定义另一个架构、 一个或多个 XSD 元素**导入**，**包括**，和**重新定义**添加到你的架构，包括适当的属性和属性值的 XSD 表示。</span><span class="sxs-lookup"><span data-stu-id="e5568-138">When you use the **Imports** dialog box to import, include, or redefine another schema, one or more of the XSD elements **import**, **include**, and **redefine** is added to the XSD representation of your schema, including the appropriate attributes and attribute values.</span></span> <span data-ttu-id="e5568-139">此外，对于**导入**元素，前缀声明命名空间的其他架构添加到**架构**元素。</span><span class="sxs-lookup"><span data-stu-id="e5568-139">Further, in the case of the **import** element, a prefix declaration for the namespace of the other schema is added to the **schema** element.</span></span>  
  
 <span data-ttu-id="e5568-140">所有全局类型 (如**Complextype**， **SimpleTypes**，元素组、 特性组) 导入/包含/重新定义架构中将自动可供中的架构中使用导入以前的架构，将其包含，或重新定义。</span><span class="sxs-lookup"><span data-stu-id="e5568-140">All global types (such as **ComplexTypes**, **SimpleTypes**, element groups, attribute groups) in an imported/included/redefined schema are automatically available for use within the schema in which the former schema is imported, included, or redefined.</span></span> <span data-ttu-id="e5568-141">例如，全局**Complextype**导入/包含/重新定义架构中定义添加到下拉列表的**数据结构类型**的所有属性**记录**导入，包括，或重新定义架构中的节点。</span><span class="sxs-lookup"><span data-stu-id="e5568-141">For example, global **ComplexTypes** defined in an imported/included/redefined schema are added to the drop-down list of the **Data Structure Type** property for all of the **Record** nodes in the importing, including, or redefining schema.</span></span> <span data-ttu-id="e5568-142">此属性的详细信息[!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)]。</span><span class="sxs-lookup"><span data-stu-id="e5568-142">More details on this property [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].</span></span>
  
## <a name="see-also"></a><span data-ttu-id="e5568-143">另请参阅</span><span class="sxs-lookup"><span data-stu-id="e5568-143">See Also</span></span>  
 <span data-ttu-id="e5568-144">[有关架构](../core/about-schemas.md) </span><span class="sxs-lookup"><span data-stu-id="e5568-144">[About Schemas](../core/about-schemas.md) </span></span>  
 <span data-ttu-id="e5568-145">[创建使用其他架构的架构](../core/how-to-create-schemas-that-use-other-schemas.md) </span><span class="sxs-lookup"><span data-stu-id="e5568-145">[Create Schemas That Use Other Schemas](../core/how-to-create-schemas-that-use-other-schemas.md) </span></span>  
 [<span data-ttu-id="e5568-146">创建到另一个节点或类型的引用</span><span class="sxs-lookup"><span data-stu-id="e5568-146">Create References to Another Node or Type</span></span>](../core/how-to-create-references-to-another-node-or-type.md)