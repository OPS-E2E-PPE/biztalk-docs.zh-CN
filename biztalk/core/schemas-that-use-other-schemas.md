---
title: 使用其他架构的架构 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 02954d46-48ce-4cdf-a012-74c212ce8b6d
caps.latest.revision: 6
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 53256b7367e3dd6c6fe5c887d5d312f03db56008
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65395566"
---
# <a name="schemas-that-use-other-schemas"></a><span data-ttu-id="1348d-102">使用其他架构的架构</span><span class="sxs-lookup"><span data-stu-id="1348d-102">Schemas That Use Other Schemas</span></span>

## <a name="overview"></a><span data-ttu-id="1348d-103">概述</span><span class="sxs-lookup"><span data-stu-id="1348d-103">Overview</span></span>
<span data-ttu-id="1348d-104">当架构变得大而复杂，或者当表示不同类型的实例消息的架构具有某些部分共同点，它可用于将较小的架构合并到最终定义的实例的结构的架构你打算与贸易合作伙伴交换消息。</span><span class="sxs-lookup"><span data-stu-id="1348d-104">When your schemas become large and complex, or when the schemas that represent your different types of instance messages have some portions in common, it can be useful to combine smaller schemas into the schemas that ultimately define the structure of the instance messages you plan to exchange with trading partners.</span></span> <span data-ttu-id="1348d-105">例如，你可能需要寄送地址，表示为其中的多个消息类型。</span><span class="sxs-lookup"><span data-stu-id="1348d-105">For example, you might have multiple message types that require a shipping address to be expressed within them.</span></span> <span data-ttu-id="1348d-106">您可以在单个架构中定义发货地址的结构，然后使用该架构中定义，例如，订单、 发票和发运通知消息架构的其他架构。</span><span class="sxs-lookup"><span data-stu-id="1348d-106">You can define the structure of a shipping address in a single schema, and then use that schema within other schemas that define, for example, Order, Invoice, and Shipping Notice message schemas.</span></span>  

## <a name="import-include-and-redefine"></a><span data-ttu-id="1348d-107">导入、 包括和重新定义</span><span class="sxs-lookup"><span data-stu-id="1348d-107">Import, include, and redefine</span></span>  
 <span data-ttu-id="1348d-108">XML 架构定义 (XSD) 语言提供了三种相关的机制来将多个架构一起使用 BizTalk 编辑器支持。</span><span class="sxs-lookup"><span data-stu-id="1348d-108">XML Schema definition (XSD) language provides three related mechanisms for using multiple schemas together that BizTalk Editor supports.</span></span> <span data-ttu-id="1348d-109">下表总结了一种机制，特征，如由 XSD 定义。</span><span class="sxs-lookup"><span data-stu-id="1348d-109">The following table summarizes the characteristics of these mechanisms, as defined by XSD.</span></span>  
  
|<span data-ttu-id="1348d-110">多架构机制</span><span class="sxs-lookup"><span data-stu-id="1348d-110">Multischema mechanism</span></span>|<span data-ttu-id="1348d-111">使用方案</span><span class="sxs-lookup"><span data-stu-id="1348d-111">Usage scenario</span></span>|  
|---------------------------|--------------------|  
|<span data-ttu-id="1348d-112">导入</span><span class="sxs-lookup"><span data-stu-id="1348d-112">Import</span></span>|<span data-ttu-id="1348d-113">-访问和使用导入的架构中定义的类型。</span><span class="sxs-lookup"><span data-stu-id="1348d-113">-   Accesses and uses types defined in the imported schema.</span></span><br /><span data-ttu-id="1348d-114">-必须在导入的架构，使用类型或派生新类型;不允许的类型修改。</span><span class="sxs-lookup"><span data-stu-id="1348d-114">-   Must use types in the imported schema as is, or derive new types from them; no type modification allowed.</span></span><br /><span data-ttu-id="1348d-115">-提供用于使用其他命名空间中定义的类型的机制。</span><span class="sxs-lookup"><span data-stu-id="1348d-115">-   Provides a mechanism for using types defined in other namespaces.</span></span> <span data-ttu-id="1348d-116">实际上，导入的架构必须具有不同于导入架构的目标命名空间。</span><span class="sxs-lookup"><span data-stu-id="1348d-116">Indeed, an imported schema must have a target namespace that is different from the importing schema.</span></span><br /><span data-ttu-id="1348d-117">-使用**导入**元素并将其**命名空间**并**schemaLocation**属性以引用其他架构。</span><span class="sxs-lookup"><span data-stu-id="1348d-117">-   Uses the **import** element and its **namespace** and **schemaLocation** attributes to reference the other schema.</span></span>|  
|<span data-ttu-id="1348d-118">包括</span><span class="sxs-lookup"><span data-stu-id="1348d-118">Include</span></span>|<span data-ttu-id="1348d-119">-访问和使用包含的架构中定义的类型。</span><span class="sxs-lookup"><span data-stu-id="1348d-119">-   Accesses and uses types defined in the included schema.</span></span><br /><span data-ttu-id="1348d-120">-必须使用类型中包含的架构，或从它们; 派生新类型不允许的类型修改。</span><span class="sxs-lookup"><span data-stu-id="1348d-120">-   Must use types in the included schema as is, or derive new types from them; no type modification allowed.</span></span><br /><span data-ttu-id="1348d-121">-包含的架构必须是包含架构相同的目标命名空间中或包含的架构的目标命名空间必须为空。</span><span class="sxs-lookup"><span data-stu-id="1348d-121">-   The included schema must be in the same target namespace as the including schema, or the target namespace of the included schema must be empty.</span></span><br /><span data-ttu-id="1348d-122">-使用**包括**元素并将其**schemaLocation**属性来引用其他架构。</span><span class="sxs-lookup"><span data-stu-id="1348d-122">-   Uses the **include** element and its **schemaLocation** attribute to reference the other schema.</span></span>|  
|<span data-ttu-id="1348d-123">重新定义</span><span class="sxs-lookup"><span data-stu-id="1348d-123">Redefine</span></span>|<span data-ttu-id="1348d-124">-访问，并使用重新定义的架构中定义的类型。</span><span class="sxs-lookup"><span data-stu-id="1348d-124">-   Accesses and uses types defined in the redefined schema.</span></span><br /><span data-ttu-id="1348d-125">-可以重新定义的架构中的使用类型，以及从中派生新类型或指定对其进行修改。</span><span class="sxs-lookup"><span data-stu-id="1348d-125">-   Can use types in the redefined schema as is, derive new types from them, or specify modifications to them.</span></span><br /><span data-ttu-id="1348d-126">-重新定义的架构必须在重新定义的架构相同的目标命名空间或重新定义的架构的目标命名空间必须为空。</span><span class="sxs-lookup"><span data-stu-id="1348d-126">-   The redefined schema must be in the same target namespace as the redefining schema, or the target namespace of the redefined schema must be empty.</span></span><br /><span data-ttu-id="1348d-127">-使用**重新定义**元素并将其**schemaLocation**属性来引用其他架构。</span><span class="sxs-lookup"><span data-stu-id="1348d-127">-   Uses the **redefine** element and its **schemaLocation** attribute to reference the other schema.</span></span> <span data-ttu-id="1348d-128">用指定的任何类型重新定义**重新定义**元素。</span><span class="sxs-lookup"><span data-stu-id="1348d-128">Any type redefinitions are specified with the **redefine** element.</span></span> <span data-ttu-id="1348d-129">**注意：**     使用 redefine 机制是一种高级的 XSD 概念和仅用于已充分了解如何以及何时应使用它。</span><span class="sxs-lookup"><span data-stu-id="1348d-129">**Note:**      Using the redefine mechanism is an advanced XSD concept and should only be used after you have sufficient understanding of how and when it should be used.</span></span>|  
  
> [!NOTE]
>  <span data-ttu-id="1348d-130">有关差异和相似之处之间导入的完整信息，包括，和 redefine 机制，请参阅中列出的参考资料[在 Web 上找到的 XSD 资源](../core/xsd-resources-on-the-web.md)。</span><span class="sxs-lookup"><span data-stu-id="1348d-130">For complete information about the differences and similarities between the import, include, and redefine mechanisms, see the references listed in [XSD Resources on the Web](../core/xsd-resources-on-the-web.md).</span></span>  

## <a name="important-details"></a><span data-ttu-id="1348d-131">重要详细信息</span><span class="sxs-lookup"><span data-stu-id="1348d-131">Important details</span></span>  
 <span data-ttu-id="1348d-132">若要使用另一个架构 (Schema2) 中的一个架构 (Schema1) 中定义的类型，必须提供对 Schema1 Schema2 中的引用。</span><span class="sxs-lookup"><span data-stu-id="1348d-132">To use a type defined in one schema (Schema1) within another schema (Schema2), you must provide a reference to Schema1 within Schema2.</span></span> <span data-ttu-id="1348d-133">若要执行此操作，请使用**导入**的属性**架构**Schema2 中的节点。</span><span class="sxs-lookup"><span data-stu-id="1348d-133">To do so, use the **Imports** property of the **Schema** node in Schema2.</span></span> <span data-ttu-id="1348d-134">单击省略号 (**...**) 按钮**导入**属性字段**导入**对话框随即打开。</span><span class="sxs-lookup"><span data-stu-id="1348d-134">When you click the ellipsis (**...**) button in the **Imports** property field, the **Imports** dialog box opens.</span></span> <span data-ttu-id="1348d-135">中**导入新的架构作为**下拉列表中，选择**XSD 导入**， **XSD Include**，或者**XSD Redefine**。</span><span class="sxs-lookup"><span data-stu-id="1348d-135">In the **Import New Schema as** drop-down list, select **XSD Import**, **XSD Include**, or **XSD Redefine**.</span></span> <span data-ttu-id="1348d-136">然后单击**外**以打开**BizTalk 类型选取器**对话框并选择在 BizTalk 项目中的浏览**Schema1**。</span><span class="sxs-lookup"><span data-stu-id="1348d-136">Then click **Add** to open the **BizTalk Type Picker** dialog box and browse within your BizTalk project to select **Schema1**.</span></span>  
  
 <span data-ttu-id="1348d-137">有关这些步骤的详细说明，请参阅[创建使用其他架构的](../core/how-to-create-schemas-that-use-other-schemas.md)。</span><span class="sxs-lookup"><span data-stu-id="1348d-137">For detailed instructions about these steps, see [Creating Schemas That Use Other Schemas](../core/how-to-create-schemas-that-use-other-schemas.md).</span></span>  
  
 <span data-ttu-id="1348d-138">当你使用**导入**对话框可以导入、 包括或重新定义其他架构、 一个或多个 XSD 元素**导入**，**包括**，和**重新定义**添加到您的架构，包括适当的属性和属性值的 XSD 表示形式。</span><span class="sxs-lookup"><span data-stu-id="1348d-138">When you use the **Imports** dialog box to import, include, or redefine another schema, one or more of the XSD elements **import**, **include**, and **redefine** is added to the XSD representation of your schema, including the appropriate attributes and attribute values.</span></span> <span data-ttu-id="1348d-139">更多的情况下**导入**元素，其他架构的命名空间前缀声明添加到**架构**元素。</span><span class="sxs-lookup"><span data-stu-id="1348d-139">Further, in the case of the **import** element, a prefix declaration for the namespace of the other schema is added to the **schema** element.</span></span>  
  
 <span data-ttu-id="1348d-140">所有全局类型 (如**ComplexTypes**， **SimpleTypes**，元素组、 特性组) 导入/包括/重新定义架构中将自动可供使用的架构中导入、 包括前, 一架构，或重新定义。</span><span class="sxs-lookup"><span data-stu-id="1348d-140">All global types (such as **ComplexTypes**, **SimpleTypes**, element groups, attribute groups) in an imported/included/redefined schema are automatically available for use within the schema in which the former schema is imported, included, or redefined.</span></span> <span data-ttu-id="1348d-141">例如，全局**ComplexTypes**导入/包括/重新定义架构中定义添加到下拉列表**Data Structure Type**的所有属性**记录**导入、 包括或重新定义架构中的节点。</span><span class="sxs-lookup"><span data-stu-id="1348d-141">For example, global **ComplexTypes** defined in an imported/included/redefined schema are added to the drop-down list of the **Data Structure Type** property for all of the **Record** nodes in the importing, including, or redefining schema.</span></span> <span data-ttu-id="1348d-142">此属性的详细信息[!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)]。</span><span class="sxs-lookup"><span data-stu-id="1348d-142">More details on this property [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].</span></span>
  
## <a name="see-also"></a><span data-ttu-id="1348d-143">请参阅</span><span class="sxs-lookup"><span data-stu-id="1348d-143">See Also</span></span>  
 <span data-ttu-id="1348d-144">[有关架构](../core/about-schemas.md) </span><span class="sxs-lookup"><span data-stu-id="1348d-144">[About Schemas](../core/about-schemas.md) </span></span>  
 <span data-ttu-id="1348d-145">[创建使用其他架构的架构](../core/how-to-create-schemas-that-use-other-schemas.md) </span><span class="sxs-lookup"><span data-stu-id="1348d-145">[Create Schemas That Use Other Schemas](../core/how-to-create-schemas-that-use-other-schemas.md) </span></span>  
 [<span data-ttu-id="1348d-146">创建对其他节点或类型的引用</span><span class="sxs-lookup"><span data-stu-id="1348d-146">Create References to Another Node or Type</span></span>](../core/how-to-create-references-to-another-node-or-type.md)