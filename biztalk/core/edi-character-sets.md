---
title: EDI 字符集 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 57fae748-d66e-4ecf-be00-70147078ef93
caps.latest.revision: 22
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 252fb7425b30040139cbccc78e6e71e3083badca
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65389241"
---
# <a name="edi-character-sets"></a><span data-ttu-id="ae26b-102">EDI 字符集</span><span class="sxs-lookup"><span data-stu-id="ae26b-102">EDI Character Sets</span></span>
[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] <span data-ttu-id="ae26b-103">使用字符集来验证整个 EDI 交换。</span><span class="sxs-lookup"><span data-stu-id="ae26b-103">uses a character set to validate an entire EDI interchange.</span></span> <span data-ttu-id="ae26b-104">对于 X12 编码的消息使用的字符集以及 EDIFACT 或 KEDIFACT 编码的消息都在不同的方式确定。</span><span class="sxs-lookup"><span data-stu-id="ae26b-104">The character sets used for an X12-encoded message and an EDIFACT- or KEDIFACT-encoded message are determined in different ways.</span></span>  
  
## <a name="edifact-character-set"></a><span data-ttu-id="ae26b-105">EDIFACT 字符集</span><span class="sxs-lookup"><span data-stu-id="ae26b-105">EDIFACT Character Set</span></span>  
 <span data-ttu-id="ae26b-106">在其字符集方面自描述的 EDIFACT 编码的交换。</span><span class="sxs-lookup"><span data-stu-id="ae26b-106">An EDIFACT-encoded interchange is self-describing in terms of its character set.</span></span> <span data-ttu-id="ae26b-107">使用了 UNB1 数据元素。</span><span class="sxs-lookup"><span data-stu-id="ae26b-107">The UNB1 data element is used.</span></span> <span data-ttu-id="ae26b-108">EDIFACT 要求标记名称和分隔符是 ASCII 类型;因此，定位 UNB1 来为其余交换相关的代码页来进行应用是可能的。</span><span class="sxs-lookup"><span data-stu-id="ae26b-108">EDIFACT requires that tag names and separators/delimiters are ASCII types; as a result, locating UNB1 to apply the relevant code page for the remaining interchange is possible.</span></span>  
  
 <span data-ttu-id="ae26b-109">处理传入的 EDIFACT 消息时[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]确定要使用从 UNB1 数据元素，该消息的字符集。</span><span class="sxs-lookup"><span data-stu-id="ae26b-109">When processing an incoming EDIFACT message, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] determines the character set to use for that message from the UNB1 data element.</span></span> <span data-ttu-id="ae26b-110">贸易合作伙伴协议中的任何设置不是必需的。</span><span class="sxs-lookup"><span data-stu-id="ae26b-110">No setting in the trading partner agreement is necessary.</span></span>  
  
 <span data-ttu-id="ae26b-111">处理传出的 EDIFACT 消息时[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]使用贸易合作伙伴协议或后备协议中的字符集。</span><span class="sxs-lookup"><span data-stu-id="ae26b-111">When processing an outgoing EDIFACT message, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] uses the character set in the trading partner agreement or the fallback agreement.</span></span> <span data-ttu-id="ae26b-112">在中设置 UNB1 数据元素**字符集和分隔符**页中的双向协议选项卡 （如果已定义协议） 或**字符集和分隔符**的协议选项卡中的页**EDIFACT 后备设置**对话框 （如果未定义协议）。</span><span class="sxs-lookup"><span data-stu-id="ae26b-112">You set the UNB1 data element in the **Charset and Separators** page in the bi-directional agreement tabs (if an agreement is defined) or the **Charset and Separators** page in the agreement tab of the **EDIFACT Fallback Settings** dialog box (if no agreement is defined).</span></span> <span data-ttu-id="ae26b-113">UNB1.1 是必需的复合数据元素名语法标识符。</span><span class="sxs-lookup"><span data-stu-id="ae26b-113">UNB1.1 is a mandatory composite data element called the Syntax Identifier.</span></span> <span data-ttu-id="ae26b-114">UNB1.2 是 EDIFACT 字符集的版本。</span><span class="sxs-lookup"><span data-stu-id="ae26b-114">UNB1.2 is the version of the EDIFACT character set.</span></span> <span data-ttu-id="ae26b-115">UNB1 数据元素还用于验证 （不在您离开某一字段选项卡上，或显示其他页） 保存整个属性集时为贸易合作伙伴管理用户界面中的属性输入的值。</span><span class="sxs-lookup"><span data-stu-id="ae26b-115">The UNB1 data element is also used to validate the values entered for properties in the Trading Partner Management user interface when the entire property set is saved (not when you tab out of a field or display a different page).</span></span>  
  
 <span data-ttu-id="ae26b-116">可用的字符集是 KECA、 UNOA、 UNOB、 UNOC、 UNOD、 UNOE、 UNOF、 UNOG、 UNOH、 UNOI、 UNOJ、 UNOK、 UNOX 和 UNOY。</span><span class="sxs-lookup"><span data-stu-id="ae26b-116">The available character sets are KECA, UNOA, UNOB, UNOC, UNOD, UNOE, UNOF, UNOG, UNOH, UNOI, UNOJ, UNOK, UNOX, and UNOY.</span></span> <span data-ttu-id="ae26b-117">默认值是 UNOB。</span><span class="sxs-lookup"><span data-stu-id="ae26b-117">The default value is UNOB.</span></span> <span data-ttu-id="ae26b-118">这些级别的完整字符集在 ISO 9735 EDIFACT 语法规则中指定。</span><span class="sxs-lookup"><span data-stu-id="ae26b-118">The full character set for these levels is specified in ISO 9735 EDIFACT Syntax Rules.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ae26b-119">如果对入站或出站交换，EDI 拆装器遇到 UNOC 字符集或 EDI 组装器将使用 latin-1 代码页，而不是 utf-8 代码页。</span><span class="sxs-lookup"><span data-stu-id="ae26b-119">If the UNOC character set is encountered on an inbound or outbound interchange, the EDI Disassembler or EDI Assembler will use the Latin-1 code page, instead of the UTF-8 code page.</span></span> <span data-ttu-id="ae26b-120">这是必需的因为 utf-8 不是 UNOC 的超集。</span><span class="sxs-lookup"><span data-stu-id="ae26b-120">This is required because UTF-8 is not a superset of UNOC.</span></span> <span data-ttu-id="ae26b-121">某些在 UNOC 中可接受的字符将导致交换被挂起时作为 utf-8 处理。</span><span class="sxs-lookup"><span data-stu-id="ae26b-121">Some characters that are acceptable in UNOC will cause an interchange to be suspended when processed as UTF-8.</span></span>  
  
 <span data-ttu-id="ae26b-122">在某些 EDIFACT 字符集中的字符可能是双字节字符，而在其他 EDIFACT 字符集，它们可能是单字节字符。</span><span class="sxs-lookup"><span data-stu-id="ae26b-122">Characters in some EDIFACT character sets may be double-byte characters, whereas in other EDIFACT character sets they may be single-byte characters.</span></span> <span data-ttu-id="ae26b-123">因此，设置基于该交换中的字符数的批发布条件时的交换中的字节数可能会因使用的字符集。</span><span class="sxs-lookup"><span data-stu-id="ae26b-123">Because of this, when you set the release criteria for batches based upon the number of characters in the interchange, the number of bytes in the interchange may differ depending on the character set used.</span></span>  
  
 <span data-ttu-id="ae26b-124">UNA 段和段名 UNB 仅限于 ASCII 字符集中的值。</span><span class="sxs-lookup"><span data-stu-id="ae26b-124">The UNA Segment and Segment Name UNB are limited to the values in the ASCII character set.</span></span>  
  
## <a name="kedifact-character-set"></a><span data-ttu-id="ae26b-125">KEDIFACT 字符集</span><span class="sxs-lookup"><span data-stu-id="ae26b-125">KEDIFACT Character Set</span></span>  
 <span data-ttu-id="ae26b-126">因为与 EDIFACT 中，字符设置为 UNB1 数据元素中建立 KEDIFACT 编码的交换。</span><span class="sxs-lookup"><span data-stu-id="ae26b-126">As with EDIFACT, the character set for a KEDIFACT-encoded interchange is established in the UNB1 data element.</span></span> <span data-ttu-id="ae26b-127">对于 EDIFACT，字符设置为通过应用[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]在处理 KEDIFACT 交换数据元素中建立**UNB1**的**字符集和分隔符**中的双向页协议选项卡 （如果已定义协议） 或**字符集和分隔符**页的协议选项卡**EDIFACT 后备设置**对话框 （如果未定义协议）。</span><span class="sxs-lookup"><span data-stu-id="ae26b-127">As for EDIFACT, the character set to be applied by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] when processing a KEDIFACT interchange is established in data element **UNB1** of **Charset and Separators** page in the bi-directional agreement tabs (if an agreement is defined) or the **Charset and Separators** page in the agreement tab of the **EDIFACT Fallback Settings** dialog box (if no agreement is defined).</span></span> <span data-ttu-id="ae26b-128">值**标识符 (UNB1.1)** 元素必须设置为 KECA。</span><span class="sxs-lookup"><span data-stu-id="ae26b-128">The value for the **Identifier (UNB1.1)** element must be set to KECA.</span></span>  
  
## <a name="x12-character-set"></a><span data-ttu-id="ae26b-129">X12 字符集</span><span class="sxs-lookup"><span data-stu-id="ae26b-129">X12 Character Set</span></span>  
 <span data-ttu-id="ae26b-130">当 BizTalk 接收管道或发送管道执行 EDI 验证的 X12 编码的消息时，它使用 X12 字符集在管道的 CharacterSet 属性中选择的设置。</span><span class="sxs-lookup"><span data-stu-id="ae26b-130">When the BizTalk receive pipeline or send pipeline performs EDI validation of an X12-encoded message, it uses the X12 character set selected in the CharacterSet property of the pipeline.</span></span> <span data-ttu-id="ae26b-131">若要设置此属性，打开属性对话框中的接收位置或发送端口单击接收旁边的省略号或发送管道，，然后设置拆装器或组装器的 CharacterSet 属性。</span><span class="sxs-lookup"><span data-stu-id="ae26b-131">To set this property, open the Properties dialog box for the receive location or send port, click the ellipses next to the receive or send pipeline, and then set the CharacterSet property for the Disassembler or Assembler.</span></span>  
  
 <span data-ttu-id="ae26b-132">管道的 CharacterSet 属性用于验证 X12 交换，因为与 EDIFACT 或 KEDIFACT，不同的 X12 编码交换不自描述在其字符集方面。</span><span class="sxs-lookup"><span data-stu-id="ae26b-132">The CharacterSet property of the pipeline is used to validate an X12 interchange because unlike EDIFACT or KEDIFACT, an X12-encoded interchange is not self-describing in terms of its character set.</span></span> <span data-ttu-id="ae26b-133">读取 ISA 标头使用 ISO 或 UTF 编码可能会导致协议查找不同的值。</span><span class="sxs-lookup"><span data-stu-id="ae26b-133">Reading the ISA header with ISO or UTF encoding may lead to different values for agreement lookup.</span></span> <span data-ttu-id="ae26b-134">因此，BizTalk 必须知道将在处理该消息在协议查找前的 （当它应获得协议的适用字符集） 中使用的适用字符集。</span><span class="sxs-lookup"><span data-stu-id="ae26b-134">As a result, BizTalk must know the applicable character set to be used in processing the message prior to agreement lookup (when it would obtain the applicable character set for the agreement).</span></span>  
  
 <span data-ttu-id="ae26b-135">指定 X12 字符集设置要用于协议验证中**字符集和分隔符**页中的双向协议选项卡 （如果已定义协议） 或**字符集和分隔符**页上的后备协议选项卡**X12 回退设置**对话框 （如果未定义协议）。</span><span class="sxs-lookup"><span data-stu-id="ae26b-135">You specify the X12 character set to be used for agreement validation in the in the **Charset and Separators** page in the bi-directional agreement tabs (if an agreement is defined) or the **Charset and Separators** page in the fallback agreement tab of the **X12 Fallback Settings** dialog box (if no agreement is defined).</span></span> <span data-ttu-id="ae26b-136">但是，BizTalk 仅使用这些设置来验证 （不在您离开某一字段选项卡上，或显示其他页） 保存整个属性集时，为相关属性输入的值。</span><span class="sxs-lookup"><span data-stu-id="ae26b-136">However, BizTalk only uses these settings to validate the values entered for the related properties when the entire property set is saved (not when you tab out of a field or display a different page).</span></span> <span data-ttu-id="ae26b-137">接收管道或发送管道将忽略这些字符集属性。</span><span class="sxs-lookup"><span data-stu-id="ae26b-137">The receive pipeline or send pipeline will ignore these character set properties.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ae26b-138">如果在协议或后备协议中设置指定的字符不匹配的字符集，用于接收或发送管道，则可能发生消息验证错误。</span><span class="sxs-lookup"><span data-stu-id="ae26b-138">If the character set specified in the agreement or fallback agreement does not match the character set selected for the receive or send pipeline, message validation errors could result.</span></span> <span data-ttu-id="ae26b-139">如果的 X12 协议中的字符组属性设置为扩展，而管道属性中的字符属性设置为 Basic X12 是一个示例。</span><span class="sxs-lookup"><span data-stu-id="ae26b-139">An example would be if the X12 character set property in the agreement is set to Extended while the X12 character property in the pipeline properties is set to Basic.</span></span>  
  
 <span data-ttu-id="ae26b-140">可用的字符集是基本和扩展 (X12 中所述规范/实现指南)，和 UTF8/Unicode。</span><span class="sxs-lookup"><span data-stu-id="ae26b-140">The available character sets are Basic and Extended (as documented in the X12 Specifications/Implementation Guides), and UTF8/Unicode.</span></span> <span data-ttu-id="ae26b-141">默认值为 UTF8。</span><span class="sxs-lookup"><span data-stu-id="ae26b-141">The default is UTF8.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ae26b-142">为数据元素分隔符、 组件元素分隔符和段终止符输入的双向协议或后备协议中的值仅限于 ASCII 字符集中的值。</span><span class="sxs-lookup"><span data-stu-id="ae26b-142">The values entered for the data-element separator, component-element separator, and segment terminator in the bi-directional agreement or fallback agreement are limited to the values in the ASCII character set.</span></span> <span data-ttu-id="ae26b-143">这些属性不会验证针对 X12 字符集。</span><span class="sxs-lookup"><span data-stu-id="ae26b-143">These properties are not validated against the X12 character set.</span></span>  
  
 <span data-ttu-id="ae26b-144">基本字符集包括以下大写字母、 数字、 空格和特殊字符：A 到 Z，0 到 9 ！</span><span class="sxs-lookup"><span data-stu-id="ae26b-144">The Basic character set includes the following uppercase letters, digits, space, and special characters: A through Z, 0 through 9, !</span></span> <span data-ttu-id="ae26b-145">“ & ’ ( ) \* + , - .</span><span class="sxs-lookup"><span data-stu-id="ae26b-145">“ & ’ ( ) \* + , - .</span></span> <span data-ttu-id="ae26b-146">/ : ; ?</span><span class="sxs-lookup"><span data-stu-id="ae26b-146">/ : ; ?</span></span> <span data-ttu-id="ae26b-147">= （空格）。</span><span class="sxs-lookup"><span data-stu-id="ae26b-147">= (space).</span></span>  
  
 <span data-ttu-id="ae26b-148">扩展字符集包括基本字符集和小写字母、 选择语言字符，和其他特殊字符的字符： a 到 z、 %@ [] _ {} \ &#124; \< \> ~ # $。</span><span class="sxs-lookup"><span data-stu-id="ae26b-148">The Extended character set includes the characters in the Basic character set, and lowercase letters, select language characters, and other special characters: a through z, % @ [ ] _ { } \ &#124; \< \> ~ # $.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ae26b-149">请参阅</span><span class="sxs-lookup"><span data-stu-id="ae26b-149">See Also</span></span>  
 <span data-ttu-id="ae26b-150">[EDI 消息传递](../core/edi-messaging.md) </span><span class="sxs-lookup"><span data-stu-id="ae26b-150">[EDI Messaging](../core/edi-messaging.md) </span></span>  
 [<span data-ttu-id="ae26b-151">EDI 架构</span><span class="sxs-lookup"><span data-stu-id="ae26b-151">EDI Schemas</span></span>](../core/edi-schemas.md)