---
title: 主机阻止性能计数器 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- host throttling, performance counters
ms.assetid: b9090d1c-86be-40db-b814-cc116a426d95
caps.latest.revision: 22
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 2b5f4d6d9683bcfa277ddfcdfe82b07ead198290
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65387537"
---
# <a name="host-throttling-performance-counters"></a><span data-ttu-id="c99d0-102">主机阻止性能计数器</span><span class="sxs-lookup"><span data-stu-id="c99d0-102">Host Throttling Performance Counters</span></span>
<span data-ttu-id="c99d0-103">本部分介绍的性能监视器计数器，用于测量影响主机阻止的系统参数。</span><span class="sxs-lookup"><span data-stu-id="c99d0-103">This section describes the performance monitor counters that measure system parameters that impact host throttling.</span></span> <span data-ttu-id="c99d0-104">以下性能计数器都可以访问每个主机实例下**biztalk: Message Agent**性能对象类别：</span><span class="sxs-lookup"><span data-stu-id="c99d0-104">The following performance counters are accessible for each host instance under the **BizTalk:Message Agent** performance object category:</span></span>  
  
|<span data-ttu-id="c99d0-105">计数器</span><span class="sxs-lookup"><span data-stu-id="c99d0-105">Counter</span></span>|<span data-ttu-id="c99d0-106">Description</span><span class="sxs-lookup"><span data-stu-id="c99d0-106">Description</span></span>|  
|-------------|-----------------|  
|<span data-ttu-id="c99d0-107">活动的实例计数</span><span class="sxs-lookup"><span data-stu-id="c99d0-107">Active instance count</span></span>|<span data-ttu-id="c99d0-108">内存中处于活动状态的服务实例数。</span><span class="sxs-lookup"><span data-stu-id="c99d0-108">Number of service instances active in memory.</span></span> <span data-ttu-id="c99d0-109">对于业务流程引擎服务实例是指每个正在运行的业务流程调度实例。</span><span class="sxs-lookup"><span data-stu-id="c99d0-109">For the orchestration engine, a service instance refers to each running instance of an orchestration schedule.</span></span> <span data-ttu-id="c99d0-110">对于终结点管理器中，服务实例也可能对应，到单个无状态消息，或有状态消息的集合。</span><span class="sxs-lookup"><span data-stu-id="c99d0-110">For the End Point Manager, a service instance may either correspond to a single stateless message, or to a collection of stateful messages.</span></span> <span data-ttu-id="c99d0-111">**注意：** 有状态实例是维护有关与实例关联的消息的某些状态信息。</span><span class="sxs-lookup"><span data-stu-id="c99d0-111">**Note:**  Stateful instances are those that maintain certain state information about the messages associated with the instance.</span></span> <span data-ttu-id="c99d0-112">属于有状态实例的消息是以某种形式彼此相关。</span><span class="sxs-lookup"><span data-stu-id="c99d0-112">Messages belonging to a stateful instance are co-related in some form or the other.</span></span> <span data-ttu-id="c99d0-113">例如，用于维护有关排序的信息的按序的发送端口会被视为有状态实例。</span><span class="sxs-lookup"><span data-stu-id="c99d0-113">For example an ordered send port that maintains information about the ordering are considered stateful instances.</span></span> <span data-ttu-id="c99d0-114">大多数消息传送方案涉及到其中的消息被处理完全相互独立的无状态实例。</span><span class="sxs-lookup"><span data-stu-id="c99d0-114">Most messaging scenarios involve stateless instances where messages are processed completely independent of each other.</span></span> <span data-ttu-id="c99d0-115">每个无状态实例对应于 EPM 内的单个消息。</span><span class="sxs-lookup"><span data-stu-id="c99d0-115">Each such stateless instance corresponds to a single message within the EPM.</span></span>|  
|<span data-ttu-id="c99d0-116">数据库会话</span><span class="sxs-lookup"><span data-stu-id="c99d0-116">Database session</span></span>|<span data-ttu-id="c99d0-117">正在使用的并行 MessageBox 数据库连接数。</span><span class="sxs-lookup"><span data-stu-id="c99d0-117">Number of concurrent MessageBox database connections being used.</span></span>|  
|<span data-ttu-id="c99d0-118">数据库会话阈值</span><span class="sxs-lookup"><span data-stu-id="c99d0-118">Database session threshold</span></span>|<span data-ttu-id="c99d0-119">用于并行数据库会话的当前阈值。</span><span class="sxs-lookup"><span data-stu-id="c99d0-119">The current threshold for concurrent database sessions.</span></span> <span data-ttu-id="c99d0-120">此值最初设置为**数据库连接**值**基于资源的阻止**选项卡中**设置仪表板**。</span><span class="sxs-lookup"><span data-stu-id="c99d0-120">This is initially set to the **Database connections** value on the **Resource-Based Throttling** tab in **Settings Dashboard**.</span></span> <span data-ttu-id="c99d0-121">此值是基于过程的数据库会话使用率自动进行优化。</span><span class="sxs-lookup"><span data-stu-id="c99d0-121">This value is auto-tuned based on the database session usage of the process.</span></span> <span data-ttu-id="c99d0-122">如果在任何时候，并行数据库会话数超过此阈值，实现主机阻止。</span><span class="sxs-lookup"><span data-stu-id="c99d0-122">If the number of concurrent database sessions exceeds this threshold at any time, host throttling is implemented.</span></span>|  
|<span data-ttu-id="c99d0-123">数据库大小</span><span class="sxs-lookup"><span data-stu-id="c99d0-123">Database size</span></span>|<span data-ttu-id="c99d0-124">此进程已发布的数据库队列中的消息数。</span><span class="sxs-lookup"><span data-stu-id="c99d0-124">Number of messages in the database queues that this process has published.</span></span> <span data-ttu-id="c99d0-125">对于所有主机和后台处理和跟踪表中的项目数的情况下，此值度量由队列表中的项的数目。</span><span class="sxs-lookup"><span data-stu-id="c99d0-125">This value is measured by the number of items in the queue tables for all hosts and the number of items in the spool and tracking tables.</span></span> <span data-ttu-id="c99d0-126">如果进程发布到多个队列，此计数器反映所有队列的加权的平均值。</span><span class="sxs-lookup"><span data-stu-id="c99d0-126">If a process is publishing to multiple queues, this counter reflects the weighted average of all the queues.</span></span> <span data-ttu-id="c99d0-127">**注意：** 如果重新启动主机时，保留在内存中的统计信息都将丢失。</span><span class="sxs-lookup"><span data-stu-id="c99d0-127">**Note:**  If the host is restarted, statistics held in memory are lost.</span></span> <span data-ttu-id="c99d0-128">由于一些开销，BizTalk Server 会恢复收集统计信息，仅当有至少 100 时发布与 5%的总计将发布重新启动的主机进程内。</span><span class="sxs-lookup"><span data-stu-id="c99d0-128">Since there is some overhead involved, BizTalk Server will resume gathering statistics only when there are at least 100 publishes with 5% of the total publishes within the restarted host process.</span></span>|  
|<span data-ttu-id="c99d0-129">高数据库会话</span><span class="sxs-lookup"><span data-stu-id="c99d0-129">High database session</span></span>|<span data-ttu-id="c99d0-130">-   0:Normal</span><span class="sxs-lookup"><span data-stu-id="c99d0-130">-   0: Normal</span></span><br /><span data-ttu-id="c99d0-131">-   1:数据库会话数超出阈值</span><span class="sxs-lookup"><span data-stu-id="c99d0-131">-   1: Database session count exceeds threshold</span></span>|  
|<span data-ttu-id="c99d0-132">数据库规模过大</span><span class="sxs-lookup"><span data-stu-id="c99d0-132">High database size</span></span>|<span data-ttu-id="c99d0-133">-   0:Normal</span><span class="sxs-lookup"><span data-stu-id="c99d0-133">-   0: Normal</span></span><br /><span data-ttu-id="c99d0-134">-   1:数据库已增大超过阈值</span><span class="sxs-lookup"><span data-stu-id="c99d0-134">-   1: Database size has grown beyond threshold</span></span><br /><br /> <span data-ttu-id="c99d0-135">此计数器将设置为值 1，任何一个条件列出的则**DB 中的消息数**出现阈值。</span><span class="sxs-lookup"><span data-stu-id="c99d0-135">This counter will be set to a value of one if either of the conditions listed for the **Message count in DB** threshold occurs.</span></span> <span data-ttu-id="c99d0-136">[如何修改资源基于阻止设置](../core/how-to-modify-resource-based-throttling-settings.md)提供有关此阻止阈值的信息。</span><span class="sxs-lookup"><span data-stu-id="c99d0-136">[How to Modify Resource Based Throttling Settings](../core/how-to-modify-resource-based-throttling-settings.md) provides information on this throttling threshold.</span></span>|  
|<span data-ttu-id="c99d0-137">高进程内消息计数</span><span class="sxs-lookup"><span data-stu-id="c99d0-137">High in-process message count</span></span>|<span data-ttu-id="c99d0-138">-   0:Normal</span><span class="sxs-lookup"><span data-stu-id="c99d0-138">-   0: Normal</span></span><br /><span data-ttu-id="c99d0-139">-   1:进程内消息计数超出限制</span><span class="sxs-lookup"><span data-stu-id="c99d0-139">-   1: In-process message count exceeds limit</span></span>|  
|<span data-ttu-id="c99d0-140">高消息送达速率</span><span class="sxs-lookup"><span data-stu-id="c99d0-140">High message delivery rate</span></span>|<span data-ttu-id="c99d0-141">-   0:Normal</span><span class="sxs-lookup"><span data-stu-id="c99d0-141">-   0: Normal</span></span><br /><span data-ttu-id="c99d0-142">-   1:消息送达速率超出消息处理速率</span><span class="sxs-lookup"><span data-stu-id="c99d0-142">-   1: Message delivery rate exceeds the message processing Rate</span></span>|  
|<span data-ttu-id="c99d0-143">高消息发布速率</span><span class="sxs-lookup"><span data-stu-id="c99d0-143">High message publishing rate</span></span>|<span data-ttu-id="c99d0-144">-   0:Normal</span><span class="sxs-lookup"><span data-stu-id="c99d0-144">-   0: Normal</span></span><br /><span data-ttu-id="c99d0-145">-   1:发布请求速率超出完成速率</span><span class="sxs-lookup"><span data-stu-id="c99d0-145">-   1: Publishing request rate exceeds completion rate</span></span>|  
|<span data-ttu-id="c99d0-146">高进程内存</span><span class="sxs-lookup"><span data-stu-id="c99d0-146">High process memory</span></span>|<span data-ttu-id="c99d0-147">-   0:Normal</span><span class="sxs-lookup"><span data-stu-id="c99d0-147">-   0: Normal</span></span><br /><span data-ttu-id="c99d0-148">-   1:进程内存超出阈值</span><span class="sxs-lookup"><span data-stu-id="c99d0-148">-   1: Process memory exceeds threshold</span></span>|  
|<span data-ttu-id="c99d0-149">系统内存过高</span><span class="sxs-lookup"><span data-stu-id="c99d0-149">High system memory</span></span>|<span data-ttu-id="c99d0-150">-   0:Normal</span><span class="sxs-lookup"><span data-stu-id="c99d0-150">-   0: Normal</span></span><br /><span data-ttu-id="c99d0-151">-   1:系统内存超出阈值</span><span class="sxs-lookup"><span data-stu-id="c99d0-151">-   1: System memory exceeds threshold</span></span>|  
|<span data-ttu-id="c99d0-152">高的线程数</span><span class="sxs-lookup"><span data-stu-id="c99d0-152">High thread count</span></span>|<span data-ttu-id="c99d0-153">-   0:Normal</span><span class="sxs-lookup"><span data-stu-id="c99d0-153">-   0: Normal</span></span><br /><span data-ttu-id="c99d0-154">-   1:线程数超出阈值</span><span class="sxs-lookup"><span data-stu-id="c99d0-154">-   1: Thread count exceeds threshold</span></span>|  
|<span data-ttu-id="c99d0-155">进程内消息计数</span><span class="sxs-lookup"><span data-stu-id="c99d0-155">In-process message count</span></span>|<span data-ttu-id="c99d0-156">传递到 XLANG 引擎或出站尚未处理的消息引擎的内存中消息数。</span><span class="sxs-lookup"><span data-stu-id="c99d0-156">Number of in-memory messages delivered to the XLANG engine or the outbound messaging engine that are not yet processed.</span></span>|  
|<span data-ttu-id="c99d0-157">进程内消息计数阈值</span><span class="sxs-lookup"><span data-stu-id="c99d0-157">In-process message count threshold</span></span>|<span data-ttu-id="c99d0-158">用于进程内消息数的当前阈值。</span><span class="sxs-lookup"><span data-stu-id="c99d0-158">The current threshold for in-process message count.</span></span>|  
|<span data-ttu-id="c99d0-159">消息传送延迟 （毫秒）</span><span class="sxs-lookup"><span data-stu-id="c99d0-159">Message delivery delay (ms)</span></span>|<span data-ttu-id="c99d0-160">以毫秒为单位的当前延迟时间施加于每个消息送达批 （如果要中止消息传递时适用）。</span><span class="sxs-lookup"><span data-stu-id="c99d0-160">The current delay in ms imposed on each message delivery batch (applicable if the message delivery is being throttled).</span></span>|  
|<span data-ttu-id="c99d0-161">消息送达传入速率</span><span class="sxs-lookup"><span data-stu-id="c99d0-161">Message delivery incoming rate</span></span>|<span data-ttu-id="c99d0-162">在给定的示例间隔中传送到业务流程引擎或消息引擎每秒消息数。</span><span class="sxs-lookup"><span data-stu-id="c99d0-162">Number of messages per second that are being delivered to the Orchestration engine or the Messaging engine in the given sample interval.</span></span>|  
|<span data-ttu-id="c99d0-163">消息送达传出速率</span><span class="sxs-lookup"><span data-stu-id="c99d0-163">Message delivery outgoing rate</span></span>|<span data-ttu-id="c99d0-164">每秒正在处理的业务流程引擎或消息引擎在给定的示例间隔中的消息数。</span><span class="sxs-lookup"><span data-stu-id="c99d0-164">Number of messages per second that are being processed by the Orchestration engine or the Messaging engine in the given sample interval.</span></span>|  
|<span data-ttu-id="c99d0-165">消息送达阻止状态</span><span class="sxs-lookup"><span data-stu-id="c99d0-165">Message delivery throttling state</span></span>|<span data-ttu-id="c99d0-166">一个标志，指示系统是否要阻止消息送达 （影响 XLANG 消息处理和出站传输）。</span><span class="sxs-lookup"><span data-stu-id="c99d0-166">A flag indicating whether the system is throttling message delivery (affecting XLANG message processing and outbound transports).</span></span><br /><br /> <span data-ttu-id="c99d0-167">-   0:不限制</span><span class="sxs-lookup"><span data-stu-id="c99d0-167">-   0: Not throttling</span></span><br /><span data-ttu-id="c99d0-168">-   1:由于不均衡消息送达速率限制 （输入的速率超出输出速率）</span><span class="sxs-lookup"><span data-stu-id="c99d0-168">-   1: Throttling due to imbalanced message delivery rate (input rate exceeds output rate)</span></span><br /><span data-ttu-id="c99d0-169">-   3:由于高进程内消息数而阻止</span><span class="sxs-lookup"><span data-stu-id="c99d0-169">-   3: Throttling due to high in-process message count</span></span><br /><span data-ttu-id="c99d0-170">-   4:由于进程内存压力而阻止</span><span class="sxs-lookup"><span data-stu-id="c99d0-170">-   4: Throttling due to process memory pressure</span></span><br /><span data-ttu-id="c99d0-171">-   5:由于系统内存压力而阻止</span><span class="sxs-lookup"><span data-stu-id="c99d0-171">-   5: Throttling due to system memory pressure</span></span><br /><span data-ttu-id="c99d0-172">-   9:由于高的线程数而阻止</span><span class="sxs-lookup"><span data-stu-id="c99d0-172">-   9: Throttling due to high thread count</span></span><br /><span data-ttu-id="c99d0-173">-   10:由于传递的用户替代而阻止</span><span class="sxs-lookup"><span data-stu-id="c99d0-173">-   10: Throttling due to user override on delivery</span></span>|  
|<span data-ttu-id="c99d0-174">消息传递限制状态持续时间</span><span class="sxs-lookup"><span data-stu-id="c99d0-174">Message delivery throttling state duration</span></span>|<span data-ttu-id="c99d0-175">由于系统进入此状态的秒数。</span><span class="sxs-lookup"><span data-stu-id="c99d0-175">Seconds since the system entered this state.</span></span> <span data-ttu-id="c99d0-176">如果主机处于阻止状态，多长时间它已阻止;如果它未进行限制，应用阻止之后的时间长度。</span><span class="sxs-lookup"><span data-stu-id="c99d0-176">If the host is throttling, how long it has been throttling; if it is not throttling, how long since throttling was applied.</span></span>|  
|<span data-ttu-id="c99d0-177">消息送达阻止用户重写</span><span class="sxs-lookup"><span data-stu-id="c99d0-177">Message delivery throttling user override</span></span>|<span data-ttu-id="c99d0-178">此计数器反映了引擎监视和解释，如下所示的用户重写：</span><span class="sxs-lookup"><span data-stu-id="c99d0-178">This counter reflects the user override that is monitored by the engine and interpreted as follows:</span></span><br /><br /> <span data-ttu-id="c99d0-179">-   0:不重写</span><span class="sxs-lookup"><span data-stu-id="c99d0-179">-   0: No override</span></span><br /><span data-ttu-id="c99d0-180">-   1:始终阻止消息送达</span><span class="sxs-lookup"><span data-stu-id="c99d0-180">-   1: Always throttle message delivery</span></span><br /><span data-ttu-id="c99d0-181">-   2:不阻止消息送达</span><span class="sxs-lookup"><span data-stu-id="c99d0-181">-   2: Do not throttle message delivery</span></span><br /><br /> <span data-ttu-id="c99d0-182">此替代是可在中配置**基于速率的阻止**选项卡**设置仪表板**。</span><span class="sxs-lookup"><span data-stu-id="c99d0-182">This override is configurable in the **Rate-Based Throttling** tab in **Settings Dashboard**.</span></span>|  
|<span data-ttu-id="c99d0-183">消息发布延迟 （毫秒）</span><span class="sxs-lookup"><span data-stu-id="c99d0-183">Message publishing delay (ms)</span></span>|<span data-ttu-id="c99d0-184">对每个 （如果被阻止消息发布和批处理不免除限制适用） 的消息发布批规定的以毫秒为单位当前延迟时间。</span><span class="sxs-lookup"><span data-stu-id="c99d0-184">The current delay in ms imposed on each message publishing batch (applicable if the message publishing is being throttled and if the batch is not exempted from throttling).</span></span>|  
|<span data-ttu-id="c99d0-185">消息发布传入速率</span><span class="sxs-lookup"><span data-stu-id="c99d0-185">Message publishing incoming rate</span></span>|<span data-ttu-id="c99d0-186">每秒发送到在给定的示例间隔中发布的数据库的消息数。</span><span class="sxs-lookup"><span data-stu-id="c99d0-186">Number of messages per second that are being sent to the database for publishing in the given sample interval.</span></span>|  
|<span data-ttu-id="c99d0-187">消息发布传出速率</span><span class="sxs-lookup"><span data-stu-id="c99d0-187">Message publishing outgoing rate</span></span>|<span data-ttu-id="c99d0-188">在给定的示例间隔中实际发布数据库中每秒消息数。</span><span class="sxs-lookup"><span data-stu-id="c99d0-188">Number of messages per second that are actually published in the database in the given sample interval.</span></span>|  
|<span data-ttu-id="c99d0-189">消息发布阻止状态</span><span class="sxs-lookup"><span data-stu-id="c99d0-189">Message publishing throttling state</span></span>|<span data-ttu-id="c99d0-190">一个标志，指示系统是否要阻止消息发布 （影响 XLANG 消息处理和入站的传输）。</span><span class="sxs-lookup"><span data-stu-id="c99d0-190">A flag indicating whether the system is throttling message publishing (affecting XLANG message processing and inbound transports).</span></span><br /><br /> <span data-ttu-id="c99d0-191">-   0:不限制</span><span class="sxs-lookup"><span data-stu-id="c99d0-191">-   0: Not throttling</span></span><br /><span data-ttu-id="c99d0-192">-   2:由于不均衡消息发布速率限制 （输入的速率超出输出速率）</span><span class="sxs-lookup"><span data-stu-id="c99d0-192">-   2: Throttling due to imbalanced message publishing rate (input rate exceeds output rate)</span></span><br /><span data-ttu-id="c99d0-193">-   4:由于进程内存压力而阻止</span><span class="sxs-lookup"><span data-stu-id="c99d0-193">-   4: Throttling due to process memory pressure</span></span><br /><span data-ttu-id="c99d0-194">-   5:由于系统内存压力而阻止</span><span class="sxs-lookup"><span data-stu-id="c99d0-194">-   5: Throttling due to system memory pressure</span></span><br /><span data-ttu-id="c99d0-195">-   6:由于数据库增长而阻止</span><span class="sxs-lookup"><span data-stu-id="c99d0-195">-   6: Throttling due to database growth</span></span><br /><span data-ttu-id="c99d0-196">-   8:由于会话数过高而阻止</span><span class="sxs-lookup"><span data-stu-id="c99d0-196">-   8: Throttling due to high session count</span></span><br /><span data-ttu-id="c99d0-197">-   9:由于高的线程数而阻止</span><span class="sxs-lookup"><span data-stu-id="c99d0-197">-   9: Throttling due to high thread count</span></span><br /><span data-ttu-id="c99d0-198">-   11:由于发布的用户替代而阻止</span><span class="sxs-lookup"><span data-stu-id="c99d0-198">-   11: Throttling due to user override on publishing</span></span>|  
|<span data-ttu-id="c99d0-199">消息发布阻止状态持续时间</span><span class="sxs-lookup"><span data-stu-id="c99d0-199">Message publishing throttling state duration</span></span>|<span data-ttu-id="c99d0-200">由于系统进入此状态的秒数。</span><span class="sxs-lookup"><span data-stu-id="c99d0-200">Seconds since the system entered this state.</span></span> <span data-ttu-id="c99d0-201">如果主机处于阻止状态，多长时间它已阻止;如果它未进行限制，应用阻止之后的时间长度。</span><span class="sxs-lookup"><span data-stu-id="c99d0-201">If the host is throttling, how long it has been throttling; if it is not throttling, how long since throttling was applied.</span></span>|  
|<span data-ttu-id="c99d0-202">消息发布阻止用户重写</span><span class="sxs-lookup"><span data-stu-id="c99d0-202">Message publishing throttling user override</span></span>|<span data-ttu-id="c99d0-203">此计数器反映了引擎监视和解释，如下所示的用户重写：</span><span class="sxs-lookup"><span data-stu-id="c99d0-203">This counter reflects the user override that is monitored by the engine and interpreted as follows:</span></span><br /><br /> <span data-ttu-id="c99d0-204">-   0:不重写</span><span class="sxs-lookup"><span data-stu-id="c99d0-204">-   0: No override</span></span><br /><span data-ttu-id="c99d0-205">-   1:始终阻止消息发布</span><span class="sxs-lookup"><span data-stu-id="c99d0-205">-   1: Always throttle message publishing</span></span><br /><span data-ttu-id="c99d0-206">-   2:不阻止消息发布</span><span class="sxs-lookup"><span data-stu-id="c99d0-206">-   2: Do not throttle message publishing</span></span><br /><br /> <span data-ttu-id="c99d0-207">此替代是可在中配置**基于速率的阻止**选项卡**设置仪表板**。</span><span class="sxs-lookup"><span data-stu-id="c99d0-207">This override is configurable in the **Rate-Based Throttling** tab in **Settings Dashboard**.</span></span>|  
|<span data-ttu-id="c99d0-208">物理内存使用率 (MB)</span><span class="sxs-lookup"><span data-stu-id="c99d0-208">Physical memory usage (MB)</span></span>|<span data-ttu-id="c99d0-209">以 mb 为单位在计算机上的所有进程使用的物理内存量。</span><span class="sxs-lookup"><span data-stu-id="c99d0-209">The amount of physical memory in MB being used on the machine by all processes.</span></span>|  
|<span data-ttu-id="c99d0-210">进程内存使用率 (MB)</span><span class="sxs-lookup"><span data-stu-id="c99d0-210">Process memory usage (MB)</span></span>|<span data-ttu-id="c99d0-211">以 mb 为单位的进程内存占用。</span><span class="sxs-lookup"><span data-stu-id="c99d0-211">The process memory consumption in MB.</span></span> <span data-ttu-id="c99d0-212">这是最多个进程的工作集大小和页面文件的进程分配的总空间。</span><span class="sxs-lookup"><span data-stu-id="c99d0-212">This is the maximum of the process’s working set size and the total space allocated for the page file for the process.</span></span>|  
|<span data-ttu-id="c99d0-213">进程内存使用情况阈值 (MB)</span><span class="sxs-lookup"><span data-stu-id="c99d0-213">Process memory usage threshold (MB)</span></span>|<span data-ttu-id="c99d0-214">用于以 mb 为单位的进程内存占用量的当前阈值。</span><span class="sxs-lookup"><span data-stu-id="c99d0-214">The current threshold for process memory consumption in MB.</span></span> <span data-ttu-id="c99d0-215">此值最初设置为**进程虚拟**中的值**设置仪表板**。</span><span class="sxs-lookup"><span data-stu-id="c99d0-215">This is initially set to the **Process virtual** value in **Settings Dashboard**.</span></span> <span data-ttu-id="c99d0-216">如果指定一个百分比值，它是根据计算的可用内存来提交</span><span class="sxs-lookup"><span data-stu-id="c99d0-216">If a percentage value is specified, it is computed based on the available memory to commit</span></span>|  
|<span data-ttu-id="c99d0-217">服务类别 ID</span><span class="sxs-lookup"><span data-stu-id="c99d0-217">Service class ID</span></span>|<span data-ttu-id="c99d0-218">此性能计数器实例对应的 GUID 的服务类的开头部分的十进制值。</span><span class="sxs-lookup"><span data-stu-id="c99d0-218">The decimal value of the initial part of the service class GUID that this performance counter instance corresponds to.</span></span> <span data-ttu-id="c99d0-219">一个进程可以承载多个服务类和消息代理性能计数器则显示最频繁使用的服务类别的数据。</span><span class="sxs-lookup"><span data-stu-id="c99d0-219">A process may host more than one service class and the message agent performance counters show the data for the most active service class.</span></span>|  
|<span data-ttu-id="c99d0-220">线程计数</span><span class="sxs-lookup"><span data-stu-id="c99d0-220">Thread count</span></span>|<span data-ttu-id="c99d0-221">在进程内正在使用的线程数。</span><span class="sxs-lookup"><span data-stu-id="c99d0-221">Number of threads being used within the process.</span></span>|  
|<span data-ttu-id="c99d0-222">线程计数阈值</span><span class="sxs-lookup"><span data-stu-id="c99d0-222">Thread count threshold</span></span>|<span data-ttu-id="c99d0-223">用于进程中的线程数的当前阈值。</span><span class="sxs-lookup"><span data-stu-id="c99d0-223">The current threshold for the number of threads in the process.</span></span> <span data-ttu-id="c99d0-224">此值最初设置为**线程**值**基于资源的阻止**选项卡中**设置仪表板**。</span><span class="sxs-lookup"><span data-stu-id="c99d0-224">This is initially set to the **Threads** value on the **Resource-Based Throttling** tab in **Settings Dashboard**.</span></span> <span data-ttu-id="c99d0-225">此值是自动优化，具体取决于当前进程的线程要求。</span><span class="sxs-lookup"><span data-stu-id="c99d0-225">This value is auto-tuned depending on the thread requirements of the current process.</span></span> <span data-ttu-id="c99d0-226">如果进程中的线程数的时间超过此阈值，任何时候，实现主机阻止。</span><span class="sxs-lookup"><span data-stu-id="c99d0-226">If the number of threads in the process exceeds this threshold value at any point in time, host throttling is implemented.</span></span>|  
|<span data-ttu-id="c99d0-227">已提交的总批</span><span class="sxs-lookup"><span data-stu-id="c99d0-227">Total batches committed</span></span>|<span data-ttu-id="c99d0-228">服务类别提交的数据库批数。</span><span class="sxs-lookup"><span data-stu-id="c99d0-228">Number of database batches that the service class has committed.</span></span>|  
|<span data-ttu-id="c99d0-229">传递的消息总数</span><span class="sxs-lookup"><span data-stu-id="c99d0-229">Total messages delivered</span></span>|<span data-ttu-id="c99d0-230">传递到业务流程引擎或终结点管理器 (EPM) 的出站消息数。</span><span class="sxs-lookup"><span data-stu-id="c99d0-230">Number of outbound messages delivered to the Orchestration engine or the End Point Manager (EPM).</span></span>|  
|<span data-ttu-id="c99d0-231">已发布的消息总数</span><span class="sxs-lookup"><span data-stu-id="c99d0-231">Total messages published</span></span>|<span data-ttu-id="c99d0-232">已发布的消息数。</span><span class="sxs-lookup"><span data-stu-id="c99d0-232">Number of messages published.</span></span>|  
  
> [!NOTE]
>  <span data-ttu-id="c99d0-233">**Biztalk: Message Agent**性能计数器提供用于分析主机的阻止行为的显式目的并且因此将不会捕获数据除非指定的主机主动处理文档。</span><span class="sxs-lookup"><span data-stu-id="c99d0-233">The **BizTalk:Message Agent** performance counters are provided for the explicit purpose of analyzing the throttling behavior of a host and therefore will not capture data unless the specified host is actively processing documents.</span></span> <span data-ttu-id="c99d0-234">此行为通过设计，可防止占用系统线程使用性能监视器时阻止活动未按预期发生。</span><span class="sxs-lookup"><span data-stu-id="c99d0-234">This behavior is by design to prevent consuming system threads with performance monitor when throttling activities are not occurring.</span></span>  
  
## <a name="to-access-performance-counters"></a><span data-ttu-id="c99d0-235">若要访问性能计数器</span><span class="sxs-lookup"><span data-stu-id="c99d0-235">To access performance counters</span></span>  
 <span data-ttu-id="c99d0-236">使用以下步骤访问性能计数器。</span><span class="sxs-lookup"><span data-stu-id="c99d0-236">Use the following steps to access the performance counters.</span></span>  
  
#### <a name="if-you-are-using-windows-2008"></a><span data-ttu-id="c99d0-237">如果您使用的 Windows 2008</span><span class="sxs-lookup"><span data-stu-id="c99d0-237">If you are using Windows 2008</span></span>  
  
1.  <span data-ttu-id="c99d0-238">单击**启动**，依次指向**管理工具**，然后单击**性能监视器**。</span><span class="sxs-lookup"><span data-stu-id="c99d0-238">Click **Start**, point to **Administrative Tools**, and then click **Performance Monitor**.</span></span>  
  
2.  <span data-ttu-id="c99d0-239">在中**性能监视器**对话框框中，展开**监视工具**，选择**性能监视器**，然后单击**添加**。</span><span class="sxs-lookup"><span data-stu-id="c99d0-239">In the **Performance Monitor** dialog box, expand **Monitoring Tools**, select **Performance Monitor**, and then click **Add**.</span></span>  
  
3.  <span data-ttu-id="c99d0-240">在中**添加计数器**对话框中，从**可用的计数器**列表中，展开**biztalk: Message Agent**性能计数器对象，然后选择要进行的计数器监视。</span><span class="sxs-lookup"><span data-stu-id="c99d0-240">In the **Add Counters** dialog box, from the **Available Counters** list, expand the **BizTalk:Message Agent** performance counter object and select the counters to be monitored.</span></span>  
  
4.  <span data-ttu-id="c99d0-241">在中**选定对象的实例**列表中，选择要监视的所选的计数器，然后单击的特定实例**添加**。</span><span class="sxs-lookup"><span data-stu-id="c99d0-241">In the **Instances of Selected object** list, select the specific instances to be monitored for the selected counters and then click **Add**.</span></span>  <span data-ttu-id="c99d0-242">若要选择的所有可用的计数器实例，请选择\<**所有实例**\>。</span><span class="sxs-lookup"><span data-stu-id="c99d0-242">To select all available counter instances, select \<**All instances**\>.</span></span>  
  
5.  <span data-ttu-id="c99d0-243">添加计数器之后, 单击**确定**。</span><span class="sxs-lookup"><span data-stu-id="c99d0-243">After adding the counters, click **OK**.</span></span>  
  
     <span data-ttu-id="c99d0-244">所选的性能计数器随即显示在**性能监视器**屏幕。</span><span class="sxs-lookup"><span data-stu-id="c99d0-244">The selected performance counters appear on the **Performance Monitor** screen.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c99d0-245">请参阅</span><span class="sxs-lookup"><span data-stu-id="c99d0-245">See Also</span></span>  
 <span data-ttu-id="c99d0-246">[限制设计建议](../core/throttling-design-recommendations.md) </span><span class="sxs-lookup"><span data-stu-id="c99d0-246">[Throttling Design Recommendations](../core/throttling-design-recommendations.md) </span></span>  
 <span data-ttu-id="c99d0-247">[BizTalk Server 如何实现主机阻止](../core/how-biztalk-server-implements-host-throttling.md) </span><span class="sxs-lookup"><span data-stu-id="c99d0-247">[How BizTalk Server Implements Host Throttling](../core/how-biztalk-server-implements-host-throttling.md) </span></span>  
 [<span data-ttu-id="c99d0-248">使用设置仪表板进行 BizTalk Server 性能调整</span><span class="sxs-lookup"><span data-stu-id="c99d0-248">Using Settings Dashboard for BizTalk Server Performance Tuning</span></span>](../core/using-settings-dashboard-for-biztalk-server-performance-tuning.md)