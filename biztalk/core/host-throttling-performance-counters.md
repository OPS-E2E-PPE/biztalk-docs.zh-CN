---
title: "主机限制性能计数器 |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords: host throttling, performance counters
ms.assetid: b9090d1c-86be-40db-b814-cc116a426d95
caps.latest.revision: "22"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: b823326a0cc486dcf3f95dc70a6249d4d719d133
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
---
# <a name="host-throttling-performance-counters"></a><span data-ttu-id="69347-102">主机阻止性能计数器</span><span class="sxs-lookup"><span data-stu-id="69347-102">Host Throttling Performance Counters</span></span>
<span data-ttu-id="69347-103">本部分将介绍用于测量影响主机阻止的系统参数的性能监视器计数器。</span><span class="sxs-lookup"><span data-stu-id="69347-103">This section describes the performance monitor counters that measure system parameters that impact host throttling.</span></span> <span data-ttu-id="69347-104">以下性能计数器进行访问每个主机实例下**BizTalk:Message 代理**性能对象类别：</span><span class="sxs-lookup"><span data-stu-id="69347-104">The following performance counters are accessible for each host instance under the **BizTalk:Message Agent** performance object category:</span></span>  
  
|<span data-ttu-id="69347-105">计数器</span><span class="sxs-lookup"><span data-stu-id="69347-105">Counter</span></span>|<span data-ttu-id="69347-106">Description</span><span class="sxs-lookup"><span data-stu-id="69347-106">Description</span></span>|  
|-------------|-----------------|  
|<span data-ttu-id="69347-107">Active instance count</span><span class="sxs-lookup"><span data-stu-id="69347-107">Active instance count</span></span>|<span data-ttu-id="69347-108">内存中处于活动状态的服务实例数。</span><span class="sxs-lookup"><span data-stu-id="69347-108">Number of service instances active in memory.</span></span> <span data-ttu-id="69347-109">对于业务流程引擎，服务实例表示每个正在运行的业务流程调度实例。</span><span class="sxs-lookup"><span data-stu-id="69347-109">For the orchestration engine, a service instance refers to each running instance of an orchestration schedule.</span></span> <span data-ttu-id="69347-110">对于端点管理器，服务实例可以对应于单个无状态消息，也可以对应于有状态消息的集合。</span><span class="sxs-lookup"><span data-stu-id="69347-110">For the End Point Manager, a service instance may either correspond to a single stateless message, or to a collection of stateful messages.</span></span> <span data-ttu-id="69347-111">**注意：**有状态的实例是指那些维护有关与实例关联的消息的某些状态信息。</span><span class="sxs-lookup"><span data-stu-id="69347-111">**Note:**  Stateful instances are those that maintain certain state information about the messages associated with the instance.</span></span> <span data-ttu-id="69347-112">属于有状态实例的各消息在某种形式上是彼此相关的。</span><span class="sxs-lookup"><span data-stu-id="69347-112">Messages belonging to a stateful instance are co-related in some form or the other.</span></span> <span data-ttu-id="69347-113">例如，维护有关排序的信息的按序发送端口被视为有状态实例。</span><span class="sxs-lookup"><span data-stu-id="69347-113">For example an ordered send port that maintains information about the ordering are considered stateful instances.</span></span> <span data-ttu-id="69347-114">大多数消息传送方案都涉及无状态实例，在这些实例中，将对消息进行完全相互独立地处理。</span><span class="sxs-lookup"><span data-stu-id="69347-114">Most messaging scenarios involve stateless instances where messages are processed completely independent of each other.</span></span> <span data-ttu-id="69347-115">每个无状态实例都对应于 EPM 内的单个消息。</span><span class="sxs-lookup"><span data-stu-id="69347-115">Each such stateless instance corresponds to a single message within the EPM.</span></span>|  
|<span data-ttu-id="69347-116">Database session</span><span class="sxs-lookup"><span data-stu-id="69347-116">Database session</span></span>|<span data-ttu-id="69347-117">正在使用的并行 MessageBox 数据库连接数。</span><span class="sxs-lookup"><span data-stu-id="69347-117">Number of concurrent MessageBox database connections being used.</span></span>|  
|<span data-ttu-id="69347-118">Database session threshold</span><span class="sxs-lookup"><span data-stu-id="69347-118">Database session threshold</span></span>|<span data-ttu-id="69347-119">并行数据库会话的当前阈值。</span><span class="sxs-lookup"><span data-stu-id="69347-119">The current threshold for concurrent database sessions.</span></span> <span data-ttu-id="69347-120">这最初设置为**数据库连接**值上**基于资源的限制**选项卡中**设置仪表板**。</span><span class="sxs-lookup"><span data-stu-id="69347-120">This is initially set to the **Database connections** value on the **Resource-Based Throttling** tab in **Settings Dashboard**.</span></span> <span data-ttu-id="69347-121">此值将根据进程的数据库会话使用率自动进行优化。</span><span class="sxs-lookup"><span data-stu-id="69347-121">This value is auto-tuned based on the database session usage of the process.</span></span> <span data-ttu-id="69347-122">在任何时间，只要并行数据库会话数超过此阈值，则会进行主机阻止。</span><span class="sxs-lookup"><span data-stu-id="69347-122">If the number of concurrent database sessions exceeds this threshold at any time, host throttling is implemented.</span></span>|  
|<span data-ttu-id="69347-123">数据库大小</span><span class="sxs-lookup"><span data-stu-id="69347-123">Database size</span></span>|<span data-ttu-id="69347-124">此进程已发布的数据库队列中的消息数。</span><span class="sxs-lookup"><span data-stu-id="69347-124">Number of messages in the database queues that this process has published.</span></span> <span data-ttu-id="69347-125">此值按所有主机队列表中的项数以及后台处理表和跟踪表中的项数来衡量。</span><span class="sxs-lookup"><span data-stu-id="69347-125">This value is measured by the number of items in the queue tables for all hosts and the number of items in the spool and tracking tables.</span></span> <span data-ttu-id="69347-126">如果要将某一进程发布到多个队列，则此计数器将反映所有队列的加权平均值。</span><span class="sxs-lookup"><span data-stu-id="69347-126">If a process is publishing to multiple queues, this counter reflects the weighted average of all the queues.</span></span> <span data-ttu-id="69347-127">**注意：**如果重新启动主机时，保存在内存中的统计信息都将丢失。</span><span class="sxs-lookup"><span data-stu-id="69347-127">**Note:**  If the host is restarted, statistics held in memory are lost.</span></span> <span data-ttu-id="69347-128">由于涉及一些系统开销，因此只有至少存在 100 个发布（使用重新启动的主机进程内全部发布的 5%）时，BizTalk Server 才会恢复收集统计信息。</span><span class="sxs-lookup"><span data-stu-id="69347-128">Since there is some overhead involved, BizTalk Server will resume gathering statistics only when there are at least 100 publishes with 5% of the total publishes within the restarted host process.</span></span>|  
|<span data-ttu-id="69347-129">High database session</span><span class="sxs-lookup"><span data-stu-id="69347-129">High database session</span></span>|<span data-ttu-id="69347-130">-0： 正常</span><span class="sxs-lookup"><span data-stu-id="69347-130">-   0: Normal</span></span><br /><span data-ttu-id="69347-131">-1： 数据库会话数超过阈值</span><span class="sxs-lookup"><span data-stu-id="69347-131">-   1: Database session count exceeds threshold</span></span>|  
|<span data-ttu-id="69347-132">High database size</span><span class="sxs-lookup"><span data-stu-id="69347-132">High database size</span></span>|<span data-ttu-id="69347-133">-0： 正常</span><span class="sxs-lookup"><span data-stu-id="69347-133">-   0: Normal</span></span><br /><span data-ttu-id="69347-134">-1： 数据库已增大超出阈值</span><span class="sxs-lookup"><span data-stu-id="69347-134">-   1: Database size has grown beyond threshold</span></span><br /><br /> <span data-ttu-id="69347-135">此计数器将设置为一个值，如果任何一个条件为列出**消息在数据库中的计数**阈值时发生。</span><span class="sxs-lookup"><span data-stu-id="69347-135">This counter will be set to a value of one if either of the conditions listed for the **Message count in DB** threshold occurs.</span></span> <span data-ttu-id="69347-136">[如何修改资源基于限制设置](../core/how-to-modify-resource-based-throttling-settings.md)提供有关此限制阈值的信息。</span><span class="sxs-lookup"><span data-stu-id="69347-136">[How to Modify Resource Based Throttling Settings](../core/how-to-modify-resource-based-throttling-settings.md) provides information on this throttling threshold.</span></span>|  
|<span data-ttu-id="69347-137">High in-process message count</span><span class="sxs-lookup"><span data-stu-id="69347-137">High in-process message count</span></span>|<span data-ttu-id="69347-138">-0： 正常</span><span class="sxs-lookup"><span data-stu-id="69347-138">-   0: Normal</span></span><br /><span data-ttu-id="69347-139">-1： 进程内消息计数超过限制</span><span class="sxs-lookup"><span data-stu-id="69347-139">-   1: In-process message count exceeds limit</span></span>|  
|<span data-ttu-id="69347-140">High message delivery rate</span><span class="sxs-lookup"><span data-stu-id="69347-140">High message delivery rate</span></span>|<span data-ttu-id="69347-141">-0： 正常</span><span class="sxs-lookup"><span data-stu-id="69347-141">-   0: Normal</span></span><br /><span data-ttu-id="69347-142">-1： 消息传送速率超过消息处理速率</span><span class="sxs-lookup"><span data-stu-id="69347-142">-   1: Message delivery rate exceeds the message processing Rate</span></span>|  
|<span data-ttu-id="69347-143">High message publishing rate</span><span class="sxs-lookup"><span data-stu-id="69347-143">High message publishing rate</span></span>|<span data-ttu-id="69347-144">-0： 正常</span><span class="sxs-lookup"><span data-stu-id="69347-144">-   0: Normal</span></span><br /><span data-ttu-id="69347-145">-1： 发布请求率超过完成率</span><span class="sxs-lookup"><span data-stu-id="69347-145">-   1: Publishing request rate exceeds completion rate</span></span>|  
|<span data-ttu-id="69347-146">High process memory</span><span class="sxs-lookup"><span data-stu-id="69347-146">High process memory</span></span>|<span data-ttu-id="69347-147">-0： 正常</span><span class="sxs-lookup"><span data-stu-id="69347-147">-   0: Normal</span></span><br /><span data-ttu-id="69347-148">-1： 进程内存超过阈值</span><span class="sxs-lookup"><span data-stu-id="69347-148">-   1: Process memory exceeds threshold</span></span>|  
|<span data-ttu-id="69347-149">系统内存过高</span><span class="sxs-lookup"><span data-stu-id="69347-149">High system memory</span></span>|<span data-ttu-id="69347-150">-0： 正常</span><span class="sxs-lookup"><span data-stu-id="69347-150">-   0: Normal</span></span><br /><span data-ttu-id="69347-151">-1： 系统内存超过阈值</span><span class="sxs-lookup"><span data-stu-id="69347-151">-   1: System memory exceeds threshold</span></span>|  
|<span data-ttu-id="69347-152">High thread count</span><span class="sxs-lookup"><span data-stu-id="69347-152">High thread count</span></span>|<span data-ttu-id="69347-153">-0： 正常</span><span class="sxs-lookup"><span data-stu-id="69347-153">-   0: Normal</span></span><br /><span data-ttu-id="69347-154">-1： 线程计数超过阈值</span><span class="sxs-lookup"><span data-stu-id="69347-154">-   1: Thread count exceeds threshold</span></span>|  
|<span data-ttu-id="69347-155">In-process message count</span><span class="sxs-lookup"><span data-stu-id="69347-155">In-process message count</span></span>|<span data-ttu-id="69347-156">已传送到 XLANG 引擎或出站消息引擎但尚未处理的内存中消息数。</span><span class="sxs-lookup"><span data-stu-id="69347-156">Number of in-memory messages delivered to the XLANG engine or the outbound messaging engine that are not yet processed.</span></span>|  
|<span data-ttu-id="69347-157">In-process message count threshold</span><span class="sxs-lookup"><span data-stu-id="69347-157">In-process message count threshold</span></span>|<span data-ttu-id="69347-158">进程内消息数的当前阈值。</span><span class="sxs-lookup"><span data-stu-id="69347-158">The current threshold for in-process message count.</span></span>|  
|<span data-ttu-id="69347-159">Message delivery delay (ms)</span><span class="sxs-lookup"><span data-stu-id="69347-159">Message delivery delay (ms)</span></span>|<span data-ttu-id="69347-160">对每个消息送达批规定的以毫秒计的当前延迟时间（只在阻止消息送达的情况下适用）。</span><span class="sxs-lookup"><span data-stu-id="69347-160">The current delay in ms imposed on each message delivery batch (applicable if the message delivery is being throttled).</span></span>|  
|<span data-ttu-id="69347-161">Message delivery incoming rate</span><span class="sxs-lookup"><span data-stu-id="69347-161">Message delivery incoming rate</span></span>|<span data-ttu-id="69347-162">在给定的示例间隔中每秒传送到业务流程引擎或消息引擎的消息数。</span><span class="sxs-lookup"><span data-stu-id="69347-162">Number of messages per second that are being delivered to the Orchestration engine or the Messaging engine in the given sample interval.</span></span>|  
|<span data-ttu-id="69347-163">Message delivery outgoing rate</span><span class="sxs-lookup"><span data-stu-id="69347-163">Message delivery outgoing rate</span></span>|<span data-ttu-id="69347-164">在给定的示例间隔中业务流程引擎或消息引擎每秒处理的消息数。</span><span class="sxs-lookup"><span data-stu-id="69347-164">Number of messages per second that are being processed by the Orchestration engine or the Messaging engine in the given sample interval.</span></span>|  
|<span data-ttu-id="69347-165">消息传递限制状态</span><span class="sxs-lookup"><span data-stu-id="69347-165">Message delivery throttling state</span></span>|<span data-ttu-id="69347-166">指示系统是否要阻止消息送达（影响 XLANG 消息处理和出站传输）的标志。</span><span class="sxs-lookup"><span data-stu-id="69347-166">A flag indicating whether the system is throttling message delivery (affecting XLANG message processing and outbound transports).</span></span><br /><br /> <span data-ttu-id="69347-167">-0： 不限制</span><span class="sxs-lookup"><span data-stu-id="69347-167">-   0: Not throttling</span></span><br /><span data-ttu-id="69347-168">-1： 由于失衡的消息传送速率限制 （输入的率超过输出速率）</span><span class="sxs-lookup"><span data-stu-id="69347-168">-   1: Throttling due to imbalanced message delivery rate (input rate exceeds output rate)</span></span><br /><span data-ttu-id="69347-169">-3： 由于高限制进程内消息计数</span><span class="sxs-lookup"><span data-stu-id="69347-169">-   3: Throttling due to high in-process message count</span></span><br /><span data-ttu-id="69347-170">-4： 由于进程内存压力限制</span><span class="sxs-lookup"><span data-stu-id="69347-170">-   4: Throttling due to process memory pressure</span></span><br /><span data-ttu-id="69347-171">-5： 由于系统内存压力限制</span><span class="sxs-lookup"><span data-stu-id="69347-171">-   5: Throttling due to system memory pressure</span></span><br /><span data-ttu-id="69347-172">-9： 由于高的线程数限制</span><span class="sxs-lookup"><span data-stu-id="69347-172">-   9: Throttling due to high thread count</span></span><br /><span data-ttu-id="69347-173">-10： 限制由于用户在传递上重写</span><span class="sxs-lookup"><span data-stu-id="69347-173">-   10: Throttling due to user override on delivery</span></span>|  
|<span data-ttu-id="69347-174">Message delivery throttling state duration</span><span class="sxs-lookup"><span data-stu-id="69347-174">Message delivery throttling state duration</span></span>|<span data-ttu-id="69347-175">从系统进入此状态之后的秒数。</span><span class="sxs-lookup"><span data-stu-id="69347-175">Seconds since the system entered this state.</span></span> <span data-ttu-id="69347-176">如果主机处于阻止状态，则为已阻止的时间；如果主机未进行阻止，则为应用阻止之后的时间。</span><span class="sxs-lookup"><span data-stu-id="69347-176">If the host is throttling, how long it has been throttling; if it is not throttling, how long since throttling was applied.</span></span>|  
|<span data-ttu-id="69347-177">Message delivery throttling user override</span><span class="sxs-lookup"><span data-stu-id="69347-177">Message delivery throttling user override</span></span>|<span data-ttu-id="69347-178">此计数器反映了引擎监视的用户替代，其解释如下所示：</span><span class="sxs-lookup"><span data-stu-id="69347-178">This counter reflects the user override that is monitored by the engine and interpreted as follows:</span></span><br /><br /> <span data-ttu-id="69347-179">-0： 不重写</span><span class="sxs-lookup"><span data-stu-id="69347-179">-   0: No override</span></span><br /><span data-ttu-id="69347-180">-1： 始终限制消息传递</span><span class="sxs-lookup"><span data-stu-id="69347-180">-   1: Always throttle message delivery</span></span><br /><span data-ttu-id="69347-181">-2： 不限制消息传递</span><span class="sxs-lookup"><span data-stu-id="69347-181">-   2: Do not throttle message delivery</span></span><br /><br /> <span data-ttu-id="69347-182">此替代是在可配置**基于速率限制**选项卡中**设置仪表板**。</span><span class="sxs-lookup"><span data-stu-id="69347-182">This override is configurable in the **Rate-Based Throttling** tab in **Settings Dashboard**.</span></span>|  
|<span data-ttu-id="69347-183">Message publishing delay (ms)</span><span class="sxs-lookup"><span data-stu-id="69347-183">Message publishing delay (ms)</span></span>|<span data-ttu-id="69347-184">对每个消息发布批规定的以毫秒计的当前延迟时间（只在阻止消息发布并且阻止批的情况下适用）。</span><span class="sxs-lookup"><span data-stu-id="69347-184">The current delay in ms imposed on each message publishing batch (applicable if the message publishing is being throttled and if the batch is not exempted from throttling).</span></span>|  
|<span data-ttu-id="69347-185">Message publishing incoming rate</span><span class="sxs-lookup"><span data-stu-id="69347-185">Message publishing incoming rate</span></span>|<span data-ttu-id="69347-186">在给定的示例间隔中每秒要发送到数据库以进行发布的消息数。</span><span class="sxs-lookup"><span data-stu-id="69347-186">Number of messages per second that are being sent to the database for publishing in the given sample interval.</span></span>|  
|<span data-ttu-id="69347-187">Message publishing outgoing rate</span><span class="sxs-lookup"><span data-stu-id="69347-187">Message publishing outgoing rate</span></span>|<span data-ttu-id="69347-188">在给定的示例间隔中每秒已在数据库中实际发布的消息数。</span><span class="sxs-lookup"><span data-stu-id="69347-188">Number of messages per second that are actually published in the database in the given sample interval.</span></span>|  
|<span data-ttu-id="69347-189">Message publishing throttling state</span><span class="sxs-lookup"><span data-stu-id="69347-189">Message publishing throttling state</span></span>|<span data-ttu-id="69347-190">指示系统是否要阻止消息发布（影响 XLANG 消息处理和入站传输）的标志。</span><span class="sxs-lookup"><span data-stu-id="69347-190">A flag indicating whether the system is throttling message publishing (affecting XLANG message processing and inbound transports).</span></span><br /><br /> <span data-ttu-id="69347-191">-0： 不限制</span><span class="sxs-lookup"><span data-stu-id="69347-191">-   0: Not throttling</span></span><br /><span data-ttu-id="69347-192">-2： 由于失衡消息发布速率限制 （输入的率超过输出速率）</span><span class="sxs-lookup"><span data-stu-id="69347-192">-   2: Throttling due to imbalanced message publishing rate (input rate exceeds output rate)</span></span><br /><span data-ttu-id="69347-193">-4： 由于进程内存压力限制</span><span class="sxs-lookup"><span data-stu-id="69347-193">-   4: Throttling due to process memory pressure</span></span><br /><span data-ttu-id="69347-194">-5： 由于系统内存压力限制</span><span class="sxs-lookup"><span data-stu-id="69347-194">-   5: Throttling due to system memory pressure</span></span><br /><span data-ttu-id="69347-195">-6： 由于数据库增长限制</span><span class="sxs-lookup"><span data-stu-id="69347-195">-   6: Throttling due to database growth</span></span><br /><span data-ttu-id="69347-196">-8： 由于高会话计数限制</span><span class="sxs-lookup"><span data-stu-id="69347-196">-   8: Throttling due to high session count</span></span><br /><span data-ttu-id="69347-197">-9： 由于高的线程数限制</span><span class="sxs-lookup"><span data-stu-id="69347-197">-   9: Throttling due to high thread count</span></span><br /><span data-ttu-id="69347-198">-11： 由于用户限制在发布上重写</span><span class="sxs-lookup"><span data-stu-id="69347-198">-   11: Throttling due to user override on publishing</span></span>|  
|<span data-ttu-id="69347-199">Message publishing throttling state duration</span><span class="sxs-lookup"><span data-stu-id="69347-199">Message publishing throttling state duration</span></span>|<span data-ttu-id="69347-200">从系统进入此状态之后的秒数。</span><span class="sxs-lookup"><span data-stu-id="69347-200">Seconds since the system entered this state.</span></span> <span data-ttu-id="69347-201">如果主机处于阻止状态，则为已阻止的时间；如果主机未进行阻止，则为应用阻止之后的时间。</span><span class="sxs-lookup"><span data-stu-id="69347-201">If the host is throttling, how long it has been throttling; if it is not throttling, how long since throttling was applied.</span></span>|  
|<span data-ttu-id="69347-202">Message publishing throttling user override</span><span class="sxs-lookup"><span data-stu-id="69347-202">Message publishing throttling user override</span></span>|<span data-ttu-id="69347-203">此计数器反映了引擎监视的用户替代，其解释如下所示：</span><span class="sxs-lookup"><span data-stu-id="69347-203">This counter reflects the user override that is monitored by the engine and interpreted as follows:</span></span><br /><br /> <span data-ttu-id="69347-204">-0： 不重写</span><span class="sxs-lookup"><span data-stu-id="69347-204">-   0: No override</span></span><br /><span data-ttu-id="69347-205">-1： 始终限制消息发布</span><span class="sxs-lookup"><span data-stu-id="69347-205">-   1: Always throttle message publishing</span></span><br /><span data-ttu-id="69347-206">-2： 不限制消息发布</span><span class="sxs-lookup"><span data-stu-id="69347-206">-   2: Do not throttle message publishing</span></span><br /><br /> <span data-ttu-id="69347-207">此替代是在可配置**基于速率限制**选项卡中**设置仪表板**。</span><span class="sxs-lookup"><span data-stu-id="69347-207">This override is configurable in the **Rate-Based Throttling** tab in **Settings Dashboard**.</span></span>|  
|<span data-ttu-id="69347-208">Physical memory usage (MB)</span><span class="sxs-lookup"><span data-stu-id="69347-208">Physical memory usage (MB)</span></span>|<span data-ttu-id="69347-209">在计算机上所有进程要使用的物理内存量（以 MB 计）。</span><span class="sxs-lookup"><span data-stu-id="69347-209">The amount of physical memory in MB being used on the machine by all processes.</span></span>|  
|<span data-ttu-id="69347-210">进程内存使用率 (MB)</span><span class="sxs-lookup"><span data-stu-id="69347-210">Process memory usage (MB)</span></span>|<span data-ttu-id="69347-211">进程内存占用量（以 MB 计）。</span><span class="sxs-lookup"><span data-stu-id="69347-211">The process memory consumption in MB.</span></span> <span data-ttu-id="69347-212">这是进程的工作集大小以及为进程页文件分配的总空间大小的最大值。</span><span class="sxs-lookup"><span data-stu-id="69347-212">This is the maximum of the process’s working set size and the total space allocated for the page file for the process.</span></span>|  
|<span data-ttu-id="69347-213">Process memory usage threshold (MB)</span><span class="sxs-lookup"><span data-stu-id="69347-213">Process memory usage threshold (MB)</span></span>|<span data-ttu-id="69347-214">进程内存占用量的当前阈值（以 MB 计）。</span><span class="sxs-lookup"><span data-stu-id="69347-214">The current threshold for process memory consumption in MB.</span></span> <span data-ttu-id="69347-215">这最初设置为**进程虚拟**中的值**设置仪表板**。</span><span class="sxs-lookup"><span data-stu-id="69347-215">This is initially set to the **Process virtual** value in **Settings Dashboard**.</span></span> <span data-ttu-id="69347-216">如果指定了百分比值，则根据要提交的可用内存来计算此值。</span><span class="sxs-lookup"><span data-stu-id="69347-216">If a percentage value is specified, it is computed based on the available memory to commit</span></span>|  
|<span data-ttu-id="69347-217">Service class ID</span><span class="sxs-lookup"><span data-stu-id="69347-217">Service class ID</span></span>|<span data-ttu-id="69347-218">此性能计数器实例对应的服务类别 GUID 的初始部分的十进制值。</span><span class="sxs-lookup"><span data-stu-id="69347-218">The decimal value of the initial part of the service class GUID that this performance counter instance corresponds to.</span></span> <span data-ttu-id="69347-219">一个进程可以作为多个服务类别的宿主，而消息代理性能计数器则显示最频繁使用的服务类别的数据。</span><span class="sxs-lookup"><span data-stu-id="69347-219">A process may host more than one service class and the message agent performance counters show the data for the most active service class.</span></span>|  
|<span data-ttu-id="69347-220">Thread count</span><span class="sxs-lookup"><span data-stu-id="69347-220">Thread count</span></span>|<span data-ttu-id="69347-221">进程内正在使用的线程数。</span><span class="sxs-lookup"><span data-stu-id="69347-221">Number of threads being used within the process.</span></span>|  
|<span data-ttu-id="69347-222">Thread count threshold</span><span class="sxs-lookup"><span data-stu-id="69347-222">Thread count threshold</span></span>|<span data-ttu-id="69347-223">进程内的线程数的当前阈值。</span><span class="sxs-lookup"><span data-stu-id="69347-223">The current threshold for the number of threads in the process.</span></span> <span data-ttu-id="69347-224">这最初设置为**线程**值上**基于资源的限制**选项卡中**设置仪表板**。</span><span class="sxs-lookup"><span data-stu-id="69347-224">This is initially set to the **Threads** value on the **Resource-Based Throttling** tab in **Settings Dashboard**.</span></span> <span data-ttu-id="69347-225">此值将根据当前进程的线程要求自动进行优化。</span><span class="sxs-lookup"><span data-stu-id="69347-225">This value is auto-tuned depending on the thread requirements of the current process.</span></span> <span data-ttu-id="69347-226">在任何时点，只要进程中的线程数超过此阈值，则会进行主机阻止。</span><span class="sxs-lookup"><span data-stu-id="69347-226">If the number of threads in the process exceeds this threshold value at any point in time, host throttling is implemented.</span></span>|  
|<span data-ttu-id="69347-227">Total batches committed</span><span class="sxs-lookup"><span data-stu-id="69347-227">Total batches committed</span></span>|<span data-ttu-id="69347-228">服务类别提交的数据库批数。</span><span class="sxs-lookup"><span data-stu-id="69347-228">Number of database batches that the service class has committed.</span></span>|  
|<span data-ttu-id="69347-229">Total messages delivered</span><span class="sxs-lookup"><span data-stu-id="69347-229">Total messages delivered</span></span>|<span data-ttu-id="69347-230">传送到业务流程引擎或端点管理器 (EPM) 的出站消息数。</span><span class="sxs-lookup"><span data-stu-id="69347-230">Number of outbound messages delivered to the Orchestration engine or the End Point Manager (EPM).</span></span>|  
|<span data-ttu-id="69347-231">Total messages published</span><span class="sxs-lookup"><span data-stu-id="69347-231">Total messages published</span></span>|<span data-ttu-id="69347-232">已发布的消息数。</span><span class="sxs-lookup"><span data-stu-id="69347-232">Number of messages published.</span></span>|  
  
> [!NOTE]
>  <span data-ttu-id="69347-233">**BizTalk:Message 代理**性能计数器为了便于分析限制主机的行为的显式目的，因此将不会捕获数据除非指定的主机正在主动处理的文档。</span><span class="sxs-lookup"><span data-stu-id="69347-233">The **BizTalk:Message Agent** performance counters are provided for the explicit purpose of analyzing the throttling behavior of a host and therefore will not capture data unless the specified host is actively processing documents.</span></span> <span data-ttu-id="69347-234">此行为设计用于在阻止活动未发生时使用性能监视器来防止占用系统线程。</span><span class="sxs-lookup"><span data-stu-id="69347-234">This behavior is by design to prevent consuming system threads with performance monitor when throttling activities are not occurring.</span></span>  
  
## <a name="to-access-performance-counters"></a><span data-ttu-id="69347-235">访问性能计数器</span><span class="sxs-lookup"><span data-stu-id="69347-235">To access performance counters</span></span>  
 <span data-ttu-id="69347-236">依照下述步骤访问性能计数器。</span><span class="sxs-lookup"><span data-stu-id="69347-236">Use the following steps to access the performance counters.</span></span>  
  
#### <a name="if-you-are-using-windows-2008"></a><span data-ttu-id="69347-237">如果您使用的是 Windows 2008</span><span class="sxs-lookup"><span data-stu-id="69347-237">If you are using Windows 2008</span></span>  
  
1.  <span data-ttu-id="69347-238">单击**启动**，指向**管理工具**，然后单击**性能监视器**。</span><span class="sxs-lookup"><span data-stu-id="69347-238">Click **Start**, point to **Administrative Tools**, and then click **Performance Monitor**.</span></span>  
  
2.  <span data-ttu-id="69347-239">在**性能监视器**对话框框中，展开**监视工具**，选择**性能监视器**，然后单击**添加**。</span><span class="sxs-lookup"><span data-stu-id="69347-239">In the **Performance Monitor** dialog box, expand **Monitoring Tools**, select **Performance Monitor**, and then click **Add**.</span></span>  
  
3.  <span data-ttu-id="69347-240">在**添加计数器**对话框中，从**可用计数器**列表中，展开**BizTalk:Message 代理**性能计数器对象，然后选择要将的计数器监视。</span><span class="sxs-lookup"><span data-stu-id="69347-240">In the **Add Counters** dialog box, from the **Available Counters** list, expand the **BizTalk:Message Agent** performance counter object and select the counters to be monitored.</span></span>  
  
4.  <span data-ttu-id="69347-241">在**实例的所选对象**列表中，选择要监视的所选计数器，然后单击的特定实例**添加**。</span><span class="sxs-lookup"><span data-stu-id="69347-241">In the **Instances of Selected object** list, select the specific instances to be monitored for the selected counters and then click **Add**.</span></span>  <span data-ttu-id="69347-242">若要选择的所有可用的计数器实例，选择\<**所有实例**>。</span><span class="sxs-lookup"><span data-stu-id="69347-242">To select all available counter instances, select \<**All instances**>.</span></span>  
  
5.  <span data-ttu-id="69347-243">添加计数器后, 单击**确定**。</span><span class="sxs-lookup"><span data-stu-id="69347-243">After adding the counters, click **OK**.</span></span>  
  
     <span data-ttu-id="69347-244">所选的性能计数器显示在**性能监视器**屏幕。</span><span class="sxs-lookup"><span data-stu-id="69347-244">The selected performance counters appear on the **Performance Monitor** screen.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="69347-245">另请参阅</span><span class="sxs-lookup"><span data-stu-id="69347-245">See Also</span></span>  
 <span data-ttu-id="69347-246">[限制的设计建议](../core/throttling-design-recommendations.md) </span><span class="sxs-lookup"><span data-stu-id="69347-246">[Throttling Design Recommendations](../core/throttling-design-recommendations.md) </span></span>  
 <span data-ttu-id="69347-247">[BizTalk Server 如何实施限制的主机](../core/how-biztalk-server-implements-host-throttling.md) </span><span class="sxs-lookup"><span data-stu-id="69347-247">[How BizTalk Server Implements Host Throttling](../core/how-biztalk-server-implements-host-throttling.md) </span></span>  
 [<span data-ttu-id="69347-248">设置仪表板用于 BizTalk Server 性能优化</span><span class="sxs-lookup"><span data-stu-id="69347-248">Using Settings Dashboard for BizTalk Server Performance Tuning</span></span>](../core/using-settings-dashboard-for-biztalk-server-performance-tuning.md)