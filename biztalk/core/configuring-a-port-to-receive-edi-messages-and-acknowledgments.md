---
title: 配置端口以接收 EDI 消息和确认 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: c043e648-b7f5-40aa-b7b5-0172fbea7b31
caps.latest.revision: 18
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 1cfb412d37e844e37ba35bb08d638a57919b2b19
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65356389"
---
# <a name="configuring-a-port-to-receive-edi-messages-and-acknowledgments"></a><span data-ttu-id="db13e-102">配置接收 EDI 消息和确认的端口</span><span class="sxs-lookup"><span data-stu-id="db13e-102">Configuring a Port to Receive EDI Messages and Acknowledgments</span></span>
<span data-ttu-id="db13e-103">若要接收的 EDI 交换，可以创建一个单向接收端口或请求-响应 （双向） 接收端口以接收交换。</span><span class="sxs-lookup"><span data-stu-id="db13e-103">To receive an EDI interchange, you can create either a one-way receive port or a request-response (two-way) receive port to receive the interchange.</span></span>  

-   <span data-ttu-id="db13e-104">创建一个单向接收端口，如果您还将创建一个单向发送端口以发送 EDI 确认 （如果已启用）。</span><span class="sxs-lookup"><span data-stu-id="db13e-104">Create a one-way receive port if you will also create a one-way send port to send EDI acknowledgments (if enabled).</span></span> <span data-ttu-id="db13e-105">您还必须清除**将确认路由到发送管道请求-响应接收端口**协议属性。</span><span class="sxs-lookup"><span data-stu-id="db13e-105">You will also have to clear the **Route ACK to send pipeline on request-response receive port** agreement property.</span></span>  

-   <span data-ttu-id="db13e-106">创建请求响应接收端口和位置来返回 EDI 确认 （如果启用） 通过关联发送管道。</span><span class="sxs-lookup"><span data-stu-id="db13e-106">Create a request response receive port and location to return EDI acknowledgments (if enabled) over the associated send pipeline.</span></span> <span data-ttu-id="db13e-107">您还需要选择**将确认路由到发送管道请求-响应接收端口**协议属性。</span><span class="sxs-lookup"><span data-stu-id="db13e-107">You will also have to select the **Route ACK to send pipeline on request-response receive port** agreement property.</span></span>  

## <a name="creating-a-one-way-receive-port"></a><span data-ttu-id="db13e-108">创建一个单向接收端口</span><span class="sxs-lookup"><span data-stu-id="db13e-108">Creating a One-Way Receive Port</span></span>  
 <span data-ttu-id="db13e-109">使用以下配置创建接收端口和位置：</span><span class="sxs-lookup"><span data-stu-id="db13e-109">Create the receive port and location with the following configuration:</span></span>  


|                   <span data-ttu-id="db13e-110">Location</span><span class="sxs-lookup"><span data-stu-id="db13e-110">Location</span></span>                    |                                              <span data-ttu-id="db13e-111">属性</span><span class="sxs-lookup"><span data-stu-id="db13e-111">Property</span></span>                                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <span data-ttu-id="db13e-112">设置</span><span class="sxs-lookup"><span data-stu-id="db13e-112">Setting</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|-----------------------------------------------|-----------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|     <span data-ttu-id="db13e-113">**接收端口属性：常规**</span><span class="sxs-lookup"><span data-stu-id="db13e-113">**Receive Port Properties: General**</span></span>      |                                              <span data-ttu-id="db13e-114">端口类型</span><span class="sxs-lookup"><span data-stu-id="db13e-114">Port type</span></span>                                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <span data-ttu-id="db13e-115">单向</span><span class="sxs-lookup"><span data-stu-id="db13e-115">One-Way</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|     <span data-ttu-id="db13e-116">**接收端口属性：常规**</span><span class="sxs-lookup"><span data-stu-id="db13e-116">**Receive Port Properties: General**</span></span>      |                                           <span data-ttu-id="db13e-117">身份验证</span><span class="sxs-lookup"><span data-stu-id="db13e-117">Authentication</span></span>                                            | <span data-ttu-id="db13e-118">设置为**身份验证失败时删除消息**或**身份验证失败时保留消息**进行身份验证发送接收到的消息的参与方。</span><span class="sxs-lookup"><span data-stu-id="db13e-118">Set to **Drop messages if authentication fails** or **Keep messages if authentication fails** to authenticate the party that sent the received message.</span></span><br /><br /> <span data-ttu-id="db13e-119">设置为**无身份验证**禁用发送接收到的消息的参与方进行身份验证。</span><span class="sxs-lookup"><span data-stu-id="db13e-119">Set to **No authentication** to disable authentication of the party that sent the received message.</span></span><br /><br /> <span data-ttu-id="db13e-120">如果设置为**身份验证失败时删除消息**，[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]将挂起一条消息，如果发送方的身份验证失败。</span><span class="sxs-lookup"><span data-stu-id="db13e-120">If set to **Drop messages if authentication fails**, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will suspend a message if the authentication of its sender fails.</span></span><br /><br /> <span data-ttu-id="db13e-121">如果设置为**身份验证失败时删除消息**或**身份验证失败时保留消息**，消息必须解析为协议。</span><span class="sxs-lookup"><span data-stu-id="db13e-121">If set to **Drop messages if authentication fails** or **Keep messages if authentication fails**, the message must resolve to an agreement.</span></span> <span data-ttu-id="db13e-122">不允许使用后备协议属性。</span><span class="sxs-lookup"><span data-stu-id="db13e-122">Using the fallback agreement properties is not allowed.</span></span> <span data-ttu-id="db13e-123">如果为传入消息，不确定任何协议[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]像验证已失败，会将消息并将挂起该消息。</span><span class="sxs-lookup"><span data-stu-id="db13e-123">If no agreement is determined for an incoming message, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will treat the message as though authentication had failed, and will suspend the message.</span></span> |
|   <span data-ttu-id="db13e-124">**接收位置属性：常规**</span><span class="sxs-lookup"><span data-stu-id="db13e-124">**Receive Location Properties: General**</span></span>    |                                           <span data-ttu-id="db13e-125">传输类型</span><span class="sxs-lookup"><span data-stu-id="db13e-125">Transport Type</span></span>                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span data-ttu-id="db13e-126">可以是任何数目的传输类型。</span><span class="sxs-lookup"><span data-stu-id="db13e-126">Can be any of a number of transport types.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|   <span data-ttu-id="db13e-127">**接收位置属性：常规**</span><span class="sxs-lookup"><span data-stu-id="db13e-127">**Receive Location Properties: General**</span></span>    |                                           <span data-ttu-id="db13e-128">接收处理程序</span><span class="sxs-lookup"><span data-stu-id="db13e-128">Receive handler</span></span>                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                             <span data-ttu-id="db13e-129">BizTalkServerApplication</span><span class="sxs-lookup"><span data-stu-id="db13e-129">BizTalkServerApplication</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|   <span data-ttu-id="db13e-130">**接收位置属性：常规**</span><span class="sxs-lookup"><span data-stu-id="db13e-130">**Receive Location Properties: General**</span></span>    |                                          <span data-ttu-id="db13e-131">接收管道</span><span class="sxs-lookup"><span data-stu-id="db13e-131">Receive pipeline</span></span>                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span data-ttu-id="db13e-132">EdiReceive</span><span class="sxs-lookup"><span data-stu-id="db13e-132">EdiReceive</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="db13e-133">**文件传输属性：身份验证**</span><span class="sxs-lookup"><span data-stu-id="db13e-133">**FILE Transport Properties: Authentication**</span></span> | <span data-ttu-id="db13e-134">主机没有访问网络共享位置 （使用用户名和密码） 时使用这些凭据</span><span class="sxs-lookup"><span data-stu-id="db13e-134">Use these credentials when host does not have access to network share (with User name and Password)</span></span> |                                                                                                                                                                                                                                                                                                                                                                                                                                                        <span data-ttu-id="db13e-135">如果需要进行身份验证，设置。</span><span class="sxs-lookup"><span data-stu-id="db13e-135">Set if authentication is required.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|    <span data-ttu-id="db13e-136">**文件传输属性：批处理**</span><span class="sxs-lookup"><span data-stu-id="db13e-136">**FILE Transport Properties: Batching**</span></span>    |                                    <span data-ttu-id="db13e-137">在批处理中的消息数</span><span class="sxs-lookup"><span data-stu-id="db13e-137">Number of messages in a batch</span></span>                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                          <span data-ttu-id="db13e-138">如果按批处理交换的组。</span><span class="sxs-lookup"><span data-stu-id="db13e-138">Set if interchange is batched.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|    <span data-ttu-id="db13e-139">**文件传输属性：批处理**</span><span class="sxs-lookup"><span data-stu-id="db13e-139">**FILE Transport Properties: Batching**</span></span>    |                                    <span data-ttu-id="db13e-140">最大批处理大小 （以字节为单位）</span><span class="sxs-lookup"><span data-stu-id="db13e-140">Maximum batch size (in bytes)</span></span>                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                          <span data-ttu-id="db13e-141">如果按批处理交换的组。</span><span class="sxs-lookup"><span data-stu-id="db13e-141">Set if interchange is batched.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                           |

## <a name="creating-a-request-response-receive-port"></a><span data-ttu-id="db13e-142">创建请求-响应接收端口</span><span class="sxs-lookup"><span data-stu-id="db13e-142">Creating a Request-Response Receive Port</span></span>  
 <span data-ttu-id="db13e-143">使用以下配置创建接收端口和位置：</span><span class="sxs-lookup"><span data-stu-id="db13e-143">Create the receive port and location with the following configuration:</span></span>  

|<span data-ttu-id="db13e-144">Location</span><span class="sxs-lookup"><span data-stu-id="db13e-144">Location</span></span>|<span data-ttu-id="db13e-145">属性</span><span class="sxs-lookup"><span data-stu-id="db13e-145">Property</span></span>|<span data-ttu-id="db13e-146">设置</span><span class="sxs-lookup"><span data-stu-id="db13e-146">Setting</span></span>|  
|--------------|--------------|-------------|  
|<span data-ttu-id="db13e-147">**接收端口属性：常规**</span><span class="sxs-lookup"><span data-stu-id="db13e-147">**Receive Port Properties: General**</span></span>|<span data-ttu-id="db13e-148">端口类型</span><span class="sxs-lookup"><span data-stu-id="db13e-148">Port type</span></span>|<span data-ttu-id="db13e-149">请求响应</span><span class="sxs-lookup"><span data-stu-id="db13e-149">Request Response</span></span>|  
|<span data-ttu-id="db13e-150">**接收端口属性：常规**</span><span class="sxs-lookup"><span data-stu-id="db13e-150">**Receive Port Properties: General**</span></span>|<span data-ttu-id="db13e-151">身份验证</span><span class="sxs-lookup"><span data-stu-id="db13e-151">Authentication</span></span>|<span data-ttu-id="db13e-152">设置为**身份验证失败时删除消息**或**身份验证失败时保留消息**进行身份验证发送接收到的消息的参与方。</span><span class="sxs-lookup"><span data-stu-id="db13e-152">Set to **Drop messages if authentication fails** or **Keep messages if authentication fails** to authenticate the party that sent the received message.</span></span><br /><br /> <span data-ttu-id="db13e-153">设置为**无身份验证**禁用发送接收到的消息的参与方进行身份验证。</span><span class="sxs-lookup"><span data-stu-id="db13e-153">Set to **No authentication** to disable authentication of the party that sent the received message.</span></span><br /><br /> <span data-ttu-id="db13e-154">**注意：** 如果设置为**身份验证失败时删除消息**或**身份验证失败时保留消息**，消息必须解析为协议。</span><span class="sxs-lookup"><span data-stu-id="db13e-154">**Note:** If set to **Drop messages if authentication fails** or **Keep messages if authentication fails**, the message must resolve to an agreement.</span></span>|  
|<span data-ttu-id="db13e-155">**接收位置属性：常规**</span><span class="sxs-lookup"><span data-stu-id="db13e-155">**Receive Location Properties: General**</span></span>|<span data-ttu-id="db13e-156">传输类型</span><span class="sxs-lookup"><span data-stu-id="db13e-156">Transport Type</span></span>|<span data-ttu-id="db13e-157">可以是任何数目的传输类型，除文件，在下拉列表中不可用。</span><span class="sxs-lookup"><span data-stu-id="db13e-157">Can be any of a number of transport types, except FILE, which is not available in the drop-down list.</span></span><br /><br /> <span data-ttu-id="db13e-158">**注意：** 如果您创建的接收位置使用 EDIReceive 管道，并且具有 HTTP 传输类型，则可能出现安全问题。</span><span class="sxs-lookup"><span data-stu-id="db13e-158">**Note:** A security issue could occur if you create a receive location that uses the EDIReceive pipeline and has a transport type of HTTP.</span></span> <span data-ttu-id="db13e-159">EdiReceive 管道将不会生成 HTTP"200 确定"确认。</span><span class="sxs-lookup"><span data-stu-id="db13e-159">The EdiReceive pipeline will not generate an HTTP "200 OK" acknowledgment.</span></span> <span data-ttu-id="db13e-160">如果不返回任何 EDI 确认，则连接将保持打开状态直到超时期限已过。</span><span class="sxs-lookup"><span data-stu-id="db13e-160">If no EDI acknowledgment is returned, the connection will remain open until the time-out period has expired.</span></span>|  
|<span data-ttu-id="db13e-161">**接收位置属性：常规**</span><span class="sxs-lookup"><span data-stu-id="db13e-161">**Receive Location Properties: General**</span></span>|<span data-ttu-id="db13e-162">接收处理程序</span><span class="sxs-lookup"><span data-stu-id="db13e-162">Receive handler</span></span>|<span data-ttu-id="db13e-163">BizTalkServerApplication</span><span class="sxs-lookup"><span data-stu-id="db13e-163">BizTalkServerApplication</span></span>|  
|<span data-ttu-id="db13e-164">**接收位置属性：常规**</span><span class="sxs-lookup"><span data-stu-id="db13e-164">**Receive Location Properties: General**</span></span>|<span data-ttu-id="db13e-165">接收管道</span><span class="sxs-lookup"><span data-stu-id="db13e-165">Receive pipeline</span></span>|<span data-ttu-id="db13e-166">EdiReceive</span><span class="sxs-lookup"><span data-stu-id="db13e-166">EdiReceive</span></span>|  
|<span data-ttu-id="db13e-167">**接收位置属性：常规**</span><span class="sxs-lookup"><span data-stu-id="db13e-167">**Receive Location Properties: General**</span></span>|<span data-ttu-id="db13e-168">发送管道</span><span class="sxs-lookup"><span data-stu-id="db13e-168">Send pipeline</span></span>|<span data-ttu-id="db13e-169">EdiSend</span><span class="sxs-lookup"><span data-stu-id="db13e-169">EdiSend</span></span>|  
|<span data-ttu-id="db13e-170">**文件传输属性：身份验证**</span><span class="sxs-lookup"><span data-stu-id="db13e-170">**FILE Transport Properties: Authentication**</span></span>|<span data-ttu-id="db13e-171">主机没有访问网络共享位置 （使用用户名和密码） 时使用这些凭据</span><span class="sxs-lookup"><span data-stu-id="db13e-171">Use these credentials when host does not have access to network share (with User name and Password)</span></span>|<span data-ttu-id="db13e-172">如果需要进行身份验证，设置。</span><span class="sxs-lookup"><span data-stu-id="db13e-172">Set if authentication is required.</span></span>|  
|<span data-ttu-id="db13e-173">**文件传输属性：批处理**</span><span class="sxs-lookup"><span data-stu-id="db13e-173">**FILE Transport Properties: Batching**</span></span>|<span data-ttu-id="db13e-174">在批处理中的消息数</span><span class="sxs-lookup"><span data-stu-id="db13e-174">Number of messages in a batch</span></span>|<span data-ttu-id="db13e-175">如果按批处理交换的组。</span><span class="sxs-lookup"><span data-stu-id="db13e-175">Set if interchange is batched.</span></span>|  
|<span data-ttu-id="db13e-176">**文件传输属性：批处理**</span><span class="sxs-lookup"><span data-stu-id="db13e-176">**FILE Transport Properties: Batching**</span></span>|<span data-ttu-id="db13e-177">最大批处理大小 （以字节为单位）</span><span class="sxs-lookup"><span data-stu-id="db13e-177">Maximum batch size (in bytes)</span></span>|<span data-ttu-id="db13e-178">如果按批处理交换的组。</span><span class="sxs-lookup"><span data-stu-id="db13e-178">Set if interchange is batched.</span></span>|  

## <a name="setting-agreement-properties"></a><span data-ttu-id="db13e-179">设置协议属性</span><span class="sxs-lookup"><span data-stu-id="db13e-179">Setting Agreement Properties</span></span>  
 <span data-ttu-id="db13e-180">创建接收端口和位置后，你需要设置接收管道工作所需的协议属性。</span><span class="sxs-lookup"><span data-stu-id="db13e-180">After creating the receive port and location, you need to set the agreement properties required for the receive pipeline to function.</span></span> <span data-ttu-id="db13e-181">这些属性设置中的多个页**协议属性**对话框。</span><span class="sxs-lookup"><span data-stu-id="db13e-181">These properties are set in various pages of the **Agreement Properties** dialog box.</span></span> <span data-ttu-id="db13e-182">有关 EDI 拆装器必须具有的 EDI 交换中 EdiReceive 接收的过程的属性的列表管道，请参阅[EDI 拆装器的工作原理](../core/how-the-edi-disassembler-works.md)。</span><span class="sxs-lookup"><span data-stu-id="db13e-182">For a list of the properties that the EDI Disassembler must have to process an EDI interchange in the EdiReceive receive pipeline, see [How the EDI Disassembler Works](../core/how-the-edi-disassembler-works.md).</span></span>  

## <a name="see-also"></a><span data-ttu-id="db13e-183">请参阅</span><span class="sxs-lookup"><span data-stu-id="db13e-183">See Also</span></span>  
 <span data-ttu-id="db13e-184">[为 EDI 解决方案配置端口](../core/configuring-ports-for-an-edi-solution.md) </span><span class="sxs-lookup"><span data-stu-id="db13e-184">[Configuring Ports for an EDI Solution](../core/configuring-ports-for-an-edi-solution.md) </span></span>  
 <span data-ttu-id="db13e-185">[EDI 拆装器的工作原理](../core/how-the-edi-disassembler-works.md) </span><span class="sxs-lookup"><span data-stu-id="db13e-185">[How the EDI Disassembler Works](../core/how-the-edi-disassembler-works.md) </span></span>  
 [<span data-ttu-id="db13e-186">如何创建接收端口</span><span class="sxs-lookup"><span data-stu-id="db13e-186">How to Create a Receive Port</span></span>](../core/how-to-create-a-receive-port.md)