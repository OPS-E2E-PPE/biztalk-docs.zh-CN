---
title: 配置端口以接收 EDI 消息和确认 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: c043e648-b7f5-40aa-b7b5-0172fbea7b31
caps.latest.revision: 18
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 520139a788d4dc480ed9a8ea5f752e14e8c6014a
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/27/2018
ms.locfileid: "36989983"
---
# <a name="configuring-a-port-to-receive-edi-messages-and-acknowledgments"></a><span data-ttu-id="ce014-102">配置接收 EDI 消息和确认的端口</span><span class="sxs-lookup"><span data-stu-id="ce014-102">Configuring a Port to Receive EDI Messages and Acknowledgments</span></span>
<span data-ttu-id="ce014-103">若要接收的 EDI 交换，可以创建一个单向接收端口或请求-响应 （双向） 接收端口以接收交换。</span><span class="sxs-lookup"><span data-stu-id="ce014-103">To receive an EDI interchange, you can create either a one-way receive port or a request-response (two-way) receive port to receive the interchange.</span></span>  

-   <span data-ttu-id="ce014-104">创建一个单向接收端口，如果您还将创建一个单向发送端口以发送 EDI 确认 （如果已启用）。</span><span class="sxs-lookup"><span data-stu-id="ce014-104">Create a one-way receive port if you will also create a one-way send port to send EDI acknowledgments (if enabled).</span></span> <span data-ttu-id="ce014-105">您还必须清除**将确认路由到发送管道请求-响应接收端口**协议属性。</span><span class="sxs-lookup"><span data-stu-id="ce014-105">You will also have to clear the **Route ACK to send pipeline on request-response receive port** agreement property.</span></span>  

-   <span data-ttu-id="ce014-106">创建请求响应接收端口和位置来返回 EDI 确认 （如果启用） 通过关联发送管道。</span><span class="sxs-lookup"><span data-stu-id="ce014-106">Create a request response receive port and location to return EDI acknowledgments (if enabled) over the associated send pipeline.</span></span> <span data-ttu-id="ce014-107">您还需要选择**将确认路由到发送管道请求-响应接收端口**协议属性。</span><span class="sxs-lookup"><span data-stu-id="ce014-107">You will also have to select the **Route ACK to send pipeline on request-response receive port** agreement property.</span></span>  

## <a name="creating-a-one-way-receive-port"></a><span data-ttu-id="ce014-108">创建一个单向接收端口</span><span class="sxs-lookup"><span data-stu-id="ce014-108">Creating a One-Way Receive Port</span></span>  
 <span data-ttu-id="ce014-109">使用以下配置创建接收端口和位置：</span><span class="sxs-lookup"><span data-stu-id="ce014-109">Create the receive port and location with the following configuration:</span></span>  


|                   <span data-ttu-id="ce014-110">位置</span><span class="sxs-lookup"><span data-stu-id="ce014-110">Location</span></span>                    |                                              <span data-ttu-id="ce014-111">“属性”</span><span class="sxs-lookup"><span data-stu-id="ce014-111">Property</span></span>                                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <span data-ttu-id="ce014-112">设置</span><span class="sxs-lookup"><span data-stu-id="ce014-112">Setting</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|-----------------------------------------------|-----------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|     <span data-ttu-id="ce014-113">**接收端口属性： 常规**</span><span class="sxs-lookup"><span data-stu-id="ce014-113">**Receive Port Properties: General**</span></span>      |                                              <span data-ttu-id="ce014-114">端口类型</span><span class="sxs-lookup"><span data-stu-id="ce014-114">Port type</span></span>                                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <span data-ttu-id="ce014-115">单向</span><span class="sxs-lookup"><span data-stu-id="ce014-115">One-Way</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|     <span data-ttu-id="ce014-116">**接收端口属性： 常规**</span><span class="sxs-lookup"><span data-stu-id="ce014-116">**Receive Port Properties: General**</span></span>      |                                           <span data-ttu-id="ce014-117">身份验证</span><span class="sxs-lookup"><span data-stu-id="ce014-117">Authentication</span></span>                                            | <span data-ttu-id="ce014-118">设置为**身份验证失败时删除消息**或**身份验证失败时保留消息**进行身份验证发送接收到的消息的参与方。</span><span class="sxs-lookup"><span data-stu-id="ce014-118">Set to **Drop messages if authentication fails** or **Keep messages if authentication fails** to authenticate the party that sent the received message.</span></span><br /><br /> <span data-ttu-id="ce014-119">设置为**无身份验证**禁用发送接收到的消息的参与方进行身份验证。</span><span class="sxs-lookup"><span data-stu-id="ce014-119">Set to **No authentication** to disable authentication of the party that sent the received message.</span></span><br /><br /> <span data-ttu-id="ce014-120">如果设置为**身份验证失败时删除消息**，[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]将挂起一条消息，如果发送方的身份验证失败。</span><span class="sxs-lookup"><span data-stu-id="ce014-120">If set to **Drop messages if authentication fails**, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will suspend a message if the authentication of its sender fails.</span></span><br /><br /> <span data-ttu-id="ce014-121">如果设置为**身份验证失败时删除消息**或**身份验证失败时保留消息**，消息必须解析为协议。</span><span class="sxs-lookup"><span data-stu-id="ce014-121">If set to **Drop messages if authentication fails** or **Keep messages if authentication fails**, the message must resolve to an agreement.</span></span> <span data-ttu-id="ce014-122">不允许使用后备协议属性。</span><span class="sxs-lookup"><span data-stu-id="ce014-122">Using the fallback agreement properties is not allowed.</span></span> <span data-ttu-id="ce014-123">如果对于传入消息而言未确定任何协议，则 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 会将消息视为验证已失败，并将挂起消息。</span><span class="sxs-lookup"><span data-stu-id="ce014-123">If no agreement is determined for an incoming message, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will treat the message as though authentication had failed, and will suspend the message.</span></span> |
|   <span data-ttu-id="ce014-124">**接收位置属性： 常规**</span><span class="sxs-lookup"><span data-stu-id="ce014-124">**Receive Location Properties: General**</span></span>    |                                           <span data-ttu-id="ce014-125">传输类型</span><span class="sxs-lookup"><span data-stu-id="ce014-125">Transport Type</span></span>                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span data-ttu-id="ce014-126">可以是任何传输类型。</span><span class="sxs-lookup"><span data-stu-id="ce014-126">Can be any of a number of transport types.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|   <span data-ttu-id="ce014-127">**接收位置属性： 常规**</span><span class="sxs-lookup"><span data-stu-id="ce014-127">**Receive Location Properties: General**</span></span>    |                                           <span data-ttu-id="ce014-128">接收处理程序</span><span class="sxs-lookup"><span data-stu-id="ce014-128">Receive handler</span></span>                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                             <span data-ttu-id="ce014-129">BizTalkServerApplication</span><span class="sxs-lookup"><span data-stu-id="ce014-129">BizTalkServerApplication</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|   <span data-ttu-id="ce014-130">**接收位置属性： 常规**</span><span class="sxs-lookup"><span data-stu-id="ce014-130">**Receive Location Properties: General**</span></span>    |                                          <span data-ttu-id="ce014-131">接收管道</span><span class="sxs-lookup"><span data-stu-id="ce014-131">Receive pipeline</span></span>                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span data-ttu-id="ce014-132">EdiReceive</span><span class="sxs-lookup"><span data-stu-id="ce014-132">EdiReceive</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="ce014-133">**文件传输属性： 身份验证**</span><span class="sxs-lookup"><span data-stu-id="ce014-133">**FILE Transport Properties: Authentication**</span></span> | <span data-ttu-id="ce014-134">在主机无权访问网络共享位置时使用这些凭据（使用“用户名”和“密码”）</span><span class="sxs-lookup"><span data-stu-id="ce014-134">Use these credentials when host does not have access to network share (with User name and Password)</span></span> |                                                                                                                                                                                                                                                                                                                                                                                                                                                        <span data-ttu-id="ce014-135">如果需要验证，则加以设置。</span><span class="sxs-lookup"><span data-stu-id="ce014-135">Set if authentication is required.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|    <span data-ttu-id="ce014-136">**文件传输属性： 批处理**</span><span class="sxs-lookup"><span data-stu-id="ce014-136">**FILE Transport Properties: Batching**</span></span>    |                                    <span data-ttu-id="ce014-137">批中的消息数</span><span class="sxs-lookup"><span data-stu-id="ce014-137">Number of messages in a batch</span></span>                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                          <span data-ttu-id="ce014-138">如果按批处理交换的组。</span><span class="sxs-lookup"><span data-stu-id="ce014-138">Set if interchange is batched.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|    <span data-ttu-id="ce014-139">**文件传输属性： 批处理**</span><span class="sxs-lookup"><span data-stu-id="ce014-139">**FILE Transport Properties: Batching**</span></span>    |                                    <span data-ttu-id="ce014-140">最大批大小(字节)</span><span class="sxs-lookup"><span data-stu-id="ce014-140">Maximum batch size (in bytes)</span></span>                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                          <span data-ttu-id="ce014-141">如果按批处理交换的组。</span><span class="sxs-lookup"><span data-stu-id="ce014-141">Set if interchange is batched.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                           |

## <a name="creating-a-request-response-receive-port"></a><span data-ttu-id="ce014-142">创建请求-响应接收端口</span><span class="sxs-lookup"><span data-stu-id="ce014-142">Creating a Request-Response Receive Port</span></span>  
 <span data-ttu-id="ce014-143">使用以下配置创建接收端口和位置：</span><span class="sxs-lookup"><span data-stu-id="ce014-143">Create the receive port and location with the following configuration:</span></span>  

|<span data-ttu-id="ce014-144">位置</span><span class="sxs-lookup"><span data-stu-id="ce014-144">Location</span></span>|<span data-ttu-id="ce014-145">“属性”</span><span class="sxs-lookup"><span data-stu-id="ce014-145">Property</span></span>|<span data-ttu-id="ce014-146">设置</span><span class="sxs-lookup"><span data-stu-id="ce014-146">Setting</span></span>|  
|--------------|--------------|-------------|  
|<span data-ttu-id="ce014-147">**接收端口属性： 常规**</span><span class="sxs-lookup"><span data-stu-id="ce014-147">**Receive Port Properties: General**</span></span>|<span data-ttu-id="ce014-148">端口类型</span><span class="sxs-lookup"><span data-stu-id="ce014-148">Port type</span></span>|<span data-ttu-id="ce014-149">请求响应</span><span class="sxs-lookup"><span data-stu-id="ce014-149">Request Response</span></span>|  
|<span data-ttu-id="ce014-150">**接收端口属性： 常规**</span><span class="sxs-lookup"><span data-stu-id="ce014-150">**Receive Port Properties: General**</span></span>|<span data-ttu-id="ce014-151">身份验证</span><span class="sxs-lookup"><span data-stu-id="ce014-151">Authentication</span></span>|<span data-ttu-id="ce014-152">设置为**身份验证失败时删除消息**或**身份验证失败时保留消息**进行身份验证发送接收到的消息的参与方。</span><span class="sxs-lookup"><span data-stu-id="ce014-152">Set to **Drop messages if authentication fails** or **Keep messages if authentication fails** to authenticate the party that sent the received message.</span></span><br /><br /> <span data-ttu-id="ce014-153">设置为**无身份验证**禁用发送接收到的消息的参与方进行身份验证。</span><span class="sxs-lookup"><span data-stu-id="ce014-153">Set to **No authentication** to disable authentication of the party that sent the received message.</span></span><br /><br /> <span data-ttu-id="ce014-154">**注意：** 如果设置为**身份验证失败时删除消息**或**身份验证失败时保留消息**，消息必须解析为协议。</span><span class="sxs-lookup"><span data-stu-id="ce014-154">**Note:** If set to **Drop messages if authentication fails** or **Keep messages if authentication fails**, the message must resolve to an agreement.</span></span>|  
|<span data-ttu-id="ce014-155">**接收位置属性： 常规**</span><span class="sxs-lookup"><span data-stu-id="ce014-155">**Receive Location Properties: General**</span></span>|<span data-ttu-id="ce014-156">传输类型</span><span class="sxs-lookup"><span data-stu-id="ce014-156">Transport Type</span></span>|<span data-ttu-id="ce014-157">可以是众多传输类型中的任何一个，FILE 除外，在下拉列表中不提供此类型。</span><span class="sxs-lookup"><span data-stu-id="ce014-157">Can be any of a number of transport types, except FILE, which is not available in the drop-down list.</span></span><br /><br /> <span data-ttu-id="ce014-158">**注意：** 如果创建的接收位置使用 EDIReceive 管道，并且具有 HTTP 传输类型可能出现安全问题。</span><span class="sxs-lookup"><span data-stu-id="ce014-158">**Note:** A security issue could occur if you create a receive location that uses the EDIReceive pipeline and has a transport type of HTTP.</span></span> <span data-ttu-id="ce014-159">EdiReceive 管道将不生成 HTTP“200 OK”确认。</span><span class="sxs-lookup"><span data-stu-id="ce014-159">The EdiReceive pipeline will not generate an HTTP "200 OK" acknowledgment.</span></span> <span data-ttu-id="ce014-160">如果不返回任何 EDI 确认，则连接将保持打开状态直到超时期限已过。</span><span class="sxs-lookup"><span data-stu-id="ce014-160">If no EDI acknowledgment is returned, the connection will remain open until the time-out period has expired.</span></span>|  
|<span data-ttu-id="ce014-161">**接收位置属性： 常规**</span><span class="sxs-lookup"><span data-stu-id="ce014-161">**Receive Location Properties: General**</span></span>|<span data-ttu-id="ce014-162">接收处理程序</span><span class="sxs-lookup"><span data-stu-id="ce014-162">Receive handler</span></span>|<span data-ttu-id="ce014-163">BizTalkServerApplication</span><span class="sxs-lookup"><span data-stu-id="ce014-163">BizTalkServerApplication</span></span>|  
|<span data-ttu-id="ce014-164">**接收位置属性： 常规**</span><span class="sxs-lookup"><span data-stu-id="ce014-164">**Receive Location Properties: General**</span></span>|<span data-ttu-id="ce014-165">接收管道</span><span class="sxs-lookup"><span data-stu-id="ce014-165">Receive pipeline</span></span>|<span data-ttu-id="ce014-166">EdiReceive</span><span class="sxs-lookup"><span data-stu-id="ce014-166">EdiReceive</span></span>|  
|<span data-ttu-id="ce014-167">**接收位置属性： 常规**</span><span class="sxs-lookup"><span data-stu-id="ce014-167">**Receive Location Properties: General**</span></span>|<span data-ttu-id="ce014-168">发送管道</span><span class="sxs-lookup"><span data-stu-id="ce014-168">Send pipeline</span></span>|<span data-ttu-id="ce014-169">EdiSend</span><span class="sxs-lookup"><span data-stu-id="ce014-169">EdiSend</span></span>|  
|<span data-ttu-id="ce014-170">**文件传输属性： 身份验证**</span><span class="sxs-lookup"><span data-stu-id="ce014-170">**FILE Transport Properties: Authentication**</span></span>|<span data-ttu-id="ce014-171">在主机无权访问网络共享位置时使用这些凭据（使用“用户名”和“密码”）</span><span class="sxs-lookup"><span data-stu-id="ce014-171">Use these credentials when host does not have access to network share (with User name and Password)</span></span>|<span data-ttu-id="ce014-172">如果需要验证，则加以设置。</span><span class="sxs-lookup"><span data-stu-id="ce014-172">Set if authentication is required.</span></span>|  
|<span data-ttu-id="ce014-173">**文件传输属性： 批处理**</span><span class="sxs-lookup"><span data-stu-id="ce014-173">**FILE Transport Properties: Batching**</span></span>|<span data-ttu-id="ce014-174">批中的消息数</span><span class="sxs-lookup"><span data-stu-id="ce014-174">Number of messages in a batch</span></span>|<span data-ttu-id="ce014-175">如果按批处理交换的组。</span><span class="sxs-lookup"><span data-stu-id="ce014-175">Set if interchange is batched.</span></span>|  
|<span data-ttu-id="ce014-176">**文件传输属性： 批处理**</span><span class="sxs-lookup"><span data-stu-id="ce014-176">**FILE Transport Properties: Batching**</span></span>|<span data-ttu-id="ce014-177">最大批大小(字节)</span><span class="sxs-lookup"><span data-stu-id="ce014-177">Maximum batch size (in bytes)</span></span>|<span data-ttu-id="ce014-178">如果按批处理交换的组。</span><span class="sxs-lookup"><span data-stu-id="ce014-178">Set if interchange is batched.</span></span>|  

## <a name="setting-agreement-properties"></a><span data-ttu-id="ce014-179">设置协议属性</span><span class="sxs-lookup"><span data-stu-id="ce014-179">Setting Agreement Properties</span></span>  
 <span data-ttu-id="ce014-180">创建接收端口和位置后，需要设置接收管道工作所需的协议属性。</span><span class="sxs-lookup"><span data-stu-id="ce014-180">After creating the receive port and location, you need to set the agreement properties required for the receive pipeline to function.</span></span> <span data-ttu-id="ce014-181">这些属性设置中的多个页**协议属性**对话框。</span><span class="sxs-lookup"><span data-stu-id="ce014-181">These properties are set in various pages of the **Agreement Properties** dialog box.</span></span> <span data-ttu-id="ce014-182">有关 EDI 拆装器必须具有的 EDI 交换中 EdiReceive 接收的过程的属性的列表管道，请参阅[EDI 拆装器的工作原理](../core/how-the-edi-disassembler-works.md)。</span><span class="sxs-lookup"><span data-stu-id="ce014-182">For a list of the properties that the EDI Disassembler must have to process an EDI interchange in the EdiReceive receive pipeline, see [How the EDI Disassembler Works](../core/how-the-edi-disassembler-works.md).</span></span>  

## <a name="see-also"></a><span data-ttu-id="ce014-183">请参阅</span><span class="sxs-lookup"><span data-stu-id="ce014-183">See Also</span></span>  
 <span data-ttu-id="ce014-184">[为 EDI 解决方案配置端口](../core/configuring-ports-for-an-edi-solution.md) </span><span class="sxs-lookup"><span data-stu-id="ce014-184">[Configuring Ports for an EDI Solution](../core/configuring-ports-for-an-edi-solution.md) </span></span>  
 <span data-ttu-id="ce014-185">[EDI 拆装器的工作原理](../core/how-the-edi-disassembler-works.md) </span><span class="sxs-lookup"><span data-stu-id="ce014-185">[How the EDI Disassembler Works](../core/how-the-edi-disassembler-works.md) </span></span>  
 [<span data-ttu-id="ce014-186">如何创建接收端口</span><span class="sxs-lookup"><span data-stu-id="ce014-186">How to Create a Receive Port</span></span>](../core/how-to-create-a-receive-port.md)