---
title: 适配器设计时配置 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: f5e7b63c-6e17-4c54-9bbf-6964668a2420
caps.latest.revision: 27
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 815690aee7178db52936e8f1aca5641d1be945b6
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/27/2018
ms.locfileid: "36987366"
---
# <a name="adapter-design-time-configuration"></a><span data-ttu-id="a2dc9-102">适配器设计时配置</span><span class="sxs-lookup"><span data-stu-id="a2dc9-102">Adapter Design-Time Configuration</span></span>
<span data-ttu-id="a2dc9-103">适配器包含一个运行时组件和一个设计时组件。</span><span class="sxs-lookup"><span data-stu-id="a2dc9-103">An adapter contains both a run-time and a design-time component.</span></span> <span data-ttu-id="a2dc9-104">运行时组件对于用户是不可见的。</span><span class="sxs-lookup"><span data-stu-id="a2dc9-104">The run-time component is not visible to a user.</span></span> <span data-ttu-id="a2dc9-105">它是以透明方式负责的传输、 回执和处理[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]消息。</span><span class="sxs-lookup"><span data-stu-id="a2dc9-105">It is transparently responsible for the transmission, receipt, and processing of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] messages.</span></span>  
  
 <span data-ttu-id="a2dc9-106">适配器的设计时组件可通过管理用户界面看到。</span><span class="sxs-lookup"><span data-stu-id="a2dc9-106">The design-time component of an adapter is visible through administrative user interfaces.</span></span> <span data-ttu-id="a2dc9-107">它负责显示可用属性、接受管理输入以及验证输入以配置适配器。</span><span class="sxs-lookup"><span data-stu-id="a2dc9-107">It is responsible for displaying available properties, accepting administrative input, and validating that input to configure an adapter.</span></span> <span data-ttu-id="a2dc9-108">设计时组件允许对适配器的属性进行适当配置以使运行时功能能够正确交换消息，这一点是非常重要的。</span><span class="sxs-lookup"><span data-stu-id="a2dc9-108">It is critical that the design-time component allow proper configuration of the adapter's properties to enable the run-time functionality to exchange messages correctly.</span></span>  
  
 <span data-ttu-id="a2dc9-109">本部分仅讨论适配器的设计时组件。</span><span class="sxs-lookup"><span data-stu-id="a2dc9-109">This section discusses only the design-time component of an adapter.</span></span> <span data-ttu-id="a2dc9-110">因此，我们将主要关注如何显示和设置适配器的配置。</span><span class="sxs-lookup"><span data-stu-id="a2dc9-110">We will thus be concerned primarily with how to display and set the adapter's configuration.</span></span> <span data-ttu-id="a2dc9-111">有两种方法来配置适配器：</span><span class="sxs-lookup"><span data-stu-id="a2dc9-111">There are two methods of configuring an adapter:</span></span>  
  
- <span data-ttu-id="a2dc9-112">**属性浏览器。**</span><span class="sxs-lookup"><span data-stu-id="a2dc9-112">**Property browser.**</span></span> <span data-ttu-id="a2dc9-113">适配器属性的发送或接收端口或发送或接收处理程序，通过其属性菜单将通过使用配置[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理控制台。</span><span class="sxs-lookup"><span data-stu-id="a2dc9-113">Adapter properties for a send or receive port, or a send or receive handler, are configured through their Properties menu by using the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span> <span data-ttu-id="a2dc9-114">在这些项目的配置过程中，可以选择适配器（传输）并使用属性浏览器来配置其属性。</span><span class="sxs-lookup"><span data-stu-id="a2dc9-114">During configuration of these artifacts the adapter (transport) is selected and its properties are configured by using a property browser.</span></span> <span data-ttu-id="a2dc9-115">适用的属性通过一个带有集名称的架构来显示。</span><span class="sxs-lookup"><span data-stu-id="a2dc9-115">Applicable properties are displayed through a schema with a set name.</span></span> <span data-ttu-id="a2dc9-116">例如，对于一个发送（传输）处理程序，属性将位于 TransmitHandler.xsd 文件中；对于一个接收位置，属性将位于 ReceiveLocation.xsd 文件中。</span><span class="sxs-lookup"><span data-stu-id="a2dc9-116">For instance, for a send (transmit) handler the properties would be in the TransmitHandler.xsd file; for a receive location they would be in the ReceiveLocation.xsd file.</span></span>  <span data-ttu-id="a2dc9-117">此适配器应实现**IAdapterConfig**接口来定位和加载适当架构，以便公开属性浏览器中的特定属性。</span><span class="sxs-lookup"><span data-stu-id="a2dc9-117">The adapter implements the **IAdapterConfig** interface to locate and load the appropriate schema to expose specific properties in the property browser.</span></span> <span data-ttu-id="a2dc9-118">**IAdapterConfigValidation**接口可用来验证这些条目并保存配置数据之前进行最后的修改的值。</span><span class="sxs-lookup"><span data-stu-id="a2dc9-118">The **IAdapterConfigValidation** interface is used to validate those entries and make any final modifications to the values before saving the configuration data.</span></span>  
  
- <span data-ttu-id="a2dc9-119">**添加适配器元数据向导。**</span><span class="sxs-lookup"><span data-stu-id="a2dc9-119">**Add Adapter Metadata Wizard.**</span></span> <span data-ttu-id="a2dc9-120">对于应用程序和数据库适配器，您可能需要导入描述适配器需要在 BizTalk 项目中的消息类型和端口类型的支持架构[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="a2dc9-120">In the case of application and database adapters, you may need to import supporting schemas that describe message types and port types that the adapter needs in the BizTalk project in [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)].</span></span> <span data-ttu-id="a2dc9-121">或者，有时需要使用适配器提供的服务。</span><span class="sxs-lookup"><span data-stu-id="a2dc9-121">Or sometimes there is the need to consume services provided by the adapter.</span></span> <span data-ttu-id="a2dc9-122">使用“添加适配器元数据向导”可以查看适配器支持的服务并将相关消息类型和端口类型导入到您的项目中。</span><span class="sxs-lookup"><span data-stu-id="a2dc9-122">The Add Adapter Metadata Wizard enables you to view services that an adapter supports and import the related message types and port types into your project.</span></span> <span data-ttu-id="a2dc9-123">此过程称为“元数据搜集”。</span><span class="sxs-lookup"><span data-stu-id="a2dc9-123">This process is known as "metadata harvesting."</span></span> <span data-ttu-id="a2dc9-124">作为适配器开发人员创建 XML 文件描述这些服务并在设计时通过将其公开给向导**IStaticAdapterConfig**或**IDynamicAdapterConfig**接口，使用以下结果：</span><span class="sxs-lookup"><span data-stu-id="a2dc9-124">As an adapter developer you create an XML file describing those services and expose it to the wizard at design time through either the **IStaticAdapterConfig** or **IDynamicAdapterConfig** interface, with the following results:</span></span>  
  
  -   <span data-ttu-id="a2dc9-125">**静态适配器。**</span><span class="sxs-lookup"><span data-stu-id="a2dc9-125">**Static adapter.**</span></span> <span data-ttu-id="a2dc9-126">向导提供一个标准默认分层树结构，用于显示适配器的服务。</span><span class="sxs-lookup"><span data-stu-id="a2dc9-126">The wizard provides a standard default hierarchical tree structure with which to display the adapter's services.</span></span> <span data-ttu-id="a2dc9-127">静态适配器定义为使用向导提供的标准树用户界面 (UI) 的适配器。</span><span class="sxs-lookup"><span data-stu-id="a2dc9-127">A static adapter is defined as an adapter that uses the standard tree user interface (UI) provided by the wizard.</span></span> <span data-ttu-id="a2dc9-128">使用**IStaticAdapterConfig.GetServiceOrganization**并**GetServiceDescription**方法以允许所选的服务添加到 BizTalk 项目中。</span><span class="sxs-lookup"><span data-stu-id="a2dc9-128">Use the **IStaticAdapterConfig.GetServiceOrganization** and **GetServiceDescription** methods to allow selected services to be added to the BizTalk project.</span></span> <span data-ttu-id="a2dc9-129">这是适配器开发人员的最简单的配置选择，但其不利的一面是对显示格式要求严格。</span><span class="sxs-lookup"><span data-stu-id="a2dc9-129">This is the simplest configuration option for an adapter developer, but the tradeoff is rigidity of the display format.</span></span>  
  
  -   <span data-ttu-id="a2dc9-130">**动态适配器。**</span><span class="sxs-lookup"><span data-stu-id="a2dc9-130">**Dynamic adapter.**</span></span> <span data-ttu-id="a2dc9-131">如果向导提供的基本服务选择 UI 不够灵活，无法满足您的 UI 需要，则可以创建可由向导动态显示的自定义 UI。</span><span class="sxs-lookup"><span data-stu-id="a2dc9-131">If the basic service selection UI provided by the wizard is not flexible enough meet your UI needs you can create a custom UI that is dynamically displayed by the wizard.</span></span> <span data-ttu-id="a2dc9-132">使用**IDynamicAdapterConfig.DisplayUI**方法以显示自定义用户界面中，以允许所选服务添加到 BizTalk 项目中。</span><span class="sxs-lookup"><span data-stu-id="a2dc9-132">Use the **IDynamicAdapterConfig.DisplayUI** method to display the custom UI to allow selection of services to be added to a BizTalk project.</span></span>  
  
  <span data-ttu-id="a2dc9-133">本部分提供了以静态或动态方式处理设计时配置的两套方案的指南。</span><span class="sxs-lookup"><span data-stu-id="a2dc9-133">This section provides two sets of guidelines for handling design-time configuration in either a static or a dynamic manner.</span></span>  
  
  <span data-ttu-id="a2dc9-134">Microsoft[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]软件开发工具包 (SDK) 包含可以使用一个示例文件适配器用作模板来创建和自定义您自己的适配器设计时配置解决方案。</span><span class="sxs-lookup"><span data-stu-id="a2dc9-134">The Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] software development kit (SDK) includes a sample file adapter that you can use as a template to create and customize your own adapter design-time configuration solutions.</span></span> <span data-ttu-id="a2dc9-135">每个设计时配置主题中都提供了有关该示例文件适配器的注释和参考，以帮助您修改自己的自定义适配器配置要求。</span><span class="sxs-lookup"><span data-stu-id="a2dc9-135">Notes and references about the sample file adapter are provided in each of the design-time configuration topics to help you modify your own custom adapter configuration requirements.</span></span> <span data-ttu-id="a2dc9-136">为更好地理解这些指南，您可能需要安装、生成和运行 SDK 中提供的示例文件适配器。</span><span class="sxs-lookup"><span data-stu-id="a2dc9-136">To better understand these guidelines, you may want to install, build, and run the sample file adapter provided in the SDK.</span></span> <span data-ttu-id="a2dc9-137">请参阅[文件适配器 （BizTalk Server 示例）](../core/file-adapter-biztalk-server-sample.md)有关详细信息。</span><span class="sxs-lookup"><span data-stu-id="a2dc9-137">See [File Adapter (BizTalk Server Sample)](../core/file-adapter-biztalk-server-sample.md) for more information.</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="a2dc9-138">本节内容</span><span class="sxs-lookup"><span data-stu-id="a2dc9-138">In This Section</span></span>  
  
-   [<span data-ttu-id="a2dc9-139">静态设计时适配器配置</span><span class="sxs-lookup"><span data-stu-id="a2dc9-139">Static Design-Time Adapter Configuration</span></span>](../core/static-design-time-adapter-configuration.md)  
  
-   [<span data-ttu-id="a2dc9-140">动态设计时适配器配置</span><span class="sxs-lookup"><span data-stu-id="a2dc9-140">Dynamic Design-Time Adapter Configuration</span></span>](../core/dynamic-design-time-adapter-configuration.md)  
  
-   [<span data-ttu-id="a2dc9-141">适配器配置架构</span><span class="sxs-lookup"><span data-stu-id="a2dc9-141">Adapter Configuration Schemas</span></span>](../core/adapter-configuration-schemas.md)  
  
-   [<span data-ttu-id="a2dc9-142">适配器 WSDL 文件</span><span class="sxs-lookup"><span data-stu-id="a2dc9-142">Adapter WSDL Files</span></span>](../core/adapter-wsdl-files.md)  
  
-   [<span data-ttu-id="a2dc9-143">适配器 GetSchema 方法</span><span class="sxs-lookup"><span data-stu-id="a2dc9-143">Adapter GetSchema Method</span></span>](../core/adapter-getschema-method.md)  
  
-   [<span data-ttu-id="a2dc9-144">适配器注册文件</span><span class="sxs-lookup"><span data-stu-id="a2dc9-144">Adapter Registration File</span></span>](../core/adapter-registration-file.md)  
  
-   [<span data-ttu-id="a2dc9-145">将适配器安装到 BizTalk Server 中</span><span class="sxs-lookup"><span data-stu-id="a2dc9-145">Install the Adapter into BizTalk Server</span></span>](../core/install-the-adapter-into-biztalk-server.md)  
  
-   [<span data-ttu-id="a2dc9-146">生成和测试适配器项目</span><span class="sxs-lookup"><span data-stu-id="a2dc9-146">Build and Test the Adapter Project</span></span>](../core/build-and-test-the-adapter-project.md)