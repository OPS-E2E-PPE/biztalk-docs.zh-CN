---
title: ImportApp 命令 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: e8ee5a78-1e8f-4290-b70a-36f2f888a1d6
caps.latest.revision: 28
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: c32407364cad49b4024b40384d4c50bb250632fd
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/27/2018
ms.locfileid: "36975999"
---
# <a name="importapp-command"></a><span data-ttu-id="c5fad-102">ImportApp 命令</span><span class="sxs-lookup"><span data-stu-id="c5fad-102">ImportApp Command</span></span>
<span data-ttu-id="c5fad-103">用于将 .msi 文件中包含的项目导入到 BizTalk 应用程序中。</span><span class="sxs-lookup"><span data-stu-id="c5fad-103">Imports the artifacts contained in an .msi file into a BizTalk application.</span></span> <span data-ttu-id="c5fad-104">如果尚不存在相应的应用程序，系统将创建它。</span><span class="sxs-lookup"><span data-stu-id="c5fad-104">If the application does not already exist, it is created.</span></span>  
  
 <span data-ttu-id="c5fad-105">当导入应用程序时，如果已将为特定部署环境自定义的绑定文件添加到应用程序中，则可以使用 /Environment 参数来指定该应用程序的目标部署环境。</span><span class="sxs-lookup"><span data-stu-id="c5fad-105">When you import an application, you can use the /Environment parameter to specify the target deployment environment for the application, if you have added binding files to this application that are customized for a particular deployment environment.</span></span> <span data-ttu-id="c5fad-106">有关背景信息，请参阅[绑定文件和应用程序部署](../core/binding-files-and-application-deployment.md)。</span><span class="sxs-lookup"><span data-stu-id="c5fad-106">For background information, see [Binding Files and Application Deployment](../core/binding-files-and-application-deployment.md).</span></span> <span data-ttu-id="c5fad-107">有关添加绑定文件的说明，请参阅[AddResource 命令： BizTalk 绑定](../core/addresource-command-biztalk-binding.md)。</span><span class="sxs-lookup"><span data-stu-id="c5fad-107">For instructions on adding binding files, see [AddResource Command: BizTalk Binding](../core/addresource-command-biztalk-binding.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="c5fad-108">如果导入操作的持续时间超过 3600 秒，则该操作超时。</span><span class="sxs-lookup"><span data-stu-id="c5fad-108">An import operation will time out if it exceeds 3600 seconds in duration.</span></span> <span data-ttu-id="c5fad-109">如果在尝试导入 .msi 文件时操作超时，则应通过重新导出该应用程序，并选择要导出的部分项目，将该应用程序的内容分成多个 .msi 文件。</span><span class="sxs-lookup"><span data-stu-id="c5fad-109">If you are attempting to import an .msi file, and the operation times out, you should divide the contents of the application into more than one .msi file by re-exporting the application and selecting a subset of artifacts to export.</span></span> <span data-ttu-id="c5fad-110">有关详细信息，请参阅[如何导出 BizTalk 应用程序](../core/how-to-export-a-biztalk-application.md)。</span><span class="sxs-lookup"><span data-stu-id="c5fad-110">For more information, see [How to Export a BizTalk Application](../core/how-to-export-a-biztalk-application.md).</span></span>  
  
 <span data-ttu-id="c5fad-111">如果导入失败，BTSTask 返回显示错误数。</span><span class="sxs-lookup"><span data-stu-id="c5fad-111">If the import fails, BTSTask returns displaying the number of errors.</span></span> <span data-ttu-id="c5fad-112">在此操作期间执行的大多数操作都将被回滚，但以下操作除外：</span><span class="sxs-lookup"><span data-stu-id="c5fad-112">Most of the actions taken during the operation are rolled back, except the following:</span></span>  
  
- <span data-ttu-id="c5fad-113">不回滚自定义脚本执行的操作。</span><span class="sxs-lookup"><span data-stu-id="c5fad-113">Actions taken by custom scripts are not rolled back.</span></span> <span data-ttu-id="c5fad-114">您可以编写脚本，使用 Delete 环境变量回滚自定义脚本。</span><span class="sxs-lookup"><span data-stu-id="c5fad-114">You can write your scripts so that they roll back by using the Delete environment variable.</span></span>  
  
- <span data-ttu-id="c5fad-115">如果程序集安装在全局程序集缓存 (GAC) 中，则导入失败后不删除这些程序集。</span><span class="sxs-lookup"><span data-stu-id="c5fad-115">If assemblies were installed in the global assembly cache (GAC), they are not removed.</span></span>  
  
- <span data-ttu-id="c5fad-116">不删除 Windows 注册表中生成的项。</span><span class="sxs-lookup"><span data-stu-id="c5fad-116">Entries make in the Windows registry are not removed.</span></span>  
  
  <span data-ttu-id="c5fad-117">如果导入成功，BTSTask 将返回“0”。</span><span class="sxs-lookup"><span data-stu-id="c5fad-117">If the import is successful, BTSTask returns "0".</span></span>  
  
## <a name="usage"></a><span data-ttu-id="c5fad-118">用法</span><span class="sxs-lookup"><span data-stu-id="c5fad-118">Usage</span></span>  
 <span data-ttu-id="c5fad-119">**BTSTask 的 ImportApp /Package:** *值*[**/Environment:**<em>值</em>] [**/ApplicationName:** <em>值</em>] [**/overwrite**] [**/Server:**<em>值</em>] [**/database:**<em>值</em>]</span><span class="sxs-lookup"><span data-stu-id="c5fad-119">**BTSTask ImportApp /Package:** *value* [**/Environment:**<em>value</em>] [**/ApplicationName:**<em>value</em>] [**/Overwrite**] [**/Server:**<em>value</em>] [**/Database:**<em>value</em>]</span></span>  
  
## <a name="parameters"></a><span data-ttu-id="c5fad-120">Parameters</span><span class="sxs-lookup"><span data-stu-id="c5fad-120">Parameters</span></span>  
  
|<span data-ttu-id="c5fad-121">参数</span><span class="sxs-lookup"><span data-stu-id="c5fad-121">Parameter</span></span>|<span data-ttu-id="c5fad-122">Required</span><span class="sxs-lookup"><span data-stu-id="c5fad-122">Required</span></span>|<span data-ttu-id="c5fad-123">ReplTest1</span><span class="sxs-lookup"><span data-stu-id="c5fad-123">Value</span></span>|  
|---------------|--------------|-----------|  
|<span data-ttu-id="c5fad-124">**/ 打包**(或 **/P**，请参阅备注)</span><span class="sxs-lookup"><span data-stu-id="c5fad-124">**/Package** (or **/P**, see Remarks)</span></span>|<span data-ttu-id="c5fad-125">是</span><span class="sxs-lookup"><span data-stu-id="c5fad-125">Yes</span></span>|<span data-ttu-id="c5fad-126">.msi 文件的完整路径。</span><span class="sxs-lookup"><span data-stu-id="c5fad-126">Full path of the .msi file.</span></span> <span data-ttu-id="c5fad-127">如果路径包含空格，则必须将其括在双引号 （"）。</span><span class="sxs-lookup"><span data-stu-id="c5fad-127">If the path includes spaces, you must enclose it in double quotation marks (").</span></span> <span data-ttu-id="c5fad-128">示例："C:\My MSI Files\MyApplication.msi"</span><span class="sxs-lookup"><span data-stu-id="c5fad-128">Example: "C:\My MSI Files\MyApplication.msi"</span></span>|  
|<span data-ttu-id="c5fad-129">**/ 环境**(或 **/E**，请参阅备注)</span><span class="sxs-lookup"><span data-stu-id="c5fad-129">**/Environment** (or **/E**, see Remarks)</span></span>|<span data-ttu-id="c5fad-130">“否”</span><span class="sxs-lookup"><span data-stu-id="c5fad-130">No</span></span>|<span data-ttu-id="c5fad-131">绑定文件适用的目标部署环境，如 Test。</span><span class="sxs-lookup"><span data-stu-id="c5fad-131">The target deployment environment of the binding file to apply, such as Test.</span></span> <span data-ttu-id="c5fad-132">此值是将绑定文件添加到应用程序时，指定的目标部署环境的值。</span><span class="sxs-lookup"><span data-stu-id="c5fad-132">This is the value that was specified for the target deployment environment when the binding file was added to the application.</span></span> <span data-ttu-id="c5fad-133">如果未指定此值，则应用所有未指定环境的绑定。</span><span class="sxs-lookup"><span data-stu-id="c5fad-133">When not specified, all bindings that do not have an environment specified are applied.</span></span>|  
|<span data-ttu-id="c5fad-134">**/ ApplicationName** (或 **/A**，请参阅备注)</span><span class="sxs-lookup"><span data-stu-id="c5fad-134">**/ApplicationName** (or **/A**, see Remarks)</span></span>|<span data-ttu-id="c5fad-135">“否”</span><span class="sxs-lookup"><span data-stu-id="c5fad-135">No</span></span>|<span data-ttu-id="c5fad-136">.msi 文件中的项目将导入到的 BizTalk 应用程序的名称。</span><span class="sxs-lookup"><span data-stu-id="c5fad-136">Name of the BizTalk application to which the artifacts in the .msi file are imported.</span></span> <span data-ttu-id="c5fad-137">如果名称包含空格，必须将其用双引号 （"）。</span><span class="sxs-lookup"><span data-stu-id="c5fad-137">If the name includes spaces, you must enclose it with double quotation marks (").</span></span> <span data-ttu-id="c5fad-138">如果未指定，则使用默认应用程序。</span><span class="sxs-lookup"><span data-stu-id="c5fad-138">If not specified, the default application is used.</span></span> <span data-ttu-id="c5fad-139">如果指定的应用程序不存在，则系统将创建该应用程序。</span><span class="sxs-lookup"><span data-stu-id="c5fad-139">If the specified application does not exist, the application is created.</span></span>|  
|<span data-ttu-id="c5fad-140">**/ 覆盖**(或 **/O**，请参阅备注)</span><span class="sxs-lookup"><span data-stu-id="c5fad-140">**/Overwrite** (or **/O**, see Remarks)</span></span>|<span data-ttu-id="c5fad-141">“否”</span><span class="sxs-lookup"><span data-stu-id="c5fad-141">No</span></span>|<span data-ttu-id="c5fad-142">该选项的功能是，如果应用程序中的项目的本地唯一标识符 (LUID) 与 .msi 文件中的项目的本地唯一标识符 (LUID) 相同，则使用后者覆盖前者。</span><span class="sxs-lookup"><span data-stu-id="c5fad-142">Option to overwrite artifacts in the application with artifacts in the .msi file that have the same locally unique identifier (LUID).</span></span> <span data-ttu-id="c5fad-143">可以通过使用应用程序中查看的项目的 Luid [ListApp 命令](../core/listapp-command.md)。</span><span class="sxs-lookup"><span data-stu-id="c5fad-143">You can view the LUIDs of the artifacts in an application by using the [ListApp Command](../core/listapp-command.md).</span></span> <span data-ttu-id="c5fad-144">如果未指定此选项，并且应用程序中存在一个或多个项目与 .msi 文件中的项目具有相同的 LUID，则导入失败。</span><span class="sxs-lookup"><span data-stu-id="c5fad-144">If this option is not specified, and there are one or more artifacts in the application that have the same LUID as artifacts in the .msi file, the import fails.</span></span>|  
|<span data-ttu-id="c5fad-145">**/ 服务器**(或 **/S**，请参阅备注)</span><span class="sxs-lookup"><span data-stu-id="c5fad-145">**/Server** (or **/S**, see Remarks)</span></span>|<span data-ttu-id="c5fad-146">“否”</span><span class="sxs-lookup"><span data-stu-id="c5fad-146">No</span></span>|<span data-ttu-id="c5fad-147">BizTalk 管理数据库的宿主 SQL Server 实例的名称，格式为“服务器名称\实例名称,端口”。</span><span class="sxs-lookup"><span data-stu-id="c5fad-147">Name of the SQL Server instance hosting the BizTalk Management database, in the form ServerName\InstanceName,Port.</span></span><br /><br /> <span data-ttu-id="c5fad-148">只在实例名称与服务器名称不相同时才需要指定实例名称。</span><span class="sxs-lookup"><span data-stu-id="c5fad-148">Instance name is only required when the instance name is different than the server name.</span></span> <span data-ttu-id="c5fad-149">只在 SQL Server 不使用默认端口号 (1433) 时才需要指定端口。</span><span class="sxs-lookup"><span data-stu-id="c5fad-149">Port is only required when SQL Server uses a port number other than the default (1433).</span></span><br /><br /> <span data-ttu-id="c5fad-150">示例：</span><span class="sxs-lookup"><span data-stu-id="c5fad-150">Examples:</span></span><br /><br /> <span data-ttu-id="c5fad-151">Server=MyServer</span><span class="sxs-lookup"><span data-stu-id="c5fad-151">Server=MyServer</span></span><br /><br /> <span data-ttu-id="c5fad-152">Server=MyServer\MySQLServer,1533</span><span class="sxs-lookup"><span data-stu-id="c5fad-152">Server=MyServer\MySQLServer,1533</span></span><br /><br /> <span data-ttu-id="c5fad-153">如果未提供，则使用本地计算机上运行的 SQL Server 实例的名称。</span><span class="sxs-lookup"><span data-stu-id="c5fad-153">If not provided, the name of the SQL Server instance running on the local computer is used.</span></span>|  
|<span data-ttu-id="c5fad-154">**/ 数据库**(或 **/D**，请参阅备注)</span><span class="sxs-lookup"><span data-stu-id="c5fad-154">**/Database** (or **/D**, see Remarks)</span></span>|<span data-ttu-id="c5fad-155">“否”</span><span class="sxs-lookup"><span data-stu-id="c5fad-155">No</span></span>|<span data-ttu-id="c5fad-156">BizTalk 管理数据库的名称。</span><span class="sxs-lookup"><span data-stu-id="c5fad-156">Name of the BizTalk Management database.</span></span> <span data-ttu-id="c5fad-157">如果未指定，则使用在本地 SQL Server 实例中运行的 BizTalk 管理数据库。</span><span class="sxs-lookup"><span data-stu-id="c5fad-157">If not specified, the BizTalk Management database running in the local instance of SQL Server is used.</span></span>|  
  
## <a name="sample"></a><span data-ttu-id="c5fad-158">示例</span><span class="sxs-lookup"><span data-stu-id="c5fad-158">Sample</span></span>  
 <span data-ttu-id="c5fad-159">**BTSTask 的 ImportApp /Package:C:\MSI\MyApplication.msi /Environment:Test /ApplicationName:MyApplication / 覆盖**</span><span class="sxs-lookup"><span data-stu-id="c5fad-159">**BTSTask ImportApp /Package:C:\MSI\MyApplication.msi /Environment:Test /ApplicationName:MyApplication /Overwrite**</span></span>  
  
## <a name="remarks"></a><span data-ttu-id="c5fad-160">Remarks</span><span class="sxs-lookup"><span data-stu-id="c5fad-160">Remarks</span></span>  
 <span data-ttu-id="c5fad-161">参数不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="c5fad-161">Parameters are not case-sensitive.</span></span> <span data-ttu-id="c5fad-162">指定参数无需键入整个参数名，只需键入可明确标识该参数的参数名的前几个字母即可。</span><span class="sxs-lookup"><span data-stu-id="c5fad-162">You do not need to type the entire parameter name to specify it; you can type the first few letters of the parameter name that identify it unambiguously.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c5fad-163">请参阅</span><span class="sxs-lookup"><span data-stu-id="c5fad-163">See Also</span></span>  
 <span data-ttu-id="c5fad-164">[BTSTask 命令行参考](../core/btstask-command-line-reference.md) </span><span class="sxs-lookup"><span data-stu-id="c5fad-164">[BTSTask Command-Line Reference](../core/btstask-command-line-reference.md) </span></span>  
 [<span data-ttu-id="c5fad-165">如何导入 BizTalk 应用程序</span><span class="sxs-lookup"><span data-stu-id="c5fad-165">How to Import a BizTalk Application</span></span>](../core/how-to-import-a-biztalk-application.md)