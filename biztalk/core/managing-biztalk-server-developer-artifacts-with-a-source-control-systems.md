---
title: 管理 BizTalk Server 开发人员项目与源控制系统 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: ce25b112-38c9-40c8-9a5f-a2855572aabb
caps.latest.revision: 12
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 8ce9483518275c57c7defb730aeeffc8a4139115
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/27/2018
ms.locfileid: "36991006"
---
# <a name="managing-biztalk-server-developer-artifacts-with-a-source-control-systems"></a><span data-ttu-id="cde92-102">通过源代码管理系统管理 BizTalk Server 开发人员项目</span><span class="sxs-lookup"><span data-stu-id="cde92-102">Managing BizTalk Server Developer Artifacts with a Source Control Systems</span></span>
<span data-ttu-id="cde92-103">保护 BizTalk 项目不出现意外的系统失败是重中之重。</span><span class="sxs-lookup"><span data-stu-id="cde92-103">Protecting your BizTalk project from unexpected system failures should be a top priority.</span></span> <span data-ttu-id="cde92-104">保护项目文件的一种方法是使用源代码管理系统，如 Team Foundation Server 源代码管理和 Microsoft Visual SourceSafe。</span><span class="sxs-lookup"><span data-stu-id="cde92-104">One way to protect project files is to use a source code control system like Team Foundation Server Source Control and Microsoft Visual SourceSafe.</span></span> <span data-ttu-id="cde92-105">本主题讨论了用于组织项目使之最适合与任何源代码管理系统一起使用的基本策略，之后提供了使用 Visual SourceSafe 的具体建议。</span><span class="sxs-lookup"><span data-stu-id="cde92-105">This topic discusses some basic strategies for organizing projects to best work with any source control system, and then provides specific suggestions for using Visual SourceSafe.</span></span>  
  
## <a name="basic-organization-strategies"></a><span data-ttu-id="cde92-106">基本组织策略</span><span class="sxs-lookup"><span data-stu-id="cde92-106">Basic Organization Strategies</span></span>  
 <span data-ttu-id="cde92-107">无论最终将使用哪种源代码管理系统，都可以遵循一些基本组织策略。</span><span class="sxs-lookup"><span data-stu-id="cde92-107">You can follow some basic organization strategies regardless of the source control system you will ultimately use.</span></span> <span data-ttu-id="cde92-108">这些策略可以保证所组织的 BizTalk 项目文件结构同时适合于开发和源代码管理。</span><span class="sxs-lookup"><span data-stu-id="cde92-108">These strategies ensure your BizTalk project file structure is organized for both development and source code control.</span></span>  
  
### <a name="use-a-consistent-folder-structure-for-solutions-and-projects"></a><span data-ttu-id="cde92-109">对解决方案和项目使用一致的文件夹结构</span><span class="sxs-lookup"><span data-stu-id="cde92-109">Use a Consistent Folder Structure for Solutions and Projects</span></span>  
 <span data-ttu-id="cde92-110">在团队环境中的开发可更轻松地管理如果存储的通用结构[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]解决方案和项目使用在整个团队。</span><span class="sxs-lookup"><span data-stu-id="cde92-110">Development in a team environment is easier to manage if a common structure for storing [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] solutions and projects is used across the whole team.</span></span> <span data-ttu-id="cde92-111">当每个 BizTalk 项目都要生成和使用生成、测试和部署工作组所必需的某些文件（比如绑定文件）时更是如此。</span><span class="sxs-lookup"><span data-stu-id="cde92-111">This is especially true when each BizTalk project will be generating and using files such as binding files that will be required by build, test, and deployment teams.</span></span>  
  
 <span data-ttu-id="cde92-112">开始开发时通常很容易，因为不需要花费时间对文件夹结构进行标准化。</span><span class="sxs-lookup"><span data-stu-id="cde92-112">It is often easy to start development without taking the time to standardize on the folder structures.</span></span> <span data-ttu-id="cde92-113">但是，随着项目开发的进行，需要对项目链接和测试工具进行“修补”，这样势必会花费更多时间。</span><span class="sxs-lookup"><span data-stu-id="cde92-113">This will inevitably cost more time later on as project links and test harnesses need to be "patched" as the solution develops.</span></span>  
  
### <a name="keep-source-control-and-file-system-structures-identical"></a><span data-ttu-id="cde92-114">保持源代码管理和文件系统结构完全相同</span><span class="sxs-lookup"><span data-stu-id="cde92-114">Keep Source Control and File System Structures Identical</span></span>  
 <span data-ttu-id="cde92-115">为了简化多开发人员环境的管理，请在源代码管理系统中设置一个与本地文件系统结构相匹配的文件夹结构。</span><span class="sxs-lookup"><span data-stu-id="cde92-115">To simplify the management of multiple developers' environments, set up a folder structure within the source control system that matches your local file system structure.</span></span> <span data-ttu-id="cde92-116">这有助于确保开发人员获得最新版本，并确定磁盘上的结构与工作组的标准相符。</span><span class="sxs-lookup"><span data-stu-id="cde92-116">This helps ensure that a developer can simply get a latest version and know that the structure on the disk complies with the team's standards.</span></span>  
  
### <a name="define-and-use-a-common-root-folder"></a><span data-ttu-id="cde92-117">定义和使用公共根文件夹</span><span class="sxs-lookup"><span data-stu-id="cde92-117">Define and Use a Common Root Folder</span></span>  
 <span data-ttu-id="cde92-118">建议将所有项目代码和可传递文件保持在可随后在所有开发人员的计算机上依次创建的单一文件夹根下。</span><span class="sxs-lookup"><span data-stu-id="cde92-118">It is recommended that you keep all project code and deliverables under a single folder root that can in turn be created on all developers' computers.</span></span> <span data-ttu-id="cde92-119">当所有开发人员都使用同一个根时，管理开发项目和保持一致配置的过程即会得以简化。</span><span class="sxs-lookup"><span data-stu-id="cde92-119">Managing development artifacts and maintaining a consistent configuration is simplified when all developers use the same root.</span></span> <span data-ttu-id="cde92-120">例如，在 Visual SourceSafe 中创建一个根文件夹 $/SysInteg2009 后，所有开发人员都可以在其本地文件系统上创建 C:\SysInteg2009。</span><span class="sxs-lookup"><span data-stu-id="cde92-120">For example, create a root folder of $/SysInteg2009 within Visual SourceSafe, and all developers can create C:\SysInteg2009 on their local file systems.</span></span>  
  
### <a name="create-a-master-solution-that-will-hold-all-projects"></a><span data-ttu-id="cde92-121">创建将容纳所有项目的主解决方案</span><span class="sxs-lookup"><span data-stu-id="cde92-121">Create a Master Solution That Will Hold All Projects</span></span>  
 <span data-ttu-id="cde92-122">主解决方案通常用作主生成解决方案。</span><span class="sxs-lookup"><span data-stu-id="cde92-122">The master solution will typically be used as the main build solution.</span></span> <span data-ttu-id="cde92-123">建议对中高复杂程度的 BizTalk 项目应用此策略。</span><span class="sxs-lookup"><span data-stu-id="cde92-123">This is recommended for medium to high-complexity BizTalk projects.</span></span>  
  
### <a name="store-all-biztalk-projects-under-the-master-solution"></a><span data-ttu-id="cde92-124">将所有 BizTalk 项目存储在主解决方案下</span><span class="sxs-lookup"><span data-stu-id="cde92-124">Store All BizTalk Projects Under the Master Solution</span></span>  
 <span data-ttu-id="cde92-125">将所有相关的 BizTalk 项目都组织在主解决方案下很有用。</span><span class="sxs-lookup"><span data-stu-id="cde92-125">It is useful to organize all related BizTalk projects under the master solution.</span></span> <span data-ttu-id="cde92-126">源代码管理系统中的结构应该反映这一层次结构。</span><span class="sxs-lookup"><span data-stu-id="cde92-126">The structure in the source control system should mirror this hierarchy.</span></span>  
  
### <a name="divide-the-folder-structure-into-shared-and-process-specific-sections"></a><span data-ttu-id="cde92-127">将文件夹结构拆分为共享部分和特定于流程的部分</span><span class="sxs-lookup"><span data-stu-id="cde92-127">Divide the Folder Structure into Shared and Process-Specific Sections</span></span>  
 <span data-ttu-id="cde92-128">创建文件结构时，通常需要拆分文件夹结构以区别共享实体和特定于业务流程的实体。</span><span class="sxs-lookup"><span data-stu-id="cde92-128">When you create the file structure, you typically divide the folder structure to separate the shared entities from the business process-specific entities.</span></span> <span data-ttu-id="cde92-129">共享实体是多个项目的公共实体，可能包括帮助器类。</span><span class="sxs-lookup"><span data-stu-id="cde92-129">The shared entities are common to multiple projects and may include helper classes.</span></span>  
  
 <span data-ttu-id="cde92-130">例如，下面列表中的前三个文件夹按共享实体进行组织，后两个文件夹按业务流程进行组织：</span><span class="sxs-lookup"><span data-stu-id="cde92-130">For example, the first three folders in the following list are organized by shared entity and the last two are organized by business process:</span></span>  
  
 <span data-ttu-id="cde92-131">C:\SysInteg2009\\_Master_Solution\Shared\\</span><span class="sxs-lookup"><span data-stu-id="cde92-131">C:\SysInteg2009\\_Master_Solution\Shared\\</span></span>  
  
 <span data-ttu-id="cde92-132">C:\SysInteg2009\\_Master_Solution\Shared\EmailHelper</span><span class="sxs-lookup"><span data-stu-id="cde92-132">C:\SysInteg2009\\_Master_Solution\Shared\EmailHelper</span></span>  
  
 <span data-ttu-id="cde92-133">C:\SysInteg2009\\_Master_Solution\Shared\SharedSchema</span><span class="sxs-lookup"><span data-stu-id="cde92-133">C:\SysInteg2009\\_Master_Solution\Shared\SharedSchema</span></span>  
  
 <span data-ttu-id="cde92-134">C:\SysInteg2009\\_Master_Solution\AccountRequest\\</span><span class="sxs-lookup"><span data-stu-id="cde92-134">C:\SysInteg2009\\_Master_Solution\AccountRequest\\</span></span>  
  
 <span data-ttu-id="cde92-135">C:\SysInteg2009\\_Master_Solution\AccountValidate\\</span><span class="sxs-lookup"><span data-stu-id="cde92-135">C:\SysInteg2009\\_Master_Solution\AccountValidate\\</span></span>  
  
### <a name="separate-pipeline-projects-into-distinct-projects"></a><span data-ttu-id="cde92-136">将管道项目拆分为不同的项目</span><span class="sxs-lookup"><span data-stu-id="cde92-136">Separate Pipeline Projects into Distinct Projects</span></span>  
 <span data-ttu-id="cde92-137">在管道组件的开发过程中，通常要求独立于解决方案的其余部分来修改和重新测试管道。</span><span class="sxs-lookup"><span data-stu-id="cde92-137">During development of pipeline components, it is a common requirement to modify and retest a pipeline independent of the rest of the solution.</span></span> <span data-ttu-id="cde92-138">因此，将管道解决方案保持为独立的 BizTalk 项目很有帮助，这样可以使生成一个独立的管道程序集，无需重新绑定解决方案的其余部分即可以删除并重新部分该管道程序集。</span><span class="sxs-lookup"><span data-stu-id="cde92-138">For this reason it is often helpful to keep pipeline solutions as a separate BizTalk project, resulting in a separate pipeline assembly that can be removed and redeployed without the need to rebind the rest of the solution.</span></span>  
  
 <span data-ttu-id="cde92-139">此外，它是常见做法是尽量实现实际管道接口和管道处理逻辑在单独的项目的引用从 BizTalk 项目 （包含.btp 文件） 到代码[!INCLUDE[btsCSharp](../includes/btscsharp-md.md)]或 Microsoft [!INCLUDE[btsVBNet](../includes/btsvbnet-md.md)]项目。</span><span class="sxs-lookup"><span data-stu-id="cde92-139">Additionally it is common practice to keep the code that implements the actual pipeline interfaces and pipeline processing logic in a separate project with a reference from the BizTalk project (containing the .btp files) to the [!INCLUDE[btsCSharp](../includes/btscsharp-md.md)] or Microsoft [!INCLUDE[btsVBNet](../includes/btsvbnet-md.md)] project.</span></span>  
  
### <a name="keep-deployment-and-test-scripts-with-their-projects"></a><span data-ttu-id="cde92-140">将部署和测试脚本与其项目保持在一起</span><span class="sxs-lookup"><span data-stu-id="cde92-140">Keep Deployment and Test Scripts with Their Projects</span></span>  
 <span data-ttu-id="cde92-141">为了实现统一的生成和部署开发过程，生成脚本和安装脚本应当由单独的开发人员生成，这些脚本应视为完整解决方案的可重复使用部分。</span><span class="sxs-lookup"><span data-stu-id="cde92-141">To enable the development of a unified build and deployment process, build and install scripts should be built by the individual developers, but viewed as reusable parts of the complete solution.</span></span> <span data-ttu-id="cde92-142">如果编写的脚本可以重复使用，则像部署整个解决方案包这样的任务可以重复使用这些脚本。</span><span class="sxs-lookup"><span data-stu-id="cde92-142">If the scripts are written to be reusable then tasks like the deployment of a complete solution package can reuse the scripts.</span></span> <span data-ttu-id="cde92-143">例如，如果部署和取消部署脚本接受参数来指定 DLL 和绑定文件文件夹位置的路径，脚本可能会重复使用时的已编译[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]的程序集位于不同的位置。</span><span class="sxs-lookup"><span data-stu-id="cde92-143">For example, if the deployment and undeployment scripts accept parameters to specify the paths for the DLL and binding file folder locations, the scripts can be reused when the compiled [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] assemblies are in a different location.</span></span>  
  
 <span data-ttu-id="cde92-144">使用此方法，开发人员可以将其特定进程的安装脚本添加到文件夹，然后，只需要编写一个简单的进程即可以执行所有进程的完全部署。</span><span class="sxs-lookup"><span data-stu-id="cde92-144">Using this approach, developers add the install scripts for their specific processes to the folder and then a single process can easily be written to perform a full deployment of all processes.</span></span>  
  
### <a name="use-unique-strong-name-keys-when-appropriate"></a><span data-ttu-id="cde92-145">适当时使用唯一的强名称密钥</span><span class="sxs-lookup"><span data-stu-id="cde92-145">Use Unique Strong Name Keys When Appropriate</span></span>  
 <span data-ttu-id="cde92-146">通常情况下次[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]解决方案使用一个密钥文件。</span><span class="sxs-lookup"><span data-stu-id="cde92-146">Typically a single [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] solution uses a single key file.</span></span> <span data-ttu-id="cde92-147">这是因为解决方案被视为单个实体，并按单个实体进行管理。</span><span class="sxs-lookup"><span data-stu-id="cde92-147">This is true because the solution is treated as a single entity and is managed as such.</span></span> <span data-ttu-id="cde92-148">如果开发的业务解决方案实际上由两个或多个不同部分组成，则应考虑是否要使用两个密钥文件。</span><span class="sxs-lookup"><span data-stu-id="cde92-148">If the business solution being developed is actually composed of two or more distinct parts, then consider if two key files should be used.</span></span> <span data-ttu-id="cde92-149">在这种情况下，多个密钥使各个部分将被视为独立的实体（例如升级路径不同的情况）。</span><span class="sxs-lookup"><span data-stu-id="cde92-149">Multiple keys in this scenario allow the parts to be treated as independent entities in the future, for example with differing upgrade paths.</span></span>  
  
 <span data-ttu-id="cde92-150">同样的注意事项适用于帮助器项目。</span><span class="sxs-lookup"><span data-stu-id="cde92-150">When considering helper projects, the same considerations apply.</span></span> <span data-ttu-id="cde92-151">如果帮助器项目是（或将是）独立的实体，则应该使用单独的强名称密钥生成该项目。</span><span class="sxs-lookup"><span data-stu-id="cde92-151">If the helper project is (or will be) a separate entity then it should be built using a separate strong name key.</span></span>  
  
### <a name="put-dependent-dlls-into-a-separate-folder"></a><span data-ttu-id="cde92-152">将独立的 DLL 放在单独的文件夹中</span><span class="sxs-lookup"><span data-stu-id="cde92-152">Put Dependent DLLs into a Separate Folder</span></span>  
 <span data-ttu-id="cde92-153">创建文件夹结构时，创建一个容纳作为文件依存关系而被引用的 DLL 的公共文件夹很有帮助。</span><span class="sxs-lookup"><span data-stu-id="cde92-153">When creating the folder structure it is helpful to create a common folder to hold DLLS that are referenced as file dependencies.</span></span> <span data-ttu-id="cde92-154">通过确保所有开发人员都使用同样的文件夹结构，当在开发人员之间或工作站之间移动解决方案时，文件引用不会被破坏。</span><span class="sxs-lookup"><span data-stu-id="cde92-154">By ensuring that all developers follow the same folder structure, file references will not become broken when solutions are moved between developers or workstations.</span></span>  
  
### <a name="keep-test-messages-in-a-msgs-folder"></a><span data-ttu-id="cde92-155">将测试消息保存在“Msgs”文件夹中</span><span class="sxs-lookup"><span data-stu-id="cde92-155">Keep Test Messages in a "Msgs" Folder</span></span>  
 <span data-ttu-id="cde92-156">在开发架构和使用消息时，根据 XML 架构和业务流程测试众多不同示例消息时通常需要大量工作。</span><span class="sxs-lookup"><span data-stu-id="cde92-156">When developing schemas and using messages it is common to spend considerable effort testing many different sample messages against XML schema and orchestration processes.</span></span>  
  
 <span data-ttu-id="cde92-157">在实际的解决方案中，示例消息是一笔宝贵的资产，因为它们包含的数据对业务解决方案具有重要意义。</span><span class="sxs-lookup"><span data-stu-id="cde92-157">In a real-world solution, sample messages are a valuable asset because they contain data that is meaningful to the business solution.</span></span> <span data-ttu-id="cde92-158">同一个消息中的随机值或虚拟值通常会导致进程失败。</span><span class="sxs-lookup"><span data-stu-id="cde92-158">Random or dummy values in the same message will typically cause the process to fail.</span></span> <span data-ttu-id="cde92-159">因此，示例消息应当与解决方案代码同样对待。</span><span class="sxs-lookup"><span data-stu-id="cde92-159">For this reason sample messages should be treated with as much care as the code of the solution.</span></span>  
  
 <span data-ttu-id="cde92-160">为帮助管理消息文件，应将测试消息保存在名为“msgs”的特定文件夹下。</span><span class="sxs-lookup"><span data-stu-id="cde92-160">To assist in managing the message files, keep test messages under a specific folder called "msgs".</span></span> <span data-ttu-id="cde92-161">在同时具有“生成的实例”和“示例消息”的情况下（例如来自现有系统的消息），有必要单独保存这些消息，以便在开发的架构和实际数据之间进行比较。</span><span class="sxs-lookup"><span data-stu-id="cde92-161">In cases where there are both "generated instances" and "example messages" (for example, messages from an existing system), it is useful to keep these messages separate to allow comparison between the developed schema and actual data.</span></span>  
  
 <span data-ttu-id="cde92-162">集成项目中通常具有多个版本的架构，因此具有多个版本的消息文件。</span><span class="sxs-lookup"><span data-stu-id="cde92-162">It is common in an integration project to have multiple versions of schemas and consequently, multiple versions of message files.</span></span> <span data-ttu-id="cde92-163">为了区分示例消息，可以在命名文件时使用版本号。</span><span class="sxs-lookup"><span data-stu-id="cde92-163">To tell the sample messages apart, use version numbers when naming files.</span></span>  
  
### <a name="managing-other-files"></a><span data-ttu-id="cde92-164">管理其他文件</span><span class="sxs-lookup"><span data-stu-id="cde92-164">Managing Other Files</span></span>  
 <span data-ttu-id="cde92-165">某些类型的文件可以分组并存储在不同的文件夹中；其余类型的文件可以与其他文件一起存储在公共文件夹中。</span><span class="sxs-lookup"><span data-stu-id="cde92-165">Some types of files can be grouped and stored in a distinct folder; others can be stored with other files under a common folder.</span></span> <span data-ttu-id="cde92-166">制定有关如何处理每种文件类型的策略，然后一贯执行。</span><span class="sxs-lookup"><span data-stu-id="cde92-166">Draw up a policy on how to handle each file type and then consistently follow it.</span></span>  
  
## <a name="working-with-biztalk-server-and-visual-sourcesafe"></a><span data-ttu-id="cde92-167">使用 BizTalk Server 和 Visual SourceSafe</span><span class="sxs-lookup"><span data-stu-id="cde92-167">Working with BizTalk Server and Visual SourceSafe</span></span>  
 <span data-ttu-id="cde92-168">本部分讨论使用 Visual SourceSafe 时的具体注意事项，包括处理 Unicode、使用 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 进行源代码管理、何时检入、版本控制和其他问题。</span><span class="sxs-lookup"><span data-stu-id="cde92-168">This section discusses specific considerations for working with Visual SourceSafe including handling Unicode, using [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] for source control, when to check in, version control, and other issues.</span></span>  
  
### <a name="solution-character-sets"></a><span data-ttu-id="cde92-169">解决方案字符集</span><span class="sxs-lookup"><span data-stu-id="cde92-169">Solution Character Sets</span></span>  
 <span data-ttu-id="cde92-170">Visual SourceSafe 在处理 Unicode 文件方面有一条已知限制。</span><span class="sxs-lookup"><span data-stu-id="cde92-170">There is a known limitation with Visual SourceSafe related to the handling of Unicode files.</span></span> <span data-ttu-id="cde92-171">使用 BizTalk 解决方案时，必须防止 Visual SourceSafe 损坏 BizTalk Server Unicode 文件。</span><span class="sxs-lookup"><span data-stu-id="cde92-171">When working with BizTalk solutions it is necessary to prevent Visual SourceSafe from corrupting BizTalk Server Unicode files.</span></span>  
  
##### <a name="to-enable-visual-sourcesafe-to-work-with-biztalk-server-unicode-files"></a><span data-ttu-id="cde92-172">启用 Visual SourceSafe 以使用 BizTalk Server Unicode 文件</span><span class="sxs-lookup"><span data-stu-id="cde92-172">To enable Visual SourceSafe to work with BizTalk Server Unicode files</span></span>  
  
1. <span data-ttu-id="cde92-173">启动 Visual SourceSafe 8.0 管理员。</span><span class="sxs-lookup"><span data-stu-id="cde92-173">Start Visual SourceSafe 8.0 Admin.</span></span>  
  
2. <span data-ttu-id="cde92-174">选择要使用的 SourceSafe 数据库。</span><span class="sxs-lookup"><span data-stu-id="cde92-174">Select the SourceSafe database to be used.</span></span>  
  
3. <span data-ttu-id="cde92-175">在“工具”  菜单上，单击“选项” 。</span><span class="sxs-lookup"><span data-stu-id="cde92-175">On the **Tools** menu, click **Options**.</span></span>  
  
4. <span data-ttu-id="cde92-176">单击**文件类型**选项卡。</span><span class="sxs-lookup"><span data-stu-id="cde92-176">Click the **File Types** tab.</span></span>  
  
5. <span data-ttu-id="cde92-177">将以下文件类型添加到二进制文件列表的末尾。</span><span class="sxs-lookup"><span data-stu-id="cde92-177">Add the following to the end of the list of binary files.</span></span> <span data-ttu-id="cde92-178">检查每个文件类型之间是否有分号：</span><span class="sxs-lookup"><span data-stu-id="cde92-178">Verify there are semicolons between each file type:</span></span>  
  
    <span data-ttu-id="cde92-179">\*.btm;\*.btp;\*.xsd;\*.odx</span><span class="sxs-lookup"><span data-stu-id="cde92-179">\*.btm;\*.btp;\*.xsd;\*.odx</span></span>  
  
6. <span data-ttu-id="cde92-180">单击“确定” 。</span><span class="sxs-lookup"><span data-stu-id="cde92-180">Click **OK**.</span></span>  
  
   <span data-ttu-id="cde92-181">现在，Visual SourceSafe 不会再检查 BizTalk Server 文件并尝试更改这些文件的格式。</span><span class="sxs-lookup"><span data-stu-id="cde92-181">Now Visual SourceSafe will not inspect BizTalk Server files and attempt to change their formatting.</span></span>  
  
### <a name="use-visual-studio-for-source-control-operations"></a><span data-ttu-id="cde92-182">使用 Visual Studio 进行源代码管理操作</span><span class="sxs-lookup"><span data-stu-id="cde92-182">Use Visual Studio for Source Control Operations</span></span>  
 <span data-ttu-id="cde92-183">所有项目创建和操作 Visual SourceSafe 中的应执行通过使用集成的 Visual SourceSafe 支持菜单内[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="cde92-183">All project creation and manipulation within Visual SourceSafe should be performed by using the integrated Visual SourceSafe support menus within [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)].</span></span> <span data-ttu-id="cde92-184">不要使用 Visual SourceSafe Explorer 执行这些操作。</span><span class="sxs-lookup"><span data-stu-id="cde92-184">Do not use Visual SourceSafe Explorer to perform these operations.</span></span>  
  
### <a name="when-to-check-in-biztalk-server-projects"></a><span data-ttu-id="cde92-185">何时检入 BizTalk Server 项目</span><span class="sxs-lookup"><span data-stu-id="cde92-185">When to Check in BizTalk Server Projects</span></span>  
 <span data-ttu-id="cde92-186">使用 Visual SourceSafe 时，建议仅在代码已成功通过功能测试且开发人员确信该代码会成功生成而不会中断任何其他代码时，才检入该代码。</span><span class="sxs-lookup"><span data-stu-id="cde92-186">The recommended approach to using Visual SourceSafe is to check in code only when it has successfully passed functional tests and the developer is confident that the code will successfully build without breaking any related code.</span></span> <span data-ttu-id="cde92-187">将应用到此模型[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]导致以下准则：</span><span class="sxs-lookup"><span data-stu-id="cde92-187">Applying this model to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] results in the following guidelines:</span></span>  
  
- <span data-ttu-id="cde92-188">仅包含消息架构的 BizTalk 项目只应在这些架构已经成功根据各种示例消息进行测试后才能检入。</span><span class="sxs-lookup"><span data-stu-id="cde92-188">BizTalk projects that contain only message schemas should not be checked in until the schemas have been successfully tested against a variety of sample messages.</span></span>  
  
- <span data-ttu-id="cde92-189">包含业务流程的 BizTalk 项目只应在使用相应的输入和输出消息并使用正确的发送和接收端口成功进行测试解决方案后才能检入。</span><span class="sxs-lookup"><span data-stu-id="cde92-189">BizTalk projects that contain a business process should not be checked in until the solution has been successfully tested using the appropriate input and output messages and using the correct send and receive ports.</span></span>  
  
- <span data-ttu-id="cde92-190">ASP.NET Web Services 项目只应在已经根据初始系统或使用测试工具对 Web Services 代码进行测试后才能检入。</span><span class="sxs-lookup"><span data-stu-id="cde92-190">ASP.NET Web service projects should not be checked in until the Web service code has been tested against the initiating system or by using a test harness.</span></span>  
  
  <span data-ttu-id="cde92-191">如果遵循此模式，则 Visual SourceSafe 储存库将始终保存一个可以成功生成和测试的内部版本。</span><span class="sxs-lookup"><span data-stu-id="cde92-191">If this model is followed, then the Visual SourceSafe repository will always hold a build that can be successfully built and tested.</span></span> <span data-ttu-id="cde92-192">如果要按照“夜间生成”方法操作，则必须遵循此原则。</span><span class="sxs-lookup"><span data-stu-id="cde92-192">This principle is important if the approach of "nightly builds" is to be adhered to.</span></span>  
  
### <a name="checking-in-intermediate-versions"></a><span data-ttu-id="cde92-193">检入中间版本</span><span class="sxs-lookup"><span data-stu-id="cde92-193">Checking in Intermediate Versions</span></span>  
 <span data-ttu-id="cde92-194">检入文件的另一种方法是检入“中间”版本。</span><span class="sxs-lookup"><span data-stu-id="cde92-194">An alternative approach to checking in files is that of checking in "intermediate" versions.</span></span> <span data-ttu-id="cde92-195">在这种方法中，中间版本尚未成功通过功能测试，可以认为是“内部中间版本”。</span><span class="sxs-lookup"><span data-stu-id="cde92-195">In this approach an intermediate version has not yet successfully passed functional tests and can be thought of as "between builds."</span></span> <span data-ttu-id="cde92-196">通常不推荐使用此方法，因为它违反了一般原则，即始终在源代码管理系统中拥有可生成版本。</span><span class="sxs-lookup"><span data-stu-id="cde92-196">This is generally not a recommended approach because it breaks the general principle of always having a buildable version within the source control system.</span></span> <span data-ttu-id="cde92-197">但一些工作组喜欢使用这种方法，因为它允许开发人员使用源代码管理系统检入和回滚各个版本，而不需满足检入正式版本的条件。</span><span class="sxs-lookup"><span data-stu-id="cde92-197">However some teams prefer this approach because it allows developers to use the source control system to check in and roll back versions without needing to fulfill the criteria for checking in a formal build.</span></span>  
  
 <span data-ttu-id="cde92-198">如果需要使用检入中间版本这一方法，则不能认为源代码管理系统中包含“可生成”版本。</span><span class="sxs-lookup"><span data-stu-id="cde92-198">If the approach of checking in intermediate versions is required, then you cannot assume that the source control system contains a "buildable" version.</span></span> <span data-ttu-id="cde92-199">相反，您必须区分中间版本和内部版本。</span><span class="sxs-lookup"><span data-stu-id="cde92-199">Instead you must distinguish between intermediate versions and build versions.</span></span> <span data-ttu-id="cde92-200">这可以通过使用以下自动进行或基于进程的 Visual SourceSafe 得以实现。</span><span class="sxs-lookup"><span data-stu-id="cde92-200">By using Visual SourceSafe you can do this in a variety of ways, either automatic or process based.</span></span> <span data-ttu-id="cde92-201">例如：</span><span class="sxs-lookup"><span data-stu-id="cde92-201">For example:</span></span>  
  
-   <span data-ttu-id="cde92-202">开发人员在将“可生成”版本添加到 Visual SourceSafe 时通知内部版本管理器。</span><span class="sxs-lookup"><span data-stu-id="cde92-202">Developers follow a process of notifying the build manager when a "buildable" version is added to Visual SourceSafe.</span></span>  
  
-   <span data-ttu-id="cde92-203">开发人员将经过测试并准备生成的版本检入到 Visual SourceSafe 的“提示区域”中。</span><span class="sxs-lookup"><span data-stu-id="cde92-203">Developers check in a tested version, ready for building, into a "promoted area" within Visual SourceSafe.</span></span> <span data-ttu-id="cde92-204">之后，此提示区域用做主版本所依据的源。</span><span class="sxs-lookup"><span data-stu-id="cde92-204">This promoted area is then used as the source upon which the master build is based.</span></span>  
  
-   <span data-ttu-id="cde92-205">编写代码或脚本时可以让其使用 Visual SourceSafe COM 接口。</span><span class="sxs-lookup"><span data-stu-id="cde92-205">Code or script can be written that uses the Visual SourceSafe COM interfaces.</span></span> <span data-ttu-id="cde92-206">例如，可以使用特定标签以表明代码已准备好进行生成，脚本搜索此标签，然后将此源代码“钉”入到单独的 Visual SourceSafe 分支中。</span><span class="sxs-lookup"><span data-stu-id="cde92-206">For example, a specific label can be used to denote code ready for a build, and the script searches for this label and then "pins" this source into a separate Visual SourceSafe branch.</span></span> <span data-ttu-id="cde92-207">然后，将此分支用做主内部版本的源。</span><span class="sxs-lookup"><span data-stu-id="cde92-207">This branch is then used as the source for master builds.</span></span>  
  
### <a name="comparing-files"></a><span data-ttu-id="cde92-208">比较文件</span><span class="sxs-lookup"><span data-stu-id="cde92-208">Comparing Files</span></span>  
 <span data-ttu-id="cde92-209">您可以使用 Visual SourceSafe 来查找两个不同版本的 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 源文件之间的区别。</span><span class="sxs-lookup"><span data-stu-id="cde92-209">You can use Visual SourceSafe to find the differences between two different versions of a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] source file.</span></span> <span data-ttu-id="cde92-210">此操作可以对各种项目执行，包括映射和架构及其相关文件，如消息，甚至是导出的配置文件。</span><span class="sxs-lookup"><span data-stu-id="cde92-210">This can be done with artifacts including maps and schemas and related files such as test messages and even exported configuration files.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="cde92-211">比较映射时，您必须在签入映射之前编辑映射，否则，Visual SourceSafe 将在查找该映射与下一版本之间的区别时执行二进制比较。</span><span class="sxs-lookup"><span data-stu-id="cde92-211">When comparing maps, you must edit the map prior to checking it in or Visual SourceSafe will do a binary comparison when looking for differences between it and the next version.</span></span> <span data-ttu-id="cde92-212">这是因为编码信息在编辑后才添加到映射 XML。</span><span class="sxs-lookup"><span data-stu-id="cde92-212">This is because encoding information is not added to the map XML until you edit it.</span></span>  
  
### <a name="version-controlling-non-biztalk-server-project-files"></a><span data-ttu-id="cde92-213">对 BizTalk Server 项目文件进行版本控制</span><span class="sxs-lookup"><span data-stu-id="cde92-213">Version Controlling Non-BizTalk Server Project Files</span></span>  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="cde92-214"> 还使用一些附加文件，这些文件在 Visual SourceSafe 中进行版本控制和存储时别具优势。</span><span class="sxs-lookup"><span data-stu-id="cde92-214"> uses additional files that can beneficially be versioned and stored in Visual SourceSafe.</span></span> <span data-ttu-id="cde92-215">以下文件为示例文件：</span><span class="sxs-lookup"><span data-stu-id="cde92-215">The following files are examples:</span></span>  
  
- <span data-ttu-id="cde92-216">绑定文件（开发和测试）</span><span class="sxs-lookup"><span data-stu-id="cde92-216">Binding files (both development and test)</span></span>  
  
- <span data-ttu-id="cde92-217">自定义管道程序集</span><span class="sxs-lookup"><span data-stu-id="cde92-217">Custom pipeline assemblies</span></span>  
  
- <span data-ttu-id="cde92-218">测试数据（例如测试消息）</span><span class="sxs-lookup"><span data-stu-id="cde92-218">Test data (for example, test messages)</span></span>  
  
- <span data-ttu-id="cde92-219">测试工具（在项目生存期内可能发生变化）</span><span class="sxs-lookup"><span data-stu-id="cde92-219">Test harnesses (which may change over the project lifetime)</span></span>  
  
- <span data-ttu-id="cde92-220">可能需要在部署和生成工作组之间共享的生成脚本、部署脚本和启动停止脚本</span><span class="sxs-lookup"><span data-stu-id="cde92-220">Build, deployment, and start-and-stop scripts that may need to be shared between development and build teams</span></span>  
  
  <span data-ttu-id="cde92-221">如果这些文件与特定[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]BizTalk 项目中，然后它们可以在 BizTalk 项目中包含和管理通过使用[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]集成的源代码管理功能。</span><span class="sxs-lookup"><span data-stu-id="cde92-221">If these files are related to a specific [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] BizTalk project, then they can be included within the BizTalk project and managed by using the [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] integrated source control functions.</span></span>  
  
##### <a name="to-include-a-file-or-folder-into-an-existing-visual-studio-project"></a><span data-ttu-id="cde92-222">将文件或文件夹包括在现有的 Visual Studio 项目中</span><span class="sxs-lookup"><span data-stu-id="cde92-222">To include a file or folder into an existing Visual Studio project</span></span>  
  
1.  <span data-ttu-id="cde92-223">在解决方案资源管理器，单击**显示所有文件**。</span><span class="sxs-lookup"><span data-stu-id="cde92-223">In Solution Explorer, click **Show All Files**.</span></span>  
  
2.  <span data-ttu-id="cde92-224">选择要包括在解决方案中的文件夹或文件。</span><span class="sxs-lookup"><span data-stu-id="cde92-224">Select the folder or file to include in the solution.</span></span>  
  
3.  <span data-ttu-id="cde92-225">右键单击该文件夹或文件，然后依次**包括在项目**。</span><span class="sxs-lookup"><span data-stu-id="cde92-225">Right-click the folder or file, and then click **Include In Project**.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="cde92-226">Visual SourceSafe 资源管理器不应该用于管理属于的任何项[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]源代码管理下的项目。</span><span class="sxs-lookup"><span data-stu-id="cde92-226">Visual SourceSafe Explorer should NOT be used to manage any items that are part of a [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] project under source control.</span></span>  
  
### <a name="checking-the-visual-sourcesafe-database"></a><span data-ttu-id="cde92-227">检查 Visual SourceSafe 数据库</span><span class="sxs-lookup"><span data-stu-id="cde92-227">Checking the Visual SourceSafe Database</span></span>  
 <span data-ttu-id="cde92-228">如果 Visual SourceSafe 数据库很大且使用频繁，或由许多并发用户进行访问，则建议定期从 Visual SourceSafe 菜单中运行“Analyze VSS DB”命令。</span><span class="sxs-lookup"><span data-stu-id="cde92-228">When Visual SourceSafe databases are large, heavily used, or being accessed by many concurrent users, it is recommended that you regularly run the "Analyze VSS DB" command from the Visual SourceSafe menu.</span></span> <span data-ttu-id="cde92-229">如果分析过程中检测到错误，可以通过使用“Analyze and Fix VSS DB”命令修复这些错误。</span><span class="sxs-lookup"><span data-stu-id="cde92-229">If the analysis detects errors, then they can be fixed by using the "Analyze and Fix VSS DB" command.</span></span> <span data-ttu-id="cde92-230">这两个命令都需要锁定 Visual SourceSafe 数据库，因此要求每个人都与 Visual SourceSafe 断开连接。</span><span class="sxs-lookup"><span data-stu-id="cde92-230">Both these commands need to lock the Visual SourceSafe database, and hence require everyone to be disconnected from Visual SourceSafe.</span></span>