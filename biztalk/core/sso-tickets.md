---
title: SSO 票证 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- tickets [SSO]
ms.assetid: acf01422-4696-4301-b85f-7026e792bb5c
caps.latest.revision: 11
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 0e1ae40e43924faca6a5154b2b62a154fea1ea9b
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/27/2018
ms.locfileid: "37012710"
---
# <a name="sso-tickets"></a><span data-ttu-id="8d2ad-102">SSO 票证</span><span class="sxs-lookup"><span data-stu-id="8d2ad-102">SSO Tickets</span></span>
<span data-ttu-id="8d2ad-103">在企业环境中，用户需要与各种各样的系统和应用程序进行交互，很可能会出现环境不通过多个进程、产品和计算机维护用户上下文的情况。</span><span class="sxs-lookup"><span data-stu-id="8d2ad-103">In an enterprise environment, where a user interacts with various systems and applications, it is very likely that the environment does not maintain the user context through multiple processes, products, and computers.</span></span> <span data-ttu-id="8d2ad-104">此用户上下文对于提供单一登录功能至关重要，因为需要确认原始请求的发起人。</span><span class="sxs-lookup"><span data-stu-id="8d2ad-104">This user context is crucial to provide single sign-on capabilities, as it is necessary to verify who initiated the original request.</span></span> <span data-ttu-id="8d2ad-105">为了克服此问题，企业单一登录 (SSO) 提供了 SSO 票证（不是 Kerberos 票证），应用程序可以使用该票证获取与发出原始请求的用户相对应的凭据。</span><span class="sxs-lookup"><span data-stu-id="8d2ad-105">To overcome this problem Enterprise Single Sign-On (SSO) provides an SSO ticket (not a Kerberos ticket) that applications can use to get the credentials that correspond to the user who made the original request.</span></span> <span data-ttu-id="8d2ad-106">默认情况下，不启用 SSO 票证。</span><span class="sxs-lookup"><span data-stu-id="8d2ad-106">SSO tickets are not enabled by default.</span></span> <span data-ttu-id="8d2ad-107">有关启用票证的详细信息，请参阅[如何配置 SSO 票证](../core/how-to-configure-the-sso-tickets.md)。</span><span class="sxs-lookup"><span data-stu-id="8d2ad-107">For more information about enabling tickets, see [How to Configure the SSO Tickets](../core/how-to-configure-the-sso-tickets.md).</span></span>  
  
 <span data-ttu-id="8d2ad-108">当经过验证的 Windows 用户发出请求时，SSO 系统将颁发票证。</span><span class="sxs-lookup"><span data-stu-id="8d2ad-108">The SSO system issues a ticket when requested by an authenticated Windows user.</span></span> <span data-ttu-id="8d2ad-109">SSO 系统可为发出请求的用户或远程用户颁发票证。</span><span class="sxs-lookup"><span data-stu-id="8d2ad-109">The SSO system can issue a ticket for the user making the request or for a remote user.</span></span> <span data-ttu-id="8d2ad-110">票证包含当前用户加密的域和用户名以及票证到期时间。</span><span class="sxs-lookup"><span data-stu-id="8d2ad-110">A ticket contains the encrypted domain and username of the current user, and the ticket expiration time.</span></span> <span data-ttu-id="8d2ad-111">SSO 系统颁发票证之后，默认情况下该票证将在两分钟内到期。</span><span class="sxs-lookup"><span data-stu-id="8d2ad-111">After the SSO system issues a ticket, it expires in two minutes by default.</span></span> <span data-ttu-id="8d2ad-112">SSO 管理员可以修改票证的到期时间。</span><span class="sxs-lookup"><span data-stu-id="8d2ad-112">SSO administrators can modify the expiration time for tickets.</span></span> <span data-ttu-id="8d2ad-113">SSO 管理员还可以在关联应用程序级别上设置票证超时。</span><span class="sxs-lookup"><span data-stu-id="8d2ad-113">The SSO Administrator can also set the ticket timeout at the Affiliate Application level.</span></span> <span data-ttu-id="8d2ad-114">有关详细信息，请参阅[如何配置 SSO 票证](../core/how-to-configure-the-sso-tickets.md)。</span><span class="sxs-lookup"><span data-stu-id="8d2ad-114">For more information, see [How to Configure the SSO Tickets](../core/how-to-configure-the-sso-tickets.md).</span></span>  
  
 <span data-ttu-id="8d2ad-115">在应用程序验证原始请求方的标识之后，该应用程序将兑换票证以获取发起请求关联应用程序的用户的凭据。</span><span class="sxs-lookup"><span data-stu-id="8d2ad-115">After an application verifies the identity of the original requester, the application redeems the ticket to obtain the credentials of the user who initiated the request affiliate application.</span></span> <span data-ttu-id="8d2ad-116">应用程序可以通过以下两种方式之一从 SSO 系统兑换票证：</span><span class="sxs-lookup"><span data-stu-id="8d2ad-116">An application can redeem tickets from the SSO system in one of two ways:</span></span>  
  
- <span data-ttu-id="8d2ad-117">**只兑换。**</span><span class="sxs-lookup"><span data-stu-id="8d2ad-117">**Redeem only.**</span></span> <span data-ttu-id="8d2ad-118">当应用程序发起兑换票证的请求时，该请求必须包含要连接到的关联应用程序的名称以及票证本身。</span><span class="sxs-lookup"><span data-stu-id="8d2ad-118">When an application initiates a request to redeem a ticket, the request must contain the name of the affiliate application to connect to, and the ticket itself.</span></span> <span data-ttu-id="8d2ad-119">只有特定关联应用程序的应用程序管理员、SSO 关联管理员或 SSO 管理员才能够兑换票证。</span><span class="sxs-lookup"><span data-stu-id="8d2ad-119">Only application administrators for the specific affiliate application, SSO affiliate administrators, or SSO administrators can redeem a ticket.</span></span> <span data-ttu-id="8d2ad-120">应使用**只兑换**颁发票证的应用程序和兑换票证的应用程序之间的受信任的子系统时。</span><span class="sxs-lookup"><span data-stu-id="8d2ad-120">You should use **Redeem only** when there is a trusted sub-system between the application that issued the ticket and the application redeeming the ticket.</span></span> <span data-ttu-id="8d2ad-121">只有指定关联应用程序的应用程序管理员才能够为用户兑换票证。</span><span class="sxs-lookup"><span data-stu-id="8d2ad-121">Only an application administrator for the specified affiliate application can redeem the ticket for a user.</span></span>  
  
- <span data-ttu-id="8d2ad-122">**验证并兑换。**</span><span class="sxs-lookup"><span data-stu-id="8d2ad-122">**Validate and redeem.**</span></span> <span data-ttu-id="8d2ad-123">票证包含 SSO 系统为其执行凭据查找的用户的有关信息。</span><span class="sxs-lookup"><span data-stu-id="8d2ad-123">Tickets contain information about the user for whom the SSO system is performing the credential look-up.</span></span> <span data-ttu-id="8d2ad-124">在这种情况下，在系统兑换票证之前，SSO 服务将验证原始消息的发件人和票证的用户是否相同。</span><span class="sxs-lookup"><span data-stu-id="8d2ad-124">In this case, the SSO service verifies that the sender of the original message and the user of the ticket are the same before the system redeems the ticket.</span></span> <span data-ttu-id="8d2ad-125">Microsoft BizTalk Server 适配器方案就利用了此机制。</span><span class="sxs-lookup"><span data-stu-id="8d2ad-125">Microsoft BizTalk Server adapter scenarios leverage this mechanism.</span></span>  
  
  <span data-ttu-id="8d2ad-126">SSO 管理员可针对每个关联应用程序禁用票证超时。</span><span class="sxs-lookup"><span data-stu-id="8d2ad-126">An SSO administrator can disable ticket timeouts on a per affiliate application basis.</span></span> <span data-ttu-id="8d2ad-127">尽管在以前的版本中并不建议这样做，但此版本支持针对每个关联应用程序使用票证超时。</span><span class="sxs-lookup"><span data-stu-id="8d2ad-127">While this was not recommended in previous releases, this release supports the use of per affiliate application ticket timeout.</span></span> <span data-ttu-id="8d2ad-128">通过此选项，您可以在关联应用程序级别上设置票证超时。</span><span class="sxs-lookup"><span data-stu-id="8d2ad-128">This option allows you to set the ticket timeouts at the Affiliate Application level.</span></span> <span data-ttu-id="8d2ad-129">如果未指定此选项，则使用在全局级别上指定的票证超时。</span><span class="sxs-lookup"><span data-stu-id="8d2ad-129">If this is not specified, the ticket timeout specified at the global level is used.</span></span>  
  
  <span data-ttu-id="8d2ad-130">SSO 关联管理员可指定允许票证，并指定需要基于每个关联应用程序进行票证验证。</span><span class="sxs-lookup"><span data-stu-id="8d2ad-130">An SSO affiliate administrator can specify that tickets are allowed and that validation of the ticket is required on a per affiliate application basis.</span></span> <span data-ttu-id="8d2ad-131">不过，如果 SSO 管理员在 SSO 系统级别上指定需要对票证进行验证，则 SSO 关联管理员将不能在关联应用程序级别上禁用此选项。</span><span class="sxs-lookup"><span data-stu-id="8d2ad-131">However, if the SSO administrator specifies at the SSO system level that the validation of tickets is required, the SSO affiliate administrator cannot turn off this option at the affiliate application level.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="8d2ad-132">在使用 SSO 票证时，必须确保票证超时值足够长，以便可以从颁发票证之时延续到兑换票证之时。</span><span class="sxs-lookup"><span data-stu-id="8d2ad-132">When using SSO ticketing, you must ensure that the ticket timeout value is long enough to last between the time when the ticket is issued to the time that it is redeemed.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8d2ad-133">请参阅</span><span class="sxs-lookup"><span data-stu-id="8d2ad-133">See Also</span></span>  
 [<span data-ttu-id="8d2ad-134">管理用户映射</span><span class="sxs-lookup"><span data-stu-id="8d2ad-134">Managing User Mappings</span></span>](../core/managing-user-mappings.md)