---
title: SSO 票证 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- tickets [SSO]
ms.assetid: acf01422-4696-4301-b85f-7026e792bb5c
caps.latest.revision: 11
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 0b732704fa9fd7c6a1e48e82b257800f81a02c95
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65398969"
---
# <a name="sso-tickets"></a><span data-ttu-id="5d569-102">SSO 票证</span><span class="sxs-lookup"><span data-stu-id="5d569-102">SSO Tickets</span></span>
<span data-ttu-id="5d569-103">在企业环境中，其中用户与各种系统和应用程序交互，它是很有可能在环境不维护通过多个进程、 产品和计算机的用户上下文。</span><span class="sxs-lookup"><span data-stu-id="5d569-103">In an enterprise environment, where a user interacts with various systems and applications, it is very likely that the environment does not maintain the user context through multiple processes, products, and computers.</span></span> <span data-ttu-id="5d569-104">此用户上下文至关重要提供单一登录功能，按需验证原始请求的发起人。</span><span class="sxs-lookup"><span data-stu-id="5d569-104">This user context is crucial to provide single sign-on capabilities, as it is necessary to verify who initiated the original request.</span></span> <span data-ttu-id="5d569-105">若要解决此问题的企业单一登录 (SSO) 提供了应用程序可用于获取向发出原始请求的用户相对应的凭据的 SSO 票证 （不 Kerberos 票证）。</span><span class="sxs-lookup"><span data-stu-id="5d569-105">To overcome this problem Enterprise Single Sign-On (SSO) provides an SSO ticket (not a Kerberos ticket) that applications can use to get the credentials that correspond to the user who made the original request.</span></span> <span data-ttu-id="5d569-106">默认情况下不启用 SSO 票证。</span><span class="sxs-lookup"><span data-stu-id="5d569-106">SSO tickets are not enabled by default.</span></span> <span data-ttu-id="5d569-107">有关启用票证的详细信息，请参阅[如何配置 SSO 票证](../core/how-to-configure-the-sso-tickets.md)。</span><span class="sxs-lookup"><span data-stu-id="5d569-107">For more information about enabling tickets, see [How to Configure the SSO Tickets](../core/how-to-configure-the-sso-tickets.md).</span></span>  
  
 <span data-ttu-id="5d569-108">SSO 系统颁发票证时请求的身份验证的 Windows 用户。</span><span class="sxs-lookup"><span data-stu-id="5d569-108">The SSO system issues a ticket when requested by an authenticated Windows user.</span></span> <span data-ttu-id="5d569-109">SSO 系统可以颁发票证发出请求的用户或远程用户。</span><span class="sxs-lookup"><span data-stu-id="5d569-109">The SSO system can issue a ticket for the user making the request or for a remote user.</span></span> <span data-ttu-id="5d569-110">票证包含加密的域和用户名的当前用户以及票证到期时间。</span><span class="sxs-lookup"><span data-stu-id="5d569-110">A ticket contains the encrypted domain and username of the current user, and the ticket expiration time.</span></span> <span data-ttu-id="5d569-111">SSO 系统颁发票证后，其有效期为两个分钟默认情况下。</span><span class="sxs-lookup"><span data-stu-id="5d569-111">After the SSO system issues a ticket, it expires in two minutes by default.</span></span> <span data-ttu-id="5d569-112">SSO 管理员可以修改票证的到期时间。</span><span class="sxs-lookup"><span data-stu-id="5d569-112">SSO administrators can modify the expiration time for tickets.</span></span> <span data-ttu-id="5d569-113">SSO 管理员还可以在关联应用程序级别上设置票证超时。</span><span class="sxs-lookup"><span data-stu-id="5d569-113">The SSO Administrator can also set the ticket timeout at the Affiliate Application level.</span></span> <span data-ttu-id="5d569-114">有关详细信息，请参阅[如何配置 SSO 票证](../core/how-to-configure-the-sso-tickets.md)。</span><span class="sxs-lookup"><span data-stu-id="5d569-114">For more information, see [How to Configure the SSO Tickets](../core/how-to-configure-the-sso-tickets.md).</span></span>  
  
 <span data-ttu-id="5d569-115">在应用程序验证原始请求方的标识后，应用程序将兑换票证以获取发起请求关联应用程序的用户的凭据。</span><span class="sxs-lookup"><span data-stu-id="5d569-115">After an application verifies the identity of the original requester, the application redeems the ticket to obtain the credentials of the user who initiated the request affiliate application.</span></span> <span data-ttu-id="5d569-116">应用程序可以兑换票证从 SSO 系统中有两种：</span><span class="sxs-lookup"><span data-stu-id="5d569-116">An application can redeem tickets from the SSO system in one of two ways:</span></span>  
  
- <span data-ttu-id="5d569-117">**只兑换。**</span><span class="sxs-lookup"><span data-stu-id="5d569-117">**Redeem only.**</span></span> <span data-ttu-id="5d569-118">当应用程序启动时若要兑换票证的请求时，请求必须包含要连接到的关联应用程序以及票证本身的名称。</span><span class="sxs-lookup"><span data-stu-id="5d569-118">When an application initiates a request to redeem a ticket, the request must contain the name of the affiliate application to connect to, and the ticket itself.</span></span> <span data-ttu-id="5d569-119">只有特定关联应用程序、 SSO 关联管理员或 SSO 管理员的应用程序管理员才能够兑换票证。</span><span class="sxs-lookup"><span data-stu-id="5d569-119">Only application administrators for the specific affiliate application, SSO affiliate administrators, or SSO administrators can redeem a ticket.</span></span> <span data-ttu-id="5d569-120">应使用**只兑换**颁发票证的应用程序和兑换票证的应用程序之间的受信任的子系统时。</span><span class="sxs-lookup"><span data-stu-id="5d569-120">You should use **Redeem only** when there is a trusted sub-system between the application that issued the ticket and the application redeeming the ticket.</span></span> <span data-ttu-id="5d569-121">只有指定的关联应用程序的应用程序管理员可以兑换票证的用户。</span><span class="sxs-lookup"><span data-stu-id="5d569-121">Only an application administrator for the specified affiliate application can redeem the ticket for a user.</span></span>  
  
- <span data-ttu-id="5d569-122">**验证并兑换。**</span><span class="sxs-lookup"><span data-stu-id="5d569-122">**Validate and redeem.**</span></span> <span data-ttu-id="5d569-123">票证包含 SSO 系统已为其执行凭据查找的用户有关的信息。</span><span class="sxs-lookup"><span data-stu-id="5d569-123">Tickets contain information about the user for whom the SSO system is performing the credential look-up.</span></span> <span data-ttu-id="5d569-124">在这种情况下，SSO 服务将验证原始消息的发件人和票证的用户相同之前在系统兑换票证。</span><span class="sxs-lookup"><span data-stu-id="5d569-124">In this case, the SSO service verifies that the sender of the original message and the user of the ticket are the same before the system redeems the ticket.</span></span> <span data-ttu-id="5d569-125">Microsoft BizTalk Server 适配器方案就利用此机制。</span><span class="sxs-lookup"><span data-stu-id="5d569-125">Microsoft BizTalk Server adapter scenarios leverage this mechanism.</span></span>  
  
  <span data-ttu-id="5d569-126">SSO 管理员可以禁用票证超时上每个关联应用程序。</span><span class="sxs-lookup"><span data-stu-id="5d569-126">An SSO administrator can disable ticket timeouts on a per affiliate application basis.</span></span> <span data-ttu-id="5d569-127">尽管这不建议在早期版本中，此版本支持使用每个关联应用程序票证超时。</span><span class="sxs-lookup"><span data-stu-id="5d569-127">While this was not recommended in previous releases, this release supports the use of per affiliate application ticket timeout.</span></span> <span data-ttu-id="5d569-128">此选项可以在关联应用程序级别上设置票证超时。</span><span class="sxs-lookup"><span data-stu-id="5d569-128">This option allows you to set the ticket timeouts at the Affiliate Application level.</span></span> <span data-ttu-id="5d569-129">如果未指定，则使用在全局级别指定的票证超时值。</span><span class="sxs-lookup"><span data-stu-id="5d569-129">If this is not specified, the ticket timeout specified at the global level is used.</span></span>  
  
  <span data-ttu-id="5d569-130">SSO 关联管理员可以指定允许票证和票证验证，需要在每个关联应用程序。</span><span class="sxs-lookup"><span data-stu-id="5d569-130">An SSO affiliate administrator can specify that tickets are allowed and that validation of the ticket is required on a per affiliate application basis.</span></span> <span data-ttu-id="5d569-131">但是，如果 SSO 管理员指定在 SSO 系统级别票证验证是必需的 SSO 关联管理员不能将关闭此选项在关联应用程序级别。</span><span class="sxs-lookup"><span data-stu-id="5d569-131">However, if the SSO administrator specifies at the SSO system level that the validation of tickets is required, the SSO affiliate administrator cannot turn off this option at the affiliate application level.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="5d569-132">在使用 SSO 票证，必须确保票证超时值足够长上, 一次之间的时间兑换颁发票证之时的时间。</span><span class="sxs-lookup"><span data-stu-id="5d569-132">When using SSO ticketing, you must ensure that the ticket timeout value is long enough to last between the time when the ticket is issued to the time that it is redeemed.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5d569-133">请参阅</span><span class="sxs-lookup"><span data-stu-id="5d569-133">See Also</span></span>  
 [<span data-ttu-id="5d569-134">管理用户映射</span><span class="sxs-lookup"><span data-stu-id="5d569-134">Managing User Mappings</span></span>](../core/managing-user-mappings.md)