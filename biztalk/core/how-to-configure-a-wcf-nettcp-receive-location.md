---
title: 如何配置 Wcf-nettcp 接收位置 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 937862ca-14cb-4eda-8176-38c15423679e
caps.latest.revision: 15
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: e7ca4e45ad7f12c7d50a55465e2a70600b6eb77e
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/27/2018
ms.locfileid: "37008950"
---
# <a name="how-to-configure-a-wcf-nettcp-receive-location"></a><span data-ttu-id="17cd0-102">如何配置 WCF-NetTcp 接收位置</span><span class="sxs-lookup"><span data-stu-id="17cd0-102">How to Configure a WCF-NetTcp Receive Location</span></span>
<span data-ttu-id="17cd0-103">可以通过编程方式或使用 BizTalk 管理控制台来配置 WCF-NetTcp 接收位置。</span><span class="sxs-lookup"><span data-stu-id="17cd0-103">You can configure a WCF-NetTcp receive location either programmatically or by using the BizTalk Administration console.</span></span>  

## <a name="configuration-properties"></a><span data-ttu-id="17cd0-104">配置属性</span><span class="sxs-lookup"><span data-stu-id="17cd0-104">Configuration properties</span></span>

 <span data-ttu-id="17cd0-105">使用 BizTalk 浏览器对象模型，您可以通过编程方式创建和配置接收位置。</span><span class="sxs-lookup"><span data-stu-id="17cd0-105">The BizTalk Explorer Object Model enables you to create and configure receive locations programmatically.</span></span> <span data-ttu-id="17cd0-106">BizTalk 浏览器对象模型公开**IReceiveLocation**接收位置配置接口具有**TransportTypeData**读/写属性。</span><span class="sxs-lookup"><span data-stu-id="17cd0-106">The BizTalk Explorer Object Model exposes the**IReceiveLocation** receive location configuration interface that has a **TransportTypeData** read/write property.</span></span> <span data-ttu-id="17cd0-107">此属性接受名称-值对 XML 字符串形式的 WCF-NetTcp 接收位置配置属性包。</span><span class="sxs-lookup"><span data-stu-id="17cd0-107">This property accepts a WCF-NetTcp receive location configuration property bag in the form of a name-value pair of XML strings.</span></span> <span data-ttu-id="17cd0-108">若要在 BizTalk 浏览器对象模型中设置此属性，必须设置**InboundTransportLocation**的属性**IReceiveLocation**接口。</span><span class="sxs-lookup"><span data-stu-id="17cd0-108">To set this property in the BizTalk Explorer Object Model, you must set the **InboundTransportLocation** property of the **IReceiveLocation** interface.</span></span>  

 <span data-ttu-id="17cd0-109">**TransportTypeData**的属性**IReceiveLocation**接口无需设置。</span><span class="sxs-lookup"><span data-stu-id="17cd0-109">The **TransportTypeData** property of the **IReceiveLocation** interface does not have to be set.</span></span> <span data-ttu-id="17cd0-110">如果未设置该属性，则 WCF-NetTcp 适配器将使用 WCF-NetTcp 接收位置配置的默认值，如下表所示。</span><span class="sxs-lookup"><span data-stu-id="17cd0-110">If it is not set, the WCF-NetTcp adapter uses the default values for the WCF-NetTcp receive location configuration as indicated in the following table.</span></span>  

 <span data-ttu-id="17cd0-111">下表列出了可在 BizTalk 浏览器对象模型中为 WCF-NetTcp 接收位置设置的配置属性：</span><span class="sxs-lookup"><span data-stu-id="17cd0-111">The following table lists the configuration properties that you can set in the BizTalk Explorer Object Model for the WCF-NetTcp receive location.</span></span>  


|           <span data-ttu-id="17cd0-112">属性名称</span><span class="sxs-lookup"><span data-stu-id="17cd0-112">Property name</span></span>            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span data-ttu-id="17cd0-113">类型</span><span class="sxs-lookup"><span data-stu-id="17cd0-113">Type</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |                                                                                                                                                                                                                                                                                                                                                                   <span data-ttu-id="17cd0-114">Description</span><span class="sxs-lookup"><span data-stu-id="17cd0-114">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                   |
|------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|            <span data-ttu-id="17cd0-115">**标识**</span><span class="sxs-lookup"><span data-stu-id="17cd0-115">**Identity**</span></span>            |                                                                                                                                                                                                                                                                                                                                                                                               <span data-ttu-id="17cd0-116">XML Blob</span><span class="sxs-lookup"><span data-stu-id="17cd0-116">XML Blob</span></span><br /><br /> <span data-ttu-id="17cd0-117">例如：</span><span class="sxs-lookup"><span data-stu-id="17cd0-117">Example:</span></span><br /><br /> <span data-ttu-id="17cd0-118">&lt;标识&gt;</span><span class="sxs-lookup"><span data-stu-id="17cd0-118">&lt;identity&gt;</span></span><br /><br /> <span data-ttu-id="17cd0-119">&lt;userPrincipalName value="username@contoso.com" /&gt;</span><span class="sxs-lookup"><span data-stu-id="17cd0-119">&lt;userPrincipalName value="username@contoso.com" /&gt;</span></span><br /><br /> <span data-ttu-id="17cd0-120">&lt;/identity&gt;</span><span class="sxs-lookup"><span data-stu-id="17cd0-120">&lt;/identity&gt;</span></span>                                                                                                                                                                                                                                                                                                                                                                                                |                                                                                                            <span data-ttu-id="17cd0-121">指定此接收位置提供的服务的标识。</span><span class="sxs-lookup"><span data-stu-id="17cd0-121">Specify the identity of the service that this receive location provides.</span></span> <span data-ttu-id="17cd0-122">可以为指定的值**标识**属性不同的安全配置而异。</span><span class="sxs-lookup"><span data-stu-id="17cd0-122">The values that can be specified for the **Identity** property differ according to the security configuration.</span></span> <span data-ttu-id="17cd0-123">通过这些设置，客户端可对此接收位置进行验证。</span><span class="sxs-lookup"><span data-stu-id="17cd0-123">These settings enable the client to authenticate this receive location.</span></span> <span data-ttu-id="17cd0-124">在客户端与服务进行握手的过程中，Windows Communication Foundation (WCF) 基础结构将确保预期服务的标识与此元素的值保持一致。</span><span class="sxs-lookup"><span data-stu-id="17cd0-124">In the handshake process between the client and service, the Windows Communication Foundation (WCF) infrastructure will ensure that the identity of the expected service matches the values of this element.</span></span><br /><br /> <span data-ttu-id="17cd0-125">默认值为空字符串。</span><span class="sxs-lookup"><span data-stu-id="17cd0-125">The default is an empty string.</span></span>                                                                                                             |
|          <span data-ttu-id="17cd0-126">**OpenTimeout**</span><span class="sxs-lookup"><span data-stu-id="17cd0-126">**OpenTimeout**</span></span>           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span data-ttu-id="17cd0-127">**System.TimeSpan**</span><span class="sxs-lookup"><span data-stu-id="17cd0-127">**System.TimeSpan**</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                              <span data-ttu-id="17cd0-128">指定一个时间跨度值来表示为完成信道打开操作提供的时间间隔。</span><span class="sxs-lookup"><span data-stu-id="17cd0-128">Specify a time span value that indicates the interval of time provided for a channel open operation to complete.</span></span><br /><br /> <span data-ttu-id="17cd0-129">默认值：00:01:00</span><span class="sxs-lookup"><span data-stu-id="17cd0-129">Default value: 00:01:00</span></span>                                                                                                                                                                                                                                                                                               |
|          <span data-ttu-id="17cd0-130">**SendTimeout**</span><span class="sxs-lookup"><span data-stu-id="17cd0-130">**SendTimeout**</span></span>           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span data-ttu-id="17cd0-131">**System.TimeSpan**</span><span class="sxs-lookup"><span data-stu-id="17cd0-131">**System.TimeSpan**</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                  <span data-ttu-id="17cd0-132">指定一个时间跨度值来表示为完成发送操作提供的时间间隔。</span><span class="sxs-lookup"><span data-stu-id="17cd0-132">Specify a time span value that indicates the interval of time provided for a send operation to complete.</span></span> <span data-ttu-id="17cd0-133">如果使用请求-响应接收端口，则此值指定完成整个交互的时间跨度（即使客户端返回一条大消息）。</span><span class="sxs-lookup"><span data-stu-id="17cd0-133">If you use a request-response receive port, this value specifies a time span for the whole interaction to complete, even if the client returns a large message.</span></span><br /><br /> <span data-ttu-id="17cd0-134">默认值：00:01:00</span><span class="sxs-lookup"><span data-stu-id="17cd0-134">Default value: 00:01:00</span></span>                                                                                                                                                                                                                   |
|          <span data-ttu-id="17cd0-135">**CloseTimeout**</span><span class="sxs-lookup"><span data-stu-id="17cd0-135">**CloseTimeout**</span></span>          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span data-ttu-id="17cd0-136">**System.TimeSpan**</span><span class="sxs-lookup"><span data-stu-id="17cd0-136">**System.TimeSpan**</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                              <span data-ttu-id="17cd0-137">指定一个时间跨度值来表示为完成信道关闭操作提供的时间间隔。</span><span class="sxs-lookup"><span data-stu-id="17cd0-137">Specify a time span value that indicates the interval of time provided for a channel close operation to complete.</span></span><br /><br /> <span data-ttu-id="17cd0-138">默认值：00:01:00</span><span class="sxs-lookup"><span data-stu-id="17cd0-138">Default value: 00:01:00</span></span>                                                                                                                                                                                                                                                                                              |
|     <span data-ttu-id="17cd0-139">**MaxReceivedMessageSize**</span><span class="sxs-lookup"><span data-stu-id="17cd0-139">**MaxReceivedMessageSize**</span></span>     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <span data-ttu-id="17cd0-140">Integer</span><span class="sxs-lookup"><span data-stu-id="17cd0-140">Integer</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                  <span data-ttu-id="17cd0-141">指定网络上可接收的消息的最大大小（包括标头），以字节为单位。</span><span class="sxs-lookup"><span data-stu-id="17cd0-141">Specify the maximum size, in bytes, for a message (including headers) that can be received on the wire.</span></span> <span data-ttu-id="17cd0-142">消息的大小受为每条消息分配的内存量的限制。</span><span class="sxs-lookup"><span data-stu-id="17cd0-142">The size of the messages is bounded by the amount of memory allocated for each message.</span></span> <span data-ttu-id="17cd0-143">你可以使用此属性来降低受拒绝服务 (DoS) 攻击的可能性。</span><span class="sxs-lookup"><span data-stu-id="17cd0-143">You can use this property to limit exposure to denial of service (DoS) attacks.</span></span><br /><br /> <span data-ttu-id="17cd0-144">Wcf-nettcp 适配器利用[NetTcpBinding](http://go.microsoft.com/fwlink/?LinkId=81087)在缓冲的传输模式下，与终结点进行通信的类。</span><span class="sxs-lookup"><span data-stu-id="17cd0-144">The WCF-NetTcp adapter leverages the [NetTcpBinding](http://go.microsoft.com/fwlink/?LinkId=81087) class in the buffered transfer mode to communicate with an endpoint.</span></span> <span data-ttu-id="17cd0-145">对于缓冲的传输模式中， [NetTcpBinding.MaxBufferSize](http://go.microsoft.com/fwlink/?LinkId=81088)属性也始终等于此属性的值。</span><span class="sxs-lookup"><span data-stu-id="17cd0-145">For the buffered transport mode, the [NetTcpBinding.MaxBufferSize](http://go.microsoft.com/fwlink/?LinkId=81088) property is always equal to the value of this property.</span></span><br /><br /> <span data-ttu-id="17cd0-146">默认值：65536</span><span class="sxs-lookup"><span data-stu-id="17cd0-146">Default value: 65536</span></span>                                  |
|       <span data-ttu-id="17cd0-147">**EnableTransaction**</span><span class="sxs-lookup"><span data-stu-id="17cd0-147">**EnableTransaction**</span></span>        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <span data-ttu-id="17cd0-148">Boolean</span><span class="sxs-lookup"><span data-stu-id="17cd0-148">Boolean</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | <span data-ttu-id="17cd0-149">指定是否使用从客户端流入的事务将消息提交给 MessageBox 数据库。</span><span class="sxs-lookup"><span data-stu-id="17cd0-149">Specify whether a message is submitted to the MessageBox database using the transaction flowed from clients.</span></span> <span data-ttu-id="17cd0-150">如果此属性设置为 **，则返回 True**，要求客户端使用中指定的事务协议提交消息**TransactionProtocol**属性。</span><span class="sxs-lookup"><span data-stu-id="17cd0-150">If this property is set to **True**, the clients are required to submit messages using thetransaction protocol specified in the **TransactionProtocol** property.</span></span> <span data-ttu-id="17cd0-151">如果客户端提交事务作用域之外的消息，则此接收位置将向客户端返回一个异常，并且不会挂起任何消息。</span><span class="sxs-lookup"><span data-stu-id="17cd0-151">If the clients submit messages outside the transactional scope then this receive location returns an exception back to the clients, and no messages are suspended.</span></span><br /><br /> <span data-ttu-id="17cd0-152">该选项只可用于单向接收位置。</span><span class="sxs-lookup"><span data-stu-id="17cd0-152">The option is available only for one-way receive locations.</span></span> <span data-ttu-id="17cd0-153">如果客户端为请求-响应接收位置提交事务上下文中的消息，则会向客户端返回一个异常，并且不会挂起任何消息。</span><span class="sxs-lookup"><span data-stu-id="17cd0-153">If the clients submit messages in a transactional context for request-response receive locations, then an exception is returned back to the clients and no messages are suspended.</span></span><br /><br /> <span data-ttu-id="17cd0-154">默认值：30`False`</span><span class="sxs-lookup"><span data-stu-id="17cd0-154">Default value: `False`</span></span> |
|      <span data-ttu-id="17cd0-155">**TransactionProtocol**</span><span class="sxs-lookup"><span data-stu-id="17cd0-155">**TransactionProtocol**</span></span>       |                                                                                                                                                                                                                                                                                                                                                                                                                                         <span data-ttu-id="17cd0-156">Enum</span><span class="sxs-lookup"><span data-stu-id="17cd0-156">Enum</span></span><br /><br /> <span data-ttu-id="17cd0-157">-   **OleTransaction**</span><span class="sxs-lookup"><span data-stu-id="17cd0-157">-   **OleTransaction**</span></span><br /><span data-ttu-id="17cd0-158">-   **WS-AtomicTransaction**</span><span class="sxs-lookup"><span data-stu-id="17cd0-158">-   **WS-AtomicTransaction**</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                                                                                                                                                                                                              <span data-ttu-id="17cd0-159">指定要与此接收位置一起使用的事务协议。</span><span class="sxs-lookup"><span data-stu-id="17cd0-159">Specify the transaction protocol to be used with this receive location.</span></span><br /><br /> <span data-ttu-id="17cd0-160">默认值： **OleTransaction**</span><span class="sxs-lookup"><span data-stu-id="17cd0-160">Default value: **OleTransaction**</span></span>                                                                                                                                                                                                                                                                                                              |
|          <span data-ttu-id="17cd0-161">**LeaseTimeout**</span><span class="sxs-lookup"><span data-stu-id="17cd0-161">**LeaseTimeout**</span></span>          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span data-ttu-id="17cd0-162">**System.TimeSpan**</span><span class="sxs-lookup"><span data-stu-id="17cd0-162">**System.TimeSpan**</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                   <span data-ttu-id="17cd0-163">指定活动的池连接的最大生存期。</span><span class="sxs-lookup"><span data-stu-id="17cd0-163">Specify the maximum lifetime of an active pooled connection.</span></span> <span data-ttu-id="17cd0-164">在指定的时间过后，则关闭连接后当前请求提供服务。</span><span class="sxs-lookup"><span data-stu-id="17cd0-164">After the specified time elapses, the connection closes after the current request is serviced.</span></span><br /><br /> <span data-ttu-id="17cd0-165">Wcf-nettcp 适配器利用[NetTcpBinding](http://go.microsoft.com/fwlink/?LinkId=81087)类与终结点进行通信。</span><span class="sxs-lookup"><span data-stu-id="17cd0-165">The WCF-NetTcp adapter leverages the [NetTcpBinding](http://go.microsoft.com/fwlink/?LinkId=81087) class to communicate with an endpoint.</span></span> <span data-ttu-id="17cd0-166">使用时[NetTcpBinding](http://go.microsoft.com/fwlink/?LinkId=81087)在负载平衡方案中，请考虑缩短默认租约超时值。有关负载平衡时使用的详细信息[NetTcpBinding](http://go.microsoft.com/fwlink/?LinkId=81087)，请参阅另请参阅中的相应主题。</span><span class="sxs-lookup"><span data-stu-id="17cd0-166">When using the [NetTcpBinding](http://go.microsoft.com/fwlink/?LinkId=81087) in load-balanced scenarios, consider reducing the default lease time-out. For more information about load balancing when using the [NetTcpBinding](http://go.microsoft.com/fwlink/?LinkId=81087), see the appropriate topic in See Also.</span></span><br /><br /> <span data-ttu-id="17cd0-167">默认值：00:05:00</span><span class="sxs-lookup"><span data-stu-id="17cd0-167">Default value: 00:05:00</span></span>                                   |
|       <span data-ttu-id="17cd0-168">**MaxConcurrentCalls**</span><span class="sxs-lookup"><span data-stu-id="17cd0-168">**MaxConcurrentCalls**</span></span>       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <span data-ttu-id="17cd0-169">Integer</span><span class="sxs-lookup"><span data-stu-id="17cd0-169">Integer</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                                                                                                                                                                                                                                      <span data-ttu-id="17cd0-170">指定针对单个服务实例的并发调用的数目。</span><span class="sxs-lookup"><span data-stu-id="17cd0-170">Specify the number of concurrent calls to a single service instance.</span></span> <span data-ttu-id="17cd0-171">超出此限制的调用将在队列中排队。</span><span class="sxs-lookup"><span data-stu-id="17cd0-171">Calls in excess of the limit are queued.</span></span> <span data-ttu-id="17cd0-172">此属性的范围是从 1 到 Int32.MaxValue。</span><span class="sxs-lookup"><span data-stu-id="17cd0-172">The range of this property is from 1 to Int32.MaxValue.</span></span><br /><br /> <span data-ttu-id="17cd0-173">默认值：200</span><span class="sxs-lookup"><span data-stu-id="17cd0-173">Default value: 200</span></span>                                                                                                                                                                                                                                                                       |
|          <span data-ttu-id="17cd0-174">**SecurityMode**</span><span class="sxs-lookup"><span data-stu-id="17cd0-174">**SecurityMode**</span></span>          |                                                                                                                                                                                                                                                              <span data-ttu-id="17cd0-175">Enum</span><span class="sxs-lookup"><span data-stu-id="17cd0-175">Enum</span></span><br /><br /> <span data-ttu-id="17cd0-176">-   **无**</span><span class="sxs-lookup"><span data-stu-id="17cd0-176">-   **None**</span></span><br /><span data-ttu-id="17cd0-177">-   **消息**</span><span class="sxs-lookup"><span data-stu-id="17cd0-177">-   **Message**</span></span><br /><span data-ttu-id="17cd0-178">-   **传输**</span><span class="sxs-lookup"><span data-stu-id="17cd0-178">-   **Transport**</span></span><br /><span data-ttu-id="17cd0-179">-   **TransportWithMessageCredential**</span><span class="sxs-lookup"><span data-stu-id="17cd0-179">-   **TransportWithMessageCredential**</span></span><br /><br /> <span data-ttu-id="17cd0-180">有关成员名称的详细信息**SecurityMode**属性，请参阅**安全模式**中的属性**Wcf-nettcp 传输属性对话框中，接收，安全**选项卡[!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)]。</span><span class="sxs-lookup"><span data-stu-id="17cd0-180">For more information about the member names for the **SecurityMode** property, see the **Security mode** property in the **WCF-NetTcp Transport Properties Dialog Box, Receive, Security** tab [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].</span></span>                                                                                                                                                                                                                                                               |                                                                                                                                                                                                                                                                                                                               <span data-ttu-id="17cd0-181">指定使用的安全类型。</span><span class="sxs-lookup"><span data-stu-id="17cd0-181">Specify the type of security that is used.</span></span><br /><br /> <span data-ttu-id="17cd0-182">默认值：**传输**</span><span class="sxs-lookup"><span data-stu-id="17cd0-182">Default value: **Transport**</span></span>                                                                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="17cd0-183">**TransportClientCredentialType**</span><span class="sxs-lookup"><span data-stu-id="17cd0-183">**TransportClientCredentialType**</span></span>  |                                                                                                                                                                                                                                                                 <span data-ttu-id="17cd0-184">Enum</span><span class="sxs-lookup"><span data-stu-id="17cd0-184">Enum</span></span><br /><br /> <span data-ttu-id="17cd0-185">-   **无**</span><span class="sxs-lookup"><span data-stu-id="17cd0-185">-   **None**</span></span><br /><span data-ttu-id="17cd0-186">-   **Windows**</span><span class="sxs-lookup"><span data-stu-id="17cd0-186">-   **Windows**</span></span><br /><span data-ttu-id="17cd0-187">-   **证书**</span><span class="sxs-lookup"><span data-stu-id="17cd0-187">-   **Certificate**</span></span><br /><br /> <span data-ttu-id="17cd0-188">有关成员名称的详细信息**TransportClientCredentialType**属性，请参阅**传输客户端凭据类型**中的属性**WCF NetTcp 传输属性对话框中，接收，安全**选项卡[!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)]。</span><span class="sxs-lookup"><span data-stu-id="17cd0-188">For more information about the member names for the **TransportClientCredentialType** property, see the **Transport client credential type** property in the **WCF-NetTcp Transport Properties Dialog Box, Receive, Security** tab [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].</span></span>                                                                                                                                                                                                                                                                  |                                                                                                                                                                                                                                                                                                           <span data-ttu-id="17cd0-189">指定执行客户端验证时要使用的凭据类型。</span><span class="sxs-lookup"><span data-stu-id="17cd0-189">Specify the type of credential to be used when performing the client authentication.</span></span><br /><br /> <span data-ttu-id="17cd0-190">默认值： **Windows**</span><span class="sxs-lookup"><span data-stu-id="17cd0-190">Default value: **Windows**</span></span>                                                                                                                                                                                                                                                                                                           |
|    <span data-ttu-id="17cd0-191">**TransportProtectionLevel**</span><span class="sxs-lookup"><span data-stu-id="17cd0-191">**TransportProtectionLevel**</span></span>    |                                                                                                                                                                                                                                                                                                                                                                                                   <span data-ttu-id="17cd0-192">Enum</span><span class="sxs-lookup"><span data-stu-id="17cd0-192">Enum</span></span><br /><br /> <span data-ttu-id="17cd0-193">-   **无**： 无保护。</span><span class="sxs-lookup"><span data-stu-id="17cd0-193">-   **None**: No protection.</span></span><br /><span data-ttu-id="17cd0-194">-   **登录**： 对消息进行签名。</span><span class="sxs-lookup"><span data-stu-id="17cd0-194">-   **Sign**: Messages are signed.</span></span><br /><span data-ttu-id="17cd0-195">-   **EncryptAndSign**： 消息进行加密和签名。</span><span class="sxs-lookup"><span data-stu-id="17cd0-195">-   **EncryptAndSign**: Messages are encrypted and signed.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                    <span data-ttu-id="17cd0-196">定义 TCP 传输一级的安全性。</span><span class="sxs-lookup"><span data-stu-id="17cd0-196">Define security at the level of the TCP transport.</span></span> <span data-ttu-id="17cd0-197">消息签名降低了在消息传输过程中第三方对消息进行篡改的风险。</span><span class="sxs-lookup"><span data-stu-id="17cd0-197">Signing messages mitigates the risk of a third party tampering with the message while it is being transferred.</span></span> <span data-ttu-id="17cd0-198">加密为传输过程提供了数据级保密功能。</span><span class="sxs-lookup"><span data-stu-id="17cd0-198">Encryption provides data-level privacy during transport.</span></span><br /><br /> <span data-ttu-id="17cd0-199">默认值： **EncryptAndSign**</span><span class="sxs-lookup"><span data-stu-id="17cd0-199">Default value: **EncryptAndSign**</span></span>                                                                                                                                                                                                                                     |
|  <span data-ttu-id="17cd0-200">**MessageClientCredentialType**</span><span class="sxs-lookup"><span data-stu-id="17cd0-200">**MessageClientCredentialType**</span></span>   |                                                                                                                                                                                                                                                        <span data-ttu-id="17cd0-201">Enum</span><span class="sxs-lookup"><span data-stu-id="17cd0-201">Enum</span></span><br /><br /> <span data-ttu-id="17cd0-202">-   **无**</span><span class="sxs-lookup"><span data-stu-id="17cd0-202">-   **None**</span></span><br /><span data-ttu-id="17cd0-203">-   **Windows**</span><span class="sxs-lookup"><span data-stu-id="17cd0-203">-   **Windows**</span></span><br /><span data-ttu-id="17cd0-204">-   **用户名**</span><span class="sxs-lookup"><span data-stu-id="17cd0-204">-   **UserName**</span></span><br /><span data-ttu-id="17cd0-205">-   **证书**</span><span class="sxs-lookup"><span data-stu-id="17cd0-205">-   **Certificate**</span></span><br /><br /> <span data-ttu-id="17cd0-206">有关成员名称的详细信息**MessageClientCredentialType**属性，请参阅**消息客户端凭据类型**中的属性**Wcf-nettcp 传输属性对话框框中，接收，安全**选项卡[!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)]。</span><span class="sxs-lookup"><span data-stu-id="17cd0-206">For more information about the member names for the **MessageClientCredentialType** property, see the **Message client credential type** property in the **WCF-NetTcp Transport Properties Dialog Box, Receive, Security** tab [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].</span></span>                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                              <span data-ttu-id="17cd0-207">指定使用基于消息的安全性对客户端执行验证时所用的凭据类型。</span><span class="sxs-lookup"><span data-stu-id="17cd0-207">Specify the type of credential to be used when performing client authentication using message-based security.</span></span><br /><br /> <span data-ttu-id="17cd0-208">默认值： **Windows**</span><span class="sxs-lookup"><span data-stu-id="17cd0-208">Default value: **Windows**</span></span>                                                                                                                                                                                                                                                                                               |
|         <span data-ttu-id="17cd0-209">**AlgorithmSuite**</span><span class="sxs-lookup"><span data-stu-id="17cd0-209">**AlgorithmSuite**</span></span>         |                                                                                                                                                                                                                                                                                                                     <span data-ttu-id="17cd0-210">Enum</span><span class="sxs-lookup"><span data-stu-id="17cd0-210">Enum</span></span><br /><br /> <span data-ttu-id="17cd0-211">有关成员名称的详细信息**AlgorithmSuite**属性，请参阅**算法套件**中的属性**Wcf-nettcp 传输属性对话框中，接收，安全性**选项卡[!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)]。</span><span class="sxs-lookup"><span data-stu-id="17cd0-211">For more information about the member names for the **AlgorithmSuite** property, see the **Algorithm suite** property in the **WCF-NetTcp Transport Properties Dialog Box, Receive, Security** tab [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].</span></span>                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                   <span data-ttu-id="17cd0-212">指定消息加密和密钥包装算法。</span><span class="sxs-lookup"><span data-stu-id="17cd0-212">Specify the message encryption and key-wrap algorithms.</span></span> <span data-ttu-id="17cd0-213">这些算法与“安全策略语言”(WS-SecurityPolicy) 规范中指定的算法一致。</span><span class="sxs-lookup"><span data-stu-id="17cd0-213">These algorithms map to those specified in the Security Policy Language (WS-SecurityPolicy) specification.</span></span><br /><br /> <span data-ttu-id="17cd0-214">默认值： **Basic256**</span><span class="sxs-lookup"><span data-stu-id="17cd0-214">Default value: **Basic256**</span></span>                                                                                                                                                                                                                                                                    |
|       <span data-ttu-id="17cd0-215">**ServiceCertificate**</span><span class="sxs-lookup"><span data-stu-id="17cd0-215">**ServiceCertificate**</span></span>       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                           <span data-ttu-id="17cd0-216">String</span><span class="sxs-lookup"><span data-stu-id="17cd0-216">String</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                                                                                                        <span data-ttu-id="17cd0-217">为此接收位置指定 X.509 证书的指纹，客户端利用该指纹验证服务。</span><span class="sxs-lookup"><span data-stu-id="17cd0-217">Specify the thumbprint of the X.509 certificate for this receive location that the clients use to authenticate the service.</span></span> <span data-ttu-id="17cd0-218">要用于此属性的证书必须安装到**我**将存储在**当前用户**位置。</span><span class="sxs-lookup"><span data-stu-id="17cd0-218">The certificate to be used for this property must be installed into the **My** store in the **Current User** location.</span></span> <span data-ttu-id="17cd0-219">**注意：** 必须安装到的服务证书**当前用户**承载此接收位置的接收处理程序的用户帐户的位置。</span><span class="sxs-lookup"><span data-stu-id="17cd0-219">**Note:**  You must install the service certificate into the **Current User** location of the user account for the receive handler hosting this receive location.</span></span> <br /><br /> <span data-ttu-id="17cd0-220">默认值为空字符串。</span><span class="sxs-lookup"><span data-stu-id="17cd0-220">The default is an empty string.</span></span>                                                                                                                                        |
|             <span data-ttu-id="17cd0-221">**UseSSO**</span><span class="sxs-lookup"><span data-stu-id="17cd0-221">**UseSSO**</span></span>             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <span data-ttu-id="17cd0-222">Boolean</span><span class="sxs-lookup"><span data-stu-id="17cd0-222">Boolean</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                                                                                                         <span data-ttu-id="17cd0-223">指定是否使用企业单一登录 (SSO) 检索客户端凭据以颁发 SSO 票证。</span><span class="sxs-lookup"><span data-stu-id="17cd0-223">Specify whether to use Enterprise Single Sign-On (SSO) to retrieve client credentials to issue an SSO ticket.</span></span> <span data-ttu-id="17cd0-224">有关详细信息的安全配置支持 SSO，请参阅部分中，"单一登录可支持性的 Wcf-nettcp 接收适配器的企业"中**Wcf-nettcp 传输属性对话框中，接收，安全**选项卡[!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)]。</span><span class="sxs-lookup"><span data-stu-id="17cd0-224">For more information about the security configurations supporting SSO, see the section, "Enterprise Single Sign-On Supportability for the WCF-NetTcp Receive Adapter" in the **WCF-NetTcp Transport Properties Dialog Box, Receive, Security** tab [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].</span></span>                                                                                                                                         |
|      <span data-ttu-id="17cd0-225">**InboundBodyLocation**</span><span class="sxs-lookup"><span data-stu-id="17cd0-225">**InboundBodyLocation**</span></span>       | <span data-ttu-id="17cd0-226">Enum</span><span class="sxs-lookup"><span data-stu-id="17cd0-226">Enum</span></span><br /><br /> <span data-ttu-id="17cd0-227">-   **UseBodyElement** -使用的 soap 内容**正文**传入消息创建 BizTalk 消息正文部分的元素。</span><span class="sxs-lookup"><span data-stu-id="17cd0-227">-   **UseBodyElement** - Use the content of the SOAP **Body** element of an incoming message to create the BizTalk message body part.</span></span> <span data-ttu-id="17cd0-228">如果 **Body** 元素具有多个子元素，则只有第一个元素将成为 BizTalk 消息正文部分。</span><span class="sxs-lookup"><span data-stu-id="17cd0-228">If the **Body** element has more than one child element, only the first element becomes the BizTalk message body part.</span></span><br /><span data-ttu-id="17cd0-229">-   **UseEnvelope** -创建 BizTalk 消息正文部分的整个 soap**信封**传入消息。</span><span class="sxs-lookup"><span data-stu-id="17cd0-229">-   **UseEnvelope** - Create the BizTalk message body part from the entire SOAP **Envelope** of an incoming message.</span></span><br /><span data-ttu-id="17cd0-230">-   **UseBodyPath** -使用中的正文路径表达式**InboundBodyPathExpression**属性以创建 BizTalk 消息正文部分。</span><span class="sxs-lookup"><span data-stu-id="17cd0-230">-   **UseBodyPath** - Use the body path expression in the **InboundBodyPathExpression** property to create the BizTalk message body part.</span></span> <span data-ttu-id="17cd0-231">针对传入消息的 SOAP **Body** 元素的直接子元素计算正文路径表达式。</span><span class="sxs-lookup"><span data-stu-id="17cd0-231">The body path expression is evaluated against the immediate child element of the SOAP **Body** element of an incoming message.</span></span> <span data-ttu-id="17cd0-232">此属性仅对要求-响应端口有效。</span><span class="sxs-lookup"><span data-stu-id="17cd0-232">This property is valid only for solicit-response ports.</span></span><br /><br /> <span data-ttu-id="17cd0-233">有关如何使用详细信息**InboundBodyLocation**属性，请参阅[WCF 适配器指定消息正文](../core/specifying-the-message-body-for-the-wcf-adapters.md)。</span><span class="sxs-lookup"><span data-stu-id="17cd0-233">For more information about how to use the **InboundBodyLocation** property, see [Specifying the Message Body for the WCF Adapters](../core/specifying-the-message-body-for-the-wcf-adapters.md).</span></span> |                                                                                                                                                                                                                                                                                                        <span data-ttu-id="17cd0-234">指定数据选择 soap**正文**传入 WCF 消息的元素。</span><span class="sxs-lookup"><span data-stu-id="17cd0-234">Specify the data selection for the SOAP **Body** element of incoming WCF messages.</span></span><br /><br /> <span data-ttu-id="17cd0-235">默认值： **UseBodyElement**</span><span class="sxs-lookup"><span data-stu-id="17cd0-235">Default value: **UseBodyElement**</span></span>                                                                                                                                                                                                                                                                                                         |
|   <span data-ttu-id="17cd0-236">**InboundBodyPathExpression**</span><span class="sxs-lookup"><span data-stu-id="17cd0-236">**InboundBodyPathExpression**</span></span>    |                                                                                                                                                                                                                                                                                                                                                                      <span data-ttu-id="17cd0-237">String</span><span class="sxs-lookup"><span data-stu-id="17cd0-237">String</span></span><br /><br /> <span data-ttu-id="17cd0-238">有关如何使用详细信息**InboundBodyPathExpression**属性，请参阅[WCF 适配器属性架构和属性](../core/wcf-adapters-property-schema-and-properties.md)。</span><span class="sxs-lookup"><span data-stu-id="17cd0-238">For more information about how to use the **InboundBodyPathExpression** property, see [WCF Adapters Property Schema and Properties](../core/wcf-adapters-property-schema-and-properties.md).</span></span>                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                        <span data-ttu-id="17cd0-239">指定正文路径表达式以标识传入消息中用于创建 BizTalk 消息正文部分的特定部分。</span><span class="sxs-lookup"><span data-stu-id="17cd0-239">Specify the body path expression to identify a specific part of an incoming message used to create the BizTalk message body part.</span></span> <span data-ttu-id="17cd0-240">针对 SOAP 的直接子元素计算此正文路径表达式**正文**传入消息的节点。</span><span class="sxs-lookup"><span data-stu-id="17cd0-240">This body path expression is evaluated against the immediate child element of the SOAP **Body** node of an incoming message.</span></span> <span data-ttu-id="17cd0-241">如果此正文路径表达式返回多个节点，则只选择第一个节点作为 BizTalk 消息正文部分。</span><span class="sxs-lookup"><span data-stu-id="17cd0-241">If this body path expression returns more than one node, only the first node is chosen for the BizTalk message body part.</span></span> <span data-ttu-id="17cd0-242">此属性是必需的如果**InboundBodyLocation**属性设置为**UseBodyPath**。</span><span class="sxs-lookup"><span data-stu-id="17cd0-242">This property is required if the **InboundBodyLocation** property is set to **UseBodyPath**.</span></span><br /><br /> <span data-ttu-id="17cd0-243">默认值为空字符串。</span><span class="sxs-lookup"><span data-stu-id="17cd0-243">The default is an empty string.</span></span>                                                                                                        |
|      <span data-ttu-id="17cd0-244">**InboundNodeEncoding**</span><span class="sxs-lookup"><span data-stu-id="17cd0-244">**InboundNodeEncoding**</span></span>       |                                                                                                                                                                                                                                                                                                                     <span data-ttu-id="17cd0-245">Enum</span><span class="sxs-lookup"><span data-stu-id="17cd0-245">Enum</span></span><br /><br /> <span data-ttu-id="17cd0-246">-   **Base64** -Base64 编码。</span><span class="sxs-lookup"><span data-stu-id="17cd0-246">-   **Base64** - Base64 encoding.</span></span><br /><span data-ttu-id="17cd0-247">-   **十六进制**-十六进制编码。</span><span class="sxs-lookup"><span data-stu-id="17cd0-247">-   **Hex** - Hexadecimal encoding.</span></span><br /><span data-ttu-id="17cd0-248">-   **字符串**-文本编码-utf-8。</span><span class="sxs-lookup"><span data-stu-id="17cd0-248">-   **String** - Text encoding - UTF-8.</span></span><br /><span data-ttu-id="17cd0-249">-   **使用 BizTalk 管理控制台配置 Wcf-custom 发送端口</span><span class="sxs-lookup"><span data-stu-id="17cd0-249">-   **XML** - The WCF adapters create the BizTalk message body with the outer XML of the node selected by the body path expression in **InboundBodyPathExpression**.</span></span>                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                   <span data-ttu-id="17cd0-250">指定 Wcf-nettcp 接收适配器将使用由中指定的正文路径表达式标识的节点进行解码的编码类型**InboundBodyPathExpression**。</span><span class="sxs-lookup"><span data-stu-id="17cd0-250">Specify the type of encoding that the WCF-NetTcp receive adapter uses to decode the node identified by the body path expression specified in **InboundBodyPathExpression**.</span></span> <span data-ttu-id="17cd0-251">此属性是必需的如果**InboundBodyLocation**属性设置为**UseBodyPath**。</span><span class="sxs-lookup"><span data-stu-id="17cd0-251">This property is required if the **InboundBodyLocation** property is set to **UseBodyPath**.</span></span><br /><br /> <span data-ttu-id="17cd0-252">有关如何使用 WCF 自定义适配器使用 WCF 扩展点的详细信息，请参阅**如何启用 WCF 适配器的 WCF 扩展性点**。**</span><span class="sxs-lookup"><span data-stu-id="17cd0-252">Default value: **XML**</span></span>                                                                                                                                                                                                                   |
|      <span data-ttu-id="17cd0-253">**OutboundBodyLocation**</span><span class="sxs-lookup"><span data-stu-id="17cd0-253">**OutboundBodyLocation**</span></span>      |                                                                                                                                                                                              <span data-ttu-id="17cd0-254">Enum</span><span class="sxs-lookup"><span data-stu-id="17cd0-254">Enum</span></span><br /><br /> <span data-ttu-id="17cd0-255">-   **UseBodyElement** -使用 BizTalk 消息正文部分创建的 soap 内容**正文**为传出响应消息的元素。</span><span class="sxs-lookup"><span data-stu-id="17cd0-255">-   **UseBodyElement** - Use the BizTalk message body part to create the content of the SOAP **Body** element for an outgoing response message.</span></span><br /><span data-ttu-id="17cd0-256">-   **UseTemplate** -使用中提供的模板**OutboundXMLTemplate**属性创建的 soap 内容**正文**为传出响应消息的元素。</span><span class="sxs-lookup"><span data-stu-id="17cd0-256">-   **UseTemplate** - Use the template supplied in the **OutboundXMLTemplate** property to create the content of the SOAP **Body** element for an outgoing response message.</span></span><br /><br /> <span data-ttu-id="17cd0-257">有关如何使用详细信息**OutboundBodyLocation**属性，请参阅[WCF 适配器指定消息正文](../core/specifying-the-message-body-for-the-wcf-adapters.md)。</span><span class="sxs-lookup"><span data-stu-id="17cd0-257">For more information about how to use the **OutboundBodyLocation** property, see [Specifying the Message Body for the WCF Adapters](../core/specifying-the-message-body-for-the-wcf-adapters.md).</span></span>                                                                                                                                                                                              |                                                                                                                                                                                                                                                                      <span data-ttu-id="17cd0-258">指定数据选择 soap**正文**的传出 WCF 消息的元素。</span><span class="sxs-lookup"><span data-stu-id="17cd0-258">Specify the data selection for the SOAP **Body** element of outgoing WCF messages.</span></span> <span data-ttu-id="17cd0-259">此属性仅对请求响应接收位置有效。</span><span class="sxs-lookup"><span data-stu-id="17cd0-259">This property is valid only for request-response receive locations.</span></span><br /><br /> <span data-ttu-id="17cd0-260">默认值： **UseBodyElement**</span><span class="sxs-lookup"><span data-stu-id="17cd0-260">Default value: **UseBodyElement**</span></span>                                                                                                                                                                                                                                                                       |
|      <span data-ttu-id="17cd0-261">**OutboundXMLTemplate**</span><span class="sxs-lookup"><span data-stu-id="17cd0-261">**OutboundXMLTemplate**</span></span>       |                                                                                                                                                                                                                                                                                                                                                                    <span data-ttu-id="17cd0-262">String</span><span class="sxs-lookup"><span data-stu-id="17cd0-262">String</span></span><br /><br /> <span data-ttu-id="17cd0-263">有关如何使用详细信息**OutboundXMLTemplate**属性，请参阅[WCF 适配器指定消息正文](../core/specifying-the-message-body-for-the-wcf-adapters.md)。</span><span class="sxs-lookup"><span data-stu-id="17cd0-263">For more information about how to use the **OutboundXMLTemplate** property, see [Specifying the Message Body for the WCF Adapters](../core/specifying-the-message-body-for-the-wcf-adapters.md).</span></span>                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                         <span data-ttu-id="17cd0-264">指定内容的 SOAP XML 格式的模板**正文**的传出响应消息的元素。</span><span class="sxs-lookup"><span data-stu-id="17cd0-264">Specify the XML-formatted template for the content of the SOAP **Body** element of an outgoing response message.</span></span> <span data-ttu-id="17cd0-265">此属性是必需的如果**OutboundBodyLocation**属性设置为**UseTemplate**。</span><span class="sxs-lookup"><span data-stu-id="17cd0-265">This property is required if the **OutboundBodyLocation** property is set to **UseTemplate**.</span></span> <span data-ttu-id="17cd0-266">此属性仅对请求响应接收位置有效。</span><span class="sxs-lookup"><span data-stu-id="17cd0-266">This property is valid only for request-response receive locations.</span></span><br /><br /> <span data-ttu-id="17cd0-267">默认值为空字符串。</span><span class="sxs-lookup"><span data-stu-id="17cd0-267">The default is an empty string.</span></span>                                                                                                                                                                                                          |
|    <span data-ttu-id="17cd0-268">**SuspendMessageOnFailure**</span><span class="sxs-lookup"><span data-stu-id="17cd0-268">**SuspendMessageOnFailure**</span></span>     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <span data-ttu-id="17cd0-269">Boolean</span><span class="sxs-lookup"><span data-stu-id="17cd0-269">Boolean</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                                                                                                                                                                                                                                                    <span data-ttu-id="17cd0-270">指定是否将由于接收管道故障或路由故障而导致入站处理失败的请求消息挂起。</span><span class="sxs-lookup"><span data-stu-id="17cd0-270">Specify whether to suspend the request message that fails inbound processing due to a receive pipeline failure or a routing failure.</span></span><br /><br /> <span data-ttu-id="17cd0-271">中**Wcf-custom 传输属性**对话框中，在常规选项卡上，配置终结点地址、 服务标识，并且SOAPAction标头WCF 自定义发送端口。**</span><span class="sxs-lookup"><span data-stu-id="17cd0-271">Default value: **True**</span></span>                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="17cd0-272">**IncludeExceptionDetailInFaults**</span><span class="sxs-lookup"><span data-stu-id="17cd0-272">**IncludeExceptionDetailInFaults**</span></span> |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <span data-ttu-id="17cd0-273">Boolean</span><span class="sxs-lookup"><span data-stu-id="17cd0-273">Boolean</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                                                                                                                                                                                                                                                       <span data-ttu-id="17cd0-274">指定是否将托管异常信息包括在返回给客户端以便进行调试的 SOAP 错误的详细信息中。</span><span class="sxs-lookup"><span data-stu-id="17cd0-274">Specify whether to include managed exception information in the detail of SOAP faults returned to the client for debugging purposes.</span></span><br /><br /> <span data-ttu-id="17cd0-275">默认值： **False**</span><span class="sxs-lookup"><span data-stu-id="17cd0-275">Default: **False**</span></span>                                                                                                                                                                                                                                                                                       |

## <a name="configure-a-wcf-nettcp-receive-location-with-the-biztalk-administration-console"></a><span data-ttu-id="17cd0-276">配置 Wcf-nettcp 接收位置使用 BizTalk 管理控制台</span><span class="sxs-lookup"><span data-stu-id="17cd0-276">Configure a WCF-NetTcp Receive Location with the BizTalk Administration Console</span></span>

 <span data-ttu-id="17cd0-277">您可以在 BizTalk 管理控制台中设置 WCF-NetTcp 接收位置适配器变量。</span><span class="sxs-lookup"><span data-stu-id="17cd0-277">You can set WCF-NetTcp receive location adapter variables in the BizTalk Administration console.</span></span> <span data-ttu-id="17cd0-278">如果未设置接收位置的属性，则使用 BizTalk 管理控制台中设置的默认接收处理程序值。</span><span class="sxs-lookup"><span data-stu-id="17cd0-278">If properties are not set in the receive location, the default receive handler values set in the BizTalk Administration console are used.</span></span>  

> [!NOTE]
>  <span data-ttu-id="17cd0-279">在执行以下过程之前，您必须已添加接收端口。</span><span class="sxs-lookup"><span data-stu-id="17cd0-279">Before completing the following procedure you must have already added a receive port.</span></span> <span data-ttu-id="17cd0-280">有关详细信息，请参阅[如何创建接收端口](../core/how-to-create-a-receive-port.md)。</span><span class="sxs-lookup"><span data-stu-id="17cd0-280">For more information, see [How to Create a Receive Port](../core/how-to-create-a-receive-port.md).</span></span>  

## <a name="configure-variables-for-a-wcf-nettcp-receive-location"></a><span data-ttu-id="17cd0-281">为 Wcf-nettcp 接收位置配置变量</span><span class="sxs-lookup"><span data-stu-id="17cd0-281">Configure variables for a WCF-NetTcp receive location</span></span>  

1. <span data-ttu-id="17cd0-282">在 BizTalk 管理控制台中，依次展开“BizTalk Server 2009 管理” 、“BizTalk 组” 和“应用程序” ，然后展开要在其中创建接收位置的应用程序。</span><span class="sxs-lookup"><span data-stu-id="17cd0-282">In the BizTalk Administration console, expand **BizTalk Server 2009 Administration**, expand **BizTalk Group**, expand **Applications**, and then expand the application you want to create a receive location in.</span></span>  

2. <span data-ttu-id="17cd0-283">在 BizTalk 管理控制台的左窗格中，单击“接收端口”  节点。</span><span class="sxs-lookup"><span data-stu-id="17cd0-283">In the BizTalk Administration console, in the left pane, click the **Receive Port** node.</span></span> <span data-ttu-id="17cd0-284">随后，在右窗格中右键单击与现有接收位置关联的接收端口或要与新接收位置关联的接收端口，然后单击“属性” 。</span><span class="sxs-lookup"><span data-stu-id="17cd0-284">Then in the right pane, right-click the receive port that is associated with an existing receive location or that you want to associate with a new receive location, and then click **Properties**.</span></span>  

3. <span data-ttu-id="17cd0-285">在中**接收端口属性**对话框中，在左窗格中，选择**接收位置**，然后在右窗格中，双击现有接收位置或单击**新建**以创建新的接收位置。</span><span class="sxs-lookup"><span data-stu-id="17cd0-285">In the **Receive Port Properties** dialog box, in the left pane, select **Receive Locations**, and then in the right pane, double-click an existing receive location or click **New**to create a new receive location.</span></span>  

4. <span data-ttu-id="17cd0-286">在中**接收位置属性**对话框中**传输**部分旁边**类型**，选择**WCF NetTcp**从下拉列表列表中，然后依次**配置**。</span><span class="sxs-lookup"><span data-stu-id="17cd0-286">In the **Receive Location Properties** dialog box, in the **Transport** section next to **Type**, select **WCF-NetTcp** from the drop-down list, and then click **Configure**.</span></span>  

5. <span data-ttu-id="17cd0-287">在中**Wcf-nettcp 传输属性**对话框中，在**常规**选项卡上的服务标识的 Wcf-nettcp 接收位置和配置的终结点地址。</span><span class="sxs-lookup"><span data-stu-id="17cd0-287">In the **WCF-NetTcp Transport Properties** dialog box, on the **General** tab, configure the endpoint address and the service identity for the WCF-NetTcp receive location.</span></span> <span data-ttu-id="17cd0-288">有关详细信息**常规**选项卡**Wcf-nettcp 传输属性**对话框中，请参阅**Wcf-nettcp 传输属性对话框，接收，常规**选项卡[!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)]。</span><span class="sxs-lookup"><span data-stu-id="17cd0-288">For more information about the **General** tab in the **WCF-NetTcp Transport Properties** dialog box, see the **WCF-NetTcp Transport Properties Dialog Box, Receive, General** tab [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].</span></span>  

6. <span data-ttu-id="17cd0-289">在中**Wcf-nettcp 传输属性**对话框中，在**绑定**选项卡上，配置超时和事务属性。</span><span class="sxs-lookup"><span data-stu-id="17cd0-289">In the **WCF-NetTcp Transport Properties** dialog box, on the **Binding** tab, configure the time-out and transaction properties.</span></span> <span data-ttu-id="17cd0-290">有关详细信息**绑定**选项卡**Wcf-nettcp 传输属性**对话框中，请参阅**Wcf-nettcp 传输属性对话框中，接收，绑定**选项卡[!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)]。</span><span class="sxs-lookup"><span data-stu-id="17cd0-290">For more information about the **Binding** tab in the **WCF-NetTcp Transport Properties** dialog box, see the **WCF-NetTcp Transport Properties Dialog Box, Receive, Binding** tab [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].</span></span>

7. <span data-ttu-id="17cd0-291">在中**Wcf-nettcp 传输属性**对话框中，在**安全**选项卡上，定义的安全性功能的 Wcf-nettcp 接收位置。</span><span class="sxs-lookup"><span data-stu-id="17cd0-291">In the **WCF-NetTcp Transport Properties** dialog box, on the **Security** tab, define the security capabilities of the WCF-NetTcp receive location.</span></span> <span data-ttu-id="17cd0-292">有关详细信息**安全**选项卡**Wcf-nettcp 传输属性**对话框中，请参阅**Wcf-nettcp 传输属性对话框中，接收，安全**选项卡[!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)]。</span><span class="sxs-lookup"><span data-stu-id="17cd0-292">For more information about the **Security** tab in the **WCF-NetTcp Transport Properties** dialog box, see the **WCF-NetTcp Transport Properties Dialog Box, Receive, Security** tab [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].</span></span>

8. <span data-ttu-id="17cd0-293">在中**Wcf-nettcp 传输属性**对话框中，在**消息**选项卡上，指定数据选择 soap**正文**元素。</span><span class="sxs-lookup"><span data-stu-id="17cd0-293">In the **WCF-NetTcp Transport Properties** dialog box, on the **Messages** tab, specify the data selection for the SOAP **Body** element.</span></span> <span data-ttu-id="17cd0-294">有关详细信息**消息**选项卡**Wcf-nettcp 传输属性**对话框中，请参阅**Wcf-nettcp 传输属性对话框，接收、 消息**选项卡[!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)]。</span><span class="sxs-lookup"><span data-stu-id="17cd0-294">For more information about the **Messages** tab in the **WCF-NetTcp Transport Properties** dialog box, see the **WCF-NetTcp Transport Properties Dialog Box, Receive, Messages** tab [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].</span></span>

## <a name="configure-a-wcf-nettcp-receive-location-programmatically"></a><span data-ttu-id="17cd0-295">配置 Wcf-nettcp 接收位置以编程方式</span><span class="sxs-lookup"><span data-stu-id="17cd0-295">Configure a WCF-NetTcp Receive Location Programmatically</span></span>

 <span data-ttu-id="17cd0-296">可使用以下格式设置属性：</span><span class="sxs-lookup"><span data-stu-id="17cd0-296">You can use the following format to set the properties:</span></span>  

```  
<CustomProps>  
  <InboundBodyPathExpression vt="8" />  
  <InboundBodyLocation vt="8">UseBodyElement</InboundBodyLocation>  
  <UseSSO vt="11">0</UseSSO>  
  <MessageClientCredentialType vt="8">Windows</MessageClientCredentialType>  
  <SendTimeout vt="8">00:01:00</SendTimeout>  
  <OutboundXmlTemplate vt="8"><bts-msg-body xmlns="http://www.microsoft.com/schemas/bts2007" encoding="xml"/></OutboundXmlTemplate>  
  <OpenTimeout vt="8">00:01:00</OpenTimeout>  
  <AlgorithmSuite vt="8">Basic256</AlgorithmSuite>  
  <SecurityMode vt="8">Message</SecurityMode>  
  <TransportClientCredentialType vt="8">Windows</TransportClientCredentialType>  
  <MaxReceivedMessageSize vt="3">2097152</MaxReceivedMessageSize>  
  <CloseTimeout vt="8">00:01:00</CloseTimeout>  
  <SuspendMessageOnFailure vt="11">0</SuspendMessageOnFailure>  
  <EnableTransaction vt="11">0</EnableTransaction>  
  <InboundNodeEncoding vt="8">Xml</InboundNodeEncoding>  
  <IncludeExceptionDetailInFaults vt="11">0</IncludeExceptionDetailInFaults>  
  <MaxConcurrentCalls vt="3">16</MaxConcurrentCalls>  
  <ServiceCertificate vt="8" />  
  <OutboundBodyLocation vt="8">UseBodyElement</OutboundBodyLocation>  
</CustomProps>  

```  

 <span data-ttu-id="17cd0-297">以下代码段显示了如何创建 WCF-NetTcp 接收位置：</span><span class="sxs-lookup"><span data-stu-id="17cd0-297">The following code fragment illustrates creating a WCF-NetTcp receive location:</span></span>  

```  
// Use BizTalk Explorer object model to create new WCF-NetTcp receive location   
string server = System.Environment.MachineName;  
string database = "BizTalkMgmtDb";  
string connectionString = string.Format("Server={0};Database={1};Integrated Security=true", server, database);  
string transportConfigData = @"<CustomProps>  
  <InboundBodyLocation vt=""8"">UseBodyElement</InboundBodyLocation>  
  <UseSSO vt=""11"">0</UseSSO>  
  <Identity vt=""8"">  
    <identity>  
    <userPrincipalName value=""username@contoso.com"" />  
    </identity>  
  </Identity>  
</CustomProps>";  
//requires project reference to \Program Files\Microsoft BizTalk Server 2009\Developer Tools\Microsoft.BizTalk.ExplorerOM.dll  
BtsCatalogExplorer explorer = new Microsoft.BizTalk.ExplorerOM.BtsCatalogExplorer();  
explorer.ConnectionString = connectionString;  
// Add a new BizTalk application  
Application application = explorer.AddNewApplication();  
application.Name = "SampleBizTalkApplication";  
// Save  
explorer.SaveChanges();  

// Add a new one-way receive port  
IReceivePort receivePort = application.AddNewReceivePort(false);  
receivePort.Name = "SampleReceivePort";  
// Add a new one-way receive location  
IReceiveLocation recieveLocation = receivePort.AddNewReceiveLocation();  
recieveLocation.Name = "SampleReceiveLocation";  
// Find a receive handler for WCF-NetTcp   
int i = 0;  
for(i=0; i < explorer.ReceiveHandlers.Count; ++i)   
{  
    if("WCF-NetTcp" == explorer.ReceiveHandlers[i].TransportType.Name)  
        break;  
}  
recieveLocation.ReceiveHandler = explorer.ReceiveHandlers[i];  
recieveLocation.Address = "net.tcp://mycomputer/samplepath";  
recieveLocation.ReceivePipeline = explorer.Pipelines["Microsoft.BizTalk.DefaultPipelines.PassThruReceive"];  
recieveLocation.TransportType = explorer.ProtocolTypes["WCF-NetTcp"];  
recieveLocation.TransportTypeData = transportConfigData;  
// Save  
explorer.SaveChanges();   
```  

## <a name="see-also"></a><span data-ttu-id="17cd0-298">请参阅</span><span class="sxs-lookup"><span data-stu-id="17cd0-298">See Also</span></span>  
 <span data-ttu-id="17cd0-299">[发布服务元数据为 WCF 接收适配器](../core/publishing-service-metadata-for-the-wcf-receive-adapters.md) </span><span class="sxs-lookup"><span data-stu-id="17cd0-299">[Publishing Service Metadata for the WCF Receive Adapters](../core/publishing-service-metadata-for-the-wcf-receive-adapters.md) </span></span>  
 <span data-ttu-id="17cd0-300">[管理 BizTalk 主机和主机实例](../core/managing-biztalk-hosts-and-host-instances.md) </span><span class="sxs-lookup"><span data-stu-id="17cd0-300">[Managing BizTalk Hosts and Host Instances](../core/managing-biztalk-hosts-and-host-instances.md) </span></span>  
 <span data-ttu-id="17cd0-301">[如何更改服务帐户和密码](../core/how-to-change-service-accounts-and-passwords.md) </span><span class="sxs-lookup"><span data-stu-id="17cd0-301">[How to Change Service Accounts and Passwords](../core/how-to-change-service-accounts-and-passwords.md) </span></span>  
 <span data-ttu-id="17cd0-302">[用于 WCF 适配器安装证书](../core/installing-certificates-for-the-wcf-adapters.md) </span><span class="sxs-lookup"><span data-stu-id="17cd0-302">[Installing Certificates for the WCF Adapters](../core/installing-certificates-for-the-wcf-adapters.md) </span></span>  
 <span data-ttu-id="17cd0-303">[指定 WCF 适配器的消息正文](../core/specifying-the-message-body-for-the-wcf-adapters.md) </span><span class="sxs-lookup"><span data-stu-id="17cd0-303">[Specifying the Message Body for the WCF Adapters](../core/specifying-the-message-body-for-the-wcf-adapters.md) </span></span>  
 <span data-ttu-id="17cd0-304">[负载平衡](http://go.microsoft.com/fwlink/?LinkId=81089) </span><span class="sxs-lookup"><span data-stu-id="17cd0-304">[Load Balancing](http://go.microsoft.com/fwlink/?LinkId=81089) </span></span>  
 [<span data-ttu-id="17cd0-305">配置 WCF-NetTcp 适配器</span><span class="sxs-lookup"><span data-stu-id="17cd0-305">Configuring the WCF-NetTcp Adapter</span></span>](../core/configuring-the-wcf-nettcp-adapter.md)