---
title: BizTalk Server 消息引擎 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: c0c8d3e6-953d-4a04-adfc-b77ef7173464
caps.latest.revision: 12
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 69b6cad3361c8da1fad730026e884e19003d66ac
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/27/2018
ms.locfileid: "37009814"
---
# <a name="the-biztalk-server-messaging-engine"></a><span data-ttu-id="187d6-102">BizTalk Server 消息引擎</span><span class="sxs-lookup"><span data-stu-id="187d6-102">The BizTalk Server Messaging Engine</span></span>
<span data-ttu-id="187d6-103">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 消息引擎提供了以下两个主要功能，用户使用这两个功能可以创建涉及多个应用程序的业务流程：</span><span class="sxs-lookup"><span data-stu-id="187d6-103">The [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Messaging engine enables users to create business processes that spans multiple applications by providing two primary things:</span></span>  
  
- <span data-ttu-id="187d6-104">指定和实现驱动该业务流程的逻辑的方法</span><span class="sxs-lookup"><span data-stu-id="187d6-104">A way to specify and implement the logic driving that business process</span></span>  
  
- <span data-ttu-id="187d6-105">在业务流程使用的应用程序之间进行通信的机制</span><span class="sxs-lookup"><span data-stu-id="187d6-105">A mechanism for communicating across the applications that the business process uses</span></span>  
  
  <span data-ttu-id="187d6-106">下图显示了解决这两个问题的主要引擎组件。</span><span class="sxs-lookup"><span data-stu-id="187d6-106">The figure below illustrates the main components of the engine that address these two problems.</span></span>  
  
  <span data-ttu-id="187d6-107">![](../core/media/understandingbts-04-engine4.gif "UnderstandingBTS_04_Engine4")</span><span class="sxs-lookup"><span data-stu-id="187d6-107">![](../core/media/understandingbts-04-engine4.gif "UnderstandingBTS_04_Engine4")</span></span>  
  
  <span data-ttu-id="187d6-108">如图所示，通过接收消息**接收适配器**。</span><span class="sxs-lookup"><span data-stu-id="187d6-108">As the diagram shows, a message is received through a **receive adapter**.</span></span> <span data-ttu-id="187d6-109">不同适配器提供不同通信机制，所以可能会通过访问 Web Services、读取文件或其他某种方法来获取消息。</span><span class="sxs-lookup"><span data-stu-id="187d6-109">Different adapters provide different communication mechanisms, so a message might be acquired by accessing a Web service, reading from a file, or in some other way.</span></span> <span data-ttu-id="187d6-110">然后通过处理该消息**接收管道**。</span><span class="sxs-lookup"><span data-stu-id="187d6-110">The message is then processed through a **receive pipeline**.</span></span> <span data-ttu-id="187d6-111">此管道可以包含各种组件，用于执行不同的任务，例如，将消息从本机格式转换为 XML 文档、验证消息的数字签名等。</span><span class="sxs-lookup"><span data-stu-id="187d6-111">This pipeline can contain various components that do things such as converting the message from its native format into an XML document, validating a message’s digital signature, and more.</span></span> <span data-ttu-id="187d6-112">该消息会传送到名为的数据库**MessageBox**，这实现使用 Microsoft SQL Server。</span><span class="sxs-lookup"><span data-stu-id="187d6-112">The message is then delivered into a database called the **MessageBox**, which is implemented using Microsoft SQL Server.</span></span>  
  
  <span data-ttu-id="187d6-113">驱动业务流程的逻辑实现为一个或多个**业务流程**，其中每个可执行代码组成。</span><span class="sxs-lookup"><span data-stu-id="187d6-113">The logic that drives a business process is implemented as one or more **orchestrations**, each of which consists of executable code.</span></span> <span data-ttu-id="187d6-114">但是，这些业务流程并不是通过 C# 之类的语言以编写代码的方式创建的。</span><span class="sxs-lookup"><span data-stu-id="187d6-114">These orchestrations are not created by writing code in a language such as C#, however.</span></span> <span data-ttu-id="187d6-115">实际上，业务分析员或开发人员（更可能是后者）会使用相应的工具，以图形形式将一组定义的形状组织起来以表示条件、循环及其他行为。</span><span class="sxs-lookup"><span data-stu-id="187d6-115">Instead, a business analyst or (more likely) a developer uses an appropriate tool to graphically organize a defined group of shapes to express conditions, loops, and other behavior.</span></span> <span data-ttu-id="187d6-116">可以选择使用业务流程**业务规则引擎**，其中提供了更简单并且更多轻松修改的方式来表达复杂的业务流程中的规则集。</span><span class="sxs-lookup"><span data-stu-id="187d6-116">Orchestrations can optionally use the **Business Rule Engine**, which provides a simpler and more easily modified way to express complex sets of rules in a business process.</span></span>  
  
  <span data-ttu-id="187d6-117">每个业务流程将创建**订阅**以指示它想要接收的消息的类型。</span><span class="sxs-lookup"><span data-stu-id="187d6-117">Each orchestration creates **subscriptions** to indicate the kinds of messages it wants to receive.</span></span> <span data-ttu-id="187d6-118">在相应的消息送达 MessageBox 后，会将该消息分派到其目标业务流程，后者将执行业务流程要求的任意操作。</span><span class="sxs-lookup"><span data-stu-id="187d6-118">When an appropriate message arrives in the MessageBox, that message is dispatched to its target orchestration, which takes whatever action the business process requires.</span></span> <span data-ttu-id="187d6-119">经过此处理，通常会由业务流程生成另一个消息，并将该消息保存在 MessageBox 中。</span><span class="sxs-lookup"><span data-stu-id="187d6-119">The result of this processing is typically another message, produced by the orchestration and saved in the MessageBox.</span></span> <span data-ttu-id="187d6-120">此消息又会处理由**发送管道**，这可能会将其从使用的内部 XML 格式转换[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]到其目标所需的格式、 添加数字签名，等等。</span><span class="sxs-lookup"><span data-stu-id="187d6-120">This message, in turn, is processed by a **send pipeline**, which may convert it from the internal XML format used by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to the format required by its destination, add a digital signature, and more.</span></span> <span data-ttu-id="187d6-121">然后，消息将发送出使用**发送适配器**，它使用适当的机制与此消息的目标为其应用程序进行通信。</span><span class="sxs-lookup"><span data-stu-id="187d6-121">The message is then sent out using a **send adapter**, which uses an appropriate mechanism to communicate with the application for which this message is destined.</span></span>  
  
  <span data-ttu-id="187d6-122">完整**解决方案**基于[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]引擎可以包含以下各个部分 （有时称作项目）： 业务流程、 管道、 消息架构和的详细信息。</span><span class="sxs-lookup"><span data-stu-id="187d6-122">A complete **solution** built on the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] engine can contain various parts (sometimes referred to as artifacts): orchestrations, pipelines, message schemas, and more.</span></span> <span data-ttu-id="187d6-123">这些部件或项目，都可以得到与作为单个单元，称为**BizTalk 应用程序**。</span><span class="sxs-lookup"><span data-stu-id="187d6-123">These parts, or artifacts, can be worked with as a single unit, referred to as a **BizTalk application**.</span></span> <span data-ttu-id="187d6-124">BizTalk 应用程序将解决方案所需的所有部分包装到单独的逻辑单元，并将其用作管理和部署的基本概念。</span><span class="sxs-lookup"><span data-stu-id="187d6-124">A BizTalk application wraps all of the pieces required for a solution into a single logical unit, making it the fundamental abstraction for management and deployment.</span></span>  
  
  <span data-ttu-id="187d6-125">不同的用户可能使用 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 引擎执行不同功能。</span><span class="sxs-lookup"><span data-stu-id="187d6-125">Different kinds of people perform different functions using the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] engine.</span></span> <span data-ttu-id="187d6-126">一个**业务分析师**，例如，可以定义的规则和构成业务流程的行为。</span><span class="sxs-lookup"><span data-stu-id="187d6-126">A **business analyst**, for example, might define the rules and behaviors that make up a business process.</span></span> <span data-ttu-id="187d6-127">还可能会确定业务流程的流程，定义要发送到每个应用程序的信息，以及如何在业务文档之间建立映射。</span><span class="sxs-lookup"><span data-stu-id="187d6-127">She also determines the flow of the business process, defining what information gets sent to each application and how one business document is mapped into another.</span></span> <span data-ttu-id="187d6-128">业务分析员定义此过程中后,**开发人员**可以创建 BizTalk 应用程序实现它。</span><span class="sxs-lookup"><span data-stu-id="187d6-128">After the business analyst has defined this process, a **developer** can create a BizTalk application that implements it.</span></span> <span data-ttu-id="187d6-129">这包括以下任务：定义将使用的业务文档的 XML 架构、指定这些架构间的详细映射，以及创建实现上述流程所需的业务流程。</span><span class="sxs-lookup"><span data-stu-id="187d6-129">This includes things such as defining the XML schemas for the business documents that will be used, specifying the detailed mapping between them, and creating the orchestrations necessary to implement the process.</span></span> <span data-ttu-id="187d6-130">**管理员**还通过设置各部分之间的通信、 适当的可伸缩方式部署 BizTalk 应用程序并执行其他任务中发挥着重要作用。</span><span class="sxs-lookup"><span data-stu-id="187d6-130">An **administrator** also plays an important role by setting up communication among the parts, deploying the BizTalk application in an appropriately scalable way, and performing other tasks.</span></span> <span data-ttu-id="187d6-131">对于创建和维护 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 解决方案，以上全部三种角色（业务分析员，开发人员和管理员）都必不可少。</span><span class="sxs-lookup"><span data-stu-id="187d6-131">All three roles—business analyst, developer, and administrator—are necessary to create and maintain [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solutions.</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="187d6-132">本节内容</span><span class="sxs-lookup"><span data-stu-id="187d6-132">In This Section</span></span>  
  
-   [<span data-ttu-id="187d6-133">连接系统</span><span class="sxs-lookup"><span data-stu-id="187d6-133">Connecting Systems</span></span>](../core/connecting-systems.md)  
  
-   [<span data-ttu-id="187d6-134">定义业务流程</span><span class="sxs-lookup"><span data-stu-id="187d6-134">Defining Business Processes</span></span>](../core/defining-business-processes.md)  
  
-   [<span data-ttu-id="187d6-135">管理和监视</span><span class="sxs-lookup"><span data-stu-id="187d6-135">Management and Monitoring</span></span>](../core/management-and-monitoring.md)  
  
-   [<span data-ttu-id="187d6-136">企业单一登录</span><span class="sxs-lookup"><span data-stu-id="187d6-136">Enterprise Single Sign-On</span></span>](../core/enterprise-single-sign-on-sso.md)  
  
## <a name="see-also"></a><span data-ttu-id="187d6-137">请参阅</span><span class="sxs-lookup"><span data-stu-id="187d6-137">See Also</span></span>  
 <span data-ttu-id="187d6-138">[BizTalk Server 体系结构](../core/biztalk-server-architecture.md) </span><span class="sxs-lookup"><span data-stu-id="187d6-138">[BizTalk Server Architecture](../core/biztalk-server-architecture.md) </span></span>  
 [<span data-ttu-id="187d6-139">运行时体系结构</span><span class="sxs-lookup"><span data-stu-id="187d6-139">Runtime Architecture</span></span>](../core/runtime-architecture.md)