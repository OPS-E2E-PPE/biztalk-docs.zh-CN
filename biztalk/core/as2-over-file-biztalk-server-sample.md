---
title: AS2 over File （BizTalk Server 示例） |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 1fed2344-8181-4c85-a2ef-a421fc40dce1
caps.latest.revision: 14
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 8b604db858e6ad2826ece6c1a925b1ec80d45c6c
ms.sourcegitcommit: d27732e569b0897361dfaebca8352aa97bb7efe1
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/10/2019
ms.locfileid: "65528632"
---
# <a name="as2-over-file-biztalk-server-sample"></a><span data-ttu-id="b532d-102">AS2 over File （BizTalk Server 示例）</span><span class="sxs-lookup"><span data-stu-id="b532d-102">AS2 over File (BizTalk Server Sample)</span></span>
<span data-ttu-id="b532d-103">AS2 Over File 示例演示如何通过 FILE 接收 AS2 消息接收位置。</span><span class="sxs-lookup"><span data-stu-id="b532d-103">The AS2 Over File sample demonstrates how to receive an AS2 message over a FILE receive location.</span></span> <span data-ttu-id="b532d-104">这使您可以使用 FILE 适配器以接收 AS2 消息，而不是通常使用的 HTTP 适配器。</span><span class="sxs-lookup"><span data-stu-id="b532d-104">This enables you to use a FILE adapter to receive the AS2 message, rather than an HTTP adapter, which is normally used.</span></span> <span data-ttu-id="b532d-105">若要执行此操作，此解决方案将 HTTP 标头 AS2 消息中写入 InboundHTTPHeaders 上下文属性，所需的 AS2 解码器。</span><span class="sxs-lookup"><span data-stu-id="b532d-105">To do so, this solution writes the HTTP headers in the AS2 message to the InboundHTTPHeaders context property, as required by the AS2 Decoder.</span></span>  

## <a name="what-this-sample-does"></a><span data-ttu-id="b532d-106">本示例的用途</span><span class="sxs-lookup"><span data-stu-id="b532d-106">What This Sample Does</span></span>  
 <span data-ttu-id="b532d-107">此示例演示如何处理 AS2 消息中的 HTTP 标头，而无需 HTTP 适配器。</span><span class="sxs-lookup"><span data-stu-id="b532d-107">This sample demonstrates how to process the HTTP headers in an AS2 message without having an HTTP adapter.</span></span> <span data-ttu-id="b532d-108">具体而言，此示例执行以下任务：</span><span class="sxs-lookup"><span data-stu-id="b532d-108">Specifically, this sample does the following:</span></span>  

1.  <span data-ttu-id="b532d-109">当测试消息放入输入文件夹时，文件接收位置提取该消息。</span><span class="sxs-lookup"><span data-stu-id="b532d-109">When you drop the test message into an input folder, the FILE receive location picks it up.</span></span>  

2.  <span data-ttu-id="b532d-110">自定义管道组件中的自定义 AS2 接收管道处理消息，其 HTTP 标头写入 InboundHTTPHeaders 上下文属性。</span><span class="sxs-lookup"><span data-stu-id="b532d-110">The custom pipeline component in the custom AS2 receive pipeline processes the message, writing its HTTP headers to the InboundHTTPHeaders context property.</span></span>  

    > [!NOTE]
    >  <span data-ttu-id="b532d-111">如果处理的自定义管道组件的下游消息失败，则可能难以恢复消息处理的消息，因为它将具有已经转换为 XML 编码。</span><span class="sxs-lookup"><span data-stu-id="b532d-111">If processing of the message fails downstream of the custom pipeline component, you may have difficulty resuming the processing of the message because it will have already been converted to XML encoding.</span></span>  

3.  <span data-ttu-id="b532d-112">自定义接收管道中的 AS2 解码器处理消息，读取 InboundHTTPHeaders 上下文属性以进行处理中的属性。</span><span class="sxs-lookup"><span data-stu-id="b532d-112">The AS2 Decoder in the custom receive pipeline processes the message, reading the properties in the InboundHTTPHeaders context property to do its processing.</span></span>  

4.  <span data-ttu-id="b532d-113">发送端口订阅由接收管道生成的 XML 消息，将其通过直通发送管道，并将其放入输出文件夹。</span><span class="sxs-lookup"><span data-stu-id="b532d-113">A send port subscribes to the XML message generated by the receive pipeline, passes it through a passthrough send pipeline, and drops it into an output folder.</span></span>  

## <a name="where-to-find-this-sample"></a><span data-ttu-id="b532d-114">本示例所在的位置</span><span class="sxs-lookup"><span data-stu-id="b532d-114">Where to Find This Sample</span></span>  
 <span data-ttu-id="b532d-115">此示例位于[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]安装文件夹：[!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\Samples\AS2\AS2 Over File。</span><span class="sxs-lookup"><span data-stu-id="b532d-115">This sample is located in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] installation folder: [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\Samples\AS2\AS2 Over File.</span></span>  

 <span data-ttu-id="b532d-116">下表显示了本示例中的文件及其用途说明：</span><span class="sxs-lookup"><span data-stu-id="b532d-116">The following table shows the files in this sample and describes their purpose.</span></span>  

|<span data-ttu-id="b532d-117">文件</span><span class="sxs-lookup"><span data-stu-id="b532d-117">File(s)</span></span>|<span data-ttu-id="b532d-118">Description</span><span class="sxs-lookup"><span data-stu-id="b532d-118">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="b532d-119">AS2OverFile.csproj</span><span class="sxs-lookup"><span data-stu-id="b532d-119">AS2OverFile.csproj</span></span>|<span data-ttu-id="b532d-120">包含自定义管道组件代码的项目。</span><span class="sxs-lookup"><span data-stu-id="b532d-120">The project containing the custom pipeline component code.</span></span>|  
|<span data-ttu-id="b532d-121">AS2OverFile.sln</span><span class="sxs-lookup"><span data-stu-id="b532d-121">AS2OverFile.sln</span></span>|<span data-ttu-id="b532d-122">包含 AS2OverFile.btproj 项目的解决方案。</span><span class="sxs-lookup"><span data-stu-id="b532d-122">The solution containing the AS2OverFile.btproj project.</span></span>|  
|<span data-ttu-id="b532d-123">Program.cs</span><span class="sxs-lookup"><span data-stu-id="b532d-123">Program.cs</span></span>|<span data-ttu-id="b532d-124">包括表示标头数据的类。</span><span class="sxs-lookup"><span data-stu-id="b532d-124">Includes classes representing headers data.</span></span>|  
|<span data-ttu-id="b532d-125">SampleMessage.txt</span><span class="sxs-lookup"><span data-stu-id="b532d-125">SampleMessage.txt</span></span>|<span data-ttu-id="b532d-126">包含 HTTP 标头的示例消息。</span><span class="sxs-lookup"><span data-stu-id="b532d-126">The sample message containing HTTP headers.</span></span>|  

## <a name="implementing-and-running-this-sample"></a><span data-ttu-id="b532d-127">实现和运行本示例</span><span class="sxs-lookup"><span data-stu-id="b532d-127">Implementing and Running This Sample</span></span>  
 <span data-ttu-id="b532d-128">若要实现 AS2 Over File 示例，需要执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="b532d-128">To implement the AS2 Over File sample, you need to do the following:</span></span>  

-   <span data-ttu-id="b532d-129">生成和部署本示例中，创建自定义管道组件的 BizTalk 项目</span><span class="sxs-lookup"><span data-stu-id="b532d-129">Build and deploy the BizTalk project for this sample, creating the custom pipeline component</span></span>  

-   <span data-ttu-id="b532d-130">创建使用自定义管道组件的自定义管道并生成和部署具有该自定义管道的项目</span><span class="sxs-lookup"><span data-stu-id="b532d-130">Create a custom pipeline using the custom pipeline component, and build and deploy a project with that custom pipeline</span></span>  

-   <span data-ttu-id="b532d-131">创建输入和输出文件文件夹</span><span class="sxs-lookup"><span data-stu-id="b532d-131">Create input and output file folders</span></span>  

-   <span data-ttu-id="b532d-132">配置接收端口和位置，并启用接收位置</span><span class="sxs-lookup"><span data-stu-id="b532d-132">Configure a receive port and location, and enable the receive location</span></span>  

-   <span data-ttu-id="b532d-133">配置发送端口并启动发送端口</span><span class="sxs-lookup"><span data-stu-id="b532d-133">Configure a send port and start the send port</span></span>  

-   <span data-ttu-id="b532d-134">创建的参与方发送示例消息</span><span class="sxs-lookup"><span data-stu-id="b532d-134">Create a party for sending the sample message</span></span>  

#### <a name="to-build-a-custom-pipeline-with-the-as2-over-file-emulator-pipeline-component"></a><span data-ttu-id="b532d-135">若要生成的自定义管道使用 AS2 通过 File Emulator 管道组件</span><span class="sxs-lookup"><span data-stu-id="b532d-135">To build a custom pipeline with the AS2 Over File Emulator Pipeline Component</span></span>  

1. <span data-ttu-id="b532d-136">在中[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]，打开中的 AS2OverFile 项目[!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\Samples\AS2\AS2 Over File 文件夹。</span><span class="sxs-lookup"><span data-stu-id="b532d-136">In [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], open the AS2OverFile project in the [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\Samples\AS2\AS2 Over File folder.</span></span>  

2. <span data-ttu-id="b532d-137">创建强名称密钥文件，打开 AS2OverFile 项目的属性对话框并将密钥文件分配到项目。</span><span class="sxs-lookup"><span data-stu-id="b532d-137">Create a strong name key file, open the Properties dialog box for the AS2OverFile project, and assign the key file to the project.</span></span>  

3. <span data-ttu-id="b532d-138">生成项目。</span><span class="sxs-lookup"><span data-stu-id="b532d-138">Build the project.</span></span>  

4. <span data-ttu-id="b532d-139">在[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]，创建一个名为 AS2OverFile_Pipeline 的新 BizTalk 项目。</span><span class="sxs-lookup"><span data-stu-id="b532d-139">In [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], create a new BizTalk Project named AS2OverFile_Pipeline.</span></span>  

5. <span data-ttu-id="b532d-140">右键单击 AS2OverFile_Pipeline 项目，指向**外**，然后单击**新项**。</span><span class="sxs-lookup"><span data-stu-id="b532d-140">Right-click the AS2OverFile_Pipeline project, point to **Add**, and then click **New Item**.</span></span>  

6. <span data-ttu-id="b532d-141">在中**添加新项**对话框中，选择**管道文件**在左侧窗格中，选择**接收管道**在右侧窗格中，命名管道 AS2OverFile_Receive.btp，并单击**添加**。</span><span class="sxs-lookup"><span data-stu-id="b532d-141">In the **Add New Item** dialog box, select **Pipeline Files** in the left-hand pane, select **Receive Pipeline** in the right-hand pane, name the pipeline AS2OverFile_Receive.btp, and then click **Add**.</span></span>  

7. <span data-ttu-id="b532d-142">单击**视图**在菜单栏中，然后单击**工具箱**，显示工具箱。</span><span class="sxs-lookup"><span data-stu-id="b532d-142">Click **View** in the menu bar, and then click **Toolbox** to display the Toolbox.</span></span>  

8. <span data-ttu-id="b532d-143">在工具箱中，右键单击**BizTalk 管道组件**，然后单击**选择项**。</span><span class="sxs-lookup"><span data-stu-id="b532d-143">In the Toolbox, right-click **BizTalk Pipeline Components**, and then click **Choose Items**.</span></span>  

9. <span data-ttu-id="b532d-144">在中**选择工具箱项**对话框中，单击**BizTalk 管道组件**选项卡。单击**AS2 Over File Emulator**，然后单击**确定**。</span><span class="sxs-lookup"><span data-stu-id="b532d-144">In the **Choose Toolbox Items** dialog box, click the **BizTalk Pipeline Components** tab. Click **AS2 Over File Emulator**, and then click **OK**.</span></span>  

10. <span data-ttu-id="b532d-145">通过打开将 AS2OverFile.dll 文件添加到全局程序集缓存[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]命令提示符处，并执行命令`gacutil /if "<file name and path>"`上 Microsoft.BizTalk.Sdk.Components.AS2OverFile.dll \AS2 Over File\obj\Debug 文件夹中。</span><span class="sxs-lookup"><span data-stu-id="b532d-145">Add the AS2OverFile.dll file to the global assembly cache by opening a [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] Command Prompt, and executing the command `gacutil /if "<file name and path>"` on the Microsoft.BizTalk.Sdk.Components.AS2OverFile.dll in the \AS2 Over File\obj\Debug folder.</span></span>  

11. <span data-ttu-id="b532d-146">在中[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]，将 AS2 Over File Emulator 管道组件从工具箱拖到**解码**自定义管道阶段。</span><span class="sxs-lookup"><span data-stu-id="b532d-146">In [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], drag the AS2 Over File Emulator pipeline component from the Toolbox into the **Decode** stage of the custom pipeline.</span></span>  

12. <span data-ttu-id="b532d-147">AS2 解码器将组件拖至**解码**自定义管道，AS2 Over File 组件之后阶段。</span><span class="sxs-lookup"><span data-stu-id="b532d-147">Drag the AS2 decoder component into the **Decode** stage of the custom pipeline, after the AS2 Over File component.</span></span>  

    > [!NOTE]
    >  <span data-ttu-id="b532d-148">如果你想要生成 MDN，将 AS2 拆装器添加到自定义管道的拆装阶段。</span><span class="sxs-lookup"><span data-stu-id="b532d-148">If you want to generate an MDN, add an AS2 disassembler into the Disassemble stage of the custom pipeline.</span></span> <span data-ttu-id="b532d-149">如果不返回 MDN，则不需要 AS2 拆装器。</span><span class="sxs-lookup"><span data-stu-id="b532d-149">If you are not returning an MDN, the AS2 disassembler is not required.</span></span>  

13. <span data-ttu-id="b532d-150">创建强名称密钥文件，打开 AS2OverFile_Pipeline 项目的属性对话框并将密钥文件分配到项目。</span><span class="sxs-lookup"><span data-stu-id="b532d-150">Create a strong name key file, open the Properties dialog box for the AS2OverFile_Pipeline project, and assign the key file to the project.</span></span>  

14. <span data-ttu-id="b532d-151">生成和部署自定义管道。</span><span class="sxs-lookup"><span data-stu-id="b532d-151">Build and deploy the custom pipeline.</span></span>  

15. <span data-ttu-id="b532d-152">在中[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理控制台中，将自定义管道添加到管道节点中，通过单击管道节点，然后单击**刷新**。</span><span class="sxs-lookup"><span data-stu-id="b532d-152">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console, add the custom pipeline to the Pipelines node by clicking the Pipelines node, and then clicking **Refresh**.</span></span>  

#### <a name="to-implement-the-solution-for-this-sample"></a><span data-ttu-id="b532d-153">若要实现此示例的解决方案</span><span class="sxs-lookup"><span data-stu-id="b532d-153">To implement the solution for this sample</span></span>  

1. <span data-ttu-id="b532d-154">在 Windows 资源管理器中[!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\Samples\AS2\AS2 Over File 文件夹中，创建一个 In 输入的文件夹和一个 Out 输出文件夹。</span><span class="sxs-lookup"><span data-stu-id="b532d-154">In Windows Explorer, in the [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\Samples\AS2\AS2 Over File folder, create an In input folder and an Out output folder.</span></span>  

2. <span data-ttu-id="b532d-155">在[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理控制台中，创建一个单向接收端口名为 AS2OverFile_Receive。</span><span class="sxs-lookup"><span data-stu-id="b532d-155">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console, create a one-way receive port named AS2OverFile_Receive.</span></span> <span data-ttu-id="b532d-156">在接收端口中创建具有以下属性的接收位置：</span><span class="sxs-lookup"><span data-stu-id="b532d-156">In the receive port, create a receive location with the following properties:</span></span>  


   |     <span data-ttu-id="b532d-157">属性</span><span class="sxs-lookup"><span data-stu-id="b532d-157">Property</span></span>     |                                                 <span data-ttu-id="b532d-158">设置</span><span class="sxs-lookup"><span data-stu-id="b532d-158">Setting</span></span>                                                  |
   |------------------|----------------------------------------------------------------------------------------------------------|
   |       <span data-ttu-id="b532d-159">“属性”</span><span class="sxs-lookup"><span data-stu-id="b532d-159">Name</span></span>       |                                           <span data-ttu-id="b532d-160">AS2OverFile_Receive</span><span class="sxs-lookup"><span data-stu-id="b532d-160">AS2OverFile_Receive</span></span>                                            |
   |       <span data-ttu-id="b532d-161">类型</span><span class="sxs-lookup"><span data-stu-id="b532d-161">Type</span></span>       |                                                   <span data-ttu-id="b532d-162">FILE</span><span class="sxs-lookup"><span data-stu-id="b532d-162">FILE</span></span>                                                   |
   |  <span data-ttu-id="b532d-163">接收文件夹</span><span class="sxs-lookup"><span data-stu-id="b532d-163">Receive folder</span></span>  | [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]<span data-ttu-id="b532d-164">SDK\Samples\AS2\AS2 Over File/In</span><span class="sxs-lookup"><span data-stu-id="b532d-164">SDK\Samples\AS2\AS2 Over File/In</span></span> |
   |    <span data-ttu-id="b532d-165">文件掩码</span><span class="sxs-lookup"><span data-stu-id="b532d-165">File mask</span></span>     |                                                  <span data-ttu-id="b532d-166">\*.txt</span><span class="sxs-lookup"><span data-stu-id="b532d-166">\*.txt</span></span>                                                  |
   | <span data-ttu-id="b532d-167">接收管道</span><span class="sxs-lookup"><span data-stu-id="b532d-167">Receive pipeline</span></span> |                                               <span data-ttu-id="b532d-168">AS2OverFile</span><span class="sxs-lookup"><span data-stu-id="b532d-168">AS2OverFile</span></span>                                                |


3. <span data-ttu-id="b532d-169">在接收位置节点，右键单击 AS2OverFile_Receive 接收位置，然后单击**启用**。</span><span class="sxs-lookup"><span data-stu-id="b532d-169">In the Receive Locations node, right-click the AS2OverFile_Receive receive location, and then click **Enable**.</span></span>  

4. <span data-ttu-id="b532d-170">在发送端口节点中，创建具有以下属性的静态单向发送端口:</span><span class="sxs-lookup"><span data-stu-id="b532d-170">In the Send Ports node, create a Static On-way send port with the following properties:</span></span>  


   |    <span data-ttu-id="b532d-171">属性</span><span class="sxs-lookup"><span data-stu-id="b532d-171">Property</span></span>    |                                                  <span data-ttu-id="b532d-172">设置</span><span class="sxs-lookup"><span data-stu-id="b532d-172">Setting</span></span>                                                  |
   |----------------|-----------------------------------------------------------------------------------------------------------|
   |      <span data-ttu-id="b532d-173">“属性”</span><span class="sxs-lookup"><span data-stu-id="b532d-173">Name</span></span>      |                                             <span data-ttu-id="b532d-174">AS2OverFile_Send</span><span class="sxs-lookup"><span data-stu-id="b532d-174">AS2OverFile_Send</span></span>                                              |
   |      <span data-ttu-id="b532d-175">类型</span><span class="sxs-lookup"><span data-stu-id="b532d-175">Type</span></span>      |                                                   <span data-ttu-id="b532d-176">FILE</span><span class="sxs-lookup"><span data-stu-id="b532d-176">FILE</span></span>                                                    |
   | <span data-ttu-id="b532d-177">接收文件夹</span><span class="sxs-lookup"><span data-stu-id="b532d-177">Receive folder</span></span> | [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]<span data-ttu-id="b532d-178">SDK\Samples\AS2\AS2 Over File 输入/输出</span><span class="sxs-lookup"><span data-stu-id="b532d-178">SDK\Samples\AS2\AS2 Over File/Out</span></span> |
   |   <span data-ttu-id="b532d-179">文件掩码</span><span class="sxs-lookup"><span data-stu-id="b532d-179">File mask</span></span>    |                                              <span data-ttu-id="b532d-180">%MessageID%.xml</span><span class="sxs-lookup"><span data-stu-id="b532d-180">%MessageID%.xml</span></span>                                              |
   | <span data-ttu-id="b532d-181">发送管道</span><span class="sxs-lookup"><span data-stu-id="b532d-181">Send pipeline</span></span>  |                                                 <span data-ttu-id="b532d-182">Passthru</span><span class="sxs-lookup"><span data-stu-id="b532d-182">Passthru</span></span>                                                  |
   |     <span data-ttu-id="b532d-183">“筛选器”</span><span class="sxs-lookup"><span data-stu-id="b532d-183">Filter</span></span>     |                                <span data-ttu-id="b532d-184">BTS.REceivePortName == AS2OverFile_Receive</span><span class="sxs-lookup"><span data-stu-id="b532d-184">BTS.REceivePortName == AS2OverFile_Receive</span></span>                                 |


5. <span data-ttu-id="b532d-185">在发送端口节点中，右键单击 AS2OverFile_Send 发送端口，然后依次**启动**。</span><span class="sxs-lookup"><span data-stu-id="b532d-185">In the Send Ports node, right-click the AS2OverFile_Send send port, and then click **Start**.</span></span>  

6. <span data-ttu-id="b532d-186">在参与方节点中，创建名为"合作伙伴"参与方。</span><span class="sxs-lookup"><span data-stu-id="b532d-186">In the Parties node, create a party named "Partner".</span></span> <span data-ttu-id="b532d-187">到别名列表中，添加一个别名**名称**的**EDIINT-AS2 From 值**即**限定符**的**AS2-从**，和一个**值**的**合作伙伴**。</span><span class="sxs-lookup"><span data-stu-id="b532d-187">To the Aliases list, add an alias with a **name** of **EDIINT-AS2 From Value**, a **Qualifier** of **AS2-From**, and a **Value** of **Partner**.</span></span>  

   <span data-ttu-id="b532d-188">BizTalk Server 现在已准备好可使用本示例。</span><span class="sxs-lookup"><span data-stu-id="b532d-188">BizTalk Server is now ready to work with this sample.</span></span>  

## <a name="running-this-sample"></a><span data-ttu-id="b532d-189">运行本示例</span><span class="sxs-lookup"><span data-stu-id="b532d-189">Running This Sample</span></span>  
 <span data-ttu-id="b532d-190">使用以下过程运行 AS2 Over File 示例。</span><span class="sxs-lookup"><span data-stu-id="b532d-190">Use the following procedure to run the AS2 Over File sample.</span></span>  

#### <a name="to-run-this-sample"></a><span data-ttu-id="b532d-191">运行本示例的步骤</span><span class="sxs-lookup"><span data-stu-id="b532d-191">To run this sample</span></span>  

1. <span data-ttu-id="b532d-192">复制该 SampleMessage.txt 文件从[!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\Samples\AS2\AS2 Over File 文件夹复制到 \AS2 Over File\In 文件夹。</span><span class="sxs-lookup"><span data-stu-id="b532d-192">Copy the SampleMessage.txt file from the [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\Samples\AS2\AS2 Over File folder into the \AS2 Over File\In folder.</span></span>  

2. <span data-ttu-id="b532d-193">验证已将输出 XML 消息放入 \AS2 Over File\Out 输出文件夹。</span><span class="sxs-lookup"><span data-stu-id="b532d-193">Verify that an output XML message is dropped into the \AS2 Over File\Out output folder.</span></span>  

3. <span data-ttu-id="b532d-194">在文本编辑器中，打开输入的消息 SampleMessage.txt，打开输出消息\<GUID\>在文本编辑器中的.xml。</span><span class="sxs-lookup"><span data-stu-id="b532d-194">Open the input message SampleMessage.txt in a text editor, and open the output message \<GUID\>.xml in a text editor.</span></span> <span data-ttu-id="b532d-195">验证 SampleMessage.txt 输入的消息具有 HTTP （和 AS2） 标头以及输出消息不具有 HTTP 标头。</span><span class="sxs-lookup"><span data-stu-id="b532d-195">Verify that the SampleMessage.txt input message has HTTP (and AS2) headers and that the output message does not have HTTP headers.</span></span>  

## <a name="classes-or-methods-used-in-this-sample"></a><span data-ttu-id="b532d-196">类或方法在此示例中使用</span><span class="sxs-lookup"><span data-stu-id="b532d-196">Classes or Methods Used in This Sample</span></span>  
 <span data-ttu-id="b532d-197">None</span><span class="sxs-lookup"><span data-stu-id="b532d-197">None</span></span>  

## <a name="see-also"></a><span data-ttu-id="b532d-198">请参阅</span><span class="sxs-lookup"><span data-stu-id="b532d-198">See Also</span></span>  
 <span data-ttu-id="b532d-199">[EDI 和 AS2 （BizTalk Server 示例文件夹）](../core/edi-and-as2-biztalk-server-samples-folder.md) </span><span class="sxs-lookup"><span data-stu-id="b532d-199">[EDI and AS2 (BizTalk Server Samples Folder)](../core/edi-and-as2-biztalk-server-samples-folder.md) </span></span>  
 [<span data-ttu-id="b532d-200">通过 FILE 发送端口发送 AS2 消息</span><span class="sxs-lookup"><span data-stu-id="b532d-200">Sending an AS2 Message over a FILE Send Port</span></span>](../core/sending-an-as2-message-over-a-file-send-port.md)