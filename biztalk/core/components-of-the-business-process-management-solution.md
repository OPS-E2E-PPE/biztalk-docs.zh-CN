---
title: "组件的业务流程管理解决方案 |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- process management solution tutorial, back-end systems, process management solutions
- process management solution tutorial, client applications
- orchestrations, process management solutions
- adapters, process management solutions
- process management solution tutorial, adapters
- client applications, process management solutions
- process management solution tutorial, components
- process management solution tutorial, orchestrations
- pipelines, process management solutions
- process management solution tutorial, pipelines
- assemblies, process management solutions
- process management solution tutorial, assemblies
ms.assetid: e3ccebb9-b677-4c17-acd2-0f986f7bd3f0
caps.latest.revision: "22"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: b63234dbf4a8dc62a620bf2b384b832e4887b0d4
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
---
# <a name="components-of-the-business-process-management-solution"></a><span data-ttu-id="d7849-102">业务流程管理解决方案的组件</span><span class="sxs-lookup"><span data-stu-id="d7849-102">Components of the Business Process Management Solution</span></span>
<span data-ttu-id="d7849-103">本部分对业务流程管理解决方案的主要 BizTalk Server 组件进行了说明。</span><span class="sxs-lookup"><span data-stu-id="d7849-103">This section describes the major BizTalk Server components of the Business Process Management Solution.</span></span> <span data-ttu-id="d7849-104">有关源文件的信息，请参阅[业务流程管理解决方案的文件清单](../core/file-inventory-for-the-business-process-management-solution.md)。</span><span class="sxs-lookup"><span data-stu-id="d7849-104">For information about the source files, see [File Inventory for the Business Process Management Solution](../core/file-inventory-for-the-business-process-management-solution.md).</span></span>  
  
## <a name="orchestrations"></a><span data-ttu-id="d7849-105">业务流程</span><span class="sxs-lookup"><span data-stu-id="d7849-105">Orchestrations</span></span>  
 <span data-ttu-id="d7849-106">有两个主要业务流程： **OrderBroker**和**OrderManager**。</span><span class="sxs-lookup"><span data-stu-id="d7849-106">There are two main orchestrations: **OrderBroker** and **OrderManager**.</span></span> <span data-ttu-id="d7849-107">**OrderBroker** orchestration 接受客户请求通过 Web 服务或分批通过 FTP，并发送回通过 Microsoft 消息队列 (MSMQ) 队列的答复。</span><span class="sxs-lookup"><span data-stu-id="d7849-107">The **OrderBroker** orchestration accepts customer requests through a Web service or in batches through FTP, and sends replies back through a Microsoft Message Queuing (MSMQ) queue.</span></span> <span data-ttu-id="d7849-108">从请求转**OrderBroker**到**OrderManager**。</span><span class="sxs-lookup"><span data-stu-id="d7849-108">Requests go from the **OrderBroker** to the **OrderManager**.</span></span> <span data-ttu-id="d7849-109">这两个业务流程可通过 MessageBox 数据库直接绑定。</span><span class="sxs-lookup"><span data-stu-id="d7849-109">The two orchestrations are direct bound through the MessageBox database.</span></span>  
  
 <span data-ttu-id="d7849-110">**OrderManager**通过使用两个异步处理阶段运行请求**CableOrder1**和**CableOrder2**业务流程。</span><span class="sxs-lookup"><span data-stu-id="d7849-110">The **OrderManager** runs the requests through two asynchronous processing stages using the **CableOrder1** and **CableOrder2** orchestrations.</span></span> <span data-ttu-id="d7849-111">综上所述， **CableOrder1**和**CableOrder2**业务流程表示单个业务流程。</span><span class="sxs-lookup"><span data-stu-id="d7849-111">Taken together, the **CableOrder1** and **CableOrder2** orchestrations represent a single business process.</span></span> <span data-ttu-id="d7849-112">但是，该流程已拆分为两个业务流程，以便更改阶段时不必中断订单处理。</span><span class="sxs-lookup"><span data-stu-id="d7849-112">However, the process has been broken into two orchestrations so that stages can be changed without disrupting order processing.</span></span> <span data-ttu-id="d7849-113">有关设计的几个阶段的详细信息，请参阅"除以业务流程"中[业务流程管理解决方案中的某些设计原则](../core/some-design-principles-in-the-business-process-management-solution.md)。</span><span class="sxs-lookup"><span data-stu-id="d7849-113">For more information about the design of the stages, see "Dividing Business Processes" in [Some Design Principles in the Business Process Management Solution](../core/some-design-principles-in-the-business-process-management-solution.md).</span></span>  
  
 <span data-ttu-id="d7849-114">**CableOrder1**业务流程使用**验证**验证订单，并将请求代码转换操作，业务流程调用分析业务流程分析顺序，，然后调用**激活**，**取消**，或**更改**具体取决于所需的操作的业务流程。</span><span class="sxs-lookup"><span data-stu-id="d7849-114">The **CableOrder1** orchestration uses the **Validate** orchestration to validate the order and to translate request codes into actions, calls the Analyze orchestration to analyze the order, and then calls the **Activate**, **Cancel**, or **Change** orchestration depending on the required action.</span></span> <span data-ttu-id="d7849-115">**CableOrder2**业务流程完成订单处理通过调用**完成**业务流程。</span><span class="sxs-lookup"><span data-stu-id="d7849-115">The **CableOrder2** orchestration handles completion of the order by calling the **Complete** orchestration.</span></span> <span data-ttu-id="d7849-116">请注意， **CableOrder1**和**CableOrder2**使用**调用**形状来调用从属业务流程。</span><span class="sxs-lookup"><span data-stu-id="d7849-116">Notice that **CableOrder1** and **CableOrder2** use **Call** shapes to invoke the subordinate orchestrations.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="d7849-117">**取消**业务流程包括调用的补偿块**激活**业务流程。</span><span class="sxs-lookup"><span data-stu-id="d7849-117">The **Cancel** orchestration includes a compensation block that calls the **Activate** orchestration.</span></span> <span data-ttu-id="d7849-118">这可以确保订单正确还原为对取消请求的补偿的一部分。</span><span class="sxs-lookup"><span data-stu-id="d7849-118">This ensures that the order is properly restored as part of the compensation for the cancel request.</span></span>  
  
 <span data-ttu-id="d7849-119">**CableOrder1**和**CableOrder2**业务流程使用直接绑定。</span><span class="sxs-lookup"><span data-stu-id="d7849-119">The **CableOrder1** and **CableOrder2** orchestrations use direct binding.</span></span> <span data-ttu-id="d7849-120">有关这些业务流程的直接绑定的详细信息，请参阅[实现突出显示的业务流程管理解决方案](../core/implementation-highlights-of-the-business-process-management-solution.md)。</span><span class="sxs-lookup"><span data-stu-id="d7849-120">For more information about the direct binding of these orchestrations, see [Implementation Highlights of the Business Process Management Solution](../core/implementation-highlights-of-the-business-process-management-solution.md).</span></span>  
  
 <span data-ttu-id="d7849-121">许多业务流程，以便它们可以在过程中处理使用中断编写**中断**业务流程。</span><span class="sxs-lookup"><span data-stu-id="d7849-121">Many of the orchestrations are written so that they can be interrupted during processing using the **Interrupt** orchestration.</span></span> <span data-ttu-id="d7849-122">有关中断机制的详细信息，请参阅[过程管理器逻辑](../core/process-manager-logic.md)。</span><span class="sxs-lookup"><span data-stu-id="d7849-122">For more information about the interrupt mechanism, see [Process Manager Logic](../core/process-manager-logic.md).</span></span>  
  
## <a name="back-end-applications"></a><span data-ttu-id="d7849-123">后端应用程序</span><span class="sxs-lookup"><span data-stu-id="d7849-123">Back-end Applications</span></span>  
 <span data-ttu-id="d7849-124">业务流程管理解决方案可以使用对所有后端应用程序的模拟。</span><span class="sxs-lookup"><span data-stu-id="d7849-124">The Business Process Management solution uses simulations for all of the back-end applications.</span></span> <span data-ttu-id="d7849-125">**CableOrder1**， **CableOrder2**，而它们使用所有的业务流程使用特殊**OrderHandler**对象。</span><span class="sxs-lookup"><span data-stu-id="d7849-125">**CableOrder1**, **CableOrder2**, and the orchestrations they use all employ a special **OrderHandler** object.</span></span> <span data-ttu-id="d7849-126">**OrderHandler**使用.NET 远程处理与对模拟的订单管理系统进行通信。</span><span class="sxs-lookup"><span data-stu-id="d7849-126">The **OrderHandler** uses .NET remoting to communicate with a simulation of an order management system.</span></span> <span data-ttu-id="d7849-127">**CableProvisioningSystemClient**和**BTSScnBPMProvisioning** ( **CableProvisioningSystemServer**项目) 的程序集模拟的前端和后端分别管理系统，顺序。</span><span class="sxs-lookup"><span data-stu-id="d7849-127">The **CableProvisioningSystemClient** and **BTSScnBPMProvisioning** (the **CableProvisioningSystemServer** project) assemblies simulate the front and back ends of the order managing system, respectively.</span></span>  
  
 <span data-ttu-id="d7849-128">此解决方案使用 Windows 窗体应用程序， **BSTScnBPMFacilities** ( **FacilitiesSimulator**项目)，以模拟处理设施请求 MSMQ 服务器。</span><span class="sxs-lookup"><span data-stu-id="d7849-128">The solution uses a Windows forms application, **BSTScnBPMFacilities** (the **FacilitiesSimulator** project), to simulate the MSMQ server that handles the facilities requests.</span></span>  
  
 <span data-ttu-id="d7849-129">除了这些组件以外，业务流程还在 SQL Server 数据库中生成条目以维护订单及其处理的历史记录。</span><span class="sxs-lookup"><span data-stu-id="d7849-129">In addition to these components, the orchestrations also make entries in a SQL Server database to maintain a history of orders and their processing.</span></span>  
  
## <a name="pipelines"></a><span data-ttu-id="d7849-130">管道</span><span class="sxs-lookup"><span data-stu-id="d7849-130">Pipelines</span></span>  
 <span data-ttu-id="d7849-131">解决方案只使用通过 BizTalk 管理控制台或绑定文件配置的标准默认管道。</span><span class="sxs-lookup"><span data-stu-id="d7849-131">The solution uses only standard default pipelines configured through the BizTalk Administration console or binding files.</span></span> <span data-ttu-id="d7849-132">但是，管道可广泛使用基于实例的配置。</span><span class="sxs-lookup"><span data-stu-id="d7849-132">The pipelines do, however, make extensive use of per-instance configuration.</span></span> <span data-ttu-id="d7849-133">由 FTP 发送的订单的接收端口使用基于实例的配置来配置信封。</span><span class="sxs-lookup"><span data-stu-id="d7849-133">The receive port for orders sent by FTP uses per-instance configuration to configure the envelope.</span></span> <span data-ttu-id="d7849-134">有关每个实例配置的详细信息，请参阅[如何部署管道](../core/how-to-deploy-pipelines.md)。</span><span class="sxs-lookup"><span data-stu-id="d7849-134">For more information about per-instance configuration, see [How to Deploy Pipelines](../core/how-to-deploy-pipelines.md).</span></span>  
  
## <a name="custom-adapter"></a><span data-ttu-id="d7849-135">自定义适配器</span><span class="sxs-lookup"><span data-stu-id="d7849-135">Custom Adapter</span></span>  
 <span data-ttu-id="d7849-136">该解决方案使用的自定义适配器**OpsAdapter**，以处理在检测到某些错误**OrderManager**和**ErrorHandler**业务流程。</span><span class="sxs-lookup"><span data-stu-id="d7849-136">The solution uses a custom adapter, the **OpsAdapter**, to process some errors detected in the **OrderManager** and **ErrorHandler** orchestrations.</span></span> <span data-ttu-id="d7849-137">解决方案使用为其指定错误报告的端口上的适配器。</span><span class="sxs-lookup"><span data-stu-id="d7849-137">The solution uses the adapter on ports for which error reporting is specified.</span></span> <span data-ttu-id="d7849-138">该适配器将获取错误，并将它们发送到操作系统。</span><span class="sxs-lookup"><span data-stu-id="d7849-138">The adapter takes the errors and sends them on to the operations system.</span></span> <span data-ttu-id="d7849-139">有关错误报告的详细信息，请参阅[使用失败消息路由](../core/using-failed-message-routing.md)。</span><span class="sxs-lookup"><span data-stu-id="d7849-139">For more information about error reporting, see [Using Failed Message Routing](../core/using-failed-message-routing.md).</span></span>  
  
## <a name="client-application"></a><span data-ttu-id="d7849-140">客户端应用程序</span><span class="sxs-lookup"><span data-stu-id="d7849-140">Client Application</span></span>  
 <span data-ttu-id="d7849-141">此解决方案包括一个 C# 程序，由支持 ASP.NET 网页**CSRMain.aspx**，以模拟客户服务系统。</span><span class="sxs-lookup"><span data-stu-id="d7849-141">The solution includes an ASP.NET Web page backed by a C# program, **CSRMain.aspx**, to simulate the customer service system.</span></span>  
  
## <a name="other-assemblies"></a><span data-ttu-id="d7849-142">其他程序集</span><span class="sxs-lookup"><span data-stu-id="d7849-142">Other Assemblies</span></span>  
 <span data-ttu-id="d7849-143">此解决方案使用两个其他程序集，**架构**和**实用工具**。</span><span class="sxs-lookup"><span data-stu-id="d7849-143">The solution uses two additional assemblies, **Schemas** and **Utilities**.</span></span> <span data-ttu-id="d7849-144">**架构**程序集定义的解决方案使用用于如在不同的业务流程之间进行通信的消息**中断**消息。</span><span class="sxs-lookup"><span data-stu-id="d7849-144">The **Schemas** assembly defines the messages the solution uses for communicating among the different orchestrations such as the **Interrupt** message.</span></span> <span data-ttu-id="d7849-145">该解决方案还使用在中定义的多个.NET 邮件**SchemaClasses**程序集。</span><span class="sxs-lookup"><span data-stu-id="d7849-145">The solution also uses several .NET messages defined in the **SchemaClasses** assembly.</span></span>  
  
 <span data-ttu-id="d7849-146">**实用工具**程序集包括实用工具类和方法，以帮助处理消息，特定异常类型定义为解决方案，来配置值读取 SSO 密钥存储，并带有错误处理帮助。</span><span class="sxs-lookup"><span data-stu-id="d7849-146">The **Utilities** assembly includes utility classes and methods to help handle messages, to define an exception type specific to the solution, to read configuration values from the SSO secret store, and to help with error handling.</span></span> <span data-ttu-id="d7849-147">程序集还包括**Recaller**对象。</span><span class="sxs-lookup"><span data-stu-id="d7849-147">The assembly also includes the **Recaller** object.</span></span>  
  
 <span data-ttu-id="d7849-148">其他程序集包括映射和架构的程序集，如**OrderBrokerMaps**， **OrderBrokerSchemas**，**地图**， **MessagingSchemas**，和**SchemaClasses**。</span><span class="sxs-lookup"><span data-stu-id="d7849-148">Other assemblies include map and schema assemblies such as **OrderBrokerMaps**, **OrderBrokerSchemas**, **Maps**, **MessagingSchemas**, and **SchemaClasses**.</span></span>  
  
 <span data-ttu-id="d7849-149">**ServiceLevelTracking**程序集包含与 BAM 用于跟踪订单和处理常见项目。</span><span class="sxs-lookup"><span data-stu-id="d7849-149">The **ServiceLevelTracking** assembly contains the common artifacts used with BAM to track orders and processing.</span></span> <span data-ttu-id="d7849-150">使用阶段的顺序处理操作处于**CableOrderActions**程序集。</span><span class="sxs-lookup"><span data-stu-id="d7849-150">Order processing actions used by the stages are in the **CableOrderActions** assembly.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d7849-151">另请参阅</span><span class="sxs-lookup"><span data-stu-id="d7849-151">See Also</span></span>  
 <span data-ttu-id="d7849-152">[业务流程管理解决方案中的模式](../core/patterns-in-the-business-process-management-solution.md) </span><span class="sxs-lookup"><span data-stu-id="d7849-152">[Patterns in the Business Process Management Solution](../core/patterns-in-the-business-process-management-solution.md) </span></span>  
 <span data-ttu-id="d7849-153">[在业务流程管理解决方案中进行处理](../core/processing-in-the-business-process-management-solution.md) </span><span class="sxs-lookup"><span data-stu-id="d7849-153">[Processing in the Business Process Management Solution](../core/processing-in-the-business-process-management-solution.md) </span></span>  
 <span data-ttu-id="d7849-154">[实现突出显示的业务流程管理解决方案](../core/implementation-highlights-of-the-business-process-management-solution.md) </span><span class="sxs-lookup"><span data-stu-id="d7849-154">[Implementation Highlights of the Business Process Management Solution](../core/implementation-highlights-of-the-business-process-management-solution.md) </span></span>  
 <span data-ttu-id="d7849-155">[监视与 BAM 业务流程管理解决方案](../core/monitoring-the-business-process-management-solution-with-bam.md) </span><span class="sxs-lookup"><span data-stu-id="d7849-155">[Monitoring the Business Process Management Solution with BAM](../core/monitoring-the-business-process-management-solution-with-bam.md) </span></span>  
 <span data-ttu-id="d7849-156">[版本控制业务流程管理解决方案](../core/versioning-the-business-process-management-solution.md) </span><span class="sxs-lookup"><span data-stu-id="d7849-156">[Versioning the Business Process Management Solution](../core/versioning-the-business-process-management-solution.md) </span></span>  
 <span data-ttu-id="d7849-157">[业务流程管理解决方案参考](../core/business-process-management-solution-reference.md) </span><span class="sxs-lookup"><span data-stu-id="d7849-157">[Business Process Management Solution Reference](../core/business-process-management-solution-reference.md) </span></span>  
 <span data-ttu-id="d7849-158">[开发一个业务流程管理解决方案](../core/developing-a-business-process-management-solution.md) </span><span class="sxs-lookup"><span data-stu-id="d7849-158">[Developing a Business Process Management Solution](../core/developing-a-business-process-management-solution.md) </span></span>  
 [<span data-ttu-id="d7849-159">业务流程管理解决方案的文件清单</span><span class="sxs-lookup"><span data-stu-id="d7849-159">File Inventory for the Business Process Management Solution</span></span>](../core/file-inventory-for-the-business-process-management-solution.md)