---
title: 创建新的主机 |Microsoft 文档
descriptions: Use BizTalk Administration to create a new host in BizTalk Server
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 811e6e57-5c37-471a-aff4-5b2b68c367b1
caps.latest.revision: 27
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 700f0bb43a4f31b76819e7aca6fe5895cc2b6ab6
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
ms.locfileid: "22250197"
---
# <a name="create-a-new-host"></a><span data-ttu-id="9b7bd-102">创建新的主机</span><span class="sxs-lookup"><span data-stu-id="9b7bd-102">Create a New Host</span></span>
<span data-ttu-id="9b7bd-103">BizTalk 主机是诸如适配器处理程序、接收位置（包括管道）和业务流程等项的逻辑容器。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-103">A BizTalk Host is a logical container for items such as adapter handlers, receive locations (including pipelines), and orchestrations.</span></span> <span data-ttu-id="9b7bd-104">建议使用单独的主机来处理、接收和发送消息，并且对可信任项和非可信任项使用不同的主机，以便实施安全措施并改进主机的可管理性。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-104">We recommend that you use separate hosts for processing, receiving, and sending messages, and that you use separate hosts for trusted and non-trusted items to facilitate implementing security measures and to improve manageability of the hosts.</span></span> <span data-ttu-id="9b7bd-105">对于每个 BizTalk Server，只能安装一个主机实例。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-105">You can install only one instance of a host per BizTalk server.</span></span> <span data-ttu-id="9b7bd-106">有关主机的详细信息，请参阅[主机](../core/hosts.md)。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-106">For more information about hosts, see [Hosts](../core/hosts.md).</span></span>  
  
 <span data-ttu-id="9b7bd-107">有关使用 Windows Management Instrumentation (WMI) 来创建新的主机的信息，请参阅**MSBTS_Host (WMI)** [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)]。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-107">For information about using Windows Management Instrumentation (WMI) to create a new host, see **MSBTS_Host (WMI)** [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].</span></span>
  
## <a name="prerequisites"></a><span data-ttu-id="9b7bd-108">先决条件</span><span class="sxs-lookup"><span data-stu-id="9b7bd-108">Prerequisites</span></span>  
 <span data-ttu-id="9b7bd-109">必须具有以下用户权限才能创建主机、修改主机属性和删除主机：</span><span class="sxs-lookup"><span data-stu-id="9b7bd-109">You must have the following user rights to create hosts, modify host properties, and delete hosts:</span></span>  
  
-   <span data-ttu-id="9b7bd-110">必须是 BizTalk Server Administrators 组的成员。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-110">You must be a member of the BizTalk Server Administrators group.</span></span>  
  
-   <span data-ttu-id="9b7bd-111">必须在 SQL Server 中具有以下权限：</span><span class="sxs-lookup"><span data-stu-id="9b7bd-111">You must have the following rights in SQL Server:</span></span>  
  
    -   <span data-ttu-id="9b7bd-112">必须是 SQL Server 管理员，或者是 BizTalk 跟踪 (BizTalk DTADb) 数据库、MessageBox (BizTalkMsgBoxDb) 数据库和 BAM 主导入 (BAMPrimaryImport) 数据库中的 db_owner 或 db_securityadmin SQL Server 数据库角色的成员。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-112">You must be either a SQL Server administrator, or a member of the db_owner or db_securityadmin SQL Server database roles in the BizTalk Tracking (BizTalk DTADb) database, MessageBox (BizTalkMsgBoxDb) databases, and the BAM Primary Import (BAMPrimaryImport) database.</span></span>  
  
    -   <span data-ttu-id="9b7bd-113">必须是 MessageBox 数据库所在的所有计算机上的 sysadmin SQL Server 角色的成员，或者是所有 MessageBox 数据库的 db_owner 或 db_ddladmin SQL Server 角色的成员。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-113">You must be a member of the sysadmin SQL Server role on all the computers where there are MessageBox databases, or a member of the db_owner or db_ddladmin SQL Server role for all the MessageBox databases.</span></span>  
  
## <a name="steps"></a><span data-ttu-id="9b7bd-114">步骤</span><span class="sxs-lookup"><span data-stu-id="9b7bd-114">Steps</span></span>
  
1.  <span data-ttu-id="9b7bd-115">单击**启动**，单击**所有程序**，单击[!INCLUDE[btsBizTalkServerStartMenuItemui](../includes/btsbiztalkserverstartmenuitemui-md.md)]，然后单击**BizTalk Server 管理**。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-115">Click **Start**, click **All Programs**, click [!INCLUDE[btsBizTalkServerStartMenuItemui](../includes/btsbiztalkserverstartmenuitemui-md.md)], and then click **BizTalk Server Administration**.</span></span>  
  
2.  <span data-ttu-id="9b7bd-116">在控制台树中，展开[!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)]，展开 BizTalk 组，单击**平台设置**，然后单击**主机**。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-116">In the console tree, expand [!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)], expand the BizTalk group, click **Platform Settings**, and then click **Hosts**.</span></span>  
  
3.  <span data-ttu-id="9b7bd-117">在细节窗格中，右键单击**主机**，单击**新建**，然后单击**主机**。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-117">In the details pane, right click **Hosts**, click **New**, and then click **Host**.</span></span>  
  
4.  <span data-ttu-id="9b7bd-118">在**主机属性**对话框中，在**常规**选项卡上，执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="9b7bd-118">In the **Host Properties** dialog box, on the **General** tab, do the following:</span></span>  
  
    |<span data-ttu-id="9b7bd-119">使用此选项</span><span class="sxs-lookup"><span data-stu-id="9b7bd-119">Use this</span></span>|<span data-ttu-id="9b7bd-120">执行的操作</span><span class="sxs-lookup"><span data-stu-id="9b7bd-120">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="9b7bd-121">**名称**</span><span class="sxs-lookup"><span data-stu-id="9b7bd-121">**Name**</span></span>|<span data-ttu-id="9b7bd-122">显示主机的名称。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-122">Displays the name of the host.</span></span> <span data-ttu-id="9b7bd-123">创建主机时命名该主机。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-123">You name the host when you create it.</span></span> <span data-ttu-id="9b7bd-124">主机名称的长度不得超过 80 个字符。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-124">The host name cannot exceed 80 characters in length.</span></span>|  
    |<span data-ttu-id="9b7bd-125">**类型**</span><span class="sxs-lookup"><span data-stu-id="9b7bd-125">**Type**</span></span>|<span data-ttu-id="9b7bd-126">显示主机类型。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-126">Displays the host type.</span></span> <span data-ttu-id="9b7bd-127">进程内主机可以作为业务流程、某些发送处理程序和接收处理程序的宿主。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-127">An In-process Host can host orchestrations, certain send handlers and receive handlers.</span></span> <span data-ttu-id="9b7bd-128">独立主机是 BizTalk Server 之外的处理边界，并且是某些发送和接收处理程序必需的。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-128">An Isolated Host is a process boundary outside of BizTalk Server and is required by certain send and receive handlers.</span></span> <span data-ttu-id="9b7bd-129">可以向进程内主机登记业务流程，并且进程内主机可以作为发送或接收处理程序的宿主。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-129">You can enlist an orchestration to an In-process host, and an In-process host can host a send or receive handler.</span></span>|  
  
     <span data-ttu-id="9b7bd-130">**选项**</span><span class="sxs-lookup"><span data-stu-id="9b7bd-130">**Options**</span></span>  
  
    |<span data-ttu-id="9b7bd-131">使用此选项</span><span class="sxs-lookup"><span data-stu-id="9b7bd-131">Use this</span></span>|<span data-ttu-id="9b7bd-132">执行的操作</span><span class="sxs-lookup"><span data-stu-id="9b7bd-132">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="9b7bd-133">**允许主机跟踪**</span><span class="sxs-lookup"><span data-stu-id="9b7bd-133">**Allow Host Tracking**</span></span>|<span data-ttu-id="9b7bd-134">选定此复选框，以指示主机将处理运行状况监视和业务数据。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-134">Select this check box to indicate that the host will process health monitoring and business data.</span></span> <span data-ttu-id="9b7bd-135">如果选中此复选框，则当前主机将对 MessageBox 数据库中的跟踪表以及 BizTalk 跟踪数据库具有读/写权限。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-135">If you select this check box, the current host will have read/write privileges to the tracking tables in the MessageBox database, as well as to the BizTalk Tracking database.</span></span> <span data-ttu-id="9b7bd-136">因此，运行在此主机中的任何对象也具有对这些数据库的读/写权限。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-136">Accordingly, any objects running in this host will also have read/write access to these databases.</span></span> <span data-ttu-id="9b7bd-137">如果清除该复选框，则主机将只对 MessageBox 数据库中的跟踪表具有写权限，并且无权访问 BizTalk 跟踪数据库。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-137">If you clear the check box, the host will have only write access to the tracking tables in the MessageBox database and will not have access to the BizTalk Tracking database.</span></span>|  
    |<span data-ttu-id="9b7bd-138">**受信任的身份验证**</span><span class="sxs-lookup"><span data-stu-id="9b7bd-138">**Authentication Trusted**</span></span>|<span data-ttu-id="9b7bd-139">选中此复选框可指定 BizTalk Server 应信任此主机。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-139">Select this check box to specify that BizTalk Server should trust this host.</span></span>|  
    |<span data-ttu-id="9b7bd-140">**仅限 32 位**</span><span class="sxs-lookup"><span data-stu-id="9b7bd-140">**32-bit only**</span></span>|<span data-ttu-id="9b7bd-141">如果希望使主机实例进程在 32 位和 64 位服务器上均创建为 32 位，请选中此复选框。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-141">Select this check box if you want to allow the host instance process to be created as 32-bit on both 32-bit and 64-bit servers.</span></span> <span data-ttu-id="9b7bd-142">如果清除此复选框，主机实例进程将在 32 位服务器上创建为 32 位，在 64 位服务器上创建为 64 位。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-142">If this check box is cleared, the host instance process will be created as 32-bit on 32-bit servers and as 64-bit on 64-bit servers.</span></span>|  
    |<span data-ttu-id="9b7bd-143">**将此组中的默认主机**</span><span class="sxs-lookup"><span data-stu-id="9b7bd-143">**Make this the default host in the group**</span></span>|<span data-ttu-id="9b7bd-144">选中此复选框可将此主机标识为默认主机。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-144">Select this check box to identify this host as the default host.</span></span> <span data-ttu-id="9b7bd-145">除非明确选择其他主机，否则创建的端口和业务流程将自动使用默认主机作为业务流程的宿主。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-145">Created ports and orchestrations automatically use the default host to host the orchestration, unless you explicitly select a different host.</span></span> <span data-ttu-id="9b7bd-146">如果此复选框被选中并且不可用，则此主机是默认主机。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-146">If this check box is selected and unavailable, this host is the default.</span></span>|  
    |<span data-ttu-id="9b7bd-147">**Windows 组**</span><span class="sxs-lookup"><span data-stu-id="9b7bd-147">**Windows group**</span></span>|<span data-ttu-id="9b7bd-148">键入主机的本地组或域组。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-148">Type the local or domain group for the host.</span></span> <span data-ttu-id="9b7bd-149">Windows 组的成员将具有运行此主机实例的权限。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-149">Members of the Windows group will have permissions to run instances of this host.</span></span>|  
  
5.  <span data-ttu-id="9b7bd-150">上**证书**选项卡上，执行以下操作，，然后单击**确定**:</span><span class="sxs-lookup"><span data-stu-id="9b7bd-150">On the **Certificates** tab, do the following, and then click **OK**:</span></span>  
  
    |<span data-ttu-id="9b7bd-151">使用此选项</span><span class="sxs-lookup"><span data-stu-id="9b7bd-151">Use this</span></span>|<span data-ttu-id="9b7bd-152">执行的操作</span><span class="sxs-lookup"><span data-stu-id="9b7bd-152">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="9b7bd-153">**公用名**</span><span class="sxs-lookup"><span data-stu-id="9b7bd-153">**Common Name**</span></span>|<span data-ttu-id="9b7bd-154">显示所显示解密证书的说明。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-154">Displays a description of the displayed decryption certificate.</span></span>|  
    |<span data-ttu-id="9b7bd-155">**指纹**</span><span class="sxs-lookup"><span data-stu-id="9b7bd-155">**Thumbprint**</span></span>|<span data-ttu-id="9b7bd-156">显示用于对此主机的入站消息进行解密的私钥证书的指纹。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-156">Displays the thumbprint of the private key certificate used to decrypt inbound messages for this host.</span></span> <span data-ttu-id="9b7bd-157">证书指纹的格式 HHHH HHHH HHHH HHHH HHHH HHHH HHHH HHHH HHHH HHHH，其中 H 是十六进制数字 （介于 0 到 9） 或从 A 到 F 字母。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-157">The certificate thumbprint has the format HHHH HHHH HHHH HHHH HHHH HHHH HHHH HHHH HHHH HHHH, where H is a hexadecimal digit (a number from 0 through 9 or a letter from A through F).</span></span>|  
    |<span data-ttu-id="9b7bd-158">**删除证书**</span><span class="sxs-lookup"><span data-stu-id="9b7bd-158">**Remove certificate**</span></span>|<span data-ttu-id="9b7bd-159">单击此项可从主机删除所显示解密证书。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-159">Click to remove the displayed decryption certificate from the host.</span></span>|  
    |<span data-ttu-id="9b7bd-160">**浏览**</span><span class="sxs-lookup"><span data-stu-id="9b7bd-160">**Browse**</span></span>|<span data-ttu-id="9b7bd-161">单击此项可显示**Windows 安全性**对话框中，其中从当前用户或你想要使用与主机的个人存储区中选择解密证书。</span><span class="sxs-lookup"><span data-stu-id="9b7bd-161">Click to display the **Windows Security** dialog box, where you select the decryption certificate from the current user or personal store that you want to use with the host.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="9b7bd-162">另请参阅</span><span class="sxs-lookup"><span data-stu-id="9b7bd-162">See Also</span></span>  
 <span data-ttu-id="9b7bd-163">[管理 BizTalk 主机和主机实例](../core/managing-biztalk-hosts-and-host-instances.md) </span><span class="sxs-lookup"><span data-stu-id="9b7bd-163">[Managing BizTalk Hosts and Host Instances](../core/managing-biztalk-hosts-and-host-instances.md) </span></span>  
 <span data-ttu-id="9b7bd-164">[修改主机属性](../core/how-to-modify-host-properties.md) </span><span class="sxs-lookup"><span data-stu-id="9b7bd-164">[Modify Host Properties](../core/how-to-modify-host-properties.md) </span></span>  
 [<span data-ttu-id="9b7bd-165">删除主机</span><span class="sxs-lookup"><span data-stu-id="9b7bd-165">Delete a Host</span></span>](../core/how-to-delete-a-host.md)