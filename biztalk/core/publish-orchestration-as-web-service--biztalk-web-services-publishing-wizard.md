---
title: 如何使用 BizTalk Web Services 发布向导发布作为 Web 服务业务流程 |Microsoft 文档
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- Web services, publishing
- BizTalk Web Services Publishing Wizard, publishing
- BizTalk Web Services Publishing Wizard
- Web services, orchestrations
- BizTalk Web Services Publishing Wizard, orchestrations
- BizTalk Web Services Publishing Wizard, about BizTalk Web Services Publishing Wizard
- orchestrations, publishing
ms.assetid: d990f8e4-88ce-4718-8a94-63796b8d92dc
caps.latest.revision: 20
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: d8c86721091b9a0c9e8436b42a7489e228dbb7e0
ms.sourcegitcommit: 8418b1a8f38b7f56979cd6e203f0b591e2f40fe1
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/28/2018
ms.locfileid: "25975339"
---
# <a name="how-to-use-the-biztalk-web-services-publishing-wizard-to-publish-an-orchestration-as-a-web-service"></a><span data-ttu-id="1d112-102">如何使用发布向导的 BizTalk Web 服务发布作为 Web 服务业务流程</span><span class="sxs-lookup"><span data-stu-id="1d112-102">How to Use the BizTalk Web Services Publishing Wizard to Publish an Orchestration as a Web Service</span></span>
<span data-ttu-id="1d112-103">可以使用 BizTalk Web Services 发布向导将业务流程发布为 Web Services。</span><span class="sxs-lookup"><span data-stu-id="1d112-103">You use the BizTalk Web Services Publishing Wizard to publish an orchestration as a Web service.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="1d112-104">请注意，在运行 BizTalk Web Services 发布向导之前，必须构建 BizTalk 项目。</span><span class="sxs-lookup"><span data-stu-id="1d112-104">You must build your BizTalk projects prior to running the BizTalk Web Services Publishing Wizard.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="1d112-105">可以使用命令行工具 BTSWebSvcPub.exe 将业务流程发布为 Web Services。</span><span class="sxs-lookup"><span data-stu-id="1d112-105">You can use a command line tool, BTSWebSvcPub.exe, to publish an orchestration as Web service.</span></span> <span data-ttu-id="1d112-106">有关详细信息，请参阅[BTSWebSvcPub 命令行参考](../core/btswebsvcpub-command-line-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="1d112-106">For more information, see [BTSWebSvcPub Command-Line Reference](../core/btswebsvcpub-command-line-reference.md).</span></span>  
  
### <a name="to-publish-an-orchestration-as-a-web-service"></a><span data-ttu-id="1d112-107">将业务流程发布为 Web Services</span><span class="sxs-lookup"><span data-stu-id="1d112-107">To publish an orchestration as a Web service</span></span>  
  
1.  <span data-ttu-id="1d112-108">单击 **启动**, ，指向 **所有程序**, ，指向 **Microsoft BizTalk Server**, ，然后单击 **BizTalk Web 服务发布向导**。</span><span class="sxs-lookup"><span data-stu-id="1d112-108">Click **Start**, point to **All Programs**, point to **Microsoft BizTalk Server**, and then click **BizTalk Web Services Publishing Wizard**.</span></span>  
  
2.  <span data-ttu-id="1d112-109">上 **欢迎 BizTalk Web 服务发布向导** 页上，单击 **下一步**。</span><span class="sxs-lookup"><span data-stu-id="1d112-109">On the **Welcome to the BizTalk Web Services Publishing Wizard** page, click **Next**.</span></span>  
  
3.  <span data-ttu-id="1d112-110">上 **创建 Web 服务** 页上，选择 **作为 web 服务的发布 BizTalk 业务流程**, ，然后单击 **下一步**。</span><span class="sxs-lookup"><span data-stu-id="1d112-110">On the **Create Web Service** page, select **Publish BizTalk orchestrations as web services**, and then click **Next**.</span></span>  
  
4.  <span data-ttu-id="1d112-111">上 **BizTalk 程序集** BizTalk 程序集文件中的页 (\*.dll) 文本框中，键入 BizTalk 程序集文件的名称，或单击 **浏览** 以浏览到包含业务流程的程序集以发布，然后单击 **下一步**。</span><span class="sxs-lookup"><span data-stu-id="1d112-111">On the **BizTalk Assembly** page, in the BizTalk assembly file (\*.dll) text box, type the name of the BizTalk assembly file or click **Browse** to browse to the assembly containing the orchestration(s) to publish, and then click **Next**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="1d112-112">选择 BizTalk 程序集文件之前，将所有依存程序集复制到 BizTalk 程序集所在的文件夹中，或将依存程序集安装到全局程序集缓存 (GAC) 中。</span><span class="sxs-lookup"><span data-stu-id="1d112-112">Before choosing a BizTalk assembly file, copy all of the dependent assemblies into the same folder with the BizTalk assembly or install the dependent assemblies to the Global Assembly Cache (GAC).</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="1d112-113">如果 BizTalk 程序集文件安装到 GAC 中，请确保在 GAC 的程序集，已更新与程序集将在中选择 **BizTalk 程序集** 对话框。</span><span class="sxs-lookup"><span data-stu-id="1d112-113">If you installed the BizTalk assembly file into the GAC, make sure that the assembly in the GAC has been updated with the assembly that you will select in the **BizTalk Assembly** dialog box.</span></span> <span data-ttu-id="1d112-114">如果 GAC 具有相同的完全限定名，则 BizTalk Web Services 发布向导将使用 GAC 中的程序集文件而不是你选择的程序集文件。</span><span class="sxs-lookup"><span data-stu-id="1d112-114">If the GAC has the same fully qualified name, the BizTalk Web Services Publishing Wizard uses the assembly file in the GAC instead of the one you selected.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="1d112-115">如果你在 Visual Studio 中打开的 BizTalk Web Services 发布向导包含业务流程，BizTalk 程序集文件将使用包含该业务流程的程序集进行填充。</span><span class="sxs-lookup"><span data-stu-id="1d112-115">If you open the BizTalk Web Services Publishing Wizard in the Visual Studio containing an orchestration, the BizTalk assembly file populates with the assembly containing the orchestration.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="1d112-116">路径长度超过 260 个字符时，可能会收到错误消息，指示路径太长。</span><span class="sxs-lookup"><span data-stu-id="1d112-116">Paths over 260 characters may get an error message that the path is too long.</span></span>  
  
5.  <span data-ttu-id="1d112-117">上 **业务流程和端口** 页上，单击加号展开每个程序集和业务流程的树节点。</span><span class="sxs-lookup"><span data-stu-id="1d112-117">On the **Orchestrations and Ports** page, expand the tree nodes for each assembly and orchestration by clicking the plus sign.</span></span> <span data-ttu-id="1d112-118">选中相应树节点的复选框以选择要发布的业务流程和端口。</span><span class="sxs-lookup"><span data-stu-id="1d112-118">Select orchestrations and ports to publish by checking the corresponding tree node check boxes.</span></span> <span data-ttu-id="1d112-119">如果你想要创建一个 Web 服务 (.asmx) 的所有所选的接收端口而不是为每一个 Web 服务接收端口，请选择 **合并到单个 web 服务的所有所选的端口** 选项，并依次 **下一步**。</span><span class="sxs-lookup"><span data-stu-id="1d112-119">If you want to create one Web service (.asmx) for all of the selected receive ports instead of one Web service for each receive port, select the **Merge all selected ports into a single web service** option, and then click **Next**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="1d112-120">将所有选定端口合并到一个 Web Services 后，所有选定端口都具有相同的端口类型，并且端口中的操作名称都是唯一的。</span><span class="sxs-lookup"><span data-stu-id="1d112-120">When you merge all selected ports into a single web service, the all selected ports have the same port type, and the operations names in the ports are unique.</span></span>  
  
6.  <span data-ttu-id="1d112-121">上 **Web 服务属性** 页上，在 **的 web 服务的目标命名空间** 框中，键入 Web 服务的目标命名空间，选择相应的框以指定向导应如何处理 SOAP 标头和 Web 服务的 SharePoint 门户 Server 2007 单一登录 (SSO) 支持。</span><span class="sxs-lookup"><span data-stu-id="1d112-121">On the **Web Service Properties** page, in the **Target namespace of the web service** box, type a target namespace for the Web service, select the appropriate boxes to specify how the wizard should handle SOAP headers and SharePoint Portal Server 2007 Single Sign-On (SSO) support for the Web service.</span></span> <span data-ttu-id="1d112-122">如果你想要进一步自定义的 Web 服务实现，请单击 **高级** 按钮。</span><span class="sxs-lookup"><span data-stu-id="1d112-122">If you want to further customize the Web service implementation, click **Advanced** button.</span></span> <span data-ttu-id="1d112-123">这将显示更多可用选项：</span><span class="sxs-lookup"><span data-stu-id="1d112-123">It will show more available options:</span></span>  
  
    |<span data-ttu-id="1d112-124">选项</span><span class="sxs-lookup"><span data-stu-id="1d112-124">Option</span></span>|<span data-ttu-id="1d112-125">值</span><span class="sxs-lookup"><span data-stu-id="1d112-125">Value</span></span>|<span data-ttu-id="1d112-126">Description</span><span class="sxs-lookup"><span data-stu-id="1d112-126">Description</span></span>|  
    |------------|-----------|-----------------|  
    |<span data-ttu-id="1d112-127">SOAP 参数样式</span><span class="sxs-lookup"><span data-stu-id="1d112-127">SOAP Parameter Style</span></span>|<span data-ttu-id="1d112-128">Default</span><span class="sxs-lookup"><span data-stu-id="1d112-128">Default</span></span>|<span data-ttu-id="1d112-129">该选项指定在 SOAP 消息中如何设置参数格式。</span><span class="sxs-lookup"><span data-stu-id="1d112-129">This option specifies how parameters are formatted in a SOAP message.</span></span> <span data-ttu-id="1d112-130">有关详细信息，请参阅在 SoapParameterStyle 枚举[ http://go.microsoft.com/fwlink/?LinkId=62259 ](http://go.microsoft.com/fwlink/?LinkId=62259)。</span><span class="sxs-lookup"><span data-stu-id="1d112-130">For more information, see SoapParameterStyle Enumeration at [http://go.microsoft.com/fwlink/?LinkId=62259](http://go.microsoft.com/fwlink/?LinkId=62259).</span></span>|  
    |<span data-ttu-id="1d112-131">SOAP 参数样式</span><span class="sxs-lookup"><span data-stu-id="1d112-131">SOAP Parameter Style</span></span>|<span data-ttu-id="1d112-132">Bare</span><span class="sxs-lookup"><span data-stu-id="1d112-132">Bare</span></span>|<span data-ttu-id="1d112-133">该选项指定在 SOAP 消息中如何设置参数格式。</span><span class="sxs-lookup"><span data-stu-id="1d112-133">This option specifies how parameters are formatted in a SOAP message.</span></span> <span data-ttu-id="1d112-134">有关详细信息，请参阅在 SoapParameterStyle 枚举[ http://go.microsoft.com/fwlink/?LinkId=62259 ](http://go.microsoft.com/fwlink/?LinkId=62259)。</span><span class="sxs-lookup"><span data-stu-id="1d112-134">For more information, see SoapParameterStyle Enumeration at [http://go.microsoft.com/fwlink/?LinkId=62259](http://go.microsoft.com/fwlink/?LinkId=62259).</span></span>|  
    |<span data-ttu-id="1d112-135">SOAP 参数样式</span><span class="sxs-lookup"><span data-stu-id="1d112-135">SOAP Parameter Style</span></span>|<span data-ttu-id="1d112-136">Wrapped</span><span class="sxs-lookup"><span data-stu-id="1d112-136">Wrapped</span></span>|<span data-ttu-id="1d112-137">该选项指定在 SOAP 消息中如何设置参数格式。</span><span class="sxs-lookup"><span data-stu-id="1d112-137">This option specifies how parameters are formatted in a SOAP message.</span></span> <span data-ttu-id="1d112-138">有关详细信息，请参阅在 SoapParameterStyle 枚举[ http://go.microsoft.com/fwlink/?LinkId=62259 ](http://go.microsoft.com/fwlink/?LinkId=62259)。</span><span class="sxs-lookup"><span data-stu-id="1d112-138">For more information, see SoapParameterStyle Enumeration at [http://go.microsoft.com/fwlink/?LinkId=62259](http://go.microsoft.com/fwlink/?LinkId=62259).</span></span>|  
    |<span data-ttu-id="1d112-139">一致性声明</span><span class="sxs-lookup"><span data-stu-id="1d112-139">Conformance Claims</span></span>|<span data-ttu-id="1d112-140">无</span><span class="sxs-lookup"><span data-stu-id="1d112-140">None</span></span>|<span data-ttu-id="1d112-141">该选项指定绑定声明所符合的 Web Services 互操作性 (WSI) 规范。</span><span class="sxs-lookup"><span data-stu-id="1d112-141">This option specifies the Web Services Interoperability (WSI) specification to which the binding claims to conform.</span></span> <span data-ttu-id="1d112-142">有关详细信息，请参阅在 WebServiceBindingAttribute.ConformsTo 属性[ http://go.microsoft.com/fwlink/?LinkId=193064 ](http://go.microsoft.com/fwlink/?LinkId=193064)。</span><span class="sxs-lookup"><span data-stu-id="1d112-142">For more information, see WebServiceBindingAttribute.ConformsTo Property at [http://go.microsoft.com/fwlink/?LinkId=193064](http://go.microsoft.com/fwlink/?LinkId=193064).</span></span>|  
    |<span data-ttu-id="1d112-143">一致性声明</span><span class="sxs-lookup"><span data-stu-id="1d112-143">Conformance Claims</span></span>|<span data-ttu-id="1d112-144">WS-I 基本配置文件 1.1</span><span class="sxs-lookup"><span data-stu-id="1d112-144">WS-I Basic Profile 1.1</span></span>|<span data-ttu-id="1d112-145">该选项指定绑定声明所符合的 Web Services 互操作性 (WSI) 规范。</span><span class="sxs-lookup"><span data-stu-id="1d112-145">This option specifies the Web Services Interoperability (WSI) specification to which the binding claims to conform.</span></span> <span data-ttu-id="1d112-146">有关详细信息，请参阅在 WebServiceBindingAttribute.ConformsTo 属性[ http://go.microsoft.com/fwlink/?LinkId=193064 ](http://go.microsoft.com/fwlink/?LinkId=193064)。</span><span class="sxs-lookup"><span data-stu-id="1d112-146">For more information, see WebServiceBindingAttribute.ConformsTo Property at [http://go.microsoft.com/fwlink/?LinkId=193064](http://go.microsoft.com/fwlink/?LinkId=193064).</span></span>|  
    |<span data-ttu-id="1d112-147">强制请求响应</span><span class="sxs-lookup"><span data-stu-id="1d112-147">Force Request Response</span></span>|<span data-ttu-id="1d112-148">[默认值]</span><span class="sxs-lookup"><span data-stu-id="1d112-148">[Default]</span></span>|<span data-ttu-id="1d112-149">该选项指定单向 BizTalk 操作是否应作为请求-响应 Web 方法公开。</span><span class="sxs-lookup"><span data-stu-id="1d112-149">This option specifies whether one-way BizTalk operations should be exposed as request-response web methods.</span></span> <span data-ttu-id="1d112-150">默认值不强制单向标志。</span><span class="sxs-lookup"><span data-stu-id="1d112-150">Default is not force the on-way flag.</span></span>|  
    |<span data-ttu-id="1d112-151">强制请求响应</span><span class="sxs-lookup"><span data-stu-id="1d112-151">Force Request Response</span></span>|<span data-ttu-id="1d112-152">否</span><span class="sxs-lookup"><span data-stu-id="1d112-152">No</span></span>|<span data-ttu-id="1d112-153">该选项指定单向 BizTalk 操作是否应作为请求-响应 Web 方法公开。</span><span class="sxs-lookup"><span data-stu-id="1d112-153">This option specifies whether one-way BizTalk operations should be exposed as request-response web methods.</span></span> <span data-ttu-id="1d112-154">默认值不强制单向标志。</span><span class="sxs-lookup"><span data-stu-id="1d112-154">Default is not force the on-way flag.</span></span>|  
    |<span data-ttu-id="1d112-155">强制请求响应</span><span class="sxs-lookup"><span data-stu-id="1d112-155">Force Request Response</span></span>|<span data-ttu-id="1d112-156">是</span><span class="sxs-lookup"><span data-stu-id="1d112-156">Yes</span></span>|<span data-ttu-id="1d112-157">该选项指定单向 BizTalk 操作是否应作为请求-响应 Web 方法公开。</span><span class="sxs-lookup"><span data-stu-id="1d112-157">This option specifies whether one-way BizTalk operations should be exposed as request-response web methods.</span></span> <span data-ttu-id="1d112-158">默认值不强制单向标志。</span><span class="sxs-lookup"><span data-stu-id="1d112-158">Default is not force the on-way flag.</span></span>|  
  
7.  <span data-ttu-id="1d112-159">上 **Web 服务属性** 页上，单击 **下一步**。</span><span class="sxs-lookup"><span data-stu-id="1d112-159">On the **Web Service Properties** page, click **Next**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="1d112-160">选择的任何 SOAP 标头选项全局应用于在运行此向导实例时创建的所有 Web Services 和 Web 方法。</span><span class="sxs-lookup"><span data-stu-id="1d112-160">The selection any of the SOAP header options are applied globally to all Web services and Web methods that are created when running this instance of the wizard.</span></span>  
  
8.  <span data-ttu-id="1d112-161">如果你选择 **添加其他的 SOAP 标头** 选项， **请求 SOAP 标头** 和 **响应 SOAP 标头** 显示页。</span><span class="sxs-lookup"><span data-stu-id="1d112-161">If you selected **Add additional SOAP headers** option, the **Request SOAP Headers** and **Response SOAP Headers** pages appear.</span></span> <span data-ttu-id="1d112-162">你可以添加和删除请求和响应使用的 SOAP 标头 **添加** 和 **删除** 在以下对话框中的按钮︰</span><span class="sxs-lookup"><span data-stu-id="1d112-162">You can add and remove request and response SOAP headers using the **Add** and **Remove** buttons in the following dialog boxes:</span></span>  
  
    -   <span data-ttu-id="1d112-163">若要添加的 SOAP 标头，单击 **添加**。</span><span class="sxs-lookup"><span data-stu-id="1d112-163">To add a SOAP header, click **Add**.</span></span> <span data-ttu-id="1d112-164">在 **BizTalk 程序集文件 (\*.dll)** 文本框、 类型或浏览包含 SOAP 标头架构的程序集。</span><span class="sxs-lookup"><span data-stu-id="1d112-164">In the **BizTalk assembly file (\*.dll)** text box, type or browse for the assembly containing the SOAP header schema.</span></span> <span data-ttu-id="1d112-165">**可用架构类型** 列表视图显示每个根元素的架构。</span><span class="sxs-lookup"><span data-stu-id="1d112-165">The **Available schema types** list view displays each root element of the schema.</span></span> <span data-ttu-id="1d112-166">选择要作为请求或响应 SOAP 标头添加的根节点。</span><span class="sxs-lookup"><span data-stu-id="1d112-166">Select a root node to add as a request or response SOAP header.</span></span> <span data-ttu-id="1d112-167">若要选择多个项，请按住 CTRL 键并单击 **确定**。</span><span class="sxs-lookup"><span data-stu-id="1d112-167">To select multiple items, hold the CTRL key and click **OK**.</span></span>  
  
    -   <span data-ttu-id="1d112-168">要从列表中删除的 SOAP 标头，从添加 SOAP 标头的列表中选择它，然后单击 **删除**。</span><span class="sxs-lookup"><span data-stu-id="1d112-168">To remove a SOAP header from the list, select it from the list of added SOAP headers, and then click **Remove**.</span></span>  
  
    -   <span data-ttu-id="1d112-169">单击 **下一步** 上每个 **SOAP 标头** 页后，可以继续执行向导。</span><span class="sxs-lookup"><span data-stu-id="1d112-169">Click **Next** on each **SOAP Header** page to continue the wizard.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="1d112-170">目标命名空间和根元素名称可定义 SOAP 标头。</span><span class="sxs-lookup"><span data-stu-id="1d112-170">A target namespace and root element name defines a SOAP header.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="1d112-171">如果同一目标命名空间/根元素名称组合是作为请求和响应 SOAP 标头添加的，则不会将该标头视为传入/传出标头。</span><span class="sxs-lookup"><span data-stu-id="1d112-171">If the same combination of target namespace/root element name is added as a request and response SOAP header, it will not be treated as an in/out header.</span></span> <span data-ttu-id="1d112-172">必须在业务流程内部手动将传入标头复制到传出标头。</span><span class="sxs-lookup"><span data-stu-id="1d112-172">You must manually copy the incoming header to the outgoing header inside of an orchestration.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="1d112-173">同一目标命名空间/根元素名称组合只能作为请求 SOAP 标头和响应 SOAP 标头各添加一次。</span><span class="sxs-lookup"><span data-stu-id="1d112-173">The same combination of target namespace/root element name can only be added once as a request SOAP header and once as a response SOAP header.</span></span>  
  
9. <span data-ttu-id="1d112-174">上 **Web 服务项目** 页上，在 **项目名称** 文本框中，键入项目的名称。</span><span class="sxs-lookup"><span data-stu-id="1d112-174">On the **Web Service Project** page, in the **Project name** text box, type the name for the project.</span></span> <span data-ttu-id="1d112-175">你可以接受默认位置 (http://localhost/<*文件的内容*>)，键入为中的项目的位置**项目位置**文本框中或单击**浏览**和选择 Web 目录。</span><span class="sxs-lookup"><span data-stu-id="1d112-175">You can accept the default location (http://localhost/<*project_name*>), type a location for the project in the **Project location** text box, or click **Browse** and select a Web directory.</span></span> <span data-ttu-id="1d112-176">选择以下任何选项：</span><span class="sxs-lookup"><span data-stu-id="1d112-176">Select any of the following options:</span></span>  
  
    -   <span data-ttu-id="1d112-177">**覆盖现有项目。**</span><span class="sxs-lookup"><span data-stu-id="1d112-177">**Overwrite existing project.**</span></span> <span data-ttu-id="1d112-178">仅当项目位置已存在时，此选项才可用。</span><span class="sxs-lookup"><span data-stu-id="1d112-178">This option is only available if the project location already exists.</span></span> <span data-ttu-id="1d112-179">仅当选择了此选项时，你才能够发布到同一位置。</span><span class="sxs-lookup"><span data-stu-id="1d112-179">You will only be able to publish to the same location if you select this option.</span></span> <span data-ttu-id="1d112-180">否则，必须输入不同的项目位置。</span><span class="sxs-lookup"><span data-stu-id="1d112-180">Otherwise, you must enter a different project location.</span></span>  
  
    -   <span data-ttu-id="1d112-181">**允许匿名访问 web 服务。**</span><span class="sxs-lookup"><span data-stu-id="1d112-181">**Allow anonymous access to web service.**</span></span> <span data-ttu-id="1d112-182">此选项会为已创建的虚拟目录添加匿名访问权限。</span><span class="sxs-lookup"><span data-stu-id="1d112-182">This option adds anonymous access to the created virtual directory.</span></span> <span data-ttu-id="1d112-183">默认情况下，虚拟目录继承其父虚拟目录或网站（如果该目录是顶级虚拟目录）的访问权限。</span><span class="sxs-lookup"><span data-stu-id="1d112-183">By default, the virtual directory inherits the access privileges from its parent virtual directory or the Web site (if it is a top-level virtual directory).</span></span>  
  
    -   <span data-ttu-id="1d112-184">**创建 BizTalk 接收位置。**</span><span class="sxs-lookup"><span data-stu-id="1d112-184">**Create BizTalk receive locations.**</span></span> <span data-ttu-id="1d112-185">此选项自动创建与每个生成的 .asmx 文件对应的 SOAP 适配器接收端口和位置。</span><span class="sxs-lookup"><span data-stu-id="1d112-185">This option automatically creates the SOAP adapter receive ports and locations that correspond to each generated .asmx file.</span></span> <span data-ttu-id="1d112-186">如果接收位置已经存在，则不会替换它。</span><span class="sxs-lookup"><span data-stu-id="1d112-186">If a receive location already exists, it is not replaced.</span></span> <span data-ttu-id="1d112-187">接收位置使用格式解析 SOAP 适配器 /\<*虚拟目录名称*\>/\<*orchestration namespace_typename_portname* \>.asmx。</span><span class="sxs-lookup"><span data-stu-id="1d112-187">Receive locations for the SOAP adapter are resolved using the format /\<*virtual directory name*\>/\<*orchestration namespace_typename_portname*\>.asmx.</span></span> <span data-ttu-id="1d112-188">选择此选项后，选择将在其中生成接收端口和位置的应用程序。</span><span class="sxs-lookup"><span data-stu-id="1d112-188">After selecting this option, choose the application where the receive ports and locations will be generated.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="1d112-189">项目位置可位于其他服务器上。</span><span class="sxs-lookup"><span data-stu-id="1d112-189">The project location can exist on a different server.</span></span> <span data-ttu-id="1d112-190">若要将 Web 服务发布到不同的服务器，键入项目名称作为**http://&lt*servername*>/<*文件的内容*>**。</span><span class="sxs-lookup"><span data-stu-id="1d112-190">To publish a Web service to a different server, type the project name as **http://<*servername*>/<*project_name*>**.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="1d112-191">项目位置可位于非默认网站上。</span><span class="sxs-lookup"><span data-stu-id="1d112-191">The project location can exist on a non-default Web site.</span></span> <span data-ttu-id="1d112-192">发布到非默认网站时，请在该 URL 中包括网站的端口号。</span><span class="sxs-lookup"><span data-stu-id="1d112-192">When publishing to a non-default Web site, include the port number of the Web site in the URL.</span></span> <span data-ttu-id="1d112-193">例如， http://localhost:8080/<*文件的内容*>。</span><span class="sxs-lookup"><span data-stu-id="1d112-193">For example, http://localhost:8080/<*project_name*>.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="1d112-194">在使用向导创建接收位置时，向导会使用默认值创建接收位置。</span><span class="sxs-lookup"><span data-stu-id="1d112-194">When using the wizard to create receive locations, the wizard creates the receive locations using the default values.</span></span> <span data-ttu-id="1d112-195">接收管道的默认值是 **Microsoft.BizTalk.DefaultPipelines.PassThruReceive** 管道。</span><span class="sxs-lookup"><span data-stu-id="1d112-195">The default value for the receive pipeline is the **Microsoft.BizTalk.DefaultPipelines.PassThruReceive** pipeline.</span></span> <span data-ttu-id="1d112-196">如果通过已发布的 Web 服务接收的消息需要任何特殊的管道处理 (例如，验证，相关 / 属性提升或入站/出站映射) 则应将接收管道设置为 **Microsoft.BizTalk.DefaultPipelines.XMLReceive**, ，或自定义管道。</span><span class="sxs-lookup"><span data-stu-id="1d112-196">If messages received through the published Web service require any special pipeline processing (for example, validation, correlation / property promotion, or inbound/outbound maps) then you should set the receive pipeline to **Microsoft.BizTalk.DefaultPipelines.XMLReceive**, or to a custom pipeline.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="1d112-197">当你使用从业务流程 （调用） Web 服务时，SOAP 适配器仅支持传递样式发送管道。</span><span class="sxs-lookup"><span data-stu-id="1d112-197">When you consume (call) Web services from an orchestration, the SOAP adapter only supports pass-through style send pipelines.</span></span> <span data-ttu-id="1d112-198">你可以使用自定义发送管道，但它不能包含修改消息正文部分的组件。</span><span class="sxs-lookup"><span data-stu-id="1d112-198">You can use a custom send pipeline, but it cannot contain components that modify the body parts of the message.</span></span> <span data-ttu-id="1d112-199">这些组件包括 XML 汇编程序和任何编码的组件。</span><span class="sxs-lookup"><span data-stu-id="1d112-199">These components include the XML Assembler and any encoding components.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="1d112-200">达到此页时，和你选择从选择回 **发布作为 web 服务的架构** 选项，在 **Web 服务** 页上，你可能会看到 **Web 服务描述** 显示从 BizTalk 的程序集中以前在你之前选定的服务和方法名称从回退 **作为 web 服务的发布 BizTalk 业务流程** 选项。</span><span class="sxs-lookup"><span data-stu-id="1d112-200">When you reach this page and if you choose to back out from choosing **Publishing schemas as web services** option, in the **Web Services** page, you may see the **Web service description** displays the service and method names from the BizTalk assembly previous selected before you back out from **Publish BizTalk orchestrations as web services** option.</span></span> <span data-ttu-id="1d112-201">这是因为更改发布方法时未清除内存中的 Web Services 说明。</span><span class="sxs-lookup"><span data-stu-id="1d112-201">This is because the in-memory web service description is not cleared when the publishing method is changed.</span></span>  
  
10. <span data-ttu-id="1d112-202">单击 **下一步** 若要查看你的 ASP.NET Web 服务项目的设置。</span><span class="sxs-lookup"><span data-stu-id="1d112-202">Click **Next** to review your settings for the ASP.NET Web service project.</span></span>  
  
11. <span data-ttu-id="1d112-203">单击 **创建** 创建 ASP.NET Web 服务。</span><span class="sxs-lookup"><span data-stu-id="1d112-203">Click **Create** to create the ASP.NET Web service.</span></span>  
  
12. <span data-ttu-id="1d112-204">单击 **完成** 完成 BizTalk Web 服务发布向导。</span><span class="sxs-lookup"><span data-stu-id="1d112-204">Click **Finish** to complete the BizTalk Web Services Publishing Wizard.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="1d112-205">如果在 Windows Vista 上将业务流程发布为 Web Services，则必须更新承载该服务的虚拟目录。</span><span class="sxs-lookup"><span data-stu-id="1d112-205">If you are publishing an orchestration as a web service on Windows Vista, you must update the virtual directory hosting the service.</span></span> <span data-ttu-id="1d112-206">为此，请发出以下命令从命令提示符中，替换\<vdir\>同名的虚拟目录： **%systemroot%\system32\inetsrv\appcmd。EXE 迁移配置"Default Web Site /\<vdir 名称\>"**。</span><span class="sxs-lookup"><span data-stu-id="1d112-206">To do so, issue the following command from the command prompt, replacing \<vdir\> with the name of the virtual directory: **%systemroot%\system32\inetsrv\APPCMD.EXE migrate config "Default Web Site/\<vdir name\>"**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1d112-207">另请参阅</span><span class="sxs-lookup"><span data-stu-id="1d112-207">See Also</span></span>  
 <span data-ttu-id="1d112-208">[发布作为 Web 服务业务流程](../core/publishing-an-orchestration-as-a-web-service.md) </span><span class="sxs-lookup"><span data-stu-id="1d112-208">[Publishing an Orchestration as a Web Service](../core/publishing-an-orchestration-as-a-web-service.md) </span></span>  
 [<span data-ttu-id="1d112-209">如何映射到 Web 服务的业务流程</span><span class="sxs-lookup"><span data-stu-id="1d112-209">How to Map Orchestrations to Web Services</span></span>](../core/how-to-map-orchestrations-to-web-services.md)