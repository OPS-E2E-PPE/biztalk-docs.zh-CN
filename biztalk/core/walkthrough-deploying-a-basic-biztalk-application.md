---
title: "演练： 部署基本 BizTalk 应用程序 |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- deploying, tutorials
- tutorials, deploying
- tutorials, applications
- applications, tutorials
ms.assetid: 21b67153-0f8c-406a-a224-fc792b16192f
caps.latest.revision: "69"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 5db86f672cd17965ec76877cc3867594bf82b40d
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
---
# <a name="walkthrough-deploying-a-basic-biztalk-application"></a><span data-ttu-id="58343-102">演练： 部署基本 BizTalk 应用程序</span><span class="sxs-lookup"><span data-stu-id="58343-102">Walkthrough: Deploying a Basic BizTalk Application</span></span>
<span data-ttu-id="58343-103">Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 中包含用于简化 BizTalk 企业解决方案的管理和部署的功能。</span><span class="sxs-lookup"><span data-stu-id="58343-103">Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] includes features that simplify managing and deploying BizTalk business solutions.</span></span> <span data-ttu-id="58343-104">它现在为企业解决方案中的各项（例如业务流程、架构、映射、管道和 .NET 程序集等）提供一个 BizTalk 应用程序容器。</span><span class="sxs-lookup"><span data-stu-id="58343-104">It now provides a BizTalk application container for the items in a business solution, such as orchestrations, schemas, maps, pipelines, schemas, and .NET assemblies.</span></span> <span data-ttu-id="58343-105">你可以管理、 修改、 部署和安装的所有项作为一个整体应用程序中。</span><span class="sxs-lookup"><span data-stu-id="58343-105">You can manage, modify, deploy, and install all of the items in an application as a single unit.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="58343-106">此外包括向导来帮助实现自动化应用程序部署任务。</span><span class="sxs-lookup"><span data-stu-id="58343-106"> also includes wizards to help automate application deployment tasks.</span></span> <span data-ttu-id="58343-107">有关背景信息，请参阅[应用程序部署和管理功能](../core/application-deployment-and-management-features.md)和[应用程序部署和管理工具](../core/application-deployment-and-management-tools.md)。</span><span class="sxs-lookup"><span data-stu-id="58343-107">For background information, see [Application Deployment and Management Features](../core/application-deployment-and-management-features.md) and [Application Deployment and Management Tools](../core/application-deployment-and-management-tools.md).</span></span>  
  
 <span data-ttu-id="58343-108">本演练提供有关如何使用 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 部署功能的分步说明，以便你可以了解这些功能是如何协同工作的。</span><span class="sxs-lookup"><span data-stu-id="58343-108">This walkthrough provides step-by-step instructions for using [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] deployment features so that you can see how they work together.</span></span> <span data-ttu-id="58343-109">本演练中阐述的部署过程不一定反映在你的公司管理应用程序部署的方式。</span><span class="sxs-lookup"><span data-stu-id="58343-109">The deployment process illustrated in this walkthrough may or may not reflect the way that application deployment is managed at your company.</span></span>  
  
 <span data-ttu-id="58343-110">在本演练中，你将创建一个简单的 BizTalk 应用程序，然后将它从开发环境部署到测试环境，再从那里部署到过渡环境和生产环境。</span><span class="sxs-lookup"><span data-stu-id="58343-110">In this walkthrough, you will create a simple BizTalk application and then deploy it from the development environment to a test environment and from there to staging and production environments.</span></span> <span data-ttu-id="58343-111">在完成本演练后，你将了解如何执行以下任务：</span><span class="sxs-lookup"><span data-stu-id="58343-111">After completing this walkthrough, you will understand how to perform the following tasks:</span></span>  
  
-   <span data-ttu-id="58343-112">从开发计算机上的 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 中，使用“部署”命令将 BizTalk 程序集部署到 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 的本地实例。</span><span class="sxs-lookup"><span data-stu-id="58343-112">From within [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] on a development computer, use the Deploy command to deploy BizTalk assemblies to a local instance of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="58343-113">这将创建一个用这些程序集填充的 BizTalk 应用程序。</span><span class="sxs-lookup"><span data-stu-id="58343-113">This creates a BizTalk application that is populated with the assemblies.</span></span> <span data-ttu-id="58343-114">BizTalk 程序集将包含各种资源信息，例如要在 BizTalk 解决方案中使用的业务流程、管道、架构和映射。</span><span class="sxs-lookup"><span data-stu-id="58343-114">A BizTalk assembly contains resource information such as orchestrations, pipelines, schemas, and maps to be used in a BizTalk solution.</span></span>  
  
-   <span data-ttu-id="58343-115">从[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理控制台中，添加、 创建、 配置和删除任何项 (称为*项目*) 根据需要创建全功能的业务解决方案，如发送和接收端口、 策略、 程序集，并脚本。</span><span class="sxs-lookup"><span data-stu-id="58343-115">From the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, add, create, configure, and remove any items (called *artifacts*) as needed to create a fully functional business solution, such as send and receive ports, policies, assemblies, and scripts.</span></span>  
  
-   <span data-ttu-id="58343-116">使用导出、导入和安装向导，将 BizTalk 应用程序部署到某一测试计算机，以用于功能和系统测试。</span><span class="sxs-lookup"><span data-stu-id="58343-116">Use the Export, Import, and Installation Wizards to deploy the BizTalk application to a test computer for functional and system testing.</span></span>  
  
-   <span data-ttu-id="58343-117">使用导出、导入和安装向导，将应用程序部署到过渡服务器，以用于最终配置和部署到生产服务器。</span><span class="sxs-lookup"><span data-stu-id="58343-117">Use the Export, Import, and Installation Wizards to deploy the application to a staging server for final configuration and deployment to a production server.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="58343-118">先决条件</span><span class="sxs-lookup"><span data-stu-id="58343-118">Prerequisites</span></span>  
 <span data-ttu-id="58343-119">你可以采用以下两个选项之一来针对本演练设置你的测试环境：</span><span class="sxs-lookup"><span data-stu-id="58343-119">You have two options for setting up your test environment for this walkthrough:</span></span>  
  
-   <span data-ttu-id="58343-120">你可以在单台计算机上执行本演练中的任务。</span><span class="sxs-lookup"><span data-stu-id="58343-120">You can perform the tasks in this walkthrough on a single computer.</span></span>  
  
-   <span data-ttu-id="58343-121">你可以通过设置不同的计算机以便分别用作部署、测试、过渡和生产计算机，更准确地模拟真实的部署。</span><span class="sxs-lookup"><span data-stu-id="58343-121">You can more closely simulate a real-world deployment by setting up different computers to use as development, test, staging, and production computers.</span></span> <span data-ttu-id="58343-122">但是，本演练中涉及的任何任务都不应在实际生产环境中执行。</span><span class="sxs-lookup"><span data-stu-id="58343-122">None of the tasks in this walkthrough should be performed in an actual production environment, however.</span></span>  
  
 <span data-ttu-id="58343-123">若要执行本演练中的这些步骤，请确保你的测试环境满足以下先决条件：</span><span class="sxs-lookup"><span data-stu-id="58343-123">To perform the steps in this walkthrough, make sure that your test environment meets the following prerequisites:</span></span>  
  
-   <span data-ttu-id="58343-124">用于部署 BizTalk 程序集的开发计算机安装了 Microsoft [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="58343-124">The development computer from which you deploy the BizTalk assemblies has Microsoft [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] installed.</span></span>  
  
-   <span data-ttu-id="58343-125">在本演练中描述的应用程序部署过程中使用的每台计算机（包括开发计算机）都安装了 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="58343-125">Each computer used in the application deployment process described in this walkthrough, including the development computer, has [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] installed.</span></span>  
  
-   <span data-ttu-id="58343-126">每个 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 实例都是一个单独的安装；换言之，它具有自己的 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 数据库和组。</span><span class="sxs-lookup"><span data-stu-id="58343-126">Each [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] instance is a separate installation; in other words, it has its own [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases and groups.</span></span>  
  
 <span data-ttu-id="58343-127">除了上述要求之外，你还需要具备包含 BizTalk 程序集的可用 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 解决方案或项目。</span><span class="sxs-lookup"><span data-stu-id="58343-127">In addition to the preceding requirements, you need to have a [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] solution or project available that contains BizTalk assemblies.</span></span> <span data-ttu-id="58343-128">如果你没有现有的解决方案或项目，则为了进行演练，可以使用在 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] SDK 中包含的 ErrorHandling 示例解决方案。</span><span class="sxs-lookup"><span data-stu-id="58343-128">If you don't have an existing solution or project, you can use the ErrorHandling sample solution included with the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] SDK for this purpose.</span></span> <span data-ttu-id="58343-129">在本演练的后面部分中包括有关使用此示例的说明。</span><span class="sxs-lookup"><span data-stu-id="58343-129">Instructions for using this sample are included later in this walkthrough.</span></span>  
  
 <span data-ttu-id="58343-130">在用于执行本演练中的任务的计算机上，你的用户帐户还必须是 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理员组以及本地管理员组的成员。</span><span class="sxs-lookup"><span data-stu-id="58343-130">You also must have a user account that is a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group as well as the local Administrators group on the computers that you will be using to perform the tasks in this walkthrough.</span></span>  
  
 <span data-ttu-id="58343-131">有关安装和配置详细信息[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]，请参阅[什么是新建、 安装、 配置和升级](../install-and-config-guides/biztalk-server-what-s-new-installation-configuration-and-upgrade.md)。</span><span class="sxs-lookup"><span data-stu-id="58343-131">For more information about installing and configuring [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], see [What's New, Install, Configure, and Upgrade](../install-and-config-guides/biztalk-server-what-s-new-installation-configuration-and-upgrade.md).</span></span>
  
##  <span data-ttu-id="58343-132"><a name="BKMK_Assumptions"></a>假设</span><span class="sxs-lookup"><span data-stu-id="58343-132"><a name="BKMK_Assumptions"></a> Assumptions</span></span>  
 <span data-ttu-id="58343-133">本演练假定以下内容：</span><span class="sxs-lookup"><span data-stu-id="58343-133">This walkthrough assumes the following:</span></span>  
  
-   <span data-ttu-id="58343-134">你具备有关 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 的基本知识。</span><span class="sxs-lookup"><span data-stu-id="58343-134">You have a basic knowledge of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="58343-135">[BizTalk Server 入门](../core/getting-started-with-biztalk-server.md)应该会有所帮助。</span><span class="sxs-lookup"><span data-stu-id="58343-135">[Getting started with BizTalk Server](../core/getting-started-with-biztalk-server.md) should help.</span></span>
  
-   <span data-ttu-id="58343-136">你所使用的 BizTalk 程序集以前未部署到你的测试环境的应用程序中。</span><span class="sxs-lookup"><span data-stu-id="58343-136">The BizTalk assemblies that you are using have not been previously deployed to an application in your test environment.</span></span> <span data-ttu-id="58343-137">如果已部署，则应该取消部署已部署了这些程序集的 BizTalk 应用程序。</span><span class="sxs-lookup"><span data-stu-id="58343-137">If they have, you should undeploy the BizTalk application to which they were deployed.</span></span> <span data-ttu-id="58343-138">有关说明，请参阅[正在取消部署的 BizTalk 应用程序](../core/undeploying-biztalk-applications.md)。</span><span class="sxs-lookup"><span data-stu-id="58343-138">For instructions, see [Undeploying BizTalk Applications](../core/undeploying-biztalk-applications.md).</span></span>  
  
-   <span data-ttu-id="58343-139">没有应用程序资源与其他应用程序共享。</span><span class="sxs-lookup"><span data-stu-id="58343-139">No application resources are shared with other applications.</span></span>  
  
##  <span data-ttu-id="58343-140"><a name="BKMK_Audience"></a>受众</span><span class="sxs-lookup"><span data-stu-id="58343-140"><a name="BKMK_Audience"></a> Audience</span></span>  
 <span data-ttu-id="58343-141">本演练面向的读者是：</span><span class="sxs-lookup"><span data-stu-id="58343-141">The audience for this walkthrough is:</span></span>  
  
-   <span data-ttu-id="58343-142">**BizTalk 应用程序开发人员。**</span><span class="sxs-lookup"><span data-stu-id="58343-142">**BizTalk application developers.**</span></span> <span data-ttu-id="58343-143">开发人员可以了解如何设置项目属性[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]并部署 BizTalk 程序集从[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]到 BizTalk 应用程序。</span><span class="sxs-lookup"><span data-stu-id="58343-143">Developers can learn how to set project properties in [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] and deploy BizTalk assemblies from [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] to a BizTalk application.</span></span> <span data-ttu-id="58343-144">开发人员还要了解如何将项目添加到应用程序、然后将应用程序导出到某一 .msi 文件。</span><span class="sxs-lookup"><span data-stu-id="58343-144">Developers also learn how to add artifacts to the application and then export the application to an .msi file.</span></span> <span data-ttu-id="58343-145">对于开发人员应用程序部署任务有关背景信息，请参阅[BizTalk 应用程序部署的开发任务](../core/development-tasks-for-biztalk-application-deployment.md)。</span><span class="sxs-lookup"><span data-stu-id="58343-145">For background information about the application deployment tasks for a developer, see [Development Tasks for BizTalk Application Deployment](../core/development-tasks-for-biztalk-application-deployment.md).</span></span>  
  
-   <span data-ttu-id="58343-146">**BizTalk 应用程序测试人员。**</span><span class="sxs-lookup"><span data-stu-id="58343-146">**BizTalk application testers.**</span></span> <span data-ttu-id="58343-147">测试人员可以了解如何将.msi 文件导入[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]作为 BizTalk 应用程序中将其注册其测试计算机上运行。</span><span class="sxs-lookup"><span data-stu-id="58343-147">Testers can learn how to import the .msi file into [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] running on their test computer, which registers it as a BizTalk application.</span></span> <span data-ttu-id="58343-148">然后，测试人员可以了解如何在测试计算机上安装应用程序以及如何验证安装。</span><span class="sxs-lookup"><span data-stu-id="58343-148">Testers can then learn how to install the application on the test computer and verify the installation.</span></span> <span data-ttu-id="58343-149">有关用于测试的应用程序部署任务的背景信息，请参阅[测试 BizTalk 应用程序部署的任务](../core/testing-tasks-for-biztalk-application-deployment.md)。</span><span class="sxs-lookup"><span data-stu-id="58343-149">For background information about the application deployment tasks for testing, see [Testing Tasks for BizTalk Application Deployment](../core/testing-tasks-for-biztalk-application-deployment.md).</span></span>  
  
-   <span data-ttu-id="58343-150">**BizTalk Server IT 管理员。**</span><span class="sxs-lookup"><span data-stu-id="58343-150">**BizTalk Server IT administrators.**</span></span> <span data-ttu-id="58343-151">负责将 BizTalk 应用程序部署到过渡服务器和生产服务器的 IT 管理员可以了解此任务所需的基本步骤。</span><span class="sxs-lookup"><span data-stu-id="58343-151">IT administrators who are responsible for deploying BizTalk applications to staging and production servers can learn the basic steps required for this task.</span></span> <span data-ttu-id="58343-152">有关后台 IT 管理员有关应用程序部署任务的信息，请参阅[BizTalk 应用程序部署的暂存任务](../core/staging-tasks-for-biztalk-application-deployment.md)和[BizTalk 应用程序部署生产任务](../core/production-tasks-for-biztalk-application-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="58343-152">For background information about the application deployment tasks for an IT administrator, see [Staging Tasks for BizTalk Application Deployment](../core/staging-tasks-for-biztalk-application-deployment.md) and [Production Tasks for BizTalk Application Deployment](../core/production-tasks-for-biztalk-application-deployment.md).</span></span>  
  
##  <span data-ttu-id="58343-153"><a name="BKMK_Overview"></a>本演练的概述</span><span class="sxs-lookup"><span data-stu-id="58343-153"><a name="BKMK_Overview"></a> Overview of this walkthrough</span></span>  
 <span data-ttu-id="58343-154">本演练的目的是为了在实验室环境中部署一个 BizTalk 应用程序，以便评估在生产环境中部署此程序时这一技术的作用。</span><span class="sxs-lookup"><span data-stu-id="58343-154">The purpose of this walkthrough is to deploy a BizTalk application in a lab environment to assess how this technology would function if deployed in your production environment.</span></span> <span data-ttu-id="58343-155">本演练中包含的简单方案（在单台计算机上将单个 .msi 文件作为 BizTalk 应用程序部署）将帮助你熟悉在应用程序部署中涉及的基本任务。</span><span class="sxs-lookup"><span data-stu-id="58343-155">The simple scenario covered in this walkthrough – deploying a single .msi file as a BizTalk application on a single computer – will help you become familiar with the basic tasks involved in application deployment.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="58343-156">本演练并不提供应用程序正常运行所需的应用程序配置（例如绑定业务流程、配置端口等）指导。</span><span class="sxs-lookup"><span data-stu-id="58343-156">This walkthrough does not provide guidance for application configuration, such as binding orchestrations, configuring ports, and so forth, which is required for an application to function.</span></span> <span data-ttu-id="58343-157">本演练只是为了介绍新的应用程序部署功能。</span><span class="sxs-lookup"><span data-stu-id="58343-157">The intent of this walkthrough is only to introduce the new application deployment features.</span></span>  
  
 <span data-ttu-id="58343-158">本文中提供的指导涵盖以下任务：</span><span class="sxs-lookup"><span data-stu-id="58343-158">The instructions provided in this document cover the following tasks:</span></span>  
  
1.  <span data-ttu-id="58343-159">**配置所需的权限。**</span><span class="sxs-lookup"><span data-stu-id="58343-159">**Configuring required permissions.**</span></span> <span data-ttu-id="58343-160">在开始本演练之前，你需要确保具有执行各任务的相应权限。</span><span class="sxs-lookup"><span data-stu-id="58343-160">Before you begin the walkthrough, you need to ensure that you have the appropriate permissions to perform each task.</span></span>  
  
2.  <span data-ttu-id="58343-161">**从 Visual Studio 的部署 BizTalk 程序集。**</span><span class="sxs-lookup"><span data-stu-id="58343-161">**Deploying BizTalk assemblies from Visual Studio.**</span></span> <span data-ttu-id="58343-162">此步骤由应用程序开发人员执行。</span><span class="sxs-lookup"><span data-stu-id="58343-162">This step is taken by the application developer.</span></span> <span data-ttu-id="58343-163">从 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 内部署 BizTalk 程序集将自动生成程序集，并将其内容部署到 BizTalk 应用程序中。</span><span class="sxs-lookup"><span data-stu-id="58343-163">Deploying BizTalk assemblies from within [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] automatically builds the assemblies and deploys their contents into a BizTalk application.</span></span> <span data-ttu-id="58343-164">如果该应用程序已不存在，则部署程序集也会创建该应用程序。</span><span class="sxs-lookup"><span data-stu-id="58343-164">If the application does not already exist, deploying the assemblies also creates the application.</span></span> <span data-ttu-id="58343-165">该应用程序的项目将被注册，并且其数据存储在 BizTalk 管理数据库中。</span><span class="sxs-lookup"><span data-stu-id="58343-165">The application's artifacts are registered and their data stored in the BizTalk Management database.</span></span> <span data-ttu-id="58343-166">此外，默认情况下，这些程序集安装在本地计算机的全局程序集缓存 (GAC) 中。</span><span class="sxs-lookup"><span data-stu-id="58343-166">In addition, by default the assemblies are installed in the global assembly cache (GAC) of the local computer.</span></span> <span data-ttu-id="58343-167">在创建该应用程序后，你可以从 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理控制台内查看和管理其项目。</span><span class="sxs-lookup"><span data-stu-id="58343-167">After the application has been created, you can view and manage its artifacts from within the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console.</span></span> <span data-ttu-id="58343-168">在管理控制台中，每个应用程序都存储在各自的文件夹中，并且子文件夹中将包含对该应用程序的所有项目的引用。</span><span class="sxs-lookup"><span data-stu-id="58343-168">In the Administration Console, each application is stored in its own folder, with subfolders containing references to all of the application's artifacts.</span></span>  
  
3.  <span data-ttu-id="58343-169">**配置应用程序。**</span><span class="sxs-lookup"><span data-stu-id="58343-169">**Configuring the application.**</span></span> <span data-ttu-id="58343-170">此步骤可由应用程序开发人员或 IT 管理员执行，以便添加、创建和配置为使应用程序正常工作所需的任何项目。</span><span class="sxs-lookup"><span data-stu-id="58343-170">This step can be taken by the application developer or IT administrator to add, create, and configure any artifacts that are required for the application to function correctly.</span></span> <span data-ttu-id="58343-171">从管理控制台中，你可以轻松地添加、创建、配置和删除项目，例如发送和接收端口、脚本和附加程序集。</span><span class="sxs-lookup"><span data-stu-id="58343-171">From within the Administration Console, you can easily add, create, configure, and remove artifacts such as send and receive ports, scripts, and additional assemblies.</span></span> <span data-ttu-id="58343-172">如果你对包含所需项目的应用程序感到满意并且正确配置了它们，则按下述内容将其导出到某一 .msi 文件中。</span><span class="sxs-lookup"><span data-stu-id="58343-172">After you are satisfied that the application contains the required artifacts and that they are configured properly, you export it into an .msi file, as described next.</span></span>  
  
4.  <span data-ttu-id="58343-173">**导出应用程序置于.msi 文件。**</span><span class="sxs-lookup"><span data-stu-id="58343-173">**Exporting the application into an .msi file.**</span></span> <span data-ttu-id="58343-174">此步骤可由开发人员、测试人员或 IT 管理员执行，以便生成可用于将 BizTalk 应用程序部署到不同环境中的 .msi 文件。</span><span class="sxs-lookup"><span data-stu-id="58343-174">This step can be taken by the developer, tester, or IT administrator to generate an .msi file that can be used to deploy a BizTalk application into a different environment.</span></span> <span data-ttu-id="58343-175">例如，开发人员可以将某一 .msi 文件导出，测试人员可使用该 .msi 文件将应用程序部署到测试服务器中。</span><span class="sxs-lookup"><span data-stu-id="58343-175">For example, the developer can export an .msi file that the tester can use to deploy the application onto a test server.</span></span> <span data-ttu-id="58343-176">在测试完成后，IT 管理员可以使用经过测试的 .msi 文件将应用程序部署到过渡或生产服务器中（如下文所述）。</span><span class="sxs-lookup"><span data-stu-id="58343-176">After testing is complete, the IT administrator can then use the tested .msi file to deploy the application to a staging or production server (as described next).</span></span> <span data-ttu-id="58343-177">本演练介绍如何使用导出向导（在 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理控制台中提供）将某一应用程序导出到 .msi 文件中。</span><span class="sxs-lookup"><span data-stu-id="58343-177">This walkthrough covers how to export an application into an .msi file by using the Export Wizard, which is available from the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console.</span></span>  
  
5.  <span data-ttu-id="58343-178">**导入从.msi 文件安装应用程序。**</span><span class="sxs-lookup"><span data-stu-id="58343-178">**Importing installing the application from the .msi file.**</span></span> <span data-ttu-id="58343-179">此步骤可由测试人员或 IT 管理员执行，以便将 BizTalk 应用程序部署到过渡或生产服务器。</span><span class="sxs-lookup"><span data-stu-id="58343-179">This step can be taken by the tester or IT administrator to deploy a BizTalk application onto a staging or production server.</span></span> <span data-ttu-id="58343-180">例如，测试人员可以将应用程序从开发人员提供的 .msi 文件导入测试计算机上的 BizTalk 组，然后从该 .msi 文件安装此应用程序以便对其进行测试。</span><span class="sxs-lookup"><span data-stu-id="58343-180">For example, the tester can import the application from an .msi file provided by the developer into a BizTalk group on a test computer and then install the application from the .msi file in order to test it.</span></span> <span data-ttu-id="58343-181">同样，IT 管理员可以将应用程序从测试人员提供的 .msi 文件部署到过渡或生产服务器上。</span><span class="sxs-lookup"><span data-stu-id="58343-181">The IT administrator can likewise deploy the application from an .msi file provided by the tester onto a staging or production server.</span></span> <span data-ttu-id="58343-182">本演练介绍如何使用导入向导将该 .msi 文件导入到 BizTalk 组中的应用程序。</span><span class="sxs-lookup"><span data-stu-id="58343-182">This walkthrough covers how to use the Import Wizard to import the .msi file into an application in a BizTalk group.</span></span> <span data-ttu-id="58343-183">与第 2 步中一样，注册该应用程序的项目并且将其数据存储在 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 数据库中。</span><span class="sxs-lookup"><span data-stu-id="58343-183">As in Step 2, the application's artifacts are registered and their data stored in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="58343-184">本演练还介绍如何通过使用安装向导或通过双击该 .msi 文件，将该应用程序安装到当前服务器上。</span><span class="sxs-lookup"><span data-stu-id="58343-184">This walkthrough also covers how to install the application on the current server by using the Installation Wizard or by double-clicking the .msi file.</span></span> <span data-ttu-id="58343-185">这将允许你在当前服务器上运行该应用程序。</span><span class="sxs-lookup"><span data-stu-id="58343-185">This allows you to run the application on the current server.</span></span>  
  
##  <span data-ttu-id="58343-186"><a name="BKMK_Step-by-step"></a>部署 BizTalk 应用程序的分步指南</span><span class="sxs-lookup"><span data-stu-id="58343-186"><a name="BKMK_Step-by-step"></a> Step-by-step guide to deploying a BizTalk application</span></span>  
 <span data-ttu-id="58343-187">本部分介绍部署 BizTalk 应用程序的分步过程，包括从开发到测试、过渡和生产的所有阶段。</span><span class="sxs-lookup"><span data-stu-id="58343-187">This section provides step-by-step procedures to deploy a BizTalk application through all of the phases, from development to test to staging to production.</span></span> <span data-ttu-id="58343-188">如前所述，你可以在同一台计算机上执行所有这些步骤，但也可以在多台计算机上执行，以便更准确地模拟你的环境。</span><span class="sxs-lookup"><span data-stu-id="58343-188">As previously mentioned, you can perform these steps all on the same computer, or if you want to more closely simulate your environment, you can use multiple computers.</span></span>  
  
#### <a name="1-configure-permissions"></a><span data-ttu-id="58343-189">1.配置权限</span><span class="sxs-lookup"><span data-stu-id="58343-189">1. Configure permissions</span></span>  
 <span data-ttu-id="58343-190">第一步是要确保你具有执行本演练中各任务的相应权限。</span><span class="sxs-lookup"><span data-stu-id="58343-190">The first step is to ensure that you have the appropriate permissions to perform the tasks in this walkthrough.</span></span> <span data-ttu-id="58343-191">请参阅[用于部署和管理 BizTalk 应用程序所需权限](../core/permissions-required-for-deploying-and-managing-a-biztalk-application.md)，和[最低安全权限](https://social.technet.microsoft.com/wiki/contents/articles/24590.minimum-security-rights-for-biztalk-server-2006-to-2016.aspx)。</span><span class="sxs-lookup"><span data-stu-id="58343-191">See [Permissions Required for Deploying and Managing a BizTalk Application](../core/permissions-required-for-deploying-and-managing-a-biztalk-application.md), and [Minimum Security Rights](https://social.technet.microsoft.com/wiki/contents/articles/24590.minimum-security-rights-for-biztalk-server-2006-to-2016.aspx).</span></span>
  
#### <a name="2-deploy-the-biztalk-assemblies"></a><span data-ttu-id="58343-192">2.部署 BizTalk 程序集</span><span class="sxs-lookup"><span data-stu-id="58343-192">2. Deploy the BizTalk assemblies</span></span>  
 <span data-ttu-id="58343-193">可以从开发计算机上的 Microsoft [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 中，使用此步骤中的过程将 BizTalk 程序集部署到 BizTalk 应用程序中。</span><span class="sxs-lookup"><span data-stu-id="58343-193">From within Microsoft [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] on the development computer, use the procedures in this step to deploy BizTalk assemblies into a BizTalk application.</span></span>  
  
 <span data-ttu-id="58343-194">在开始之前，你必须在 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 中已具有某一 BizTalk 解决方案。</span><span class="sxs-lookup"><span data-stu-id="58343-194">Before you begin, you must have a BizTalk solution available in [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)].</span></span> <span data-ttu-id="58343-195">你或者可以创建自己的解决方案或项目，或者可以设置随 [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] 一起提供的 ErrorHandling 示例。</span><span class="sxs-lookup"><span data-stu-id="58343-195">You can either create your own solution or project, or you can set up the ErrorHandling sample included with [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)].</span></span> <span data-ttu-id="58343-196">你可以按如下所示在 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 中设置 ErrorHandling 示例解决方案：</span><span class="sxs-lookup"><span data-stu-id="58343-196">You can set up the ErrorHandling sample solution in [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] as follows:</span></span>  
  
###### <a name="to-set-up-the-errorhandling-solution"></a><span data-ttu-id="58343-197">设置 ErrorHandling 解决方案</span><span class="sxs-lookup"><span data-stu-id="58343-197">To set up the ErrorHandling solution</span></span>  
  
1.  <span data-ttu-id="58343-198">在开发计算机上，导航到：</span><span class="sxs-lookup"><span data-stu-id="58343-198">On the development computer, navigate to:</span></span>  
  
     [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]<span data-ttu-id="58343-199">SDK\Samples\Messaging\ErrorHandling\ErrorHandler</span><span class="sxs-lookup"><span data-stu-id="58343-199">SDK\Samples\Messaging\ErrorHandling\ErrorHandler</span></span>  
  
2.  <span data-ttu-id="58343-200">双击**ErrorHandler.btproj**。</span><span class="sxs-lookup"><span data-stu-id="58343-200">Double-click **ErrorHandler.btproj**.</span></span>  
  
     <span data-ttu-id="58343-201">将在 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 中打开 ErrorHandler 解决方案。</span><span class="sxs-lookup"><span data-stu-id="58343-201">The ErrorHandler solution opens in [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)].</span></span> <span data-ttu-id="58343-202">此解决方案包含两个项目： ErrorHandler 和 PipelinesAndSchemas。</span><span class="sxs-lookup"><span data-stu-id="58343-202">This solution consists of two projects: ErrorHandler and PipelinesAndSchemas.</span></span>  
  
     <span data-ttu-id="58343-203">![在解决方案中的 visual Studio 项目](../core/media/errorhandlingprojects.gif "ErrorHandlingProjects")</span><span class="sxs-lookup"><span data-stu-id="58343-203">![Visual Studio projects in a solution](../core/media/errorhandlingprojects.gif "ErrorHandlingProjects")</span></span>  
  
 <span data-ttu-id="58343-204">接下来，你必须为该解决方案中的每个项目都设置属性。</span><span class="sxs-lookup"><span data-stu-id="58343-204">Next, you must set properties for each project in the solution.</span></span> <span data-ttu-id="58343-205">ErrorHandling 示例解决方案包括两个项目应为其设置属性： ErrorHandler 和 PipeLinesAndSchemas。</span><span class="sxs-lookup"><span data-stu-id="58343-205">The ErrorHandling sample solution includes two projects for which you should set properties: ErrorHandler and PipeLinesAndSchemas.</span></span> <span data-ttu-id="58343-206">配置属性以反映开发计算机的环境。</span><span class="sxs-lookup"><span data-stu-id="58343-206">Configure properties to reflect the environment of the development computer.</span></span> <span data-ttu-id="58343-207">例如，你指定的 SQL 服务器应该是在开发计算机上运行的实例，并且是本地 BizTalk 管理数据库的宿主。</span><span class="sxs-lookup"><span data-stu-id="58343-207">For example, the SQL server that you specify should be the instance running on the development computer, and which is hosting the local BizTalk Management database.</span></span>  
  
###### <a name="to-configure-project-properties"></a><span data-ttu-id="58343-208">若要配置项目属性</span><span class="sxs-lookup"><span data-stu-id="58343-208">To configure project properties</span></span>  
  
1.  <span data-ttu-id="58343-209">在[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]解决方案资源管理器，用鼠标右键单击想要配置属性，，然后单击的项目**属性**。</span><span class="sxs-lookup"><span data-stu-id="58343-209">In [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] Solution Explorer, right-click a project for which you want to configure properties, and then click **Properties**.</span></span>  
  
2.  <span data-ttu-id="58343-210">单击**部署**项目设计器中的选项卡。</span><span class="sxs-lookup"><span data-stu-id="58343-210">Click the **Deployment** tab in Project Designer.</span></span>  
  
     <span data-ttu-id="58343-211">![Visual Studio 2005 中的部署属性表](../core/media/deploymentproperties.gif "DeploymentProperties")</span><span class="sxs-lookup"><span data-stu-id="58343-211">![Deployment properties sheet in Visual Studio 2005](../core/media/deploymentproperties.gif "DeploymentProperties")</span></span>  
  
3.  <span data-ttu-id="58343-212">下表中所述配置项目属性，然后单击**确定**。</span><span class="sxs-lookup"><span data-stu-id="58343-212">Configure project properties as described in the following table, and then click **OK**.</span></span>  
  
    |<span data-ttu-id="58343-213">属性</span><span class="sxs-lookup"><span data-stu-id="58343-213">Property</span></span>|<span data-ttu-id="58343-214">值</span><span class="sxs-lookup"><span data-stu-id="58343-214">Value</span></span>|<span data-ttu-id="58343-215">解释</span><span class="sxs-lookup"><span data-stu-id="58343-215">Explanation</span></span>|  
    |--------------|-----------|-----------------|  
    |<span data-ttu-id="58343-216">应用程序名称</span><span class="sxs-lookup"><span data-stu-id="58343-216">Application Name</span></span>|<span data-ttu-id="58343-217">\<Name></span><span class="sxs-lookup"><span data-stu-id="58343-217">\<Name></span></span>|<span data-ttu-id="58343-218">用于将此项目中的程序集部署到的 BizTalk 应用程序的名称。</span><span class="sxs-lookup"><span data-stu-id="58343-218">Name of the BizTalk application to which to deploy the assemblies in this project.</span></span> <span data-ttu-id="58343-219">如果该应用程序已存在，则在你部署该项目时这些程序集将添加到该应用程序中。</span><span class="sxs-lookup"><span data-stu-id="58343-219">If the application already exists, the assemblies will be added to it when you deploy the project.</span></span> <span data-ttu-id="58343-220">如果该应用程序不存在，则将创建该应用程序。</span><span class="sxs-lookup"><span data-stu-id="58343-220">If the application does not exist, the application will be created.</span></span> <span data-ttu-id="58343-221">如果此字段为空，则这些程序集将部署到当前组中的默认 BizTalk 应用程序（默认情况下为“BizTalk Application 1”）中。</span><span class="sxs-lookup"><span data-stu-id="58343-221">If this field is blank, the assemblies will be deployed to the default BizTalk application in the current group, "BizTalk Application 1" by default.</span></span> <span data-ttu-id="58343-222">包含空格的名称必须括在双引号 (") 中。</span><span class="sxs-lookup"><span data-stu-id="58343-222">Names that include spaces must be enclosed by double quotation marks (").</span></span>|  
    |<span data-ttu-id="58343-223">配置数据库</span><span class="sxs-lookup"><span data-stu-id="58343-223">Configuration database</span></span>|<span data-ttu-id="58343-224">\<BizTalk 管理数据库名称 ></span><span class="sxs-lookup"><span data-stu-id="58343-224">\<BizTalk Management database name></span></span>|<span data-ttu-id="58343-225">用于组的 BizTalk 管理数据库的名称，默认情况下为 BizTalkMgmtDb。</span><span class="sxs-lookup"><span data-stu-id="58343-225">Name of the BizTalk Management database for the group, BizTalkMgmtDb by default.</span></span>|  
    |<span data-ttu-id="58343-226">Server</span><span class="sxs-lookup"><span data-stu-id="58343-226">Server</span></span>|<span data-ttu-id="58343-227">\<服务器名称 ></span><span class="sxs-lookup"><span data-stu-id="58343-227">\<Server name></span></span>|<span data-ttu-id="58343-228">作为本地计算机上 BizTalk 管理数据库宿主的 SQL Server 实例的名称。</span><span class="sxs-lookup"><span data-stu-id="58343-228">Name of the SQL Server instance that hosts the BizTalk Management database on the local computer.</span></span> <span data-ttu-id="58343-229">在单台计算机安装中，该名称通常是本地计算机的名称。</span><span class="sxs-lookup"><span data-stu-id="58343-229">In a single-computer installation, this is usually the name of the local computer.</span></span> <span data-ttu-id="58343-230">**注意：**此 BizTalk 项目移动到另一台计算机时，如果你将需要修改服务器属性，以反映新的计算机名称，然后你将能够部署程序集。</span><span class="sxs-lookup"><span data-stu-id="58343-230">**Note:**  If you move this BizTalk project to a different computer, you will need to modify the Server property to reflect the new computer name before you will be able to deploy the assembly.</span></span>|  
    |<span data-ttu-id="58343-231">重新部署</span><span class="sxs-lookup"><span data-stu-id="58343-231">Redeploy</span></span>|<span data-ttu-id="58343-232">True 或 False</span><span class="sxs-lookup"><span data-stu-id="58343-232">True or False</span></span>|<span data-ttu-id="58343-233">如果将此项设置为 True（默认设置），你将能够在不更改版本号的情况下重新部署 BizTalk 程序集。</span><span class="sxs-lookup"><span data-stu-id="58343-233">Setting this to True (the default) enables you to redeploy the BizTalk assemblies without changing the version number.</span></span>|  
    |<span data-ttu-id="58343-234">安装到全局程序集缓存</span><span class="sxs-lookup"><span data-stu-id="58343-234">Install to Global Assembly Cache</span></span>|<span data-ttu-id="58343-235">True 或 False</span><span class="sxs-lookup"><span data-stu-id="58343-235">True or False</span></span>|<span data-ttu-id="58343-236">如果将此项设置为 True（默认设置），则可以在部署程序集时将程序集安装到本地计算机上的全局程序集缓存 (GAC) 中。</span><span class="sxs-lookup"><span data-stu-id="58343-236">Setting this to True (the default) installs the assemblies to the global assembly cache (GAC) on the local computer when you deploy the assembly.</span></span>|  
    |<span data-ttu-id="58343-237">重新启动主机实例</span><span class="sxs-lookup"><span data-stu-id="58343-237">Restart Host instances</span></span>|<span data-ttu-id="58343-238">True 或 False</span><span class="sxs-lookup"><span data-stu-id="58343-238">True or False</span></span>|<span data-ttu-id="58343-239">如果将此项设置为 True，则可以在重新部署程序集时自动重新启动在本地计算机上运行的所有主机实例。</span><span class="sxs-lookup"><span data-stu-id="58343-239">Setting this to True automatically restarts all host instances running on the local computer when the assembly is redeployed.</span></span> <span data-ttu-id="58343-240">如果将此项设置为 False（默认设置），则必须在你重新部署某一程序集时手动重新启动这些主机实例。</span><span class="sxs-lookup"><span data-stu-id="58343-240">If set to False (the default), you must manually restart the host instances when you redeploy an assembly.</span></span> <span data-ttu-id="58343-241">**注意：**如果要重新部署解决方案级别中的程序集，主机实例将重新启动一次每个项目具有此选项设置为 True。</span><span class="sxs-lookup"><span data-stu-id="58343-241">**Note:**  If you are redeploying assemblies from the solution level, host instances will be restarted once for each project that has this option set to True.</span></span> <span data-ttu-id="58343-242">这样可能导致多次重新启动。</span><span class="sxs-lookup"><span data-stu-id="58343-242">This may result in multiple restarts.</span></span> <span data-ttu-id="58343-243">如果计划在解决方案级重新部署，你可能希望针对解决方案中的一个项目将此属性设置 True，以避免多次主机实例重新启动。</span><span class="sxs-lookup"><span data-stu-id="58343-243">If you plan to redeploy from the solution level, you may want to set this property to True on only one project in the solution to avoid multiple host instance restarts.</span></span> <span data-ttu-id="58343-244">此设置应针对将在解决方案中重新部署的最后一个项目进行。</span><span class="sxs-lookup"><span data-stu-id="58343-244">This should be set on the last project that will be redeployed in the solution.</span></span> <span data-ttu-id="58343-245">此外，如果在你执行重新部署时，主机实例停止，它将不会被启动。</span><span class="sxs-lookup"><span data-stu-id="58343-245">In addition, if a host instance is stopped when you perform the redeploy, it will not be started.</span></span>|  
    |<span data-ttu-id="58343-246">启用单元测试</span><span class="sxs-lookup"><span data-stu-id="58343-246">Enable Unit Testing</span></span>|<span data-ttu-id="58343-247">True 或 False</span><span class="sxs-lookup"><span data-stu-id="58343-247">True or False</span></span>|<span data-ttu-id="58343-248">指定是否启用项目的单元测试。</span><span class="sxs-lookup"><span data-stu-id="58343-248">Specifies whether to enable unit testing for the project.</span></span>|  
  
4.  <span data-ttu-id="58343-249">对于解决方案中的每个项目，重复执行步骤 1、2 和 3。</span><span class="sxs-lookup"><span data-stu-id="58343-249">Repeat steps 1, 2, and 3 for each project in the solution.</span></span>  
  
 <span data-ttu-id="58343-250">部署过程要求程序集是强签名的。</span><span class="sxs-lookup"><span data-stu-id="58343-250">The deployment process requires that assembly is strongly signed.</span></span> <span data-ttu-id="58343-251">你可以通过将该项目与一个强名称程序集密钥文件相关联，使你的程序集成为强名称程序集。</span><span class="sxs-lookup"><span data-stu-id="58343-251">You strongly sign your assemblies by associating the project with a strong name assembly key file.</span></span> <span data-ttu-id="58343-252">如果尚未这样做，则使用以下过程生成一个强名称程序集密钥文件。</span><span class="sxs-lookup"><span data-stu-id="58343-252">If you haven't already done so, use the following procedure to generate a strong name assembly key file.</span></span>  
  
###### <a name="to-create-a-strong-name-assembly-key-file"></a><span data-ttu-id="58343-253">创建强名称程序集密钥文件</span><span class="sxs-lookup"><span data-stu-id="58343-253">To create a strong name assembly key file</span></span>  
  
1.  <span data-ttu-id="58343-254">启动**Visual Studio 命令提示**。</span><span class="sxs-lookup"><span data-stu-id="58343-254">Start **Visual Studio Command Prompt**.</span></span>  
  
2.  <span data-ttu-id="58343-255">在命令提示符下，从你要存储密钥文件的文件夹，键入以下命令，然后按 Enter 键：</span><span class="sxs-lookup"><span data-stu-id="58343-255">At the command prompt, from the folder where you want to store the key file, type the following command, and then press ENTER:</span></span>  
  
     <span data-ttu-id="58343-256">**sn-k***file_name* **.snk** </span><span class="sxs-lookup"><span data-stu-id="58343-256">**sn -k**  *file_name* **.snk**</span></span>  
  
     <span data-ttu-id="58343-257">示例： **sn-k ErrorHandling.snk**</span><span class="sxs-lookup"><span data-stu-id="58343-257">Example: **sn -k ErrorHandling.snk**</span></span>  
  
     <span data-ttu-id="58343-258">一条确认消息，**密钥对写入到\<**  *file_name***>.snk** `,`显示命令行上。</span><span class="sxs-lookup"><span data-stu-id="58343-258">A confirmation message, **Key pair written to \<***file_name***>.snk**`,` displays on the command line.</span></span>  
  
 <span data-ttu-id="58343-259">接下来，你需要将解决方案中的每个项目都与密钥文件相关联。</span><span class="sxs-lookup"><span data-stu-id="58343-259">Next you need to associate each project in the solution with the key file.</span></span>  
  
###### <a name="to-associate-your-projects-with-the-key-file"></a><span data-ttu-id="58343-260">将你的项目与密钥文件相关联</span><span class="sxs-lookup"><span data-stu-id="58343-260">To associate your projects with the key file</span></span>  
  
1.  <span data-ttu-id="58343-261">在[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]解决方案资源管理器，右键单击项目，然后单击**属性**。</span><span class="sxs-lookup"><span data-stu-id="58343-261">In [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] Solution Explorer, right-click the project and then click **Properties**.</span></span>  
  
2.  <span data-ttu-id="58343-262">单击**签名**项目设计器中的选项卡。</span><span class="sxs-lookup"><span data-stu-id="58343-262">Click the **Signing** tab in Project Designer.</span></span>  
  
3.  <span data-ttu-id="58343-263">在右窗格中，检查**对程序集签名**框。</span><span class="sxs-lookup"><span data-stu-id="58343-263">In the right pane, check the **Sign the assembly** box.</span></span>  
  
4.  <span data-ttu-id="58343-264">单击下的下拉列表框中**选择强名称密钥文件**，单击**\<浏览 … >**，然后浏览到该密钥文件。</span><span class="sxs-lookup"><span data-stu-id="58343-264">Click the drop-down box under **Choose a strong name key file**, click **\<Browse…>**, and then browse to the key file.</span></span>  
  
5.  <span data-ttu-id="58343-265">单击密钥文件，然后单击**打开**。</span><span class="sxs-lookup"><span data-stu-id="58343-265">Click the key file and click **Open**.</span></span>  
  
6.  <span data-ttu-id="58343-266">对于你的解决方案中的每个项目，重复执行步骤 1 到 5。</span><span class="sxs-lookup"><span data-stu-id="58343-266">Repeat steps 1 through 5 for each project in your solution.</span></span>  
  
 <span data-ttu-id="58343-267">现在，你可以按如下所示通过一步在解决方案中生成和部署所有程序集。</span><span class="sxs-lookup"><span data-stu-id="58343-267">Now you can build and deploy all of the assemblies in the solution in one step, as follows.</span></span>  
  
###### <a name="to-deploy-the-assemblies-in-a-solution"></a><span data-ttu-id="58343-268">在解决方案中部署程序集</span><span class="sxs-lookup"><span data-stu-id="58343-268">To deploy the assemblies in a solution</span></span>  
  
-   <span data-ttu-id="58343-269">在[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]解决方案资源管理器，右键单击解决方案，并依次**部署解决方案**。</span><span class="sxs-lookup"><span data-stu-id="58343-269">In [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] Solution Explorer, right-click the solution, and then click **Deploy Solution**.</span></span>  
  
     <span data-ttu-id="58343-270">生成和部署过程的状态显示在该页的左下角中。</span><span class="sxs-lookup"><span data-stu-id="58343-270">The status of the build and deployment process displays in the lower left corner of the page.</span></span> <span data-ttu-id="58343-271">如果你在使用 ErrorHandling 示例解决方案，则在输出窗口中将显示几个警告消息。</span><span class="sxs-lookup"><span data-stu-id="58343-271">If you are using the ErrorHandling sample solution, several warning messages will display in the output window.</span></span> <span data-ttu-id="58343-272">就本演练的目的而言，你可以忽略这些警告。</span><span class="sxs-lookup"><span data-stu-id="58343-272">For the purposes of this walkthrough, you can ignore these.</span></span> <span data-ttu-id="58343-273">部署完成后，"部署： 2 成功，0 失败，0 被跳过"将显示在[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]输出窗口。</span><span class="sxs-lookup"><span data-stu-id="58343-273">When the deployment is complete, "Deploy: 2 succeeded, 0 failed, 0 skipped” is displayed in the [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] Output window.</span></span>  
  
 <span data-ttu-id="58343-274">部署 BizTalk 程序集可将它们作为 BizTalk 管理数据库中指定 BizTalk 应用程序的一部分注册。</span><span class="sxs-lookup"><span data-stu-id="58343-274">Deploying BizTalk assemblies registers them as part of the specified BizTalk application in the BizTalk Management database.</span></span> <span data-ttu-id="58343-275">它还将填充的数据库的所有项，或*项目*，包含在程序集。</span><span class="sxs-lookup"><span data-stu-id="58343-275">It also populates the database with all of the items, or *artifacts*, contained in the assemblies.</span></span> <span data-ttu-id="58343-276">如果该应用程序在部署前已不存在，则此步骤还创建新的应用程序。</span><span class="sxs-lookup"><span data-stu-id="58343-276">If the application did not already exist before the deployment, this step also creates a new application.</span></span> <span data-ttu-id="58343-277">你现在可以从开发计算机上的 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理控制台查看 BizTalk 应用程序及其项目。</span><span class="sxs-lookup"><span data-stu-id="58343-277">You can now view the BizTalk application and its artifacts from within the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console on the development computer.</span></span>  
  
###### <a name="to-view-the-biztalk-application-and-its-artifacts"></a><span data-ttu-id="58343-278">查看 BizTalk 应用程序和其项目</span><span class="sxs-lookup"><span data-stu-id="58343-278">To view the BizTalk application and its artifacts</span></span>  
  
1.  <span data-ttu-id="58343-279">单击**启动**，单击**所有程序**，单击[!INCLUDE[btsBizTalkServerStartMenuItemui](../includes/btsbiztalkserverstartmenuitemui-md.md)]，然后单击**BizTalk Server 管理**。</span><span class="sxs-lookup"><span data-stu-id="58343-279">Click **Start**, click **All Programs**, click [!INCLUDE[btsBizTalkServerStartMenuItemui](../includes/btsbiztalkserverstartmenuitemui-md.md)], and then click **BizTalk Server Administration**.</span></span>  
  
2.  <span data-ttu-id="58343-280">在控制台树中，展开[!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)]，展开**BizTalk 组**，然后展开**应用程序**。</span><span class="sxs-lookup"><span data-stu-id="58343-280">In the console tree, expand [!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)], expand **BizTalk Group**, and then expand **Applications**.</span></span>  
  
3.  <span data-ttu-id="58343-281">展开你刚部署了程序集的应用程序的文件夹。</span><span class="sxs-lookup"><span data-stu-id="58343-281">Expand the folder of the application to which you just deployed your assemblies.</span></span>  
  
4.  <span data-ttu-id="58343-282">单击该应用程序文件夹下的文件夹，以查看其内容。</span><span class="sxs-lookup"><span data-stu-id="58343-282">Click the folders under the application folder to view their contents.</span></span> <span data-ttu-id="58343-283">在相应的文件夹中，你应该看到在部署的程序集中已包含的项目。</span><span class="sxs-lookup"><span data-stu-id="58343-283">In the appropriate folders, you should see the artifacts that were contained in the assemblies that you deployed.</span></span> <span data-ttu-id="58343-284">如果你部署了 ErrorHandling 示例 BizTalk 解决方案，则应在“业务流程”、“架构”和“资源”文件夹中看到项目。</span><span class="sxs-lookup"><span data-stu-id="58343-284">If you deployed the ErrorHandling sample BizTalk Solution, you should see artifacts in the Orchestrations, Schemas, and Resources folders.</span></span> <span data-ttu-id="58343-285">你可以右键单击项目，然后单击**属性**要查看其配置设置。</span><span class="sxs-lookup"><span data-stu-id="58343-285">You can right-click an artifact and click **Properties** to view its configuration settings.</span></span>  
  
5.  <span data-ttu-id="58343-286">展开**资源**文件夹中，右键单击其中一个程序集，并依次**修改**。</span><span class="sxs-lookup"><span data-stu-id="58343-286">Expand the **Resources** folder, right-click one of the assemblies, and then click **Modify**.</span></span>  
  
6.  <span data-ttu-id="58343-287">在**选项**框中，记下配置程序集的部署选项。</span><span class="sxs-lookup"><span data-stu-id="58343-287">In the **Options** box, note the deployment options that are configured for the assembly.</span></span>  
  
7.  <span data-ttu-id="58343-288">在**目标位置**，请注意安装应用程序时的程序集文件将复制到其中的位置的路径。</span><span class="sxs-lookup"><span data-stu-id="58343-288">In **Destination location**, note the path to the location where the assembly file will be copied when the application is installed.</span></span> <span data-ttu-id="58343-289">默认情况下，该位置是程序集的源位置。</span><span class="sxs-lookup"><span data-stu-id="58343-289">This is the source location of the assembly by default.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="58343-290">如果你的应用程序不会显示，请右键单击**BizTalk 组**单击**刷新**。</span><span class="sxs-lookup"><span data-stu-id="58343-290">If your application does not display, right-click **BizTalk Group** and click **Refresh**.</span></span>  
  
 <span data-ttu-id="58343-291">有关部署的程序集的详细信息，请参阅[部署 BizTalk 中的程序集到 BizTalk 应用程序的 Visual Studio](../core/deploying-biztalk-assemblies-from-visual-studio-into-a-biztalk-application.md)。</span><span class="sxs-lookup"><span data-stu-id="58343-291">For more information about deploying assemblies, see [Deploying BizTalk Assemblies from Visual Studio into a BizTalk Application](../core/deploying-biztalk-assemblies-from-visual-studio-into-a-biztalk-application.md).</span></span>  
  
#### <a name="3-configure-the-application"></a><span data-ttu-id="58343-292">3.配置应用程序</span><span class="sxs-lookup"><span data-stu-id="58343-292">3. Configure the application</span></span>  
 <span data-ttu-id="58343-293">从 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理控制台，你可以通过创建、添加和配置项目来配置你的应用程序。</span><span class="sxs-lookup"><span data-stu-id="58343-293">From the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, you can configure your application by creating, adding, and configuring artifacts.</span></span>  
  
 <span data-ttu-id="58343-294">为使应用程序正常运行，必须正确配置该应用程序。</span><span class="sxs-lookup"><span data-stu-id="58343-294">For an application to function, it must be properly configured.</span></span> <span data-ttu-id="58343-295">例如，业务流程必须绑定到某一主机，并且必须配置有发送端口和接收位置。</span><span class="sxs-lookup"><span data-stu-id="58343-295">For example, orchestrations must be bound to a host, and must have send ports and receive locations configured.</span></span> <span data-ttu-id="58343-296">如果你部署了 ErrorHandling 示例解决方案，则请注意，该应用程序没有发送端口、接收端口或接收位置。</span><span class="sxs-lookup"><span data-stu-id="58343-296">If you deployed the ErrorHandling sample solution, you will notice that the application has no send ports, receive ports, or receive locations.</span></span> <span data-ttu-id="58343-297">这意味着，这些业务流程不能发送或接收消息。</span><span class="sxs-lookup"><span data-stu-id="58343-297">This means that the orchestrations cannot send or receive messages.</span></span> <span data-ttu-id="58343-298">有关配置应用程序的指导已超出了本演练的范围。</span><span class="sxs-lookup"><span data-stu-id="58343-298">It is outside the scope of this walkthrough to give instructions on configuring an application.</span></span> <span data-ttu-id="58343-299">不过，如果你想进行配置，最快的方法就是使用“配置应用程序”对话框，你可以通过右键单击应用程序并单击“配置”来访问该对话框。</span><span class="sxs-lookup"><span data-stu-id="58343-299">If you want to do so, however, the quickest approach is to use the Configure Application dialog box, which you access by right-clicking the application and clicking Configure.</span></span> <span data-ttu-id="58343-300">有关详细信息，请参阅[如何配置应用程序](../core/how-to-configure-an-application.md)。</span><span class="sxs-lookup"><span data-stu-id="58343-300">For more information, see [How to Configure an Application](../core/how-to-configure-an-application.md).</span></span> <span data-ttu-id="58343-301">除了此方法之外，你还可以配置业务流程，以及单独创建、配置和删除发送端口、发送端口组、接收端口和接收位置。</span><span class="sxs-lookup"><span data-stu-id="58343-301">In addition to this approach, you can also configure orchestrations as well as create, configure, and delete send ports, send port groups, receive ports, and receive locations individually.</span></span> <span data-ttu-id="58343-302">有关详细信息，请参阅中的相应主题[管理项目](../core/managing-artifacts.md)。</span><span class="sxs-lookup"><span data-stu-id="58343-302">For more information, see the appropriate topics in [Managing Artifacts](../core/managing-artifacts.md).</span></span>  
  
 <span data-ttu-id="58343-303">你可能还想要添加到你的应用程序项目中（例如预处理脚本或自述文件），或者想要删除项目。</span><span class="sxs-lookup"><span data-stu-id="58343-303">You might also want to add to your application artifacts, such as pre-processing scripts or Readme files, or remove artifacts.</span></span> <span data-ttu-id="58343-304">你可以使用以下过程尝试此功能。</span><span class="sxs-lookup"><span data-stu-id="58343-304">You can try out this functionality using the following procedures.</span></span> <span data-ttu-id="58343-305">（ErrorHandling 示例并不包括你可以添加的附加项目；但你可以通过添加已在你的环境中存在的项，测试此功能。）</span><span class="sxs-lookup"><span data-stu-id="58343-305">(The ErrorHandling sample does not include additional artifacts that you can add; however, you can test this functionality by adding items that might already exist in your environment.)</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="58343-306">你可以使用预处理和后处理脚本，在应用程序导入、安装或卸载之前或之后执行操作。</span><span class="sxs-lookup"><span data-stu-id="58343-306">You can use pre- and post-processing scripts to perform actions before or after application import, installation, or uninstallation.</span></span> <span data-ttu-id="58343-307">例如，可能要在卸载后使用预处理脚本从 GAC 卸载程序集。</span><span class="sxs-lookup"><span data-stu-id="58343-307">For example, you might want to use a pre-processing script to uninstall assemblies from the GAC following uninstallation.</span></span> <span data-ttu-id="58343-308">有关详细信息，请参阅[使用自定义应用程序部署到的前期和后期处理脚本](../core/using-pre-and-post-processing-scripts-to-customize-application-deployment.md)。</span><span class="sxs-lookup"><span data-stu-id="58343-308">For more information, see [Using Pre- and Post-processing Scripts to Customize Application Deployment](../core/using-pre-and-post-processing-scripts-to-customize-application-deployment.md).</span></span>  
  
###### <a name="to-add-an-artifact-to-an-application"></a><span data-ttu-id="58343-309">向应用程序添加项目</span><span class="sxs-lookup"><span data-stu-id="58343-309">To add an artifact to an application</span></span>  
  
1.  <span data-ttu-id="58343-310">打开 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理控制台。</span><span class="sxs-lookup"><span data-stu-id="58343-310">Open the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console.</span></span> <span data-ttu-id="58343-311">单击**启动**，单击**所有程序**，单击[!INCLUDE[btsBizTalkServerStartMenuItemui](../includes/btsbiztalkserverstartmenuitemui-md.md)]，然后单击**BizTalk Server 管理**。</span><span class="sxs-lookup"><span data-stu-id="58343-311">Click **Start**, click **All Programs**, click [!INCLUDE[btsBizTalkServerStartMenuItemui](../includes/btsbiztalkserverstartmenuitemui-md.md)], and then click **BizTalk Server Administration**.</span></span>  
  
2.  <span data-ttu-id="58343-312">在控制台树中，展开[!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)]，展开**BizTalk 组**，然后展开**应用程序**。</span><span class="sxs-lookup"><span data-stu-id="58343-312">In the console tree, expand [!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)], expand **BizTalk Group**, and then expand **Applications**.</span></span>  
  
3.  <span data-ttu-id="58343-313">若要添加以下类型的项目，右键单击 ErrorHandling 应用程序文件夹，并依次**添加**。</span><span class="sxs-lookup"><span data-stu-id="58343-313">To add the following types of artifacts, right-click the ErrorHandling application folder, and then click **Add**.</span></span> <span data-ttu-id="58343-314">请注意，在你添加某一 BizTalk 程序集时，它所包含的项目也会添加到该应用程序的相应文件夹中。</span><span class="sxs-lookup"><span data-stu-id="58343-314">Notice that when you add a BizTalk assembly, the artifacts that it contains are also added to the appropriate folders in the application.</span></span>  
  
    -   <span data-ttu-id="58343-315">BizTalk 程序集</span><span class="sxs-lookup"><span data-stu-id="58343-315">BizTalk assemblies</span></span>  
  
    -   <span data-ttu-id="58343-316">预处理脚本</span><span class="sxs-lookup"><span data-stu-id="58343-316">Pre-processing scripts</span></span>  
  
    -   <span data-ttu-id="58343-317">后续处理脚本</span><span class="sxs-lookup"><span data-stu-id="58343-317">Post-processing scripts</span></span>  
  
    -   <span data-ttu-id="58343-318">资源（BizTalk 程序集、.NET 程序集、预处理脚本、后处理脚本、文件、证书、COM 组件。</span><span class="sxs-lookup"><span data-stu-id="58343-318">Resources (BizTalk assemblies, .NET assemblies, pre-processing scripts, post-processing scripts, files, certificates, COM components.</span></span> <span data-ttu-id="58343-319">BAM 项目、绑定文件和虚拟目录）</span><span class="sxs-lookup"><span data-stu-id="58343-319">BAM artifacts, binding files, and virtual directories)</span></span>  
  
    -   <span data-ttu-id="58343-320">策略</span><span class="sxs-lookup"><span data-stu-id="58343-320">Policies</span></span>  
  
 <span data-ttu-id="58343-321">你也可以从应用程序中删除项目。</span><span class="sxs-lookup"><span data-stu-id="58343-321">You can also remove an artifact from an application.</span></span>  
  
###### <a name="to-remove-an-artifact-from-an-application"></a><span data-ttu-id="58343-322">若要从应用程序中删除项目</span><span class="sxs-lookup"><span data-stu-id="58343-322">To remove an artifact from an application</span></span>  
  
1.  <span data-ttu-id="58343-323">打开 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理控制台。</span><span class="sxs-lookup"><span data-stu-id="58343-323">Open the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console.</span></span> <span data-ttu-id="58343-324">单击**启动**，单击**所有程序**，单击[!INCLUDE[btsBizTalkServerStartMenuItemui](../includes/btsbiztalkserverstartmenuitemui-md.md)]，然后单击**BizTalk Server 管理**。</span><span class="sxs-lookup"><span data-stu-id="58343-324">Click **Start**, click **All Programs**, click [!INCLUDE[btsBizTalkServerStartMenuItemui](../includes/btsbiztalkserverstartmenuitemui-md.md)], and then click **BizTalk Server Administration**.</span></span>  
  
2.  <span data-ttu-id="58343-325">在控制台树中，展开[!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)]，展开**BizTalk 组**，然后展开**应用程序**。</span><span class="sxs-lookup"><span data-stu-id="58343-325">In the console tree, expand [!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)], expand **BizTalk Group**, and then expand **Applications**.</span></span>  
  
3.  <span data-ttu-id="58343-326">展开包含该项目的文件夹，右键单击该项目，然后单击**删除**。</span><span class="sxs-lookup"><span data-stu-id="58343-326">Expand the folder containing the artifact, right-click the artifact, and then click **Remove**.</span></span>  
  
 <span data-ttu-id="58343-327">有关配置你的应用程序的详细信息，请参阅[创建和修改 BizTalk 应用程序](../core/creating-and-modifying-biztalk-applications.md)。</span><span class="sxs-lookup"><span data-stu-id="58343-327">For more information about configuring your application, see [Creating and Modifying BizTalk Applications](../core/creating-and-modifying-biztalk-applications.md).</span></span>  
  
#### <a name="4-export-the-application"></a><span data-ttu-id="58343-328">4.导出应用程序</span><span class="sxs-lookup"><span data-stu-id="58343-328">4. Export the application</span></span>  
 <span data-ttu-id="58343-329">在你创建了某一 BizTalk 应用程序并根据需要进行修改后，可以通过使用 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理控制台中的导出 MSI 文件向导导出该应用程序。</span><span class="sxs-lookup"><span data-stu-id="58343-329">After you have created a BizTalk application and modified it as necessary, you can export the application by using the Export MSI File Wizard in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console.</span></span> <span data-ttu-id="58343-330">这将生成一个 .msi 文件，你以后可将此文件导入到其他 BizTalk 组中，以在新组中重新创建该应用程序。</span><span class="sxs-lookup"><span data-stu-id="58343-330">This generates an .msi file that you can later import into another BizTalk group to recreate the application in the new group.</span></span> <span data-ttu-id="58343-331">若要在特定服务器上运行该应用程序，还必须通过 .msi 文件从本地安装它。</span><span class="sxs-lookup"><span data-stu-id="58343-331">To run the application on a particular server, you must also install it locally from the .msi file.</span></span>  
  
###### <a name="to-export-the-application"></a><span data-ttu-id="58343-332">若要导出应用程序。</span><span class="sxs-lookup"><span data-stu-id="58343-332">To export the application</span></span>  
  
1.  <span data-ttu-id="58343-333">打开 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理控制台。</span><span class="sxs-lookup"><span data-stu-id="58343-333">Open the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console.</span></span> <span data-ttu-id="58343-334">单击**启动**，单击**所有程序**，单击[!INCLUDE[btsBizTalkServerStartMenuItemui](../includes/btsbiztalkserverstartmenuitemui-md.md)]，然后单击**BizTalk Server 管理**。</span><span class="sxs-lookup"><span data-stu-id="58343-334">Click **Start**, click **All Programs**, click [!INCLUDE[btsBizTalkServerStartMenuItemui](../includes/btsbiztalkserverstartmenuitemui-md.md)], and then click **BizTalk Server Administration**.</span></span>  
  
2.  <span data-ttu-id="58343-335">在控制台树中，展开[!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)]，展开**BizTalk 组**，然后展开**应用程序**。</span><span class="sxs-lookup"><span data-stu-id="58343-335">In the console tree, expand [!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)], expand **BizTalk Group**, and then expand **Applications**.</span></span>  
  
3.  <span data-ttu-id="58343-336">右键单击 BizTalk 应用程序，指向**导出**，然后单击**MSI 文件**。</span><span class="sxs-lookup"><span data-stu-id="58343-336">Right-click the BizTalk application, point to **Export**, and then click **MSI file**.</span></span>  
  
4.  <span data-ttu-id="58343-337">上**欢迎使用导出 MSI 文件向导**页上，单击**下一步**。</span><span class="sxs-lookup"><span data-stu-id="58343-337">On the **Welcome to the Export MSI File Wizard** page, click **Next**.</span></span>  
  
5.  <span data-ttu-id="58343-338">上**选择资源**页上，选择的资源，以将导出到.msi 文件，然后单击**下一步**。</span><span class="sxs-lookup"><span data-stu-id="58343-338">On the **Select Resources** page, select the resources to export into the .msi file, and then click **Next**.</span></span> <span data-ttu-id="58343-339">就本演练而言，你可以接受显示的默认值。</span><span class="sxs-lookup"><span data-stu-id="58343-339">For this walkthrough, you can accept the defaults.</span></span>  
  
6.  <span data-ttu-id="58343-340">如果系统提示，请在**指定 IIS 主机**页上，键入承载你想要包括，然后单击的虚拟目录的计算机的服务器名称**下一步**。</span><span class="sxs-lookup"><span data-stu-id="58343-340">If prompted, on the **Specify IIS Hosts** page, type the server name of the computer hosting the virtual directory that you want to include, and then click **Next**.</span></span> <span data-ttu-id="58343-341">仅当先前没有将虚拟目录添加到 BizTalk 管理数据库时（比如将虚拟目录添加到应用程序或将其导入应用程序时），系统才会提示你指定服务器。</span><span class="sxs-lookup"><span data-stu-id="58343-341">You will be prompted to specify the server only if the virtual directory has not been previously added to the BizTalk Management database, such as when it was added to the application or it was imported in an application.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="58343-342">在 ErrorHandling 示例解决方案中没有包括任何虚拟目录。</span><span class="sxs-lookup"><span data-stu-id="58343-342">There are no virtual directories included in the ErrorHandling sample solution.</span></span>  
  
7.  <span data-ttu-id="58343-343">上**依赖关系**页上，查看应用程序的依赖关系，然后单击**下一步**。</span><span class="sxs-lookup"><span data-stu-id="58343-343">On the **Dependencies** page, review the dependencies for the application, and then click **Next**.</span></span>  
  
8.  <span data-ttu-id="58343-344">上**目标**页上，在**目标应用程序名称**，键入应用程序名称。</span><span class="sxs-lookup"><span data-stu-id="58343-344">On the **Destination** page, in **Destination application name**, type the application name.</span></span>  
  
9. <span data-ttu-id="58343-345">在**MSI 文件以生成**，键入.msi 文件的完整路径，然后单击**导出**。</span><span class="sxs-lookup"><span data-stu-id="58343-345">In **MSI file to generate**, type the full path for the .msi file, and then click **Export**.</span></span> <span data-ttu-id="58343-346">示例： C:\MSI\Errorhandling.msi</span><span class="sxs-lookup"><span data-stu-id="58343-346">Example: C:\MSI\Errorhandling.msi</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="58343-347">建议你将 .msi 文件存储在安全的文件夹中。</span><span class="sxs-lookup"><span data-stu-id="58343-347">We recommend that you store .msi files in a secure folder.</span></span>  
  
10. <span data-ttu-id="58343-348">上**摘要**页上，记下此操作，日志文件的位置，然后单击**完成**。</span><span class="sxs-lookup"><span data-stu-id="58343-348">On the **Summary** page, make a note of the location of the log file for this operation, and then click **Finish**.</span></span>  
  
 <span data-ttu-id="58343-349">在文件系统中，确认已在你指定的位置中创建了该 .msi 文件。</span><span class="sxs-lookup"><span data-stu-id="58343-349">In the file system, verify that the .msi file was created in the location that you specified.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="58343-350">为安全起见，在导出应用程序的过程中，密码从应用程序绑定中删除。</span><span class="sxs-lookup"><span data-stu-id="58343-350">For security reasons, during application export, passwords are removed from application bindings.</span></span> <span data-ttu-id="58343-351">从 .msi 文件安装应用程序后，需要重新配置密码，以便使应用程序可以正常运行。</span><span class="sxs-lookup"><span data-stu-id="58343-351">After installing the application from the .msi file, you will need to reconfigure the passwords in order for the application to function.</span></span> <span data-ttu-id="58343-352">不过，密码并没有被从添加到应用程序中的任何绑定文件中删除。</span><span class="sxs-lookup"><span data-stu-id="58343-352">Passwords are not removed, however, from any binding files that you added to the application.</span></span>  
  
 <span data-ttu-id="58343-353">有关导出应用程序和项目的详细信息，请参阅[how to Export BizTalk 应用程序如何](../core/how-to-export-a-biztalk-application.md)。</span><span class="sxs-lookup"><span data-stu-id="58343-353">For more information about exporting applications and artifacts, see [How to Export a BizTalk Application](../core/how-to-export-a-biztalk-application.md).</span></span>  
  
#### <a name="5-import-and-install-the-application"></a><span data-ttu-id="58343-354">5.导入和安装应用程序</span><span class="sxs-lookup"><span data-stu-id="58343-354">5. Import and install the application</span></span>  
 <span data-ttu-id="58343-355">下一步骤是要将应用程序从你刚生成的 .msi 文件导入某一 BizTalk 组，并且还在本地计算机上安装该应用程序。</span><span class="sxs-lookup"><span data-stu-id="58343-355">The next step is to import the application from the .msi file that you just generated into a BizTalk group and also install the application on the local computer.</span></span> <span data-ttu-id="58343-356">你可以使用 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理控制台中的导入 MSI 向导和安装向导执行此操作。</span><span class="sxs-lookup"><span data-stu-id="58343-356">You can use the Import MSI Wizard and the Installation Wizard in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console to do this.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="58343-357">该应用程序必须安装在将运行该应用程序的组中的每台计算机上。</span><span class="sxs-lookup"><span data-stu-id="58343-357">The application must be installed on each computer in the group that will run the application.</span></span> <span data-ttu-id="58343-358">你可以双击该 .msi 文件以便将它安装在其他计算机上。</span><span class="sxs-lookup"><span data-stu-id="58343-358">You can double-click the .msi file to install it on additional computers.</span></span>  
  
 <span data-ttu-id="58343-359">每次你要将一个应用程序从一个 BizTalk 组迁移到另一个组时（例如，在从开发环境迁移到测试环境时、从测试环境迁移到过渡环境时或从过渡环境迁移到生产环境时），都可以重复该步骤中的任务。</span><span class="sxs-lookup"><span data-stu-id="58343-359">You can repeat the tasks in this step each time you want to migrate an application from one BizTalk group to another, such as when migrating from a development environment to a test environment, a test environment to a staging environment, or a staging environment to a production environment.</span></span>  
  
 <span data-ttu-id="58343-360">此时，如果你只使用一台计算机用于本演练，则应从 BizTalk 组中删除该应用程序。</span><span class="sxs-lookup"><span data-stu-id="58343-360">At this point, if you are using only one computer for this walkthrough, you should delete the application from the BizTalk group.</span></span> <span data-ttu-id="58343-361">你还应从全局程序集缓存 (GAC) 中删除这些程序集。</span><span class="sxs-lookup"><span data-stu-id="58343-361">You should also delete the assemblies from the global assembly cache (GAC).</span></span> <span data-ttu-id="58343-362">这样，在你导入应用程序时，将能够确认它已正确重新创建。</span><span class="sxs-lookup"><span data-stu-id="58343-362">This way, when you import the application, you will be able to verify that it has been re-created correctly.</span></span> <span data-ttu-id="58343-363">如果你将多台计算机用于本演练，则无需执行这些任务。</span><span class="sxs-lookup"><span data-stu-id="58343-363">If you are using multiple computers for this walkthrough, you do not need to perform these tasks.</span></span>  
  
###### <a name="to-delete-the-application-from-the-biztalk-group"></a><span data-ttu-id="58343-364">从 BizTalk 组中删除应用程序</span><span class="sxs-lookup"><span data-stu-id="58343-364">To delete the application from the BizTalk group</span></span>  
  
1.  <span data-ttu-id="58343-365">打开 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理控制台。</span><span class="sxs-lookup"><span data-stu-id="58343-365">Open the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console.</span></span> <span data-ttu-id="58343-366">单击**启动**，单击**所有程序**，单击[!INCLUDE[btsBizTalkServerStartMenuItemui](../includes/btsbiztalkserverstartmenuitemui-md.md)]，然后单击**BizTalk Server 管理**。</span><span class="sxs-lookup"><span data-stu-id="58343-366">Click **Start**, click **All Programs**, click [!INCLUDE[btsBizTalkServerStartMenuItemui](../includes/btsbiztalkserverstartmenuitemui-md.md)], and then click **BizTalk Server Administration**.</span></span>  
  
2.  <span data-ttu-id="58343-367">右键单击应用程序，然后单击**删除**。</span><span class="sxs-lookup"><span data-stu-id="58343-367">Right-click the application and click **Delete**.</span></span>  
  
###### <a name="to-delete-assemblies-from-the-gac"></a><span data-ttu-id="58343-368">从 GAC 中删除程序集</span><span class="sxs-lookup"><span data-stu-id="58343-368">To delete assemblies from the GAC</span></span>  
  
1.  <span data-ttu-id="58343-369">在文件系统中，导航到 %systemdrive%\Windows\assembly。</span><span class="sxs-lookup"><span data-stu-id="58343-369">In the file system, navigate to %systemdrive%\Windows\assembly.</span></span>  
  
2.  <span data-ttu-id="58343-370">右键单击你的解决方案已生成每个程序集文件，单击**卸载**，然后单击**是**以确认。</span><span class="sxs-lookup"><span data-stu-id="58343-370">Right-click each assembly file that was generated for your solution, click **Uninstall**, and then click **Yes** to confirm.</span></span> <span data-ttu-id="58343-371">例如，与 ErrorHandling 项目相关联的程序集文件是 ErrorHandling.ErrorHandler 和 ErrorHandling.PipelinesAndSchemas。</span><span class="sxs-lookup"><span data-stu-id="58343-371">For example, the assembly files associated with the ErrorHandling project are ErrorHandling.ErrorHandler and ErrorHandling.PipelinesAndSchemas.</span></span>  
  
     <span data-ttu-id="58343-372">![删除从 GAC 的程序集](../core/media/deleteassembly.gif "DeleteAssembly")</span><span class="sxs-lookup"><span data-stu-id="58343-372">![Delete an assembly from the GAC](../core/media/deleteassembly.gif "DeleteAssembly")</span></span>  
  
 <span data-ttu-id="58343-373">现在，你可以将应用程序导入 BizTalk 组中了。</span><span class="sxs-lookup"><span data-stu-id="58343-373">Now you are ready to import the application into a BizTalk group.</span></span> <span data-ttu-id="58343-374">如果你想要将该应用程序导入在其他计算机上运行的某一 BizTalk 组中，则该 .msi 文件必须可从其他计算机访问。</span><span class="sxs-lookup"><span data-stu-id="58343-374">If you want to import the application into a BizTalk group running on another computer, the .msi file must be accessible from the other computer.</span></span>  
  
> [!CAUTION]
>  <span data-ttu-id="58343-375">在安装任何应用程序之前，请确保接收的 .msi 文件来自可信来源。</span><span class="sxs-lookup"><span data-stu-id="58343-375">Before you install any application, be sure that you have received the .msi file from a trusted source.</span></span> <span data-ttu-id="58343-376">恶意用户可在 .msi 文件中包括代码，可能会对系统或网络造成不良影响。</span><span class="sxs-lookup"><span data-stu-id="58343-376">A malicious user can include code in an .msi file that can have an undesirable effect on your system or network.</span></span> <span data-ttu-id="58343-377">有关详细信息，请参阅[安全和 Windows Installer](../core/security-and-windows-installer.md)。</span><span class="sxs-lookup"><span data-stu-id="58343-377">For more information, see [Security and Windows Installer](../core/security-and-windows-installer.md).</span></span>  
  
###### <a name="to-import-and-install-the-application"></a><span data-ttu-id="58343-378">若要导入并安装应用程序</span><span class="sxs-lookup"><span data-stu-id="58343-378">To import and install the application</span></span>  
  
1.  <span data-ttu-id="58343-379">为要导入该应用程序的 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 的实例打开 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理控制台。</span><span class="sxs-lookup"><span data-stu-id="58343-379">Open the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console for the instance of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] into which you want to import the application.</span></span> <span data-ttu-id="58343-380">单击**启动**，单击**所有程序**，单击[!INCLUDE[btsBizTalkServerStartMenuItemui](../includes/btsbiztalkserverstartmenuitemui-md.md)]，然后单击**BizTalk Server 管理**。</span><span class="sxs-lookup"><span data-stu-id="58343-380">Click **Start**, click **All Programs**, click [!INCLUDE[btsBizTalkServerStartMenuItemui](../includes/btsbiztalkserverstartmenuitemui-md.md)], and then click **BizTalk Server Administration**.</span></span>  
  
2.  <span data-ttu-id="58343-381">在控制台树中，展开[!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)]，然后展开**BizTalk 组**。</span><span class="sxs-lookup"><span data-stu-id="58343-381">In the console tree, expand [!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)], and then expand **BizTalk Group**.</span></span>  
  
3.  <span data-ttu-id="58343-382">右键单击**应用程序**，指向**导入**，然后单击**MSI 文件**。</span><span class="sxs-lookup"><span data-stu-id="58343-382">Right-click **Applications**, point to **Import**, and then click **MSI file**.</span></span>  
  
4.  <span data-ttu-id="58343-383">上**欢迎使用导入向导**页上，在**MSI 文件以导入**，键入.msi 文件的完整路径，然后单击**下一步**。</span><span class="sxs-lookup"><span data-stu-id="58343-383">On the **Welcome to the Import Wizard** page, in **MSI file to import**, type the complete path of the .msi file, and then click **Next**.</span></span> <span data-ttu-id="58343-384">示例： C:\msi\MyApplication.msi</span><span class="sxs-lookup"><span data-stu-id="58343-384">Example: C:\msi\MyApplication.msi</span></span>  
  
5.  <span data-ttu-id="58343-385">上**应用程序设置**页上，在**可用的应用程序将引用添加到**，选择要添加的引用，，然后单击应用程序**下一步**。</span><span class="sxs-lookup"><span data-stu-id="58343-385">On the **Application Settings** page, in **Available applications to add references to**, select the applications to which to add references, and then click **Next**.</span></span> <span data-ttu-id="58343-386">如果你在使用 ErrorHandling 示例解决方案，则可以接受默认值。</span><span class="sxs-lookup"><span data-stu-id="58343-386">If you are using the ErrorHandling sample solution, you can accept the defaults.</span></span>  
  
     <span data-ttu-id="58343-387">![将引用添加到应用程序](../core/media/appreferences.gif "AppReferences")</span><span class="sxs-lookup"><span data-stu-id="58343-387">![Add references to an application](../core/media/appreferences.gif "AppReferences")</span></span>  
  
6.  <span data-ttu-id="58343-388">上**应用程序目标环境设置**页上，确认**\<默认 >**已选择，单击**下一步**。</span><span class="sxs-lookup"><span data-stu-id="58343-388">On the **Application Target Environment Settings** page, confirm that **\<Default>** is selected and click **Next**.</span></span>  
  
7.  <span data-ttu-id="58343-389">上**导入摘要**页上，确认的摘要信息是否正确，，然后单击**导入**。</span><span class="sxs-lookup"><span data-stu-id="58343-389">On the **Import Summary** page, confirm that the summary information is correct, and then click **Import**.</span></span>  
  
8.  <span data-ttu-id="58343-390">在导入 MSI 向导的最后一个屏幕上，选择**运行应用程序安装向导在本地计算机上安装应用程序**，然后单击**完成**。</span><span class="sxs-lookup"><span data-stu-id="58343-390">On the final screen of the Import MSI Wizard, select **Run the Application Installation Wizard to install the application on the local computer**, and then click **Finish**.</span></span>  
  
     <span data-ttu-id="58343-391">![从导入向导中启动安装](../core/media/startinstallation.gif "StartInstallation")</span><span class="sxs-lookup"><span data-stu-id="58343-391">![Start installation from the Import Wizard](../core/media/startinstallation.gif "StartInstallation")</span></span>  
  
9. <span data-ttu-id="58343-392">上**选择安装文件夹**页上，在**文件夹**，键入 BizTalk 应用程序，安装路径，然后单击**下一步**。</span><span class="sxs-lookup"><span data-stu-id="58343-392">On the **Select Installation Folder** page, in **Folder**, type the installation path for the BizTalk application, and then click **Next**.</span></span>  
  
10. <span data-ttu-id="58343-393">单击**下一步**接下来的三页以继续安装上。</span><span class="sxs-lookup"><span data-stu-id="58343-393">Click **Next** on the next three pages to continue the installation.</span></span>  
  
     <span data-ttu-id="58343-394">Windows Installer 会将该应用程序安装在本地计算机上。</span><span class="sxs-lookup"><span data-stu-id="58343-394">Windows Installer installs the application on the local computer.</span></span>  
  
11. <span data-ttu-id="58343-395">上**安装完成**页上，单击**关闭**。</span><span class="sxs-lookup"><span data-stu-id="58343-395">On the **Installation Complete** page, click **Close**.</span></span>  
  
 <span data-ttu-id="58343-396">有关导入应用程序的详细信息，请参阅[如何导入 BizTalk 应用程序](../core/how-to-import-a-biztalk-application.md)。</span><span class="sxs-lookup"><span data-stu-id="58343-396">For more information about importing applications, see [How to Import a BizTalk Application](../core/how-to-import-a-biztalk-application.md).</span></span> <span data-ttu-id="58343-397">有关安装应用程序的详细信息，请参阅[如何安装 BizTalk 应用程序](../core/how-to-install-a-biztalk-application.md)。</span><span class="sxs-lookup"><span data-stu-id="58343-397">For more information about installing applications, see [How to Install a BizTalk Application](../core/how-to-install-a-biztalk-application.md).</span></span>  
  
 <span data-ttu-id="58343-398">接下来，你可以通过验证以下内容，确保该应用程序已导入和安装：</span><span class="sxs-lookup"><span data-stu-id="58343-398">Next, you can make sure that the application was imported and installed by verifying the following:</span></span>  
  
-   <span data-ttu-id="58343-399">该应用程序及其所有项目均存在于管理控制台的该应用程序的文件夹中。</span><span class="sxs-lookup"><span data-stu-id="58343-399">The application and all of its artifacts exist in the application's folder in the Administration Console.</span></span>  
  
-   <span data-ttu-id="58343-400">应用程序的程序集存在于 GAC 中。</span><span class="sxs-lookup"><span data-stu-id="58343-400">The application assemblies exist in the GAC.</span></span>  
  
-   <span data-ttu-id="58343-401">与该应用程序相关联的文件存在于你安装该应用程序时指定的路径中。</span><span class="sxs-lookup"><span data-stu-id="58343-401">The files associated with the application exist in the path that you specified when you installed the application.</span></span>  
  
-   <span data-ttu-id="58343-402">该应用程序显示在“添加或删除程序”控制面板中。</span><span class="sxs-lookup"><span data-stu-id="58343-402">The application displays in Add or Remove Programs control panel.</span></span>  
  
-   <span data-ttu-id="58343-403">如果你配置了应用程序，以便它可以正常工作，例如通过指定发送和接收端口，你现在可以通过右键单击它，然后单击来启动应用程序**启动**。</span><span class="sxs-lookup"><span data-stu-id="58343-403">If you have configured the application so that it can function, such as by specifying send and receive ports, you can now start the application by right-clicking it and then clicking **Start**.</span></span> <span data-ttu-id="58343-404">但默认情况下，ErrorHandling 示例应用程序没有设置为可供使用。因此，除非你已手动配置它，否则，将不能启动它。</span><span class="sxs-lookup"><span data-stu-id="58343-404">The ErrorHandling sample application is not set up to function by default, however, so unless you have manually configured it, you will not be able to start it.</span></span>  
  
-   <span data-ttu-id="58343-405">若要从 BizTalk 组和本地计算机中完全删除应用程序，请按照中的说明[正在取消部署的 BizTalk 应用程序](../core/undeploying-biztalk-applications.md)。</span><span class="sxs-lookup"><span data-stu-id="58343-405">To completely remove the application from the BizTalk group and the local computer, follow the instructions in [Undeploying BizTalk Applications](../core/undeploying-biztalk-applications.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="58343-406">另请参阅</span><span class="sxs-lookup"><span data-stu-id="58343-406">See Also</span></span>  
[<span data-ttu-id="58343-407">了解 BizTalk 应用程序部署和管理</span><span class="sxs-lookup"><span data-stu-id="58343-407">Understanding BizTalk Application Deployment and Management</span></span>](../core/understanding-biztalk-application-deployment-and-management.md)