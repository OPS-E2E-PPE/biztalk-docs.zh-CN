---
title: 适配器变量 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: aeda96bc-5141-4c42-8a29-b0a28bc47aa4
caps.latest.revision: 25
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: f23b94fcaa3c352e7fb83d1e6641d1b12054981c
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65361187"
---
# <a name="adapter-variables"></a><span data-ttu-id="6b1ff-102">适配器变量</span><span class="sxs-lookup"><span data-stu-id="6b1ff-102">Adapter Variables</span></span>
<span data-ttu-id="6b1ff-103">有许多需要处理任何自定义适配器的变量。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-103">There are a number of variables that any custom adapter needs to handle.</span></span> <span data-ttu-id="6b1ff-104">分配给适配器实现这些变量影响自定义逻辑的值。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-104">Values assigned to these variables influence custom logic that the adapter implements.</span></span> <span data-ttu-id="6b1ff-105">特定于传输的或特定于应用程序的配置属性还有助于支持您的解决方案。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-105">Transport-specific or application-specific configuration properties can also help to support your solution.</span></span> <span data-ttu-id="6b1ff-106">下表列出了这些常见变量。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-106">The following table lists these common variables.</span></span> <span data-ttu-id="6b1ff-107">您必须确定你是否想要支持自定义适配器中的每个。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-107">You must decide if you want to support each one in your custom adapter.</span></span>  

 <span data-ttu-id="6b1ff-108">对于每个选项，您的适配器必须实现特定接口。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-108">For each option, your adapter must implement specific interfaces.</span></span> <span data-ttu-id="6b1ff-109">下表是一系列变量选项以及指向有关编写适配器代码的详细信息，以支持您的设计决策。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-109">Following the table is a list of variable options with links to more information about writing adapter code to support your design decisions.</span></span>  


|                           <span data-ttu-id="6b1ff-110">适配器变量</span><span class="sxs-lookup"><span data-stu-id="6b1ff-110">Adapter variable</span></span>                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               <span data-ttu-id="6b1ff-111">Description</span><span class="sxs-lookup"><span data-stu-id="6b1ff-111">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|----------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                       <span data-ttu-id="6b1ff-112">通信方向</span><span class="sxs-lookup"><span data-stu-id="6b1ff-112">Communication direction</span></span>                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     <span data-ttu-id="6b1ff-113">**接收。**</span><span class="sxs-lookup"><span data-stu-id="6b1ff-113">**Receive.**</span></span> <span data-ttu-id="6b1ff-114">接收适配器为特定于协议的地址侦听传入消息。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-114">A receive adapter listens to a protocol-specific address for an incoming message.</span></span> <span data-ttu-id="6b1ff-115">当收到一条消息时，接收适配器该消息移交给消息引擎，将消息接收管道传递，最终保存到 MessageBox 数据库。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-115">When a message is received, the receive adapter hands off the message to the Messaging Engine, which passes the message through a receive pipeline to eventually be persisted to the MessageBox database.</span></span><br /><br /> <span data-ttu-id="6b1ff-116">**发送。**</span><span class="sxs-lookup"><span data-stu-id="6b1ff-116">**Send.**</span></span> <span data-ttu-id="6b1ff-117">当消息引擎需要将消息发送到特定终结点时，它将其传递到发送管道。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-117">When the Messaging Engine needs to send a message to a specific endpoint, it passes it to the send pipeline.</span></span> <span data-ttu-id="6b1ff-118">发送适配器接受来自发送管道的消息，并将其发送到发送端口。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-118">A send adapter accepts a message from a send pipeline and sends it to the send port.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|                           <span data-ttu-id="6b1ff-119">适配器宿主</span><span class="sxs-lookup"><span data-stu-id="6b1ff-119">Adapter hosting</span></span>                            | <span data-ttu-id="6b1ff-120">**在进程中。**</span><span class="sxs-lookup"><span data-stu-id="6b1ff-120">**In-process.**</span></span> <span data-ttu-id="6b1ff-121">创建并托管在 BizTalk 服务进程 BTSNTSvc.exe 进程内适配器。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-121">An in-process adapter is created and hosted within the BizTalk service process, BTSNTSvc.exe.</span></span> <span data-ttu-id="6b1ff-122">如果主机是 64 位进程的名为 BTSNTSvc64.exe。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-122">If the host is 64-bit the process is named BTSNTSvc64.exe.</span></span> <span data-ttu-id="6b1ff-123">为简单起见，我们不会提及再次在本部分中的 64 位进程。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-123">For simplicity we will not mention the 64-bit process again in this section.</span></span><br /><br /> <span data-ttu-id="6b1ff-124">这意味着，[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]创建和管理该适配器的生存期，使用传输代理初始化、 适配器处理请求，并且将终止在服务关闭时适配器。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-124">This means that [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] creates and manages the lifetime of the adapter, initializes it with the transport proxy, services the adapter requests, and terminates the adapter upon service shutdown.</span></span><br /><br /> <span data-ttu-id="6b1ff-125">对于进程内适配器，[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]还提供配置信息到适配器在运行时，包括处理程序、 发送端口和接收位置配置。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-125">For in-process adapters, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] also delivers configuration information to the adapter at run time, including handler, send port, and receive location configuration.</span></span> <span data-ttu-id="6b1ff-126">此外，例如服务时段配置的方面被处理由消息引擎，以便该适配器不需要请确保接收位置或发送端口是在服务时段外。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-126">In addition, aspects of configuration such as service windows are handled by the Messaging Engine so that the adapter does not need to ensure that a receive location or send port is outside of a service window.</span></span><br /><br /> <span data-ttu-id="6b1ff-127">请注意，所有发送适配器是进程内适配器，必须在 BTSNTSvc.exe 进程中运行。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-127">Note that all send adapters are in-process adapters and must run in the BTSNTSvc.exe process.</span></span><br /><br /> <span data-ttu-id="6b1ff-128">**隔离。**</span><span class="sxs-lookup"><span data-stu-id="6b1ff-128">**Isolated.**</span></span> <span data-ttu-id="6b1ff-129">在不是独立的主机中创建该适配器属于[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]运行时。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-129">The adapter is created in an isolated host that is not part of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] runtime.</span></span> <span data-ttu-id="6b1ff-130">独立适配器的一个示例是 HTTP 接收适配器，在进程空间的 Internet 信息服务 (IIS) 中运行。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-130">An example of an isolated adapter is the HTTP receive adapter, which runs in the process space of Internet Information Services (IIS).</span></span><br /><br /> <span data-ttu-id="6b1ff-131">IIS 进程模型是由 IIS 管理 ASP.NET 应用程序和 ISAPI 扩展的生存期。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-131">The IIS process model is such that IIS manages the lifetime of ASP.NET applications and ISAPI extensions.</span></span> <span data-ttu-id="6b1ff-132">当[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]无法管理的生命周期的适配器，适配器被称为一个独立适配器。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-132">When [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] cannot manage the lifetime of the adapter, the adapter is referred to as an isolated adapter.</span></span><br /><br /> <span data-ttu-id="6b1ff-133">因为[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]不会管理实例化独立适配器，适配器必须创建其自己的传输代理并传输代理注册自身。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-133">Because [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] does not manage the instantiation of an isolated adapter, the adapter must create its own transport proxy and register itself with that transport proxy.</span></span><br /><br /> <span data-ttu-id="6b1ff-134">请注意，[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]体系结构消除了不必要的进程间通信。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-134">Note that the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] architecture eliminates unnecessary interprocess communication.</span></span> <span data-ttu-id="6b1ff-135">由于独立的适配器和 BizTalk 堆栈是在同一进程中，没有任何进程间通信时该适配器调用消息引擎。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-135">Because the isolated adapter and the BizTalk stack are in the same process, there is no interprocess communication when the adapter is calling the Messaging Engine.</span></span> <span data-ttu-id="6b1ff-136">消息引擎和数据库，这是不可避免之间是唯一的进程间通信。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-136">The only interprocess communication is between the Messaging Engine and the database, which is unavoidable.</span></span><br /><br /> <span data-ttu-id="6b1ff-137">COM + 应用程序不能驻留在非托管代码中编写发送适配器。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-137">COM+ applications cannot host send adapters written in nonmanaged code.</span></span> |
|                       <span data-ttu-id="6b1ff-138">消息交换模式</span><span class="sxs-lookup"><span data-stu-id="6b1ff-138">Message exchange pattern</span></span>                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           <span data-ttu-id="6b1ff-139">**单向。**</span><span class="sxs-lookup"><span data-stu-id="6b1ff-139">**One-way.**</span></span> <span data-ttu-id="6b1ff-140">传入或传出消息。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-140">The message is either incoming or outgoing.</span></span><br /><br /> <span data-ttu-id="6b1ff-141">**请求-响应**（双向）**。**</span><span class="sxs-lookup"><span data-stu-id="6b1ff-141">**Request-Response** (two-way)**.**</span></span> <span data-ttu-id="6b1ff-142">请求-响应适配器始终是接收适配器。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-142">Request-response adapters are always receive adapters.</span></span> <span data-ttu-id="6b1ff-143">请求-响应接收适配器从客户端接收请求消息，并将消息提交到[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-143">A request-response receive adapter receives a request message from the client and submits the message to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="6b1ff-144">之后[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]已处理的请求消息，它将响应消息发送回适配器。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-144">After [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] has processed the request message, it sends a response message back to the adapter.</span></span>  <span data-ttu-id="6b1ff-145">然后，适配器将传输回客户端的响应消息。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-145">The adapter then transmits the response message back to the client.</span></span><br /><br /> <span data-ttu-id="6b1ff-146">**要求-响应**（双向）**。**</span><span class="sxs-lookup"><span data-stu-id="6b1ff-146">**Solicit-Response** (two-way)**.**</span></span> <span data-ttu-id="6b1ff-147">要求-响应适配器始终是发送适配器。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-147">Solicit-response adapters are always send adapters.</span></span> <span data-ttu-id="6b1ff-148">要求响应发送适配器发送的请求消息[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]到目标，等待响应消息，然后将响应消息提交回[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-148">A solicit-response send adapter sends a request message from [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to a destination, waits for a response message, and then submits the response message back to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|                          <span data-ttu-id="6b1ff-149">发送端口绑定</span><span class="sxs-lookup"><span data-stu-id="6b1ff-149">Send port binding</span></span>                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           <span data-ttu-id="6b1ff-150">**动态发送端口和接收位置。**</span><span class="sxs-lookup"><span data-stu-id="6b1ff-150">**Dynamic Send Ports and Receive Locations.**</span></span> <span data-ttu-id="6b1ff-151">URI 变量的发送端口或接收位置中动态使用在运行时确定绑定。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-151">The URI variable for the send port or receive location used in dynamic binding is determined at run time.</span></span><br /><br /> <span data-ttu-id="6b1ff-152">**静态发送端口和接收位置。**</span><span class="sxs-lookup"><span data-stu-id="6b1ff-152">**Static Send Ports and Receive Locations.**</span></span> <span data-ttu-id="6b1ff-153">URI 变量的发送端口或接收位置是静态的且之前运行时配置。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-153">The URI variable for the send port or receive location is static and is configured before run time.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|          <span data-ttu-id="6b1ff-154">同步与异步发送适配器发送</span><span class="sxs-lookup"><span data-stu-id="6b1ff-154">Synchronous send versus asynchronous send adapters</span></span>          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <span data-ttu-id="6b1ff-155">**同步发送适配器。**</span><span class="sxs-lookup"><span data-stu-id="6b1ff-155">**Synchronous send adapter.**</span></span> <span data-ttu-id="6b1ff-156">执行时发送操作，消息引擎将阻止传输代理线程，直到它已发送的消息批，并返回。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-156">While executing a send operation, the Messaging Engine blocks the transport proxy thread until it has sent the batch of messages and returned.</span></span> <span data-ttu-id="6b1ff-157">消息传输时，重试，挂起，或转到下一步操作已完成后，传输代理处理消息删除。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-157">The transport proxy handles message removal after the message is transmitted, retried, suspended, or the move to the next operation is complete.</span></span><br /><br /> <span data-ttu-id="6b1ff-158">**异步发送适配器。**</span><span class="sxs-lookup"><span data-stu-id="6b1ff-158">**Asynchronous send adapter.**</span></span> <span data-ttu-id="6b1ff-159">异步发送适配器不会阻止传输代理线程，但执行发送操作时，而是使用单独的线程。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-159">The asynchronous send adapter does not block the transport proxy thread, but rather uses a separate thread while performing send operations.</span></span> <span data-ttu-id="6b1ff-160">与不同的是同步的适配器，此适配器必须实现所有删除，然后重试逻辑，然后重试。传输代理不处理逻辑。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-160">Unlike the synchronous adapter, this adapter must implement all delete and retry logic itself; the transport proxy does not handle the logic.</span></span><br /><br /> <span data-ttu-id="6b1ff-161">发送异步消息的适配器允许更好地[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]比发送同步消息的性能。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-161">Adapters that send asynchronous messages allow better [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] performance than those that send synchronous messages.</span></span> <span data-ttu-id="6b1ff-162">这是因为线程上花费大量时间等待入站或出站操作完成。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-162">This is because threads spend a lot of time waiting for inbound or outbound operations to complete.</span></span> <span data-ttu-id="6b1ff-163">因为消息引擎高度与 CPU 绑定，则阻止消息引擎线程会降低适配器的性能。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-163">Because the Messaging Engine is highly bound to the CPU, blocking the Messaging Engine thread degrades the performance of the adapters.</span></span><br /><br /> <span data-ttu-id="6b1ff-164">异步传输使用强烈建议，并提高性能。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-164">The use of asynchronous transmissions is strongly encouraged and improves performance.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|                    <span data-ttu-id="6b1ff-165">异步接收适配器</span><span class="sxs-lookup"><span data-stu-id="6b1ff-165">Asynchronous receive adapters</span></span>                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <span data-ttu-id="6b1ff-166">所有接收适配器是异步的。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-166">All receive adapters are asynchronous.</span></span> <span data-ttu-id="6b1ff-167">这意味着适配器提交到 BizTalk 消息引擎的新消息它不会等待返回之前完全处理它们时。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-167">This means when an adapter submits new messages to the BizTalk Messaging Engine it does not wait for them to be completely processed before returning.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|                        <span data-ttu-id="6b1ff-168">事务支持</span><span class="sxs-lookup"><span data-stu-id="6b1ff-168">Transactional support</span></span>                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span data-ttu-id="6b1ff-169">**事务性适配器。**</span><span class="sxs-lookup"><span data-stu-id="6b1ff-169">**Transactional adapter.**</span></span> <span data-ttu-id="6b1ff-170">支持事务性发送和接收的消息。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-170">Supports transactional send and receive of messages.</span></span> <span data-ttu-id="6b1ff-171">在发送端异步批处理的发送适配器仅支持事务。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-171">On the send side, only asynchronous batched send adapters support transactions.</span></span><br /><br /> <span data-ttu-id="6b1ff-172">**非事务性适配器。**</span><span class="sxs-lookup"><span data-stu-id="6b1ff-172">**Non-transactional adapter.**</span></span> <span data-ttu-id="6b1ff-173">它不接收或发送消息的显式事务作用域内适配器。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-173">An adapter that does not receive or send a message within the scope of an explicit transaction.</span></span> <span data-ttu-id="6b1ff-174">许多适配器都是非事务性的因为它们正在送入到或从系统，如 Windows 文件系统中，不支持事务。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-174">Many adapters are non-transactional because they are sending to or from a system, such as the Windows file system, that does not support transactions.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="6b1ff-175">与批处理不受支持的支持批的发送适配器发送适配器</span><span class="sxs-lookup"><span data-stu-id="6b1ff-175">Batch-supported send adapters versus batch-unsupported send adapters</span></span> |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <span data-ttu-id="6b1ff-176">**支持批处理的适配器。**</span><span class="sxs-lookup"><span data-stu-id="6b1ff-176">**Batch-supported adapter.**</span></span> <span data-ttu-id="6b1ff-177">发送适配器可以处理的操作批中的消息。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-177">The send adapter can process messages in batches of operations.</span></span><br /><br /> <span data-ttu-id="6b1ff-178">所有适配器可以收集的所有可用于提交消息，然后将其提交到 MessageBox 数据库，从而减少了必要的数据库更新数。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-178">All adapters can collect all of the messages available for submission, and then submit them to the MessageBox database all at once, thus reducing the number of necessary database updates.</span></span> <span data-ttu-id="6b1ff-179">在某些情况下，这意味着，批处理的长度是一个。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-179">In some cases, this means that the length of the batch is one.</span></span> <span data-ttu-id="6b1ff-180">同样，发送适配器收集的所有可用于发送消息、 将其提取出来，，然后将其一次性全部发送到其目标。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-180">Similarly, send adapters collect all of the messages that are available for sending, extract them, and then send them to their destination all at once.</span></span><br /><br /> <span data-ttu-id="6b1ff-181">一般情况下，[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]一批视为一个用于数据库更新的工作单元。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-181">In general, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] treats a batch as a unit of work for database updates.</span></span> <span data-ttu-id="6b1ff-182">在同一批中，适配器可以提交单向、 请求-响应和要求响应消息;挂起消息;删除消息;请求消息重试以进行传输;或消息被移动到备份传输的请求。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-182">Within the same batch, adapters can submit one-way, request-response, and solicit-response messages; suspend messages; delete messages; request that a message be retried for transmission; or request that a message be moved to the backup transport.</span></span> <span data-ttu-id="6b1ff-183">如有可能，应使用批处理的传输。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-183">Wherever possible, you should use batched transmissions.</span></span><br /><br /> <span data-ttu-id="6b1ff-184">发送和接收适配器可以进行批处理，但批处理的异步发送适配器仅支持事务。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-184">Both send and receive adapters can be batched, but only batched asynchronous send adapters support transactions.</span></span><br /><br /> <span data-ttu-id="6b1ff-185">**批处理不受支持的适配器。**</span><span class="sxs-lookup"><span data-stu-id="6b1ff-185">**Batch-unsupported adapter.**</span></span> <span data-ttu-id="6b1ff-186">每个消息需要对服务器的独立调用。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-186">Each message requires independent calls to the server.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                   <span data-ttu-id="6b1ff-187">支持批处理的接收适配器</span><span class="sxs-lookup"><span data-stu-id="6b1ff-187">Batch-supported receive adapters</span></span>                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  <span data-ttu-id="6b1ff-188">所有接收适配器支持批处理。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-188">All receive adapters support batching.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|       <span data-ttu-id="6b1ff-189">动态与静态设计时适配器配置</span><span class="sxs-lookup"><span data-stu-id="6b1ff-189">Dynamic versus static design-time adapter configuration</span></span>        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <span data-ttu-id="6b1ff-190">**动态适配器设计时。**</span><span class="sxs-lookup"><span data-stu-id="6b1ff-190">**Dynamic Adapter Design-Time.**</span></span> <span data-ttu-id="6b1ff-191">为适配器以支持动态设计时配置必须开发自定义用户界面 (UI) 以使用添加适配器元数据向导。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-191">For an adapter to support dynamic design-time configuration you must develop a custom user interface (UI) to work with the Add Adapter Metadata Wizard.</span></span> <span data-ttu-id="6b1ff-192">此接口允许用户选择要添加到 BizTalk 项目的架构，并通过 Web 服务描述语言 (WSDL) 文件返回其服务说明。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-192">This interface allows the user to select a schema to add to a BizTalk project and returns its service description through a Web Services Description Language (WSDL) file.</span></span> <span data-ttu-id="6b1ff-193">适配器提供了用于获取架构的自定义 UI。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-193">The adapter provides a custom UI to obtain the schemas.</span></span> <span data-ttu-id="6b1ff-194">通过添加适配器元数据向导导入服务时，它将端口类型、 消息类型和业务流程添加到除了架构的 BizTalk 项目。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-194">When a service is imported through the Add Adapter Metadata Wizard, it adds port types, message types, and an orchestration to the BizTalk project in addition to schemas.</span></span><br /><br /> <span data-ttu-id="6b1ff-195">有关详细信息，请参阅[静态设计时适配器配置](../core/static-design-time-adapter-configuration.md)。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-195">For more information, see [Static Design-Time Adapter Configuration](../core/static-design-time-adapter-configuration.md).</span></span><br /><br /> <span data-ttu-id="6b1ff-196">**静态适配器的设计时。**</span><span class="sxs-lookup"><span data-stu-id="6b1ff-196">**Static Adapter Design-Time.**</span></span> <span data-ttu-id="6b1ff-197">为适配器以支持静态设计时配置实现标准接口，以允许添加适配器元数据向导中选择要添加到 BizTalk 项目的架构。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-197">For an adapter to support static design-time configuration you implement standard interfaces to allow the Add Adapter Metadata Wizard to select a schema to add to a BizTalk project.</span></span> <span data-ttu-id="6b1ff-198">BizTalk 适配器框架为适配器提供 UI。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-198">The BizTalk Adapter Framework provides the UI for the adapter.</span></span><br /><br /> <span data-ttu-id="6b1ff-199">有关修改示例文件适配器的信息，请参阅[动态设计时适配器配置](../core/dynamic-design-time-adapter-configuration.md)。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-199">For information about modifying the sample file adapter, see [Dynamic Design-Time Adapter Configuration](../core/dynamic-design-time-adapter-configuration.md).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|            <span data-ttu-id="6b1ff-200">与应用程序适配器的传输适配器</span><span class="sxs-lookup"><span data-stu-id="6b1ff-200">Transport adapters versus application adapters</span></span>            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  <span data-ttu-id="6b1ff-201">**传输适配器。**</span><span class="sxs-lookup"><span data-stu-id="6b1ff-201">**Transport adapters.**</span></span> <span data-ttu-id="6b1ff-202">传输适配器支持特定协议和不使用架构。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-202">Transport adapters support a specific protocol and do not use a schema.</span></span> <span data-ttu-id="6b1ff-203">十二个本地适配器，9 个是传输适配器：MSMQ、 MQ 系列、 文件、 FTP、 HTTP、 SMTP、 POP3 和 SOAP。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-203">Of the twelve native adapters, nine are transport adapters: MSMQ, MQ Series, File, FTP, HTTP, SMTP, POP3, and SOAP.</span></span><br /><br /> <span data-ttu-id="6b1ff-204">**应用程序适配器。**</span><span class="sxs-lookup"><span data-stu-id="6b1ff-204">**Application adapters.**</span></span> <span data-ttu-id="6b1ff-205">应用程序适配器使用的数据架构将数据发送到指定的应用程序。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-205">Application adapters use data schemas to send data into the specified application.</span></span> <span data-ttu-id="6b1ff-206">本地适配器中，其中两种应用程序适配器：[!INCLUDE[btsWinSharePointSvcsNoVersion](../includes/btswinsharepointsvcsnoversion-md.md)]和 SQL。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-206">Of the native adapters, two are application adapters: [!INCLUDE[btsWinSharePointSvcsNoVersion](../includes/btswinsharepointsvcsnoversion-md.md)] and SQL.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |

 <span data-ttu-id="6b1ff-207">有关自定义适配器代码中实现的接口，使用以下链接在下表中的计划创建的适配器的类型。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-207">For information about which interfaces to implement in your custom adapter code, use the link in the following table for the type of adapter you plan to create.</span></span> <span data-ttu-id="6b1ff-208">在某些情况下，需要将列出与满足另一个要求单独页面上列出的接口满足一个要求的接口。</span><span class="sxs-lookup"><span data-stu-id="6b1ff-208">In some cases, you will have to combine the interfaces listed to meet one requirement with the interfaces listed on a separate page to meet another requirement.</span></span>  

|<span data-ttu-id="6b1ff-209">变量</span><span class="sxs-lookup"><span data-stu-id="6b1ff-209">Variable</span></span>|<span data-ttu-id="6b1ff-210">有关详细信息，请参阅：</span><span class="sxs-lookup"><span data-stu-id="6b1ff-210">For more information</span></span>|  
|--------------|--------------------------|  
|<span data-ttu-id="6b1ff-211">**发送适配器**</span><span class="sxs-lookup"><span data-stu-id="6b1ff-211">**Send adapters**</span></span>|[<span data-ttu-id="6b1ff-212">实例化和初始化发送适配器</span><span class="sxs-lookup"><span data-stu-id="6b1ff-212">Instantiating and Initializing a Send Adapter</span></span>](../core/instantiating-and-initializing-a-send-adapter.md)|  
|<span data-ttu-id="6b1ff-213">同步</span><span class="sxs-lookup"><span data-stu-id="6b1ff-213">Synchronous</span></span>|[<span data-ttu-id="6b1ff-214">同步发送适配器的接口</span><span class="sxs-lookup"><span data-stu-id="6b1ff-214">Interfaces for a Synchronous Send Adapter</span></span>](../core/interfaces-for-a-synchronous-send-adapter.md)|  
|<span data-ttu-id="6b1ff-215">异步</span><span class="sxs-lookup"><span data-stu-id="6b1ff-215">Asynchronous</span></span>|[<span data-ttu-id="6b1ff-216">异步发送适配器的接口</span><span class="sxs-lookup"><span data-stu-id="6b1ff-216">Interfaces for an Asynchronous Send Adapter</span></span>](../core/interfaces-for-an-asynchronous-send-adapter.md)|  
|<span data-ttu-id="6b1ff-217">Batch 支持的同步</span><span class="sxs-lookup"><span data-stu-id="6b1ff-217">Synchronous batch-supported</span></span>|[<span data-ttu-id="6b1ff-218">支持同步批处理的发送适配器的接口</span><span class="sxs-lookup"><span data-stu-id="6b1ff-218">Interfaces for a Synchronous Batch-Supported Send Adapter</span></span>](../core/interfaces-for-a-synchronous-batch-supported-send-adapter.md)|  
|<span data-ttu-id="6b1ff-219">异步批处理支持</span><span class="sxs-lookup"><span data-stu-id="6b1ff-219">Asynchronous batch-supported</span></span>|[<span data-ttu-id="6b1ff-220">支持异步批处理的发送适配器的接口</span><span class="sxs-lookup"><span data-stu-id="6b1ff-220">Interfaces for an Asynchronous Batch-Supported Send Adapter</span></span>](../core/interfaces-for-an-asynchronous-batch-supported-send-adapter.md)|  
|<span data-ttu-id="6b1ff-221">事务性异步批处理支持</span><span class="sxs-lookup"><span data-stu-id="6b1ff-221">Transactional asynchronous batch-supported</span></span>|[<span data-ttu-id="6b1ff-222">支持事务性异步批处理的发送适配器的接口</span><span class="sxs-lookup"><span data-stu-id="6b1ff-222">Interfaces for a Transactional Asynchronous Batch-Supported Send Adapter</span></span>](../core/interfaces-for-a-transactional-asynchronous-batch-supported-send-adapter.md)|  
|<span data-ttu-id="6b1ff-223">要求响应</span><span class="sxs-lookup"><span data-stu-id="6b1ff-223">Solicit-response</span></span>|[<span data-ttu-id="6b1ff-224">要求-响应发送适配器的接口</span><span class="sxs-lookup"><span data-stu-id="6b1ff-224">Interfaces for a Solicit-Response Send Adapter</span></span>](../core/interfaces-for-a-solicit-response-send-adapter.md)|  
|<span data-ttu-id="6b1ff-225">**接收适配器**</span><span class="sxs-lookup"><span data-stu-id="6b1ff-225">**Receive adapters**</span></span>|[<span data-ttu-id="6b1ff-226">实例化和初始化接收适配器</span><span class="sxs-lookup"><span data-stu-id="6b1ff-226">Instantiating and Initializing a Receive Adapter</span></span>](../core/instantiating-and-initializing-a-receive-adapter.md)|  
|<span data-ttu-id="6b1ff-227">Regular</span><span class="sxs-lookup"><span data-stu-id="6b1ff-227">Regular</span></span>|[<span data-ttu-id="6b1ff-228">进程内接收适配器的接口</span><span class="sxs-lookup"><span data-stu-id="6b1ff-228">Interfaces for an In-Process Receive Adapter</span></span>](../core/interfaces-for-an-in-process-receive-adapter.md)|  
|<span data-ttu-id="6b1ff-229">隔离</span><span class="sxs-lookup"><span data-stu-id="6b1ff-229">Isolated</span></span>|[<span data-ttu-id="6b1ff-230">独立接收适配器的接口</span><span class="sxs-lookup"><span data-stu-id="6b1ff-230">Interfaces for an Isolated Receive Adapter</span></span>](../core/interfaces-for-an-isolated-receive-adapter.md)|  
|<span data-ttu-id="6b1ff-231">批处理支持</span><span class="sxs-lookup"><span data-stu-id="6b1ff-231">Batch-supported</span></span>|[<span data-ttu-id="6b1ff-232">支持批处理的接收适配器的接口</span><span class="sxs-lookup"><span data-stu-id="6b1ff-232">Interfaces for a Batch-Supported Receive Adapter</span></span>](../core/interfaces-for-a-batch-supported-receive-adapter.md)|  
|<span data-ttu-id="6b1ff-233">支持批处理的事务</span><span class="sxs-lookup"><span data-stu-id="6b1ff-233">Transactional batch-supported</span></span>|[<span data-ttu-id="6b1ff-234">支持批处理的事务性接收适配器的接口</span><span class="sxs-lookup"><span data-stu-id="6b1ff-234">Interfaces for a Transactional Batch-Supported Receive Adapter</span></span>](../core/interfaces-for-a-transactional-batch-supported-receive-adapter.md)|  
|<span data-ttu-id="6b1ff-235">同步请求-响应</span><span class="sxs-lookup"><span data-stu-id="6b1ff-235">Synchronous request-response</span></span>|[<span data-ttu-id="6b1ff-236">同步请求-响应接收适配器的接口</span><span class="sxs-lookup"><span data-stu-id="6b1ff-236">Interfaces for a Synchronous Request-Response Receive Adapter</span></span>](../core/interfaces-for-a-synchronous-request-response-receive-adapter.md)|  

## <a name="see-also"></a><span data-ttu-id="6b1ff-237">请参阅</span><span class="sxs-lookup"><span data-stu-id="6b1ff-237">See Also</span></span>  
 <span data-ttu-id="6b1ff-238">[开发自定义适配器](../core/developing-custom-adapters.md) </span><span class="sxs-lookup"><span data-stu-id="6b1ff-238">[Developing Custom Adapters](../core/developing-custom-adapters.md) </span></span>  
 <span data-ttu-id="6b1ff-239">[使用适配器](../core/using-adapters.md) </span><span class="sxs-lookup"><span data-stu-id="6b1ff-239">[Using Adapters](../core/using-adapters.md) </span></span>  
 [<span data-ttu-id="6b1ff-240">适配器示例 - 开发</span><span class="sxs-lookup"><span data-stu-id="6b1ff-240">Adapter Samples - Development</span></span>](../core/adapter-samples-development.md)