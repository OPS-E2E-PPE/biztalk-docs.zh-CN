---
title: 以编程方式创建文件接收位置或发送端口 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 558a414c-60bc-4f62-9397-a023ed4937fb
caps.latest.revision: 3
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 424c2c61655da599c4f437d3fdbf200df29d4e13
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/27/2018
ms.locfileid: "37013710"
---
# <a name="programmatically-create-the-file-receive-location-or-send-port"></a><span data-ttu-id="cac0d-102">以编程方式创建文件接收位置或发送端口</span><span class="sxs-lookup"><span data-stu-id="cac0d-102">Programmatically create the File receive location or send port</span></span>
<span data-ttu-id="cac0d-103">如何创建文件接收端口和发送端口以编程方式。</span><span class="sxs-lookup"><span data-stu-id="cac0d-103">How to create a File receive port and send port programmatically.</span></span> <span data-ttu-id="cac0d-104">若要使用[!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)]，请转到[配置文件适配器](../core/configure-the-file-adapter.md)。</span><span class="sxs-lookup"><span data-stu-id="cac0d-104">To use the [!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)], go to [Configure the File adapter](../core/configure-the-file-adapter.md).</span></span>

<span data-ttu-id="cac0d-105">文件适配器将其配置信息存储在 SSO 数据库中。</span><span class="sxs-lookup"><span data-stu-id="cac0d-105">The File adapter stores its configuration information in the SSO database.</span></span> <span data-ttu-id="cac0d-106">你可以配置接收位置和发送端口以编程方式使用 BizTalk 浏览器对象模型。</span><span class="sxs-lookup"><span data-stu-id="cac0d-106">You can configure the receive locations and send ports programmatically using the BizTalk Explorer object model.</span></span> 
 
## <a name="create-the-receive-location"></a><span data-ttu-id="cac0d-107">创建接收位置</span><span class="sxs-lookup"><span data-stu-id="cac0d-107">Create the receive location</span></span>

<span data-ttu-id="cac0d-108">BizTalk 浏览器对象模型公开**IReceiveLocation**包含的配置界面**TransportTypeData**读/写属性。</span><span class="sxs-lookup"><span data-stu-id="cac0d-108">The BizTalk Explorer object model exposes the **IReceiveLocation** configuration interface that contains the **TransportTypeData** read/write property.</span></span> <span data-ttu-id="cac0d-109">此属性以名称-值对 XML 字符串的形式接受文件接收位置配置属性包。</span><span class="sxs-lookup"><span data-stu-id="cac0d-109">This property accepts the File receive location configuration property bag in the form of a name/value pair XML string.</span></span>  
  
<span data-ttu-id="cac0d-110">**TransportTypeData**的属性**IReceiveLocation**接口无需设置。</span><span class="sxs-lookup"><span data-stu-id="cac0d-110">The **TransportTypeData** property of the **IReceiveLocation** interface does not have to be set.</span></span> <span data-ttu-id="cac0d-111">如果未设置该属性，则使用文件接收位置配置的默认值。</span><span class="sxs-lookup"><span data-stu-id="cac0d-111">If it is not set, default values for the File receive location configuration are used.</span></span>  
  
 <span data-ttu-id="cac0d-112">下表列出了可通过编程方式为文件接收位置设置的配置属性：</span><span class="sxs-lookup"><span data-stu-id="cac0d-112">The following table lists the configuration properties that you can set programmatically for the File receive location.</span></span>  
  
|<span data-ttu-id="cac0d-113">属性名称</span><span class="sxs-lookup"><span data-stu-id="cac0d-113">Property name</span></span>|<span data-ttu-id="cac0d-114">类型</span><span class="sxs-lookup"><span data-stu-id="cac0d-114">Type</span></span>|<span data-ttu-id="cac0d-115">Description</span><span class="sxs-lookup"><span data-stu-id="cac0d-115">Description</span></span>|<span data-ttu-id="cac0d-116">限制</span><span class="sxs-lookup"><span data-stu-id="cac0d-116">Restrictions</span></span>|<span data-ttu-id="cac0d-117">注释</span><span class="sxs-lookup"><span data-stu-id="cac0d-117">Comments</span></span>|  
|-------------------|----------|-----------------|------------------|--------------|  
|<span data-ttu-id="cac0d-118">**FileNetFailRetryCount**</span><span class="sxs-lookup"><span data-stu-id="cac0d-118">**FileNetFailRetryCount**</span></span>|<span data-ttu-id="cac0d-119">Long</span><span class="sxs-lookup"><span data-stu-id="cac0d-119">Long</span></span>|<span data-ttu-id="cac0d-120">尝试访问网络共享上的接收位置（如果该位置暂时不可用）的次数。</span><span class="sxs-lookup"><span data-stu-id="cac0d-120">The number of attempts to access the receive location on the network share if it is temporarily unavailable.</span></span>|<span data-ttu-id="cac0d-121">Integer</span><span class="sxs-lookup"><span data-stu-id="cac0d-121">Integer</span></span><br /><br /> <span data-ttu-id="cac0d-122">最小值： 0</span><span class="sxs-lookup"><span data-stu-id="cac0d-122">Minimum value: 0</span></span><br /><br /> <span data-ttu-id="cac0d-123">最大值： MAX_LONG</span><span class="sxs-lookup"><span data-stu-id="cac0d-123">Maximum value: MAX_LONG</span></span>|<span data-ttu-id="cac0d-124">如果未指定该属性，则默认值设置为 5 次。</span><span class="sxs-lookup"><span data-stu-id="cac0d-124">If not specified, the default value is set to 5 times.</span></span>|  
|<span data-ttu-id="cac0d-125">**FileNetFailRetryInterval**</span><span class="sxs-lookup"><span data-stu-id="cac0d-125">**FileNetFailRetryInterval**</span></span>|<span data-ttu-id="cac0d-126">Long</span><span class="sxs-lookup"><span data-stu-id="cac0d-126">Long</span></span>|<span data-ttu-id="cac0d-127">两次尝试访问网络共享上的接收位置（如果该位置暂时不可用）之间的重试间隔（分钟）。</span><span class="sxs-lookup"><span data-stu-id="cac0d-127">The retry interval in minutes between attempts to access the receive location on the network share if it is temporarily unavailable.</span></span>|<span data-ttu-id="cac0d-128">Integer</span><span class="sxs-lookup"><span data-stu-id="cac0d-128">Integer</span></span><br /><br /> <span data-ttu-id="cac0d-129">Minimumvalue: 0</span><span class="sxs-lookup"><span data-stu-id="cac0d-129">Minimumvalue: 0</span></span><br /><br /> <span data-ttu-id="cac0d-130">最大值： MAX_LONG</span><span class="sxs-lookup"><span data-stu-id="cac0d-130">Maximum value: MAX_LONG</span></span>|<span data-ttu-id="cac0d-131">如果未指定该属性，则默认值设置为 5 分钟。</span><span class="sxs-lookup"><span data-stu-id="cac0d-131">If not specified, the default value is set to 5 minutes.</span></span>|  
|<span data-ttu-id="cac0d-132">**BatchSize**</span><span class="sxs-lookup"><span data-stu-id="cac0d-132">**BatchSize**</span></span>|<span data-ttu-id="cac0d-133">Long</span><span class="sxs-lookup"><span data-stu-id="cac0d-133">Long</span></span>|<span data-ttu-id="cac0d-134">此接收位置一次可提交到服务器的文件数。</span><span class="sxs-lookup"><span data-stu-id="cac0d-134">The number of files this receive location can submit to the server at one time.</span></span>|<span data-ttu-id="cac0d-135">Integer</span><span class="sxs-lookup"><span data-stu-id="cac0d-135">Integer</span></span><br /><br /> <span data-ttu-id="cac0d-136">最小值： 1</span><span class="sxs-lookup"><span data-stu-id="cac0d-136">Minimum value: 1</span></span><br /><br /> <span data-ttu-id="cac0d-137">最大值： 256</span><span class="sxs-lookup"><span data-stu-id="cac0d-137">Maximum value: 256</span></span>|<span data-ttu-id="cac0d-138">如果未指定该属性，则默认值设置为 20 个文件。</span><span class="sxs-lookup"><span data-stu-id="cac0d-138">If not specified, the default value is set to 20 files.</span></span>|  
|<span data-ttu-id="cac0d-139">**FileMask**</span><span class="sxs-lookup"><span data-stu-id="cac0d-139">**FileMask**</span></span>|<span data-ttu-id="cac0d-140">String</span><span class="sxs-lookup"><span data-stu-id="cac0d-140">String</span></span>|<span data-ttu-id="cac0d-141">接收位置使用的文件掩码。</span><span class="sxs-lookup"><span data-stu-id="cac0d-141">The file mask used by the receive location.</span></span>|<span data-ttu-id="cac0d-142">String</span><span class="sxs-lookup"><span data-stu-id="cac0d-142">String</span></span><br /><br /> <span data-ttu-id="cac0d-143">FilePath 和 FileMask 的组合长度不能超过 256 个字符。</span><span class="sxs-lookup"><span data-stu-id="cac0d-143">The length of the FilePath and FileMask combined cannot exceed 256 characters.</span></span>|<span data-ttu-id="cac0d-144">如果未指定该属性，则默认值设置为 \*.xml。</span><span class="sxs-lookup"><span data-stu-id="cac0d-144">If not specified, the default value is set to \*.xml.</span></span>|  
|<span data-ttu-id="cac0d-145">**文件路径**</span><span class="sxs-lookup"><span data-stu-id="cac0d-145">**FilePath**</span></span>|<span data-ttu-id="cac0d-146">String</span><span class="sxs-lookup"><span data-stu-id="cac0d-146">String</span></span>|<span data-ttu-id="cac0d-147">接收位置监视的文件夹的路径。</span><span class="sxs-lookup"><span data-stu-id="cac0d-147">The path of the folder monitored by the receive location.</span></span>|<span data-ttu-id="cac0d-148">String</span><span class="sxs-lookup"><span data-stu-id="cac0d-148">String</span></span><br /><br /> <span data-ttu-id="cac0d-149">Required</span><span class="sxs-lookup"><span data-stu-id="cac0d-149">Required</span></span><br /><br /> <span data-ttu-id="cac0d-150">FilePath 和 FileMask 的组合长度不能超过 256 个字符。</span><span class="sxs-lookup"><span data-stu-id="cac0d-150">The length of the FilePath and FileMask combined cannot exceed 256 characters.</span></span>|<span data-ttu-id="cac0d-151">必须指定**重要说明：** 创建接收位置必须具有对接收位置上配置的接收处理程序凭据的写入权限的文件文件夹。</span><span class="sxs-lookup"><span data-stu-id="cac0d-151">Must be specified **Important:**  The file folder created for the receive location must have write permission for the receive handler credentials configured on the receive location.</span></span>|  
|<span data-ttu-id="cac0d-152">**用户名**</span><span class="sxs-lookup"><span data-stu-id="cac0d-152">**Username**</span></span>|<span data-ttu-id="cac0d-153">String</span><span class="sxs-lookup"><span data-stu-id="cac0d-153">String</span></span>|<span data-ttu-id="cac0d-154">用于访问文件夹的帐户的用户名。</span><span class="sxs-lookup"><span data-stu-id="cac0d-154">User name for account used to access folder.</span></span>|<span data-ttu-id="cac0d-155">最小长度： 0</span><span class="sxs-lookup"><span data-stu-id="cac0d-155">Min length: 0</span></span><br /><br /> <span data-ttu-id="cac0d-156">最大长度： 256</span><span class="sxs-lookup"><span data-stu-id="cac0d-156">Max length: 256</span></span>|<span data-ttu-id="cac0d-157">如果未指定用户名或密码，则使用主机凭据。</span><span class="sxs-lookup"><span data-stu-id="cac0d-157">If neither username or password are specified, host credentials are used.</span></span><br /><br /> <span data-ttu-id="cac0d-158">如果此项为空 (vt="1")，则使用配置数据库中存储的值。</span><span class="sxs-lookup"><span data-stu-id="cac0d-158">If null (vt=”1”) then the value stored in configuration database is used.</span></span>|  
|<span data-ttu-id="cac0d-159">**密码**</span><span class="sxs-lookup"><span data-stu-id="cac0d-159">**Password**</span></span>|<span data-ttu-id="cac0d-160">String</span><span class="sxs-lookup"><span data-stu-id="cac0d-160">String</span></span>|<span data-ttu-id="cac0d-161">用于访问文件夹的帐户的密码。</span><span class="sxs-lookup"><span data-stu-id="cac0d-161">Password for account used to access folder.</span></span>|<span data-ttu-id="cac0d-162">最小长度： 0</span><span class="sxs-lookup"><span data-stu-id="cac0d-162">Min length: 0</span></span><br /><br /> <span data-ttu-id="cac0d-163">最大长度： 256</span><span class="sxs-lookup"><span data-stu-id="cac0d-163">Max length: 256</span></span>|<span data-ttu-id="cac0d-164">如果未指定用户名或密码，则使用主机凭据。</span><span class="sxs-lookup"><span data-stu-id="cac0d-164">If neither username or password are specified, host credentials are used.</span></span><br /><br /> <span data-ttu-id="cac0d-165">如果此项为空 (vt="1")，则使用配置数据库中存储的值。</span><span class="sxs-lookup"><span data-stu-id="cac0d-165">If null (vt=”1”) then the value stored in configuration database is used.</span></span>|  
  
 <span data-ttu-id="cac0d-166">下面的代码显示了使用设置的属性的 XML 字符串的格式：</span><span class="sxs-lookup"><span data-stu-id="cac0d-166">The following code shows the format of the XML string you use to set the properties:</span></span>  
  
```  
<CustomProps>  
   <FilePath vt="8">C:\Temp</FilePath>  
   <BatchSize vt="19">20</BatchSize>  
   <FileMask vt="8">*.xml</FileMask>  
   <FileNetFailRetryCount vt="19">5</FileNetFailRetryCount>  
   <FileNetFailRetryInterval vt="19">5</FileNetFailRetryInterval>  
   <Username vt=”8”>MyDomain\MyUsername</Username>  
   <Password vt=”8”>PASSWORD</Password>  
</CustomProps>  
  
```  

## <a name="create-the-send-port"></a><span data-ttu-id="cac0d-167">创建发送端口</span><span class="sxs-lookup"><span data-stu-id="cac0d-167">Create the send port</span></span>

<span data-ttu-id="cac0d-168">配置信息存储在自定义的 XML 属性包中。</span><span class="sxs-lookup"><span data-stu-id="cac0d-168">Configuration information is stored in a custom XML property bag.</span></span> <span data-ttu-id="cac0d-169">`bts_file_properties.xsd`文件发送处理程序属性架构定义文件特定于适配器的属性。</span><span class="sxs-lookup"><span data-stu-id="cac0d-169">The `bts_file_properties.xsd` File send handler property schema defines the File adapter-specific properties.</span></span> <span data-ttu-id="cac0d-170">使用这些属性可以配置 FILE 发送端口，并在服务器中传递特定于适配器的信息。</span><span class="sxs-lookup"><span data-stu-id="cac0d-170">You use these properties to configure the File send ports, as well as for passing adapter-specific information within the server.</span></span>  
  
<span data-ttu-id="cac0d-171">BizTalk 浏览器对象模型公开**ITransportInfo**适配器配置接口 File 发送端口，其中包含**TransportTypeData**读/写属性。</span><span class="sxs-lookup"><span data-stu-id="cac0d-171">The BizTalk Explorer object model exposes the **ITransportInfo** adapter configuration interface for File send ports, which contains the **TransportTypeData** read/write property.</span></span> <span data-ttu-id="cac0d-172">此属性以名称-值对 XML 字符串的形式接受文件发送处理程序配置属性包。</span><span class="sxs-lookup"><span data-stu-id="cac0d-172">This property accepts the File send handler configuration property bag as a name/value pair XML string.</span></span>  
  
 <span data-ttu-id="cac0d-173">设置**TransportTypeData**的属性**ITransportInfo**接口不需要。</span><span class="sxs-lookup"><span data-stu-id="cac0d-173">Setting the **TransportTypeData** property of the **ITransportInfo** interface is not required.</span></span> <span data-ttu-id="cac0d-174">如果未设置该属性，则使用文件发送处理程序配置的默认值。</span><span class="sxs-lookup"><span data-stu-id="cac0d-174">If it is not set, the default values for the File send handler configuration are used.</span></span>  
  
 <span data-ttu-id="cac0d-175">下表列出了可在 BizTalk 浏览器对象模型中以编程方式为文件发送处理程序位置设置的配置属性：</span><span class="sxs-lookup"><span data-stu-id="cac0d-175">The following table lists the configuration properties you can set programmatically in the BizTalk Explorer object model for the File send handler location.</span></span>  
  
|<span data-ttu-id="cac0d-176">属性名称</span><span class="sxs-lookup"><span data-stu-id="cac0d-176">Property name</span></span>|<span data-ttu-id="cac0d-177">类型</span><span class="sxs-lookup"><span data-stu-id="cac0d-177">Type</span></span>|<span data-ttu-id="cac0d-178">Description</span><span class="sxs-lookup"><span data-stu-id="cac0d-178">Description</span></span>|  
|-------------------|----------|-----------------|  
|<span data-ttu-id="cac0d-179">**CopyMode**</span><span class="sxs-lookup"><span data-stu-id="cac0d-179">**CopyMode**</span></span>|<span data-ttu-id="cac0d-180">Long</span><span class="sxs-lookup"><span data-stu-id="cac0d-180">Long</span></span>|<span data-ttu-id="cac0d-181">定义向文件中写入一条消息时要使用的复制模式。</span><span class="sxs-lookup"><span data-stu-id="cac0d-181">Define the copy mode to use when writing a message to a file.</span></span> <span data-ttu-id="cac0d-182">有效值为</span><span class="sxs-lookup"><span data-stu-id="cac0d-182">Valid values are:</span></span><br /><br /> <span data-ttu-id="cac0d-183">**追加 (0)。**</span><span class="sxs-lookup"><span data-stu-id="cac0d-183">**Append (0).**</span></span> <span data-ttu-id="cac0d-184">文件发送处理程序打开一个文件（如果该文件存在）并在该文件末尾附加一个消息。</span><span class="sxs-lookup"><span data-stu-id="cac0d-184">The File send handler opens a file if it exists and appends a message to the end of the file.</span></span> <span data-ttu-id="cac0d-185">如果文件不存在，则文件发送处理程序将创建一个新文件。</span><span class="sxs-lookup"><span data-stu-id="cac0d-185">If the file does not exist, the File send handler creates a new file.</span></span><br /><br /> <span data-ttu-id="cac0d-186">**创建新的 (1)。**</span><span class="sxs-lookup"><span data-stu-id="cac0d-186">**Create new (1).**</span></span> <span data-ttu-id="cac0d-187">如果该文件不存在，则文件发送处理程序创建一个新文件，并向其中写入。</span><span class="sxs-lookup"><span data-stu-id="cac0d-187">If the file does not exist, the File send handler creates a new file and writes to it.</span></span> <span data-ttu-id="cac0d-188">如果该文件已存在，则文件发送处理程序将报告错误，然后按照发送端口的通用适配器重试逻辑操作。</span><span class="sxs-lookup"><span data-stu-id="cac0d-188">If the file already exists, the File send handler reports an error and then follows common adapter retry logic for send ports.</span></span> <span data-ttu-id="cac0d-189">此模式为文件发送处理程序的默认复制模式。</span><span class="sxs-lookup"><span data-stu-id="cac0d-189">This is a default copy mode for the File send handler.</span></span><br /><br /> <span data-ttu-id="cac0d-190">**覆盖 (2)。**</span><span class="sxs-lookup"><span data-stu-id="cac0d-190">**Overwrite (2).**</span></span> <span data-ttu-id="cac0d-191">文件发送处理程序打开一个文件（如果该文件存在）并覆盖其内容。</span><span class="sxs-lookup"><span data-stu-id="cac0d-191">The File send handler opens a file if it exists and overwrites its content.</span></span> <span data-ttu-id="cac0d-192">如果文件不存在，则文件发送处理程序将创建一个新文件。</span><span class="sxs-lookup"><span data-stu-id="cac0d-192">If the file does not exist, the File send handler creates a new file.</span></span>|  
|<span data-ttu-id="cac0d-193">**AllowCacheOnWrite**</span><span class="sxs-lookup"><span data-stu-id="cac0d-193">**AllowCacheOnWrite**</span></span>|<span data-ttu-id="cac0d-194">Boolean</span><span class="sxs-lookup"><span data-stu-id="cac0d-194">Boolean</span></span>|<span data-ttu-id="cac0d-195">定义文件适配器在向文件中写入消息时是否使用文件系统缓存。</span><span class="sxs-lookup"><span data-stu-id="cac0d-195">Defines whether the File adapter uses file system caching when writing messages to a file.</span></span><br /><br /> <span data-ttu-id="cac0d-196">有效值为</span><span class="sxs-lookup"><span data-stu-id="cac0d-196">Valid values are:</span></span><br /><br /> <span data-ttu-id="cac0d-197">**True (-1)** 文件适配器时使用文件系统缓存写入输出文件。</span><span class="sxs-lookup"><span data-stu-id="cac0d-197">**True (-1)** The File adapter uses file system caching when writing the output file.</span></span><br /><br /> <span data-ttu-id="cac0d-198">**False (0)** 文件发送处理程序不使用文件系统缓存写入输出文件时。</span><span class="sxs-lookup"><span data-stu-id="cac0d-198">**False (0)** The File send handler does not use file system caching when writing the output file.</span></span>|  
|<span data-ttu-id="cac0d-199">**写入时使用临时文件**</span><span class="sxs-lookup"><span data-stu-id="cac0d-199">**Use temporary file while writing**</span></span>|<span data-ttu-id="cac0d-200">Boolean</span><span class="sxs-lookup"><span data-stu-id="cac0d-200">Boolean</span></span>|<span data-ttu-id="cac0d-201">定义是否将输出文件写入到临时文件，然后写操作完成后重命名该文件。</span><span class="sxs-lookup"><span data-stu-id="cac0d-201">Defines whether to write the output file to a temporary file first and then rename the file once the write operation has completed.</span></span> <span data-ttu-id="cac0d-202">如果启用此选项，则将创建临时文件扩展名**BTS WIP**。</span><span class="sxs-lookup"><span data-stu-id="cac0d-202">If this option is enabled then the temporary file will be created with the extension **BTS-WIP**.</span></span><br /><br /> <span data-ttu-id="cac0d-203">有效值为</span><span class="sxs-lookup"><span data-stu-id="cac0d-203">Valid values are:</span></span><br /><br /> <span data-ttu-id="cac0d-204">**True (-1)** 文件适配器在写入目标文件夹时创建临时文件。</span><span class="sxs-lookup"><span data-stu-id="cac0d-204">**True (-1)** The File adapter creates a temporary file when writing to the target folder.</span></span><br /><br /> <span data-ttu-id="cac0d-205">**False (0)** 文件适配器在写入目标文件夹时不会创建临时文件。</span><span class="sxs-lookup"><span data-stu-id="cac0d-205">**False (0)** The File adapter does not create a temporary file when writing to the target folder.</span></span> <span data-ttu-id="cac0d-206">**注意：** 时，此选项才可用**CopyMode**属性设置为值为**创建新的 (1)**。</span><span class="sxs-lookup"><span data-stu-id="cac0d-206">**Note:**  This option is only available when the **CopyMode** property is set to a value of **Create new (1)**.</span></span>|  
  
 <span data-ttu-id="cac0d-207">如果有任何配置属性在消息上下文中没有值，则文件发送处理程序将使用其默认值。</span><span class="sxs-lookup"><span data-stu-id="cac0d-207">If any of the configuration properties do not have a value on the message context, the File send handler uses its default value.</span></span>  
  
 <span data-ttu-id="cac0d-208">消息上下文，可以以编程方式设置配置属性。</span><span class="sxs-lookup"><span data-stu-id="cac0d-208">You can set configuration properties programmatically on a message context.</span></span> <span data-ttu-id="cac0d-209">可以在业务流程或自定义管道组件中设置这些属性。</span><span class="sxs-lookup"><span data-stu-id="cac0d-209">You can set these properties in an orchestration or in a custom pipeline component.</span></span> <span data-ttu-id="cac0d-210">使用这些属性时，以下规则适用：</span><span class="sxs-lookup"><span data-stu-id="cac0d-210">The following rules apply when using these properties:</span></span>  
  
- <span data-ttu-id="cac0d-211">如果在业务流程中或在接收管道的自定义管道组件中设置配置属性，那么：</span><span class="sxs-lookup"><span data-stu-id="cac0d-211">If the configuration property is set in an orchestration or in a custom pipeline component in a receive pipeline, then:</span></span>  
  
  -   <span data-ttu-id="cac0d-212">如果一条消息发送到静态发送端口，属性值将覆盖与该发送端口配置的值。</span><span class="sxs-lookup"><span data-stu-id="cac0d-212">If a message is sent to a static send port, the property value will be overwritten with the value configured for that send port.</span></span>  
  
  -   <span data-ttu-id="cac0d-213">如果一条消息发送到动态发送端口，则不会覆盖属性值。</span><span class="sxs-lookup"><span data-stu-id="cac0d-213">If a message is sent to a dynamic send port, the property value will not be overwritten.</span></span>  
  
- <span data-ttu-id="cac0d-214">如果在发送管道的自定义管道组件中设置配置属性，那么：</span><span class="sxs-lookup"><span data-stu-id="cac0d-214">If a configuration property is set in a custom pipeline component in a send pipeline, then:</span></span>  
  
  -   <span data-ttu-id="cac0d-215">无论将消息发送到静态发送端口还是动态发送端口，都不会覆盖属性值。</span><span class="sxs-lookup"><span data-stu-id="cac0d-215">The value will not be overwritten regardless of whether the message is sent to a static or dynamic send port.</span></span>  
  
  <span data-ttu-id="cac0d-216">以下代码显示了可用于设置这些属性的 XML 字符串的格式：</span><span class="sxs-lookup"><span data-stu-id="cac0d-216">The following code shows the format of the XML string you can use to set the properties:</span></span>  
  
```  
<CustomProps>  
   <CopyMode vt="19">0</CopyMode>  
   <AllowCacheOnWrite vt="11">-1</AllowCacheOnWrite>  
   <UseTempFileOnWrite vt="11">-1</UseTempFileOnWrite>  
</CustomProps>  
```  


