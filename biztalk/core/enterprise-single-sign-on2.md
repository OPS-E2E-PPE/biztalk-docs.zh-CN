---
title: 企业单一登录概述 |Microsoft Docs
description: 阅读有关在 BizTalk Server 中使用 SSO 票证处理消息和 adminster SSO 的 affilicate 应用程序
ms.custom: ''
ms.date: 10/11/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: d2aaab59-8cf7-4848-b71a-e7c8682dd3bd
caps.latest.revision: 10
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 4635e63f96aa075340e8e53380432e0efdfbdb59
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65389057"
---
# <a name="enterprise-single-sign-on-overview"></a><span data-ttu-id="68492-103">企业单一登录概述</span><span class="sxs-lookup"><span data-stu-id="68492-103">Enterprise Single Sign-On Overview</span></span>
<span data-ttu-id="68492-104">依赖于多个不同的应用程序的业务流程可能需要跨多个不同的安全域。</span><span class="sxs-lookup"><span data-stu-id="68492-104">A business process that relies on several different applications may have to cross several different security domains.</span></span> <span data-ttu-id="68492-105">访问 Microsoft Windows 系统上的应用程序可能需要一组安全凭据，而访问 IBM 大型机上的应用程序可能需要不同的凭据，例如 RACF 用户名和密码。</span><span class="sxs-lookup"><span data-stu-id="68492-105">Accessing an application on a Microsoft Windows system may require one set of security credentials, while accessing an application on an IBM mainframe may require different credentials, such as an RACF username and password.</span></span> <span data-ttu-id="68492-106">处理此而言并非易事的凭据是对于用户而言，它可以是自动化的过程更加困难。</span><span class="sxs-lookup"><span data-stu-id="68492-106">Dealing with this profusion of credentials is difficult for users, and it can be even harder for automated processes.</span></span> <span data-ttu-id="68492-107">若要解决此问题，[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]包含企业单一登录。</span><span class="sxs-lookup"><span data-stu-id="68492-107">To address this problem, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] includes Enterprise Single Sign-On.</span></span>  
  
 <span data-ttu-id="68492-108">不会混淆，这不是一种机制，允许用户一次登录的所有应用程序。</span><span class="sxs-lookup"><span data-stu-id="68492-108">Don’t be confused—this isn’t a mechanism that lets people have one login for all applications.</span></span> <span data-ttu-id="68492-109">相反，企业单一登录提供了一种方法将映射到非 Windows 用户凭据的 Windows 用户 ID。</span><span class="sxs-lookup"><span data-stu-id="68492-109">Instead, Enterprise Single Sign-On provides a way to map a Windows user ID to non-Windows user credentials.</span></span> <span data-ttu-id="68492-110">不能解决所有组织的企业单一登录问题，但此服务可进一步简化为不同系统使用应用程序的业务流程的操作。</span><span class="sxs-lookup"><span data-stu-id="68492-110">It does not solve all of an organization’s enterprise sign-on problems, but this service can make things simpler for business processes that use applications on diverse systems.</span></span>  
  
## <a name="create-affiliate-application-for-non-windows-systems"></a><span data-ttu-id="68492-111">创建关联应用程序的非 Windows 系统</span><span class="sxs-lookup"><span data-stu-id="68492-111">Create Affiliate Application for Non-Windows Systems</span></span>  
 <span data-ttu-id="68492-112">若要使用企业单一登录，管理员需要定义关联应用程序，其中每个表示非 Windows 系统或应用程序。</span><span class="sxs-lookup"><span data-stu-id="68492-112">To use Enterprise Single Sign-On, an administrator defines affiliate applications, each of which represents a non-Windows system or application.</span></span> <span data-ttu-id="68492-113">例如，关联应用程序可能是软件的在 IBM 大型机，Unix 或任何其他类型上运行的 SAP ERP 系统上运行的 CICS 应用程序。</span><span class="sxs-lookup"><span data-stu-id="68492-113">For example, an affiliate application might be a CICS application running on an IBM mainframe, an SAP ERP system running on Unix, or any other kind of software.</span></span> <span data-ttu-id="68492-114">每个这些应用程序都有其自身的机制进行身份验证，并因此每个都需要其自己唯一的凭据。</span><span class="sxs-lookup"><span data-stu-id="68492-114">Each of these applications has its own mechanism for authentication, and so each requires its own unique credentials.</span></span>  
  
 <span data-ttu-id="68492-115">企业单一登录将用户的 Windows 用户 ID 和他的凭据之间的加密的映射存储一个或多个关联应用程序在 SSO 数据库。</span><span class="sxs-lookup"><span data-stu-id="68492-115">Enterprise Single Sign-On stores an encrypted mapping between a user’s Windows user ID and his credentials for one or more affiliate applications in an SSO database.</span></span> <span data-ttu-id="68492-116">当此用户需要访问关联应用程序时，可以通过单一登录 (SSO) 服务器查找在 SSO 数据库中为该应用程序的凭据。</span><span class="sxs-lookup"><span data-stu-id="68492-116">When this user needs to access an affiliate application, the credentials for that application can be looked up in the SSO database by a Single Sign-On (SSO) Server.</span></span> <span data-ttu-id="68492-117">下图显示了这的工作原理。</span><span class="sxs-lookup"><span data-stu-id="68492-117">The diagram below shows how this works.</span></span>  
  
 <span data-ttu-id="68492-118">![](../core/media/understandingbts-11-esso.gif "UnderstandingBTS_11_ESSO")</span><span class="sxs-lookup"><span data-stu-id="68492-118">![](../core/media/understandingbts-11-esso.gif "UnderstandingBTS_11_ESSO")</span></span>  
  
 <span data-ttu-id="68492-119">在此示例中，某些应用程序对 BizTalk Server 发送的消息处理由业务流程，然后发送到关联应用程序在 IBM 大型机上运行。</span><span class="sxs-lookup"><span data-stu-id="68492-119">In this example, a message sent by some application to BizTalk Server is processed by an orchestration, then sent to an affiliate application running on an IBM mainframe.</span></span> <span data-ttu-id="68492-120">企业单一登录工作是确保传递到关联应用程序时，将正确的凭据 （即，正确的用户名和密码） 发送消息。</span><span class="sxs-lookup"><span data-stu-id="68492-120">The job of Enterprise Single Sign-On is to make sure that the correct credentials (that is., the right username and password) are sent with the message when it is passed to the affiliate application.</span></span>  
  
## <a name="message-processing-with-an-sso-ticket"></a><span data-ttu-id="68492-121">使用 SSO 票证消息处理</span><span class="sxs-lookup"><span data-stu-id="68492-121">Message Processing With an SSO Ticket</span></span>  
 <span data-ttu-id="68492-122">如图所示，当接收适配器收到消息时，适配器可以请求一个 SSO 票证从 SSO 服务器 A （步骤 1）。</span><span class="sxs-lookup"><span data-stu-id="68492-122">As the diagram shows, when a receive adapter gets a message, the adapter can request an SSO ticket from SSO server A (step 1).</span></span> <span data-ttu-id="68492-123">此加密的票证包含发出请求和超时期限的用户的 Windows 标识。</span><span class="sxs-lookup"><span data-stu-id="68492-123">This encrypted ticket contains the Windows identity of the user that made the request and a timeout period.</span></span> <span data-ttu-id="68492-124">(不要将此 Kerberos 票证相混淆，它不是相同的操作。)获取该票证后，它是作为属性添加到传入的消息。</span><span class="sxs-lookup"><span data-stu-id="68492-124">(Don’t confuse this with a Kerberos ticket—it is not the same thing.) After the ticket is acquired, it is added as a property to the incoming message.</span></span> <span data-ttu-id="68492-125">然后，该消息进行常规处理通过 BizTalk Server 引擎，在此示例中这意味着它由业务流程处理。</span><span class="sxs-lookup"><span data-stu-id="68492-125">The message then takes its normal path through the BizTalk Server engine, which in this example means it is handled by an orchestration.</span></span> <span data-ttu-id="68492-126">当此业务流程生成传出消息时，该消息还包含前面获取的 SSO 票证。</span><span class="sxs-lookup"><span data-stu-id="68492-126">When this orchestration generates an outgoing message, that message also contains the SSO ticket acquired earlier.</span></span>  
  
 <span data-ttu-id="68492-127">此新消息发送到在 IBM 大型机上运行的应用程序，因此它必须包含此用户访问该应用程序的相应凭据。</span><span class="sxs-lookup"><span data-stu-id="68492-127">This new message is destined for the application running on an IBM mainframe, and so it must contain the appropriate credentials for this user to access that application.</span></span> <span data-ttu-id="68492-128">若要获取这些凭据，发送适配器联系人 SSO 服务器 B （步骤 2）、 提供的消息 （其中包含 SSO 票证） 刚刚收到和关联应用程序的名称正在尝试进行检索的凭据。</span><span class="sxs-lookup"><span data-stu-id="68492-128">To get these credentials, the send adapter contacts SSO server B (step 2), supplying the message (which contains the SSO ticket) it just received and the name of the affiliate application it is trying to retrieve the credentials for.</span></span> <span data-ttu-id="68492-129">此操作称为兑现，会导致 SSO 服务器 B 将验证 SSO 票证，然后查找该应用程序 （步骤 3） 的此用户的凭据。</span><span class="sxs-lookup"><span data-stu-id="68492-129">This operation, called redemption, causes SSO server B to validate the SSO ticket, and then look up this user’s credentials for that application (step 3).</span></span> <span data-ttu-id="68492-130">SSO 服务器 B 将这些凭据返回到发送适配器发送适配器 （步骤 4），使用它们来将相应地进行身份验证的消息发送到关联应用程序 （步骤 5）。</span><span class="sxs-lookup"><span data-stu-id="68492-130">SSO Server B returns those credentials to the send adapter (step 4), which uses them to send an appropriately-authenticated message to the affiliate application (step 5).</span></span>  
  
## <a name="administering-sso"></a><span data-ttu-id="68492-131">管理 SSO</span><span class="sxs-lookup"><span data-stu-id="68492-131">Administering SSO</span></span>  
 <span data-ttu-id="68492-132">企业单一登录还包括管理工具执行各种操作。</span><span class="sxs-lookup"><span data-stu-id="68492-132">Enterprise Single Sign-On also includes administration tools to perform various operations.</span></span> <span data-ttu-id="68492-133">SSO 数据库执行的所有操作进行都审核，例如，以便提供工具，可让管理员可以监视这些操作并设置不同的审核级别。</span><span class="sxs-lookup"><span data-stu-id="68492-133">All operations performed on the SSO database are audited, for example, so tools are provided that allow an administrator to monitor these operations and set various audit levels.</span></span> <span data-ttu-id="68492-134">其他工具允许管理员禁用特定的关联应用程序、 打开和关闭单独的映射是用户，以及执行其他功能。</span><span class="sxs-lookup"><span data-stu-id="68492-134">Other tools allow an administrator to disable a particular affiliate application, turn on and off an individual mapping for a user, and perform other functions.</span></span> <span data-ttu-id="68492-135">此外，还有一个客户端实用程序，允许最终用户配置其自己的凭据和映射。</span><span class="sxs-lookup"><span data-stu-id="68492-135">There’s also a client utility that allows end users to configure their own credentials and mappings.</span></span> <span data-ttu-id="68492-136">和 BizTalk Server 的其他部分，如企业单一登录公开其服务通过可编程 API。</span><span class="sxs-lookup"><span data-stu-id="68492-136">And like other parts of BizTalk Server, Enterprise Single Sign-On exposes its services through a programmable API.</span></span> <span data-ttu-id="68492-137">第三方 BizTalk Server 适配器的创建者使用此 API 访问单一登录服务，并且管理员可以使用它来创建自动执行常见任务的脚本。</span><span class="sxs-lookup"><span data-stu-id="68492-137">The creators of third-party BizTalk Server adapters use this API to access the single sign-on services, and administrators can use it to create scripts for automating common tasks.</span></span>  
  
 <span data-ttu-id="68492-138">上面所述的示例显示了典型用法的企业单一登录，但可以用其他方式配置 SSO。</span><span class="sxs-lookup"><span data-stu-id="68492-138">The example described above shows a typical use of Enterprise Single Sign-On, but SSO can be configured in other ways.</span></span> <span data-ttu-id="68492-139">例如，较小的 BizTalk Server 安装可能会产生只有一台 SSO 服务器，并可以为企业单一登录独立使用从 BizTalk Server 引擎。</span><span class="sxs-lookup"><span data-stu-id="68492-139">A smaller BizTalk Server installation may have only a single SSO server, for example, and it’s possible to use Enterprise Single Sign-On independently from the BizTalk Server engine.</span></span> <span data-ttu-id="68492-140">（该技术也会随 Microsoft Host Integration Server。）</span><span class="sxs-lookup"><span data-stu-id="68492-140">(The technology also ships with Microsoft Host Integration Server.)</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="68492-141">请参阅</span><span class="sxs-lookup"><span data-stu-id="68492-141">See Also</span></span>  
 <span data-ttu-id="68492-142">[BizTalk Server 消息引擎](../core/the-biztalk-server-messaging-engine.md) </span><span class="sxs-lookup"><span data-stu-id="68492-142">[The BizTalk Server Messaging Engine](../core/the-biztalk-server-messaging-engine.md) </span></span>  
 [<span data-ttu-id="68492-143">实现企业单一登录</span><span class="sxs-lookup"><span data-stu-id="68492-143">Implementing Enterprise Single Sign-On</span></span>](../core/implementing-enterprise-single-sign-on.md)
