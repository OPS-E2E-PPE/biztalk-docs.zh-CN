---
title: 管理协议 |Microsoft 文档
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
f1_keywords:
- bts10.admin.resultsobject.agreement
ms.assetid: e9c6cdd1-8c17-4b1e-a556-2b287593bb9d
caps.latest.revision: 3
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 012a4a5032bd9f9e9a66b855d41a83b5dc5736d1
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
ms.locfileid: "22265557"
---
# <a name="managing-agreements"></a>管理协议
贸易合作伙伴协议 (TPA) 将在两个贸易合作伙伴之间被定义为一个确定且具有约束力的协议，以便通过特定的 B2B 协议处理消息。 请参阅[贸易合作伙伴协议](../core/trading-partner-agreement.md)。 

本主题演示如何创建、 查看、 编辑、 启用、 禁用或删除协议。  
  
## <a name="prerequisites"></a>先决条件  
 必须以 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理员组或 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] B2B Operators 组成员的身份登录。  
  
## <a name="create-an-agreement"></a>创建协议  
  
1.  打开**BizTalk Server 管理**，展开 BizTalk 组中，然后选择**方**。 
2. 在**方和业务配置文件**页上，右键单击你要创建的协议选择的一部分的业务配置文件**新建**，然后选择**协议**。  
  
3.  在**常规属性**: 
  
    1.  在**协议参数**部分中，执行以下操作：  
  
        |使用此选项|执行的操作|  
        |--------------|----------------|  
        |**名称**|输入协议的名称|  
        |**ID**|列出该协议的唯一标识。 此文本框中是只读的并选择后显示的协议 ID**应用**的第一个接受时间和设置。|  
        |**状态**|指定协议的状态。 默认情况下，在创建协议**Active**状态。 如果你想协议时首先创建，选择要禁用**禁用**从下拉列表。|  
        |**协议**|指定该协议的协议。<br /><br /> -对于 X12 编码协议，选择**X12**从下拉列表。 请参阅[配置 X12 特定协议属性](../core/configuring-x12-specific-agreement-properties.md)<br />-对于 EDIFACT 编码协议，选择**EDIFACT**从下拉列表。  请参阅[配置 EDIFACT 特定协议属性](../core/configuring-edifact-specific-agreement-properties.md)。<br />-对于一种编码 AS2 协议，选择**AS2**从下拉列表。 请参阅[配置 AS2 协议属性](../core/configuring-as2-agreement-properties.md)。 <br/><br/>**注意**<br/>  协议属性是在单向协议选项卡中提供的。 当您选择了将通过其创建协议的第二个简介之后，便会出现单向协议选项卡。 将在以下步骤中选择第二个合作伙伴。|  
  
    2.  在**第一个合作伙伴**部分中，执行以下操作：  
  
        |使用此选项|执行的操作|  
        |--------------|----------------|  
        |**名称**|显示具有要为其创建协议的业务配置文件的合作伙伴名称。 此文本框中是只读的。|  
        |**配置文件**|显示要为其创建协议的配置文件的名称。 此文本框中是只读的。|  
        |**协议设置**|如果您创建了一个 X12 协议集作为业务简介的一部分，则可以从下拉列表中选择该协议集。 如果您没有创建一个 X12 协议集作为业务简介的一部分，则可以保留它为空。|  
  
    3.  在**第二个合作伙伴**部分中，执行以下操作：  
  
        |使用此选项|执行的操作|  
        |--------------|----------------|  
        |**名称**|从下拉列表中选择具有您希望用其创建协议的业务配置文件的参与方。|  
        |**配置文件**|从下拉列表中选择您要通过其创建协议的简介。|  
        |**协议设置**|如果您创建了一个 X12 协议集作为业务简介的一部分，则可以从下拉列表中选择该协议集。 如果您没有创建一个 X12 协议集作为业务简介的一部分，则可以保留它为空。|  
  
        > [!TIP]
        >  按`CTRL`，选择将为协议的一部分，右键单击任一业务配置文件，选择的业务配置文件**新建**，然后选择**协议**。 值的合作伙伴名称和两个伙伴的业务配置文件中自动填充**协议属性**对话框。  
  
        > [!NOTE]
        >  一旦你选择的其他配置文件，添加两个选项卡旁边**常规**选项卡。每个选项卡代表双方之间的一个单向协议。 使用选项卡输入的协议属性。  
  
    4.  选择**启用协议**复选框以启用该协议，并执行以下操作：  
  
        |使用此选项|执行的操作|  
        |--------------|----------------|  
        |**From**|选择的日期和时间则协议的有效。|  
        |**无结束日期**|如果您不希望设置禁用协议的结束日期，则选择该选项。|  
        |**结束日期**|选择此选项可输入的日期和时间，直到协议无效。|  
  
    5.  在**常见主机设置**部分中，执行以下操作：  
  
        |使用此选项|执行的操作|  
        |--------------|----------------|  
        |**错误记录到事件日志**|如果要将 EDI 引擎（EDI 管道、批处理业务流程、路由业务流程等）生成的任何错误以及上下文信息记录到 Windows 事件查看器中，则选择此选项。<br/><br/>**请注意**： 不适用于 AS2 协议。|  
        |**日志警告记录到事件日志**|如果要将 EDI 引擎（EDI 管道、批处理业务流程、路由业务流程等）生成的任何警告以及上下文信息记录到 Windows 事件查看器中，则选择此选项。 <br/><br/>**请注意**： 不适用于 AS2 协议。|  
        |**打开报表**|选择此选项以显示所有 EDI 消息 （传入和传出） 的状态条目上**EDI 交换和关联 ACK 状态**选项卡**组概述**页面[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理控制台。 如果取消选中后，会不显示任何状态条目。|  
        |**存储用于报告的消息有效负载**|如果你选择**打开 reporting**，选择此选项以存储事务设置中的跟踪 (BizTalkDTADb) 数据库的 EDI 表。 <br/><br/>**请注意**： 不适用于 AS2 协议。|  
  
4.  在**常规**选项卡上，在**联系人信息**页上，执行以下操作：  
  
    1.  在**Contact1**选项卡上，输入要与其创建协议的参与方的配置文件的联系信息。 此数据是仅; 用于信息由 BizTalk 运行时不使用它。  
  
    2.  若要添加的联系人的另一个选项卡，选择**新联系人**选项卡。  
  
    3.  若要删除的联系人的选项卡，选择**删除**从选项卡页右上角。  
  
        > [!NOTE]
        >  无法删除**Contact1**选项卡。只能删除您添加的新选项卡。  
  
5.  在**常规**选项卡上，在**其他属性**页上，执行以下操作：  
  
    > [!NOTE]
    >  BizTalk Server 不会将此页面输入的信息用于任何处理;此数据是仅供信息。  
  
    1.  在**其他属性**网格中，输入你想要添加的任何信息相关的方或协议的名称-值对。  输入一个名称/值对以存储有关参与方的任何信息。 可以根据需要添加任意数量的名称/值对。  
  
         要删除的名称-值对，选择行，然后选择**删除**从右上角。  
  
    2.  在**文本 1**，**文本 2**，和**协议**文本框中，输入关于与方协议的信息。  
  
    3.  选择**应用**接受属性，或选择**确定**完成的配置设置。 以上任一操作验证的设置。  

## <a name="view-or-change-an-agreement"></a>查看或更改协议  
  
1.  在**BizTalk Server 管理**，选择**方**。 

2. 在**方和业务配置文件**页上，选择任何具有你想要查看或编辑协议的两个业务配置文件。  
  
3.  在**协议**部分，右键单击该协议，然后选择**属性**。  
  
4.  在**协议属性**、 查看或编辑该协议。 可以在不同的选项卡和中的页面上输入的值**协议属性**对话框框中，请参阅以下：  
  
    |若要了解|请参阅此|  
    |--------------|--------------|  
    |x12 协议|[配置 X12 特定协议属性](../core/configuring-x12-specific-agreement-properties.md)|  
    |EDIFACT 协议|[配置 EDIFACT 特定协议属性](../core/configuring-edifact-specific-agreement-properties.md)|  
    |AS2 协议|[配置 AS2 协议属性](../core/configuring-as2-agreement-properties.md)|  
  
5.  选择**应用**接受属性，或选择**确定**完成的配置设置。 以上任一操作验证的设置。 

## <a name="enable-or-disable-an-agreement"></a>启用或禁用协议  
  
1.  在**BizTalk Server 管理**，选择**方**。 

2. 在**方和业务配置文件**页上，选择任何具有你想要编辑的协议的两个业务配置文件。  
  
3.  在**协议**部分，右键单击该协议，然后选择**启用**或**禁用**。 
  
    > [!NOTE]
    >  当首次创建一个协议时，默认情况下将始终启用。 **启用**选项仅在禁用协议时才可用。 **禁用**选项仅在启用该协议时才可用。  

## <a name="delete-an-agreement"></a>删除协议  
1.  在**BizTalk Server 管理**，选择**方**。 
  
2.  在**方和业务配置文件**页上，选择任何具有你想要删除的协议的两个业务配置文件。  
  
3.  在**协议**部分中，右键单击你想要删除，然后选择协议**删除**。  
  
4.  在**确认删除协议**对话框中，选择**是**若要删除的协议。  

      
## <a name="see-also"></a>另请参阅  
 [管理 EDI 和 AS2 解决方案](../core/managing-edi-and-as2-solutions.md)