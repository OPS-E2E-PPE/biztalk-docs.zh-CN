---
title: EDI 组装器的工作原理 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: c3785870-08ab-4fc2-8f7e-7c5a37639a7a
caps.latest.revision: 33
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 480bb6c17bc4e6085147e2c79ab3e3ba58d2746e
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65344105"
---
# <a name="how-the-edi-assembler-works"></a><span data-ttu-id="75adf-102">EDI 组装器的工作原理</span><span class="sxs-lookup"><span data-stu-id="75adf-102">How the EDI Assembler Works</span></span>
[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] <span data-ttu-id="75adf-103">执行的 EDI 编码的交换，EDI 发送管道中发送的大多数处理 (`Microsoft.BizTalk.DefaultPipelines.EDISendPipeline`)。</span><span class="sxs-lookup"><span data-stu-id="75adf-103">performs most processing of EDI-encoded interchanges to be sent in the EDI Send Pipeline (`Microsoft.BizTalk.DefaultPipelines.EDISendPipeline`).</span></span> <span data-ttu-id="75adf-104">此管道包括 EDI 组装器管道组件，用于执行以下处理：</span><span class="sxs-lookup"><span data-stu-id="75adf-104">This pipeline includes the EDI assembler pipeline component, which performs the following processing:</span></span>  
  
-   <span data-ttu-id="75adf-105">序列化 EDI 交换，将 XML 编码的消息转换成交换中的 EDI 事务集。</span><span class="sxs-lookup"><span data-stu-id="75adf-105">Serializes the EDI interchange, converting XML-encoded messages into EDI transaction sets in the interchange.</span></span>  
  
-   <span data-ttu-id="75adf-106">执行 EDI 架构验证、 X12 编码的消息 （如果已配置） 的跨字段验证、 EDI 结构验证和扩展的架构验证 （如果该架构使用具有非 EDI 数据类型的节点自定义）。</span><span class="sxs-lookup"><span data-stu-id="75adf-106">Performs EDI schema validation, cross-field validation for X12-encoded messages (if configured), EDI structural validation, and extended schema validation (if the schema was customized with a node that has a non-EDI data type).</span></span>  
  
-   <span data-ttu-id="75adf-107">将信封应用于 EDI 消息。</span><span class="sxs-lookup"><span data-stu-id="75adf-107">Applies an envelope to the EDI message.</span></span>  
  
-   <span data-ttu-id="75adf-108">处理对 EDI 消息，解除批处理确认，如果配置的响应中收到的技术和功能确认。</span><span class="sxs-lookup"><span data-stu-id="75adf-108">Processes Technical and Functional acknowledgments received in response to EDI messages, debatching the acknowledgments if configured.</span></span>  
  
## <a name="applying-an-envelope-to-an-outgoing-edi-message"></a><span data-ttu-id="75adf-109">将信封应用到传出的 EDI 消息</span><span class="sxs-lookup"><span data-stu-id="75adf-109">Applying an Envelope to an Outgoing EDI Message</span></span>  
 <span data-ttu-id="75adf-110">当 EDI 发送管道生成传出 EDI 消息的中间 XML 文件时，它包含到根据为接收方协议建立的 EDI 属性的消息的交换和组标头的信封应用。</span><span class="sxs-lookup"><span data-stu-id="75adf-110">When the EDI send pipeline builds an outgoing EDI message from an intermediate XML file, it applies an envelope containing interchange and group headers to the message based upon the EDI properties established for the receive-side agreement.</span></span> <span data-ttu-id="75adf-111">如果发送管道无法确定接收协议从发送端口，它将使用后备协议来应用信封。</span><span class="sxs-lookup"><span data-stu-id="75adf-111">If the send pipeline was not able to determine the receiving agreement from the send port, it will use the fallback agreement to apply the envelope.</span></span>  
  
 <span data-ttu-id="75adf-112">如果`EdiOverride.OverrideEdiHeader`上下文属性设置为 true 时，EDI 发送管道将使用 EdiOverride 属性集合中指定的值来构造信封。</span><span class="sxs-lookup"><span data-stu-id="75adf-112">If the `EdiOverride.OverrideEdiHeader` context property is set to true, the EDI send pipeline will use values specified in the EdiOverride property collection to construct the envelope.</span></span> <span data-ttu-id="75adf-113">如果值在协议中不存在于集合的相关 EDI 值将使用属性。</span><span class="sxs-lookup"><span data-stu-id="75adf-113">If a value is not present in the collection, the corresponding EDI value in agreement properties will be used.</span></span> <span data-ttu-id="75adf-114">如果在 EdiOverride 集合或协议属性中不存在一个值，将使用回退 EDI 协议中的属性。</span><span class="sxs-lookup"><span data-stu-id="75adf-114">If a value does not exist in either the EdiOverride collection or the agreement properties, the properties in the fallback EDI agreement will be used.</span></span>  
  
 <span data-ttu-id="75adf-115">如果中间 XML 文件具有保留的标记或 ReuseEnvelope 上下文属性，消息是保留的批，将不会应用信封应用程序逻辑。</span><span class="sxs-lookup"><span data-stu-id="75adf-115">If the intermediate XML file has a reserved tag or the ReuseEnvelope context property, the message is a preserved batch and the envelope application logic will not apply.</span></span>  
  
### <a name="sources-for-x12-envelope-values"></a><span data-ttu-id="75adf-116">源为 X12 信封值</span><span class="sxs-lookup"><span data-stu-id="75adf-116">Sources for X12 Envelope Values</span></span>  
 <span data-ttu-id="75adf-117">下表显示 EDI 发送管道在何处获取的信息，每个部分的 X12 信封：</span><span class="sxs-lookup"><span data-stu-id="75adf-117">The following table shows where the EDI send pipeline gets the information it needs for each part of an X12 envelope:</span></span>  
  
|<span data-ttu-id="75adf-118">Header</span><span class="sxs-lookup"><span data-stu-id="75adf-118">Header</span></span>|<span data-ttu-id="75adf-119">Source</span><span class="sxs-lookup"><span data-stu-id="75adf-119">Source</span></span>|  
|------------|------------|  
|<span data-ttu-id="75adf-120">交换控制标头 (ISA)</span><span class="sxs-lookup"><span data-stu-id="75adf-120">Interchange Control Header (ISA)</span></span>|<span data-ttu-id="75adf-121">-EdiOverride 上下文属性 (如果`EdiOverride.OverrideEdiHeader`为 true)。</span><span class="sxs-lookup"><span data-stu-id="75adf-121">-   EdiOverride context properties (if `EdiOverride.OverrideEdiHeader` is true).</span></span><br /><span data-ttu-id="75adf-122">-如果定义了协议，ISA 会分段下不同页的定义**交换设置**部分中的单向协议属性中**协议属性**对话框。</span><span class="sxs-lookup"><span data-stu-id="75adf-122">-   If an agreement is defined, ISA segment definitions from different pages under the **Interchange Settings** section in the one-way agreement properties in the **Agreement Properties** dialog box.</span></span><br /><span data-ttu-id="75adf-123">-如果未定义协议，ISA 会分段下不同页的定义**交换设置**主题中**EDIFACT 后备设置**对话框。</span><span class="sxs-lookup"><span data-stu-id="75adf-123">-   If no agreement is defined, ISA segment definitions from different pages under the **Interchange Settings** section in the **EDIFACT Fallback Settings** dialog box.</span></span>|  
|<span data-ttu-id="75adf-124">功能组标头 (GS)</span><span class="sxs-lookup"><span data-stu-id="75adf-124">Functional Group Headers (GS)</span></span>|<span data-ttu-id="75adf-125">-EdiOverride 上下文属性 (如果`EdiOverride.OverrideEdiHeader`为 true)</span><span class="sxs-lookup"><span data-stu-id="75adf-125">-   EdiOverride context properties (if `EdiOverride.OverrideEdiHeader` is true)</span></span><br /><span data-ttu-id="75adf-126">-如果定义了协议，GS 会分段**信封**页 (下**事务集设置**部分) 中的单向协议属性中**协议属性**对话框</span><span class="sxs-lookup"><span data-stu-id="75adf-126">-   If an agreement is defined, GS segment definitions from the **Envelopes** page (under **Transaction Set Settings** section) in the one-way agreement properties in the **Agreement Properties** dialog box</span></span><br /><span data-ttu-id="75adf-127">-如果未定义协议，GS 会分段**信封**页 (下**事务集设置**部分) 中**X12 后备设置**对话框</span><span class="sxs-lookup"><span data-stu-id="75adf-127">-   If no agreement is defined, GS segment definitions from the **Envelopes** page (under **Transaction Set Settings** section) in the **X12 Fallback Settings** dialog box</span></span><br /><br /> <span data-ttu-id="75adf-128">如果定义了协议，GS 数据元素的值是根据事务集标识符 (ST1)、 版本和目标命名空间的组合确定的。</span><span class="sxs-lookup"><span data-stu-id="75adf-128">If an agreement is defined, the values for the GS data elements are determined based upon the combination of the Transaction Set Identifier (ST1), the version, and the target namespace.</span></span> <span data-ttu-id="75adf-129">这些值进行比较的网格中**信封**页 (下**事务集设置**部分) 的协议属性 （如果已定义协议） 或后备协议属性 （如果未定义协议）：</span><span class="sxs-lookup"><span data-stu-id="75adf-129">These values are compared to the grid in the **Envelopes** page (under **Transaction Set Settings** section) of the agreement properties (if an agreement is defined) or the fallback agreement properties (if no agreement is defined):</span></span><br /><br /> <span data-ttu-id="75adf-130">-如果没有匹配的行，然后匹配的行中包含的值用于 GS 标头。</span><span class="sxs-lookup"><span data-stu-id="75adf-130">-   If there is a matching row, then the values contained in the matching row are used for the GS header.</span></span><br /><span data-ttu-id="75adf-131">-如果没有匹配项，但定义了默认行，从默认行中填充 （GS01 除外） 的所有 GS 数据元素。</span><span class="sxs-lookup"><span data-stu-id="75adf-131">-   If there is no match, but a default row is defined, all the GS data elements except GS01 are populated from the default row.</span></span> <span data-ttu-id="75adf-132">基于 ST1 值动态确定 GS01。</span><span class="sxs-lookup"><span data-stu-id="75adf-132">GS01 is dynamically determined based on the value of ST1.</span></span><br /><span data-ttu-id="75adf-133">-如果没有任何匹配的行，并且没有默认的行，则挂起消息。</span><span class="sxs-lookup"><span data-stu-id="75adf-133">-   If there is no matching row, and no default row, the message is suspended.</span></span> <span data-ttu-id="75adf-134">**注意：** 要将其他组中唯一的组，不是所有这些值可以是不同于另一个组。</span><span class="sxs-lookup"><span data-stu-id="75adf-134">**Note:**  For a group to be unique from other groups, not all of these values can be the same as those for another group.</span></span> <br /><br /> <span data-ttu-id="75adf-135">如果未定义协议，然后从回退协议属性中填充 GS 数据元素。</span><span class="sxs-lookup"><span data-stu-id="75adf-135">If no agreement is defined, then the GS data elements are populated from the fallback agreement properties.</span></span>|  
  
### <a name="sources-for-edifact-envelope-values"></a><span data-ttu-id="75adf-136">EDIFACT 信封值的源</span><span class="sxs-lookup"><span data-stu-id="75adf-136">Sources for EDIFACT Envelope Values</span></span>  
 <span data-ttu-id="75adf-137">下表显示 EDI 发送管道在何处获取所需的 EDIFACT 信封的每个部分的信息：</span><span class="sxs-lookup"><span data-stu-id="75adf-137">The following table shows where the EDI send pipeline gets the information it needs for each part of an EDIFACT envelope:</span></span>  
  
|<span data-ttu-id="75adf-138">Header</span><span class="sxs-lookup"><span data-stu-id="75adf-138">Header</span></span>|<span data-ttu-id="75adf-139">Source</span><span class="sxs-lookup"><span data-stu-id="75adf-139">Source</span></span>|  
|------------|------------|  
|<span data-ttu-id="75adf-140">服务字符串建议 (UNA)</span><span class="sxs-lookup"><span data-stu-id="75adf-140">Service String Advice (UNA)</span></span>|<span data-ttu-id="75adf-141">-EdiOverride 上下文属性 (如果`EdiOverride.OverrideEdiHeader`为 true)。</span><span class="sxs-lookup"><span data-stu-id="75adf-141">-   EdiOverride context properties (if `EdiOverride.OverrideEdiHeader` is true).</span></span><br /><span data-ttu-id="75adf-142">-如果定义了协议，UNA 会分段**字符集和分隔符**页的单向协议属性中**协议属性**对话框。</span><span class="sxs-lookup"><span data-stu-id="75adf-142">-   If an agreement is defined, UNA segment definitions from **Charset and Separators** page in the one-way agreement properties in the **Agreement Properties** dialog box.</span></span><br /><span data-ttu-id="75adf-143">-如果未定义协议，UNA 会分段**字符集和分隔符**页面**EDIFACT 后备设置**对话框。</span><span class="sxs-lookup"><span data-stu-id="75adf-143">-   If no agreement is defined, UNA segment definitions from **Charset and Separators** page in the **EDIFACT Fallback Settings** dialog box.</span></span>|  
|<span data-ttu-id="75adf-144">交换控制标头 (UNB)</span><span class="sxs-lookup"><span data-stu-id="75adf-144">Interchange Control Header (UNB)</span></span>|<span data-ttu-id="75adf-145">-EdiOverride 上下文属性 (如果`EdiOverride.OverrideEdiHeader`为 true)。</span><span class="sxs-lookup"><span data-stu-id="75adf-145">-   EdiOverride context properties (if `EdiOverride.OverrideEdiHeader` is true).</span></span><br /><span data-ttu-id="75adf-146">-如果定义了协议，UNB 会分段下不同页的定义**交换设置**部分中的单向协议属性中**协议属性**对话框。</span><span class="sxs-lookup"><span data-stu-id="75adf-146">-   If an agreement is defined, UNB segment definitions from different pages under the **Interchange Settings** section in the one-way agreement properties in the **Agreement Properties** dialog box.</span></span><br /><span data-ttu-id="75adf-147">-如果未定义协议，UNB 会分段下不同页的定义**交换设置**主题中**EDIFACT 后备设置**对话框。</span><span class="sxs-lookup"><span data-stu-id="75adf-147">-   If no agreement is defined, UNB segment definitions from different pages under the **Interchange Settings** section in the **EDIFACT Fallback Settings** dialog box.</span></span>|  
|<span data-ttu-id="75adf-148">功能组标头 (UNG)</span><span class="sxs-lookup"><span data-stu-id="75adf-148">Functional Group Headers (UNG)</span></span>|<span data-ttu-id="75adf-149">-EdiOverride 上下文属性 (如果`EdiOverride.OverrideEdiHeader`为 true)。</span><span class="sxs-lookup"><span data-stu-id="75adf-149">-   EdiOverride context properties (if `EdiOverride.OverrideEdiHeader` is true).</span></span><br /><span data-ttu-id="75adf-150">-如果定义了协议，UNG 和 UNH 会分段**信封**页 (下**事务集设置**部分) 中的单向协议属性中**协议属性**对话框</span><span class="sxs-lookup"><span data-stu-id="75adf-150">-   If an agreement is defined, UNG and UNH segment definitions from the **Envelopes** page (under **Transaction Set Settings** section) in the one-way agreement properties in the **Agreement Properties** dialog box</span></span><br /><span data-ttu-id="75adf-151">-如果未定义协议，UNG 和 UNH 会分段**信封**页 (下**事务集设置**部分) 中的单向协议属性中**协议属性**对话框中的**EDIFACT 后备设置**对话框</span><span class="sxs-lookup"><span data-stu-id="75adf-151">-   If no agreement is defined, UNG and UNH segment definitions from the **Envelopes** page (under **Transaction Set Settings** section) in the one-way agreement properties in the **Agreement Properties** dialog box in the **EDIFACT Fallback Settings** dialog box</span></span><br /><br /> <span data-ttu-id="75adf-152">如果定义了协议，UNG 数据元素的值是根据消息类型 (UNH2.1)、 消息发行版号 (UNH2.3)、 分配代码 (UNH2.5)、 版本和目标命名空间的组合确定的。</span><span class="sxs-lookup"><span data-stu-id="75adf-152">If an agreement is defined, the values for the UNG data elements are determined based upon the combination of the Message Type (UNH2.1), the Message Release Number (UNH2.3), the Assigned Code (UNH2.5), the version, and the target namespace.</span></span> <span data-ttu-id="75adf-153">**注意：** 要将其他组中唯一的组，不是所有这些值可以是不同于另一个组。</span><span class="sxs-lookup"><span data-stu-id="75adf-153">**Note:**  For a group to be unique from other groups, not all of these values can be the same as those for another group.</span></span>|  
  
### <a name="applying-transaction-set-header-and-trailer-segments"></a><span data-ttu-id="75adf-154">应用事务集标头和尾部段</span><span class="sxs-lookup"><span data-stu-id="75adf-154">Applying Transaction Set Header and Trailer Segments</span></span>  
 <span data-ttu-id="75adf-155">XML 事务集被序列化到传出 EDI 交换应具有的事务集标头和尾部。</span><span class="sxs-lookup"><span data-stu-id="75adf-155">An XML transaction set being serialized into an outgoing EDI interchange should have a transaction set header and trailer.</span></span> <span data-ttu-id="75adf-156">但是，EDI 组装器将处理该消息，如果它不具有事务集标头或尾部。</span><span class="sxs-lookup"><span data-stu-id="75adf-156">However, the EDI Assembler will process the message if it does not have a transaction set header or trailer.</span></span> <span data-ttu-id="75adf-157">事务集标头和尾部段在 X12 和 EDIFACT 架构都是可选的 XML 事务集。</span><span class="sxs-lookup"><span data-stu-id="75adf-157">Transaction set header and trailer segments in X12 and EDIFACT schemas are optional for XML transaction sets.</span></span> <span data-ttu-id="75adf-158">如果事务没有标头或尾部，EDI 组装器中 EDISend 或 AS2EDISend 发送管道将向其添加事务集标头和尾部值。</span><span class="sxs-lookup"><span data-stu-id="75adf-158">If a transaction does not have a header or trailer, the EDI Assembler in the EDISend or AS2EDISend send pipeline will add transaction set header and trailer values to it.</span></span> <span data-ttu-id="75adf-159">这些值将基于映射或计算。</span><span class="sxs-lookup"><span data-stu-id="75adf-159">These values will be based on mappings or calculations.</span></span> <span data-ttu-id="75adf-160">EDI 组装器将执行此操作为交换 XML （保留批）、 批处理的事务集 XML 和事务集 XML。</span><span class="sxs-lookup"><span data-stu-id="75adf-160">The EDI Assembler will do this for interchange XML (a preserved batch), batched transaction set XML, and transaction set XML.</span></span>  
  
 <span data-ttu-id="75adf-161">如果映射造成验证错误，XML 事务集或交换 XML 会挂起因相应的错误在事件查看器中，如无效的长度或数据类型或控制机构代码无效。</span><span class="sxs-lookup"><span data-stu-id="75adf-161">If mapping causes a validation error, the XML transaction set or interchange XML is suspended with an appropriate error in the event viewer, such as invalid length or data type, or invalid Control Agency Code.</span></span>  
  
####  <a name="BKMK_X12"></a> <span data-ttu-id="75adf-162">X12 事务集标头和尾部段</span><span class="sxs-lookup"><span data-stu-id="75adf-162">X12 Transaction Set Header and Trailer Segments</span></span>  
 <span data-ttu-id="75adf-163">对于没有标头和尾部段的 X12 编码的事务集，EDI 组装器将 ST 和 SE 段设置为以下：</span><span class="sxs-lookup"><span data-stu-id="75adf-163">For X12-encoded transaction sets that do not have header and trailer segments, the EDI Assembler will set ST and SE segments to the following:</span></span>  
  
|<span data-ttu-id="75adf-164">标头/尾部段</span><span class="sxs-lookup"><span data-stu-id="75adf-164">Header/Footer Segment</span></span>|<span data-ttu-id="75adf-165">ReplTest1</span><span class="sxs-lookup"><span data-stu-id="75adf-165">Value</span></span>|  
|----------------------------|-----------|  
|<span data-ttu-id="75adf-166">ST01 （事务集标识符代码）</span><span class="sxs-lookup"><span data-stu-id="75adf-166">ST01 (Transaction Set Identifier Code)</span></span>|<span data-ttu-id="75adf-167">映射到最后一个传入 XML 事务集中的 RootNode 名称的三个字符。</span><span class="sxs-lookup"><span data-stu-id="75adf-167">Mapped to the last three characters of the RootNode name from the incoming XML transaction set.</span></span> <span data-ttu-id="75adf-168">例如，从"X12_00401_855"的"855"。</span><span class="sxs-lookup"><span data-stu-id="75adf-168">For example, "855" from "X12_00401_855".</span></span> <span data-ttu-id="75adf-169">对于具有 TS 标识代码的 837p、 837 837p、837d 或 837I 的 HIPAA 声明，"837"使用。</span><span class="sxs-lookup"><span data-stu-id="75adf-169">For HIPAA Claims that have a TS Identifier Code of 837P, 837D, or 837I, "837" is used.</span></span>|  
|<span data-ttu-id="75adf-170">ST02 （事务集控制编号）</span><span class="sxs-lookup"><span data-stu-id="75adf-170">ST02 (Transaction Set Control Number)</span></span>|<span data-ttu-id="75adf-171">值`EdiOverride.ST02`(如果`EdiOveride.OverrideEdiHeader`为 true，) 或映射到的值**事务集控制编号 (ST02)** 中**本地主机设置**页 (下**交换设置**) 中的单向协议选项卡**协议属性**对话框。</span><span class="sxs-lookup"><span data-stu-id="75adf-171">The value of `EdiOverride.ST02` (if `EdiOveride.OverrideEdiHeader` is true,) or mapped to the value of the **Transaction set control number (ST02)** in the **Local Host Settings** page (under **Interchange Settings**) of the one-way agreement tab in the **Agreement Properties** dialog box.</span></span><br /><br /> <span data-ttu-id="75adf-172">如何设置应用新的或递增的控制编号**应用新 ID**属性。</span><span class="sxs-lookup"><span data-stu-id="75adf-172">A new or incremented control number is applied regardless of the setting of the **Apply New ID** property.</span></span>|  
|<span data-ttu-id="75adf-173">ST03 （版本标识符）</span><span class="sxs-lookup"><span data-stu-id="75adf-173">ST03 (Version identifier)</span></span>|<span data-ttu-id="75adf-174">映射到的 ST03 值来自传入 XML 事务集。</span><span class="sxs-lookup"><span data-stu-id="75adf-174">Mapped to the value of ST03 from the incoming XML transaction set.</span></span> <span data-ttu-id="75adf-175">例如，"005010 X 218"5010 HIPAA 820 文档 （工资扣缴）。</span><span class="sxs-lookup"><span data-stu-id="75adf-175">For example, “005010X218” for a 5010 HIPAA 820 document (Payroll deduction).</span></span> <span data-ttu-id="75adf-176">St03 对用于验证事务集的架构。</span><span class="sxs-lookup"><span data-stu-id="75adf-176">ST03 is validated against the schema that is used to validate the transaction set.</span></span> <span data-ttu-id="75adf-177">**注意：** ST03 是必需的所有 HIPAA 版本 5010 事务 （835 除外）。</span><span class="sxs-lookup"><span data-stu-id="75adf-177">**Note:**  ST03 is mandatory for all HIPAA version 5010 transactions except for 835.</span></span>|  
|<span data-ttu-id="75adf-178">SE01 （包括的段的数量）</span><span class="sxs-lookup"><span data-stu-id="75adf-178">SE01 (Number of Included Segments)</span></span>|<span data-ttu-id="75adf-179">将设置为事务集，其中包括 ST 和 SE 段中的段的总数。</span><span class="sxs-lookup"><span data-stu-id="75adf-179">Set to the total number of segments in the transaction set, including the ST and SE segments.</span></span>|  
|<span data-ttu-id="75adf-180">SE02 （事务集控制编号）</span><span class="sxs-lookup"><span data-stu-id="75adf-180">SE02 (Transaction Set Control Number)</span></span>|<span data-ttu-id="75adf-181">映射到事务集中 ST02 的值。</span><span class="sxs-lookup"><span data-stu-id="75adf-181">Mapped to the value of ST02 in the transaction set.</span></span>|  
  
 <span data-ttu-id="75adf-182">在事务中的其他数据元素设置标头，如 ST03、 是可选的因而不在生成的段中赋值。</span><span class="sxs-lookup"><span data-stu-id="75adf-182">Other data elements in the transaction set header, such as ST03, are optional and so are not valued in the generated segments.</span></span>  
  
####  <a name="BKMK_EDIFACT"></a> <span data-ttu-id="75adf-183">EDIFACT 事务集标头和尾部段</span><span class="sxs-lookup"><span data-stu-id="75adf-183">EDIFACT Transaction Set Header and Trailer Segments</span></span>  
 <span data-ttu-id="75adf-184">对于没有标头和尾部段的 EDIFACT 编码的事务集，EDI 组装器将 UNH 和 UNT 段设置为以下：</span><span class="sxs-lookup"><span data-stu-id="75adf-184">For EDIFACT-encoded transaction sets that do not have header and trailer segments, the EDI Assembler will set UNH and UNT segments to the following:</span></span>  
  
|<span data-ttu-id="75adf-185">标头/尾部段</span><span class="sxs-lookup"><span data-stu-id="75adf-185">Header/Footer Segment</span></span>|<span data-ttu-id="75adf-186">ReplTest1</span><span class="sxs-lookup"><span data-stu-id="75adf-186">Value</span></span>|  
|----------------------------|-----------|  
|<span data-ttu-id="75adf-187">UNH01 （消息引用控制编号）</span><span class="sxs-lookup"><span data-stu-id="75adf-187">UNH01 (Message Reference Control Number)</span></span>|<span data-ttu-id="75adf-188">值`EdiOverride.UNH1`(如果`EdiOverride.OverrideEdiHeader`为 true，) 或映射到的值**参考编号 (UNH1)** 中**本地主机设置**页 (下**交换设置**)在单向协议选项卡**协议属性**对话框。</span><span class="sxs-lookup"><span data-stu-id="75adf-188">The value of `EdiOverride.UNH1` (if `EdiOverride.OverrideEdiHeader` is true,) or mapped to the value of **Reference Number (UNH1)** in the **Local Host Settings** page (under **Interchange Settings**)of the one-way agreement tab in the **Agreement Properties** dialog box.</span></span> <span data-ttu-id="75adf-189">如何设置应用新的或递增的控制编号**应用新 ID**属性。</span><span class="sxs-lookup"><span data-stu-id="75adf-189">A new or incremented control number is applied regardless of the setting of the **Apply New ID** property.</span></span>|  
|<span data-ttu-id="75adf-190">UNH2.1 （消息类型）</span><span class="sxs-lookup"><span data-stu-id="75adf-190">UNH2.1 (Message Type)</span></span>|<span data-ttu-id="75adf-191">映射到最后一个传入 XML 事务集中的 RootNode 名称的六个字符。</span><span class="sxs-lookup"><span data-stu-id="75adf-191">Mapped to the last six characters of the RootNode name from the incoming XML transaction set.</span></span> <span data-ttu-id="75adf-192">例如，"efact_d96a_invoic"的"INVOIC"。</span><span class="sxs-lookup"><span data-stu-id="75adf-192">For example, "INVOIC" from "EFACT_D96A_INVOIC".</span></span>|  
|<span data-ttu-id="75adf-193">UNH2.2 （消息版本号）</span><span class="sxs-lookup"><span data-stu-id="75adf-193">UNH2.2 (Message Version Number)</span></span>|<span data-ttu-id="75adf-194">从传入 XML 事务集映射到的 RootNode 名称的第七个字符。</span><span class="sxs-lookup"><span data-stu-id="75adf-194">Mapped to the seventh character of the RootNode name from the incoming XML transaction set.</span></span> <span data-ttu-id="75adf-195">例如，"efact_d96a_invoic""D"。</span><span class="sxs-lookup"><span data-stu-id="75adf-195">For example, "D" from "EFACT_D96A_INVOIC".</span></span>|  
|<span data-ttu-id="75adf-196">UNH2.3 （消息发行版号）</span><span class="sxs-lookup"><span data-stu-id="75adf-196">UNH2.3 (Message Release Number)</span></span>|<span data-ttu-id="75adf-197">第九个映射到第八个，并从传入 XML 事务的 RootNode 名称的第十个字符设置。</span><span class="sxs-lookup"><span data-stu-id="75adf-197">Mapped to the eighth, ninth, and tenth characters of the RootNode name from the incoming XML transaction set.</span></span> <span data-ttu-id="75adf-198">例如，"efact_d96a_invoic"的"96A"。</span><span class="sxs-lookup"><span data-stu-id="75adf-198">For example, "96A" from "EFACT_D96A_INVOIC".</span></span>|  
|<span data-ttu-id="75adf-199">UNH2.4 （控制机构代码）</span><span class="sxs-lookup"><span data-stu-id="75adf-199">UNH2.4 (Control Agency Coded)</span></span>|<span data-ttu-id="75adf-200">始终映射到字符串取消。</span><span class="sxs-lookup"><span data-stu-id="75adf-200">Always mapped to string ‘UN’.</span></span>|  
|<span data-ttu-id="75adf-201">UNT01 （包括的段的数量）</span><span class="sxs-lookup"><span data-stu-id="75adf-201">UNT01 (Number of Included Segments)</span></span>|<span data-ttu-id="75adf-202">将设置为事务集，其中包括 UNH 和 UNT 段中的段的总数。</span><span class="sxs-lookup"><span data-stu-id="75adf-202">Set to the total number of segments in the transaction set, including the UNH and UNT segments.</span></span>|  
|<span data-ttu-id="75adf-203">UNT02 （消息引用控制编号）</span><span class="sxs-lookup"><span data-stu-id="75adf-203">UNT02 (Message Reference Control Number)</span></span>|<span data-ttu-id="75adf-204">映射到的值**参考编号 (UNH1)** 中**本地主机设置**页 (在**交换设置**) 中的单向协议选项卡**协议属性**对话框</span><span class="sxs-lookup"><span data-stu-id="75adf-204">Mapped to the value of **Reference Number (UNH1)** in the **Local Host Settings** page (under **Interchange Settings**)of the one-way agreement tab in the **Agreement Properties** dialog box</span></span>|  
  
 <span data-ttu-id="75adf-205">UNH 事务集标头，如 UNH3 到 UNH6 中的其他数据元素是可选的因而不在生成的段中赋值。</span><span class="sxs-lookup"><span data-stu-id="75adf-205">Other data elements in the UNH transaction set header, such as UNH3 to UNH6, are optional and so are not valued in the generated segments.</span></span> <span data-ttu-id="75adf-206">如果任何这些字段是必需的必须将它们设置为传入 XML 事务集中的值。</span><span class="sxs-lookup"><span data-stu-id="75adf-206">If any of these fields are required, you must set them to a value in the incoming XML transaction set.</span></span>  
  
### <a name="additional-processing-on-envelope-of-an-outgoing-message"></a><span data-ttu-id="75adf-207">附加处理的传出消息信封</span><span class="sxs-lookup"><span data-stu-id="75adf-207">Additional Processing on Envelope of an Outgoing Message</span></span>  
 <span data-ttu-id="75adf-208">EDI 发送管道对传出消息的信封执行以下处理。</span><span class="sxs-lookup"><span data-stu-id="75adf-208">The EDI send pipeline performs the following processing on the envelope of an outgoing message.</span></span>  
  
#### <a name="control-numbers"></a><span data-ttu-id="75adf-209">控制编号</span><span class="sxs-lookup"><span data-stu-id="75adf-209">Control Numbers</span></span>  
 <span data-ttu-id="75adf-210">EDI 发送管道将输入交换控制编号、 组控制编号和事务集控制 （或参考） 编号的每个传出交换的信封段。</span><span class="sxs-lookup"><span data-stu-id="75adf-210">The EDI send pipeline will enter an interchange control number, a group control number, and a transaction set control (or reference) number into the envelope segments of each outgoing interchange.</span></span> <span data-ttu-id="75adf-211">这些数字是下表中所示：</span><span class="sxs-lookup"><span data-stu-id="75adf-211">These numbers are shown in the following table:</span></span>  
  
|<span data-ttu-id="75adf-212">控制编号</span><span class="sxs-lookup"><span data-stu-id="75adf-212">Control Number</span></span>|<span data-ttu-id="75adf-213">X12 字段</span><span class="sxs-lookup"><span data-stu-id="75adf-213">X12 Field</span></span>|<span data-ttu-id="75adf-214">EDIFACT 字段</span><span class="sxs-lookup"><span data-stu-id="75adf-214">EDIFACT Field</span></span>|  
|--------------------|---------------|-------------------|  
|<span data-ttu-id="75adf-215">交换控制编号</span><span class="sxs-lookup"><span data-stu-id="75adf-215">Interchange control number</span></span>|<span data-ttu-id="75adf-216">ISA13</span><span class="sxs-lookup"><span data-stu-id="75adf-216">ISA13</span></span>|<span data-ttu-id="75adf-217">UNB5</span><span class="sxs-lookup"><span data-stu-id="75adf-217">UNB5</span></span>|  
|<span data-ttu-id="75adf-218">组控制编号</span><span class="sxs-lookup"><span data-stu-id="75adf-218">Group control number</span></span>|<span data-ttu-id="75adf-219">GS6</span><span class="sxs-lookup"><span data-stu-id="75adf-219">GS6</span></span>|<span data-ttu-id="75adf-220">UNG5</span><span class="sxs-lookup"><span data-stu-id="75adf-220">UNG5</span></span>|  
|<span data-ttu-id="75adf-221">事务集控制编号 (X12)</span><span class="sxs-lookup"><span data-stu-id="75adf-221">Transaction set control number (X12)</span></span><br /><br /> <span data-ttu-id="75adf-222">事务集参考编号 (EDIFACT)</span><span class="sxs-lookup"><span data-stu-id="75adf-222">Transaction set reference number (EDIFACT)</span></span>|<span data-ttu-id="75adf-223">ST2</span><span class="sxs-lookup"><span data-stu-id="75adf-223">ST2</span></span>|<span data-ttu-id="75adf-224">UNH1</span><span class="sxs-lookup"><span data-stu-id="75adf-224">UNH1</span></span>|  
  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] <span data-ttu-id="75adf-225">将设置发送基于范围的值中输入的下一个交换的交换控制编号**交换控制编号 (ISA13)** 上的属性**本地主机设置**页上 （下**交换设置**) 中的单向协议选项卡**协议属性**对话框。</span><span class="sxs-lookup"><span data-stu-id="75adf-225">will set the interchange control number for the next interchange sent based on the range of values that you entered in the **Interchange control number (ISA13)** property on the **Local Host Settings** page (under **Interchange Settings**) of the one-way agreement tab in the **Agreement Properties** dialog box.</span></span> <span data-ttu-id="75adf-226">它将递增此编号对于每个后续交换，直到达到最大值。</span><span class="sxs-lookup"><span data-stu-id="75adf-226">It will increment this number for each subsequent interchange, until the maximum value is reached.</span></span>  
  
 <span data-ttu-id="75adf-227">如果使用 EdiOverride 上下文属性指定交换控制编号，则指定的值将用于此交换，并且将不会影响协议中指定的交换控制编号。</span><span class="sxs-lookup"><span data-stu-id="75adf-227">If the interchange control number is specified using the EdiOverride context properties, the value specified will be used for this interchange and will not affect the interchange control number specified in agreement.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="75adf-228">在 EDIFACT 中的组控制编号才会递增**应用 UNG 段**属性中的**信封**选择 EDIFACT 协议属性页。</span><span class="sxs-lookup"><span data-stu-id="75adf-228">The group control number in EDIFACT is only incremented if the **Apply UNG segments** property in the **Envelopes** page of the EDIFACT agreement properties is selected.</span></span> <span data-ttu-id="75adf-229">第二个字段 （参考编号） 将增加;前缀和后缀字段不会增加。</span><span class="sxs-lookup"><span data-stu-id="75adf-229">The second field (reference number) is incremented; the prefix and suffix fields are not incremented.</span></span> <span data-ttu-id="75adf-230">如果事务集控制编号才会递增**将应用新 ID**选择属性。</span><span class="sxs-lookup"><span data-stu-id="75adf-230">Transaction set control numbers are only incremented if the **Apply new ID** property is selected.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="75adf-231">在保留的批交换，可以创建使用消息收集示例对自定义交换控制编号。</span><span class="sxs-lookup"><span data-stu-id="75adf-231">In a preserved batch interchange, you can create a custom interchange control number using the message enrichment sample.</span></span> <span data-ttu-id="75adf-232">有关详细信息，请参阅[消息充实示例 （BizTalk Server 示例）](../core/message-enrichment-sample-biztalk-server-sample.md)。</span><span class="sxs-lookup"><span data-stu-id="75adf-232">For more information, see [Message Enrichment Sample (BizTalk Server Sample)](../core/message-enrichment-sample-biztalk-server-sample.md).</span></span>  
  
 <span data-ttu-id="75adf-233">如果未定义协议，会从同一页面中在后备协议中获取编号。</span><span class="sxs-lookup"><span data-stu-id="75adf-233">If no agreement is defined, the numbers are taken from the same pages in the fallback agreement.</span></span> <span data-ttu-id="75adf-234">发送管道存储上次使用的控制编号，然后进入下一步的交换、 组和事务集的递增的数字。</span><span class="sxs-lookup"><span data-stu-id="75adf-234">The send pipeline stores the last-used control number, and then enters an incremented number for the next interchange, group, and transaction set.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="75adf-235">如果任何控制编号达到指定范围的最大值[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]会引发错误并挂起该交换。</span><span class="sxs-lookup"><span data-stu-id="75adf-235">If any control number reaches the maximum value of the specified range, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will raise an error and suspend the interchange.</span></span> <span data-ttu-id="75adf-236">你可以手动重置控制编号，或配置[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]以自动重置为下限，在**本地主机设置**页中**协议属性**对话框中，对于这两个 X12 和EDIFACT 消息。</span><span class="sxs-lookup"><span data-stu-id="75adf-236">You can manually reset the control number, or configure [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to automatically reset to the lower limit, in the **Local Host Settings** page in the **Agreement Properties** dialog box for both X12 and EDIFACT messages.</span></span>  
> 
> [!NOTE]
>  <span data-ttu-id="75adf-237">控制编号保存在 dbo。EdiSequenceNumbers BizTalk MessageBox 数据库的表。</span><span class="sxs-lookup"><span data-stu-id="75adf-237">Control numbers are saved in the dbo.EdiSequenceNumbers table of the BizTalk MessageBox database.</span></span> <span data-ttu-id="75adf-238">应通过从表中清除控制编号或存档控制编号，根据需要来管理此数据库表。</span><span class="sxs-lookup"><span data-stu-id="75adf-238">You should manage this database table by purging the control numbers from the table or archiving the control numbers, as appropriate.</span></span>  
  
 <span data-ttu-id="75adf-239">在 EDIFACT 中，控制编号由字母数字值构成。</span><span class="sxs-lookup"><span data-stu-id="75adf-239">In EDIFACT, the control numbers consist of alphanumeric values.</span></span> <span data-ttu-id="75adf-240">支持以下格式：</span><span class="sxs-lookup"><span data-stu-id="75adf-240">The following formats are supported:</span></span>  
  
- <span data-ttu-id="75adf-241">数字 (例如，"1")</span><span class="sxs-lookup"><span data-stu-id="75adf-241">Numbers (for example, "1")</span></span>  
  
- <span data-ttu-id="75adf-242">前缀数字后缀 (例如，"WA1A")</span><span class="sxs-lookup"><span data-stu-id="75adf-242">PrefixNumbersSuffix (for example, "WA1A")</span></span>  
  
- <span data-ttu-id="75adf-243">前缀数字 (例如，"AA1")</span><span class="sxs-lookup"><span data-stu-id="75adf-243">PrefixNumbers (for example, "AA1")</span></span>  
  
- <span data-ttu-id="75adf-244">数字后缀 (例如，"1AA")</span><span class="sxs-lookup"><span data-stu-id="75adf-244">NumbersSuffix (for example, "1AA")</span></span>  
  
  <span data-ttu-id="75adf-245">在这些格式中，数字的字符可从"0"到"9"和前缀和后缀字符可以是任何非数字字符。</span><span class="sxs-lookup"><span data-stu-id="75adf-245">In these formats, the number characters can be from "0" to "9", and the prefix and suffix characters can be any characters other than numbers.</span></span> <span data-ttu-id="75adf-246">只有数量将会递增，直到达到最大值。</span><span class="sxs-lookup"><span data-stu-id="75adf-246">Only the number will be incremented to reach the maximum value.</span></span>  
  
#### <a name="count-of-segments"></a><span data-ttu-id="75adf-247">段的计数</span><span class="sxs-lookup"><span data-stu-id="75adf-247">Count of segments</span></span>  
 <span data-ttu-id="75adf-248">对于每个交换中事务集，EDI 发送管道将验证事务集中的段的计数在 SE01 数据元素适用于 X12 和 EDIFACT 的 UNT01 数据元素中所示。</span><span class="sxs-lookup"><span data-stu-id="75adf-248">For each transaction set in an interchange, the EDI send pipeline will verify the count of segments in the transaction set, as indicated in the SE01 data element for X12 and the UNT01 data element for EDIFACT.</span></span> <span data-ttu-id="75adf-249">如果相应的数据元素的值与实际计数不匹配，发送管道将更新此计数以反映实际段数。</span><span class="sxs-lookup"><span data-stu-id="75adf-249">If the value of the appropriate data element does not match the actual count, the send pipeline will update the count to reflect the actual number of segments.</span></span> <span data-ttu-id="75adf-250">不会由于计数错误而拒绝事务集。</span><span class="sxs-lookup"><span data-stu-id="75adf-250">The transaction set will not be rejected because of an erroneous count.</span></span> <span data-ttu-id="75adf-251">计数的更新将记录在事件查看器中的警告。</span><span class="sxs-lookup"><span data-stu-id="75adf-251">The update of the count will be logged in a warning in the event viewer.</span></span> <span data-ttu-id="75adf-252">这不适用于保留批的处理。</span><span class="sxs-lookup"><span data-stu-id="75adf-252">This does not apply to the processing of preserved batches.</span></span>  
  
## <a name="additional-steps-in-serializing-an-edi-interchange"></a><span data-ttu-id="75adf-253">序列化 EDI 交换中的其他步骤</span><span class="sxs-lookup"><span data-stu-id="75adf-253">Additional Steps in Serializing an EDI Interchange</span></span>  
 <span data-ttu-id="75adf-254">EDI 发送管道还在序列化过程中执行以下步骤。</span><span class="sxs-lookup"><span data-stu-id="75adf-254">The EDI send pipeline also performs the following steps during serializing.</span></span>  
  
### <a name="serializing-the-release-indicator"></a><span data-ttu-id="75adf-255">序列化转义指示器</span><span class="sxs-lookup"><span data-stu-id="75adf-255">Serializing the Release Indicator</span></span>  
 <span data-ttu-id="75adf-256">序列化过程中的 EDIFACT 消息，EDI 发送管道会将任何需要的转义指示器插入到 EDI 交换。</span><span class="sxs-lookup"><span data-stu-id="75adf-256">During the serializing of an EDIFACT messages, the EDI send pipeline will insert any required release indicator into the EDI interchange.</span></span> <span data-ttu-id="75adf-257">假定，中间路由到发送管道的 XML 不包含转义的数据。</span><span class="sxs-lookup"><span data-stu-id="75adf-257">It is assumed that the intermediate XML routed to the send pipeline does not include data that is escaped.</span></span> <span data-ttu-id="75adf-258">例如，如果路由到发送管道的 XML 数据中存在转义指示器，则发送管道会将另一转义指示器在现有转义指示器前的添加才能对其进行转义。</span><span class="sxs-lookup"><span data-stu-id="75adf-258">For example, if a release indicator is present in the XML data routed to the send pipeline, the send pipeline will add another release indicator before the existing release indicator in order to escape it.</span></span>  
  
 <span data-ttu-id="75adf-259">转义指示器不会包含在 EDI 验证。</span><span class="sxs-lookup"><span data-stu-id="75adf-259">The release indicator will not be included in EDI validation.</span></span> <span data-ttu-id="75adf-260">在计算长度限制时，EDI 发送管道将不包括转义指示器。</span><span class="sxs-lookup"><span data-stu-id="75adf-260">The EDI send pipeline will not include the release indicator when it computes length restrictions.</span></span>  
  
### <a name="adding-trailing-zeroes-to-meet-implied-decimal-requirements"></a><span data-ttu-id="75adf-261">添加尾随零以便满足隐式小数要求</span><span class="sxs-lookup"><span data-stu-id="75adf-261">Adding Trailing Zeroes to Meet Implied Decimal Requirements</span></span>  
 <span data-ttu-id="75adf-262">如果 EDI 组装器遇到在小数点后具有数目不足的位数的数字，它将添加尾随零以满足隐式小数要求的小数点后面。</span><span class="sxs-lookup"><span data-stu-id="75adf-262">If the EDI Assembler encounters a number that has an insufficient number of digits after the decimal point, it will add trailing zeroes after the decimal point to meet implied decimal requirements.</span></span> <span data-ttu-id="75adf-263">例如，如果数字应采用 N2 格式时，EDI 组装器遇到数字"4.5"，则组装器可以将数更改为"4.50"。</span><span class="sxs-lookup"><span data-stu-id="75adf-263">For example, if the EDI Assembler encounters the number "4.5" when the number should have the format N2, the Assembler will change the number to "4.50".</span></span>  
  
### <a name="replacing-separators-in-payload-data"></a><span data-ttu-id="75adf-264">替换负载数据中的分隔符</span><span class="sxs-lookup"><span data-stu-id="75adf-264">Replacing Separators in Payload Data</span></span>  
 <span data-ttu-id="75adf-265">如果出站消息中的数据包含还配置为数据、 段或组件分隔符的字符，EDI 发送管道可以替换这些字符。</span><span class="sxs-lookup"><span data-stu-id="75adf-265">If the data in the outbound message contains characters that are also configured as data, segment or component separators, the EDI send pipeline can replace these characters.</span></span> <span data-ttu-id="75adf-266">例如，如果该消息包含的值为"测试 \* 数据"和数据元素分隔符配置为\*，这可能会在接收系统上引起解析问题。</span><span class="sxs-lookup"><span data-stu-id="75adf-266">For example, if the message contains a value of “test\*data” and the data element separator is configured as ‘\*’, this may cause parsing problems on the receiving system.</span></span>  
  
 <span data-ttu-id="75adf-267">可以配置 EDI 发送管道来替换此字符，从而**替换为在通过有效负载中的分隔符**属性并指定替换字符。</span><span class="sxs-lookup"><span data-stu-id="75adf-267">The EDI send pipeline can be configured to replace this character by enabling the **Replace separators in payload with** property and specifying a replacement character.</span></span> <span data-ttu-id="75adf-268">此属性位于**字符集和分隔符**的单向协议选项卡中的页**协议属性**对话框。</span><span class="sxs-lookup"><span data-stu-id="75adf-268">This property is located in the **Charset and Separators** page in the one-way agreement tab of the **Agreement Properties** dialog box.</span></span>  
  
### <a name="transform-hipaa-records-based-on-trigger-fields"></a><span data-ttu-id="75adf-269">转换 HIPAA 记录基于触发器字段</span><span class="sxs-lookup"><span data-stu-id="75adf-269">Transform HIPAA Records Based on Trigger Fields</span></span>  
 <span data-ttu-id="75adf-270">如果出站文档是 HIPAA 事务集，EDI 组装器将转换到匹配的普通 EDI 分段包含触发器字段任何唯一 XML 记录 (请参阅[HIPAA 架构触发器字段批注](../core/hipaa-schema-trigger-field-annotations.md))。</span><span class="sxs-lookup"><span data-stu-id="75adf-270">If the outbound document is a HIPAA transaction set, the EDI Assembler will transform any unique XML record that contains a trigger field into the matching generic EDI segment (see [HIPAA Schema Trigger Field Annotations](../core/hipaa-schema-trigger-field-annotations.md)).</span></span> <span data-ttu-id="75adf-271">这被通过删除"_"字符之后 XML 记录名称的后缀。</span><span class="sxs-lookup"><span data-stu-id="75adf-271">This is accomplished by dropping the suffix of the XML record name after the “_” character.</span></span>  
  
 <span data-ttu-id="75adf-272">例如的元素 < N1_PayerIdentification_TS835W1_1000A > 和 < N1_PayeeIdentification_TS835W1_1000B > 将变为 N1 段。</span><span class="sxs-lookup"><span data-stu-id="75adf-272">For example, both the elements <N1_PayerIdentification_TS835W1_1000A> and <N1_PayeeIdentification_TS835W1_1000B> will become N1 segments.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="75adf-273">请参阅</span><span class="sxs-lookup"><span data-stu-id="75adf-273">See Also</span></span>  
 [<span data-ttu-id="75adf-274">BizTalk Server 如何发送 EDI 消息</span><span class="sxs-lookup"><span data-stu-id="75adf-274">How BizTalk Server Sends EDI Messages</span></span>](../core/how-biztalk-server-sends-edi-messages.md)