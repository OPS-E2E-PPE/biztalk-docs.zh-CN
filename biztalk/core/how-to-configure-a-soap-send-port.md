---
title: 如何配置 SOAP 发送端口 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- SOAP adapters, send ports
- SOAP adapters, code samples
- code samples, SOAP adapters
- configuring [SOAP adapters], code samples
- configuring [SOAP adapters], send ports
- send ports, SOAP adapters
ms.assetid: 3a0622f4-d25d-4449-a063-d8ba217e9729
caps.latest.revision: 11
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 35ac4730ba7e286ac95a499bdfc53a4ecf1e0804
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65342305"
---
# <a name="how-to-configure-a-soap-send-port"></a>如何配置 SOAP 发送端口
以编程方式或使用可配置 SOAP 发送端口[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理控制台。  

 **如何以编程方式配置 SOAP 发送端口**  

 BizTalk 浏览器对象模型公开了名为发送端口的特定于适配器的接口**ITransportInfo**具有**TransportTypeData**读/写属性。 此属性接受 XML 字符串的名称-值对形式的 SOAP 发送端口配置属性包。 请注意，若要设置此属性在 BizTalk 浏览器对象中的模型，必须设置**OutboundTransportLocation**的属性**ITransportInfo**接口第一次。  

 **TransportTypeData**的属性**ITransportInfo**接口不需要。 如果未设置，则适配器将使用默认值为 SOAP 发送端口配置下, 表中所示。  

 下表列出了发送端口可在 SOAP 在 BizTalk 浏览器对象模型中设置的配置属性。  

|属性名称|类型|Description|  
|-------------------|----------|-----------------|  
|**URI**|String|虚拟目录，其中包含部署服务器上的 Web 服务。|  
|**用户名**|String|若要指定用于访问目标 Web 服务的用户名。<br /><br /> 默认值：空白|  
|**密码**|String|要用于服务器的身份验证的用户密码。<br /><br /> 默认值：空白|  
|**ClientCertificate**|String|客户端 SSL 证书的指纹。<br /><br /> 默认值：空白|  
|**AffiliateApplicationName**|String|要用于兑换客户端凭据票证的 SSO 应用程序的名称。<br /><br /> **AffiliateApplicationName**与排斥**用户名**并**密码**对。<br /><br /> 默认值：空白|  
|**UseProxy**|Boolean|指示 SOAP 发送端口是否使用代理服务器访问目标 Web 服务。 代理服务器可以由所有 SOAP 发送端口共享。<br /><br /> 默认值：False|  
|**ProxyAddress**|String|要用于 Web 服务调用的 HTTP 代理地址。<br /><br /> 默认值：空白|  
|**ProxyPort**|Integer|要使用的 Web 服务调用的 HTTP 代理的端口。<br /><br /> 默认值：空白|  
|**ProxyUsername**|String|代理使用的用户名。<br /><br /> 默认值：空白|  
|**ProxyPassword**|String|代理使用的密码。<br /><br /> 默认值：空白|  

 下面的代码显示了要用于设置这些属性的格式：  

```  
<CustomProps>  
   <URI vt="8"/>  
   <ClientCertificate vt="8"/>  
   <Password vt="8">Encrypted</Password>  
   <ProxyAddress vt="8"/>  
   <ProxyPassword vt="8">Encrypted</ProxyPassword>  
   <ProxyPort vt="3"/>  
   <ProxyUsername vt="8"/>  
   <UseProxy vt="11"/>  
   <Username vt="8"/>  
   <AffiliateApplicationName vt="8"/>  
</CustomProps>  
```  

 **如何使用 BizTalk Server 管理控制台配置 SOAP 发送端口**  

 您可以设置 SOAP 发送端口适配器变量[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理控制台。 如果没有为发送端口设置属性的默认发送处理程序中设置的值[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]使用管理控制台。  

### <a name="to-configure-variables-for-a-soap-send-port"></a>若要配置 SOAP 发送端口的变量  

1. 在[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理控制台中，创建新的发送端口或双击某个现有发送端口以对其进行修改。 有关详细信息，请参阅[如何创建发送端口](../core/how-to-create-a-send-port2.md)。 配置所有发送端口选项，并指定**SOAP**有关**类型**选项**传输**一部分**常规**选项卡。  

2. 上**常规**选项卡上，在**传输**部分旁边**类型**，单击**配置**。  

3. 在中**SOAP 传输属性**对话框中，在**常规**选项卡上，执行以下操作：  


   |             使用此选项              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     执行的操作                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
   |-----------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |        **Web 服务 URL**        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   指定想要调用的 Web 服务的地址。 **注意：** URI 发送端口或接收位置不能超过 256 个字符。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
   |        **身份验证**         |                                                                                                                                                                                                                                                                                                                                                                                                                          指示正在调用 Web 服务使用的身份验证方法。<br /><br /> 选项：<br /><br /> -   **匿名。** 默认设置。<br />-   **基本。** SOAP 连接以纯文本格式发送用户名和密码。<br />-   **摘要。** SOAP 连接以加密格式发送密码。<br />-   **NTLM。** 用户名和密码都不通过 SOAP 连接发送。 SOAP 适配器始终使用的进程在其下运行 SOAP 发送适配器的此身份验证类型的凭据。                                                                                                                                                                                                                                                                                                                                                                                                                           |
   |          **凭据**          | 指定要使用凭据的类型。<br /><br /> 只有**身份验证类型**是**基本**或**摘要**。<br /><br /> 选项：<br /><br /> -   **不使用单一登录**<br />     **用户名**<br />     要用于目标服务器的身份验证的用户名称。 如果**身份验证类型**属性是**Anonymous**或**NTLM**，将禁用此选项。 此属性需要一个值，如果**基本**或**摘要**选择，并且不使用企业单一登录。<br />     最小长度：0<br />     最大长度：256<br />     **密码**<br />     要使用的目标服务器的身份验证的密码。 如果**身份验证类型**属性是**Anonymous**或**NTLM**，将禁用此选项。 此属性需要一个值，如果**基本**或**摘要**选择，并且不使用单一登录。<br />     最小长度：0<br />     最大长度：256<br />-   **使用单一登录**<br />     指定是否使用单一登录检索客户端凭据的目标服务器的身份验证。<br />     **关联应用程序**<br />     指定要使用单一登录关联应用程序。 有关填充此列表的信息，请参阅[SSO 关联应用程序](../core/sso-affiliate-applications.md)。<br />     最小长度：0<br />     最大长度：256 |
   | **客户端证书指纹** |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        指定要用于建立连接的客户端证书的指纹。<br /><br /> 例如：01 23 45 67 89 AB CD EF 01 23 45 67 89 AB CD EF 01 23 45 67<br /><br /> 最小长度：0<br /><br /> 最大长度：59                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |


4. 在中**SOAP 传输属性**对话框中，在**代理**选项卡上，执行以下操作：  


   |                   使用此选项                    |                                                                                                                                                                                                     执行的操作                                                                                                                                                                                                      |
   |-----------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   | **使用处理程序的默认代理配置** |                                                                         指定发送端口代理处理程序配置。 为 true 时，该端口将使用在处理程序级别指定的代理设置。 为 false 时，发送适配器将使用发送端口上指定的代理信息。<br /><br /> 默认设置为 true。                                                                         |
   |             **不使用代理**              |                                                                                                                                                                             指示是否在 SOAP 发送处理程序将使用代理服务器。                                                                                                                                                                             |
   |                 **使用代理**                 |                                                                                                                                                 指示是否在 SOAP 发送处理程序将使用代理服务器。 代理服务器可以由所有 SOAP 发送端口共享。                                                                                                                                                  |
   |                  **Server**                   |                                                                                                    指定代理服务器的名称。<br /><br /> 此属性仅需要一个值，如果**使用代理**处于选中状态。<br /><br /> 键入：String<br /><br /> 最小长度：0<br /><br /> 最大长度：256                                                                                                     |
   |                   **端口**                    |                                       指定端口 SOAP 发送处理程序使用。<br /><br /> 此属性仅需要一个值，如果**使用代理**处于选中状态。<br /><br /> 默认值：80<br /><br /> 键入：Long<br /><br /> 最小值：0<br /><br /> 最大值：65535**注意：** 指定的值为 0 表示使用默认值为端口 80。                                        |
   |                 **用户名**                 | 指定要用于身份验证的用户名。 如果使用 Windows 集成身份验证，用户名将包括在域中，**域 \ 用户名**。 如果使用基本或摘要式身份验证的用户名不包括**域\\**。<br /><br /> 此属性仅需要一个值，如果**使用代理**处于选中状态。<br /><br /> 键入：String<br /><br /> 最小长度：0<br /><br /> 最大长度：256 |
   |                 **密码**                  |                                                                                                指定要用于身份验证的密码。<br /><br /> 此属性仅需要一个值，如果**使用代理**处于选中状态。<br /><br /> 键入：String<br /><br /> 最小长度：0<br /><br /> 最大长度：256                                                                                                 |


5. 在中**SOAP 传输属性**对话框中，在**Web 服务**选项卡上，执行以下操作：  


   |          使用此选项          |                                                                                                                                                                                                  执行的操作                                                                                                                                                                                                  |
   |----------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   | **业务流程 Web 端口** |                                                                                                                                指定要在中列出的 Web 服务 URL 中使用的 Web 服务的公开**常规**选项卡。<br /><br /> 这是默认设置。                                                                                                                                 |
   |     **程序集名称**      | 指定包含 Web 服务代理的程序集的名称。 可以通过单击浏览按钮找到程序集填充此字段。 选择程序集后的程序集的完全限定的名称填充此框。 **注意：** 指定的程序集必须存在于所有[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]s 在运行时。 |
   |       **类型名称**        |                                                                                                                              指定包含要调用的 Web 方法的类的名称。 可以从程序集内包含的类型列表选择此选项。                                                                                                                              |
   |      **方法名称**       |                                             在列表框中指定的方法之一，或选择更高版本为"指定"选项。 如果选择"指定"选项以后，则必须通过其他方式，如管道组件设置 Web 方法。 在此方案中，web 方法必须写入到 Soap 适配器**MethodName**上下文属性。                                              |
   |        **SOAP 1.2**        |                                                                                                         指定要生成将支持 SOAP 1.2 协议的代理代码。 如果此选项处于未选中状态，就会生成 SOAP 1.1 兼容的代理代码。<br /><br /> 默认值： 清除                                                                                                          |


6. 单击**确定**并**确定**次以保存设置。  

## <a name="see-also"></a>请参阅  
 [发布 Web 服务](../core/publishing-web-services.md)