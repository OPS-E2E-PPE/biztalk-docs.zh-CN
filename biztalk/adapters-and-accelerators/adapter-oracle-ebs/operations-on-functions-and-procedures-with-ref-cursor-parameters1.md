---
title: 对包含 REF CURSOR Parameters1 函数和过程的操作 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: d6801c1e-7992-40a0-bab7-87957840cedd
caps.latest.revision: 7
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 7ee9eba5aae898ddc57352ed3bb30b4e5b1b8cbe
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65375362"
---
# <a name="operations-on-functions-and-procedures-with-ref-cursor-parameters"></a><span data-ttu-id="54500-102">对包含 REF CURSOR 参数函数和过程的操作</span><span class="sxs-lookup"><span data-stu-id="54500-102">Operations on Functions and Procedures with REF CURSOR Parameters</span></span>
<span data-ttu-id="54500-103">REF CURSOR 是 PL/SQL 数据类型表示的指针指向服务器端结果集生成的执行查询。</span><span class="sxs-lookup"><span data-stu-id="54500-103">A REF CURSOR is a PL/SQL data type that represents a pointer to a server-side result set generated by executing a query.</span></span> <span data-ttu-id="54500-104">REF CURSOR 类型支持输入和输出数据的流，适合用于传输大量数据传入和传出 PL/SQL 代码。</span><span class="sxs-lookup"><span data-stu-id="54500-104">A REF CURSOR type enables input and output streaming of data and is ideal for transferring large amounts of data to and from a PL/SQL code.</span></span> 

## <a name="strongly-typed-and-weakly-typed-ref-cursors"></a><span data-ttu-id="54500-105">强类型化和弱类型化 REF Cursor</span><span class="sxs-lookup"><span data-stu-id="54500-105">Strongly-typed and weakly-typed REF CURSORs</span></span>
<span data-ttu-id="54500-106">[!INCLUDE[adapteroracleebusinesslong](../../includes/adapteroracleebusinesslong-md.md)]提供可以传递到 PL/SQL 过程和函数作为 IN 和 OUT 参数的强类型化和弱类型 (SYS_REFCURSOR) REF Cursor 的支持。</span><span class="sxs-lookup"><span data-stu-id="54500-106">The [!INCLUDE[adapteroracleebusinesslong](../../includes/adapteroracleebusinesslong-md.md)] provides support for strongly-typed and weakly-typed (SYS_REFCURSOR) REF CURSORs that can be passed to PL/SQL procedures and functions as IN and OUT parameters.</span></span>  
  
- <span data-ttu-id="54500-107">**REF CURSOR 中**。</span><span class="sxs-lookup"><span data-stu-id="54500-107">**IN REF CURSOR**.</span></span> <span data-ttu-id="54500-108">适配器客户端必须通过提供的 Oracle 数据库打开 REF CURSOR 的 PL/SQL 代码 （如字符串） 使用 IN REF CURSOR。</span><span class="sxs-lookup"><span data-stu-id="54500-108">Adapter clients must use an IN REF CURSOR by supplying a PL/SQL code (as string) that opens REF CURSOR on the Oracle database.</span></span> <span data-ttu-id="54500-109">适配器创建变量并将其设置打开的 REF CURSOR 并调用函数或使用该变量的过程。</span><span class="sxs-lookup"><span data-stu-id="54500-109">The adapter creates variable and sets it the opened REF CURSOR and calls a function or procedure with that variable.</span></span> <span data-ttu-id="54500-110">因此，在 REF CURSOR 参数中 PL/SQL 存储过程和函数应表示为字符串将作为输入值标记出 REF CURSOR 变量的 PL/SQL 代码块的"？"。</span><span class="sxs-lookup"><span data-stu-id="54500-110">Therefore, IN REF CURSOR parameters in PL/SQL stored procedure and functions should be represented as strings that take a PL/SQL code block as input value marking the OUT REF CURSOR variable with a "?".</span></span>  
  
- <span data-ttu-id="54500-111">**REF CURSOR 出**。</span><span class="sxs-lookup"><span data-stu-id="54500-111">**OUT REF CURSOR**.</span></span> <span data-ttu-id="54500-112">出 REF CURSOR 参数返回为强类型化或弱类型化结果集。</span><span class="sxs-lookup"><span data-stu-id="54500-112">OUT REF CURSOR parameters are returned as either strongly-typed or weakly-typed result sets.</span></span> <span data-ttu-id="54500-113">返回的结果集的类型取决于是否 REF CURSOR 参数被声明为存储过程或函数定义中的强类型化或弱类型化的 REF CURSOR 在 Oracle 服务器上。</span><span class="sxs-lookup"><span data-stu-id="54500-113">The type of the result set returned depends on whether the REF CURSOR parameter is declared as a strongly-typed or weakly-typed REF CURSOR in the stored procedure or function definition on the Oracle server.</span></span>  
  
- <span data-ttu-id="54500-114">**在 OUT REF CURSOR 参数**。</span><span class="sxs-lookup"><span data-stu-id="54500-114">**IN OUT REF CURSOR parameters**.</span></span>  <span data-ttu-id="54500-115">因为[!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)]模型在 REF CURSOR 参数作为字符串，并为复杂类型的 OUT REF CURSOR 参数，它不能在 OUT REF CURSOR 参数支持一种类型。</span><span class="sxs-lookup"><span data-stu-id="54500-115">Because the [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] models IN REF CURSOR parameters as strings and OUT REF CURSOR parameters as complex types, it cannot support a single type for an IN OUT REF CURSOR parameter.</span></span> <span data-ttu-id="54500-116">出于此原因，它将 IN 出 REF CURSOR 参数视为两个不同的参数： IN 参数在请求消息和响应消息中的一个输出参数。</span><span class="sxs-lookup"><span data-stu-id="54500-116">For this reason, it treats IN OUT REF CURSOR parameters as two different parameters: an IN parameter in the request message and an OUT parameter in the response message.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="54500-117">请参阅</span><span class="sxs-lookup"><span data-stu-id="54500-117">See Also</span></span>  
 <span data-ttu-id="54500-118">[哪些操作可以是执行使用适配器？](https://msdn.microsoft.com/library/cc185219(v=bts.10).aspx)</span><span class="sxs-lookup"><span data-stu-id="54500-118">[What Operations Can be Performed Using the Adapter?](https://msdn.microsoft.com/library/cc185219(v=bts.10).aspx)</span></span>