---
title: "服务器运行时安全性 |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- security, server runtime
- servers, security
- servers, runtime
ms.assetid: 40f5ca3e-d9d3-4543-bd38-82283c343b76
caps.latest.revision: "4"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 9a5979162a521185b87977191c9d709fb754b1ed
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
---
# <a name="server-runtime-security"></a><span data-ttu-id="75442-102">服务器运行时安全性</span><span class="sxs-lookup"><span data-stu-id="75442-102">Server Runtime Security</span></span>
[!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)]<span data-ttu-id="75442-103">消息修复和新提交控制的业务用户、 后端系统和 SWIFT 网络终结点之间的 SWIFT 消息流的安全和确定性的方式。</span><span class="sxs-lookup"><span data-stu-id="75442-103"> Message Repair and New Submission governs the flow of SWIFT messages between business users, back-end systems, and SWIFT network endpoints in a secure and deterministic manner.</span></span> <span data-ttu-id="75442-104">它由业务用户提交的消息进行身份验证、 验证数据和业务规则正确性的消息和将消息路由到后端系统或从而最终提交到 SWIFT 网络。</span><span class="sxs-lookup"><span data-stu-id="75442-104">It authenticates messages submitted by business users, validates messages for data and business-rule correctness, and routes messages to back-end systems or for final delivery to the SWIFT network.</span></span> <span data-ttu-id="75442-105">有关数字证书的详细信息，请参阅"加密和签名证书"MSDN 库网站上在[http://go.microsoft.com/fwlink/?linkid=50285](http://go.microsoft.com/fwlink/?linkid=50285)。</span><span class="sxs-lookup"><span data-stu-id="75442-105">For more information about digital certificates, see "Encryption and Signing Certificates" on the MSDN Library Web site at [http://go.microsoft.com/fwlink/?linkid=50285](http://go.microsoft.com/fwlink/?linkid=50285).</span></span>  
  
 <span data-ttu-id="75442-106">消息修复和新提交是[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]orchestration 应用程序，托管以及在中执行[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]安全上下文。</span><span class="sxs-lookup"><span data-stu-id="75442-106">Message Repair and New Submission is a [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] orchestration application, hosted and executed in the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] security context.</span></span> <span data-ttu-id="75442-107">作为保护[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]应用程序[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]前面所述的安全功能。</span><span class="sxs-lookup"><span data-stu-id="75442-107">It is secured as a [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] application by the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] security features described earlier.</span></span> <span data-ttu-id="75442-108">消息修复和新提交还定义并强制实施 SWIFT 消息创建、 修复、 批准和提交到特定的用户级安全策略，如下所示：</span><span class="sxs-lookup"><span data-stu-id="75442-108">Message Repair and New Submission also defines and enforces user-level security policies specific to SWIFT message creation, repair, approval, and submission, as follows:</span></span>  
  
-   <span data-ttu-id="75442-109">所有消息，新的或修复后，都提交到[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]通过消息修复和新提交必须源自受信任的用户。</span><span class="sxs-lookup"><span data-stu-id="75442-109">All messages, new or repaired, submitted to [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] through Message Repair and New Submission must originate from a trusted user.</span></span>  
  
-   <span data-ttu-id="75442-110">创建或修复消息的受信任的用户必须具有正确授权和权限。</span><span class="sxs-lookup"><span data-stu-id="75442-110">Trusted users who create or repair messages must have the correct authorization and rights.</span></span> <span data-ttu-id="75442-111">批准或拒绝的消息的受信任的用户必须具有正确授权和权限。</span><span class="sxs-lookup"><span data-stu-id="75442-111">Trusted users who approve or reject messages must have the correct authorization and rights.</span></span>  
  
-   <span data-ttu-id="75442-112">必须由大量已知的受信任的用户审批所有消息。</span><span class="sxs-lookup"><span data-stu-id="75442-112">All messages must be approved by a known number of trusted users.</span></span> <span data-ttu-id="75442-113">必须是唯一的消息创建者、 repairer，和审批者链中的每个受信任的用户-相同的用户不能创建或修复和批准或拒绝消息。</span><span class="sxs-lookup"><span data-stu-id="75442-113">Each trusted user in the chain of message creator, repairer, and approvers must be unique—the same user cannot create or repair and approve or reject a message.</span></span> <span data-ttu-id="75442-114">同一个用户无法输入多个批准或拒绝对一个多步骤批准过程，在单个消息的决策。</span><span class="sxs-lookup"><span data-stu-id="75442-114">The same user cannot enter multiple approve or reject decisions for a single message in a multistep approval process.</span></span> <span data-ttu-id="75442-115">您无法批准您自己创建的或修复后的消息，也可以批准为多个审批者，同一消息。</span><span class="sxs-lookup"><span data-stu-id="75442-115">You cannot approve your own created or repaired messages, nor can you approve the same message as multiple approvers.</span></span>  
  
-   <span data-ttu-id="75442-116">在批准过程中，不能更改一条消息 （即，一条消息不能进行更改后原始提交到消息修复和新的提交，为新的或修复后的消息）。</span><span class="sxs-lookup"><span data-stu-id="75442-116">You cannot alter a message during the approval process (that is, a message cannot be altered after original submission to Message Repair and New Submission, as a new or repaired message).</span></span>  
  
-   <span data-ttu-id="75442-117">在重新生成密钥验证阶段期间改变的消息必须精确匹配原始消息 （创建或修复）。</span><span class="sxs-lookup"><span data-stu-id="75442-117">Messages altered during a rekey verification stage must exactly match the original message (either created or repaired).</span></span>  
  
 <span data-ttu-id="75442-118">若要强制这些安全语义，消息修复和新的提交，请验证每个接收，在创建或修复批准提交处理的每个阶段的 XML 消息中嵌入的数字签名。</span><span class="sxs-lookup"><span data-stu-id="75442-118">To enforce these security semantics, Message Repair and New Submission validates the digital signature embedded in every XML message that it receives, at each stage of the creation or repair approval-submission process.</span></span> <span data-ttu-id="75442-119">消息修复和新提交数字签名验证将执行下列检查。</span><span class="sxs-lookup"><span data-stu-id="75442-119">The Message Repair and New Submission digital signature validation performs the following checks.</span></span> <span data-ttu-id="75442-120">如果一个或多个这些检查失败，消息修复和新提交停止，将一直保留到消息框中和安全故障事件日志中记录：</span><span class="sxs-lookup"><span data-stu-id="75442-120">If one or more of these checks fail, Message Repair and New Submission stops and is persisted through the message box, and a security fault is logged in the Event Log:</span></span>  
  
-   <span data-ttu-id="75442-121">XML 消息必须进行数字签名，因此必须包含相应的数字签名。</span><span class="sxs-lookup"><span data-stu-id="75442-121">The XML message must be digitally signed and therefore must contain a corresponding digital signature.</span></span>  
  
-   <span data-ttu-id="75442-122">必须通过使用受信任的数字证书进行每个工作流中使用的数字签名。</span><span class="sxs-lookup"><span data-stu-id="75442-122">Each digital signature used in the workflow must be made by using a trusted digital certificate.</span></span> <span data-ttu-id="75442-123">这可确保消息创建者、 repairer、 验证和审批者是受信任。</span><span class="sxs-lookup"><span data-stu-id="75442-123">This ensures that the message creator, repairer, verifier and approvers are trusted.</span></span>  
  
-   <span data-ttu-id="75442-124">每个受信任的数字证书必须属于[!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)]有中具有逻辑机构或在内执行操作的权限的域组的成员身份的域用户[!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="75442-124">Each trusted digital certificate must belong to a [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] domain user who has membership in the domain group having logical authority or rights to perform actions within [!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)].</span></span> <span data-ttu-id="75442-125">这可确保在创建或修复批准提交过程中的每个参与者具有正确的颁发机构或权限，才能执行它们所执行的特定操作。</span><span class="sxs-lookup"><span data-stu-id="75442-125">This ensures that each participant in the create or repair-approval-submission process has the correct authority or rights to perform the specific action that they performed.</span></span>  
  
     <span data-ttu-id="75442-126">在前面的规则是通过 SharePoint 站点通过站点用户组和窗体提交代码上的 Acl 强制的。</span><span class="sxs-lookup"><span data-stu-id="75442-126">The preceding rules are enforced through ACLs on the SharePoint site through site user groups and through the form submit code.</span></span> <span data-ttu-id="75442-127">如果作用于消息的用户不在[!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)]用户组 （域或本地），消息修复和新提交会拒绝该消息。</span><span class="sxs-lookup"><span data-stu-id="75442-127">If the user acting upon the message is not in the [!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)] Users group (domain or local), Message Repair and New Submission rejects the message.</span></span>  
  
     <span data-ttu-id="75442-128">例如，强制执行三个阶段审批过程的组织可以定义以下三种逻辑角色： Repairers、 验证程序 （重新生成密钥阶段） 和审批者。</span><span class="sxs-lookup"><span data-stu-id="75442-128">For example, an organization that enforces a three-stage approval process might define these three logical roles: Repairers, Verifiers (Rekey stage), and Approvers.</span></span> <span data-ttu-id="75442-129">相应地，参与角色的用户必须属于[!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)]用户域组。</span><span class="sxs-lookup"><span data-stu-id="75442-129">Correspondingly, the users participating in the roles need to belong to the [!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)] Users domain group.</span></span> <span data-ttu-id="75442-130">到 SharePoint 站点的进一步锁定用户应组织到逻辑域组 （如 repairers、 验证、 审批者） 中。</span><span class="sxs-lookup"><span data-stu-id="75442-130">To further lock down the SharePoint site the users should be organized into logical domain groups (such as repairers, verifiers, approvers).</span></span>  
  
     <span data-ttu-id="75442-131">有关站点用户组的详细信息请参阅[Windows SharePoint Services 安全](../../adapters-and-accelerators/accelerator-swift/windows-sharepoint-services-security.md)。</span><span class="sxs-lookup"><span data-stu-id="75442-131">For more information about site user groups see [Windows SharePoint Services Security](../../adapters-and-accelerators/accelerator-swift/windows-sharepoint-services-security.md).</span></span>  
  
-   <span data-ttu-id="75442-132">堆栈中的每个数字签名必须是唯一的。</span><span class="sxs-lookup"><span data-stu-id="75442-132">Each digital signature in the stack must be unique.</span></span> <span data-ttu-id="75442-133">也就是说，必须通过使用 （相对于同一堆栈中的其他签名） 的唯一数字证书进行每个数字签名。</span><span class="sxs-lookup"><span data-stu-id="75442-133">That is, each digital signature must be made by using a unique digital certificate (relative to the other signatures in the same stack).</span></span> <span data-ttu-id="75442-134">这可确保消息未被批准的人员创建/修复消息，且没有人批准作为多个审批者，同一消息。</span><span class="sxs-lookup"><span data-stu-id="75442-134">This ensures that the message was not approved by the person who created/repaired the message, and that no person approved the same message as multiple approvers.</span></span>  
  
 <span data-ttu-id="75442-135">消息修复和新提交有一定严格的安全策略，通过在消息创建、 修复、 批准和提交基础结构每个入口点的检查点。</span><span class="sxs-lookup"><span data-stu-id="75442-135">Message Repair and New Submission imposes strict security policies by having checkpoints at each entry point into the message creation, repair, approval, and submission infrastructure.</span></span> <span data-ttu-id="75442-136">这些检查点紧密关联的消息修复和新提交的核心功能，并且不能绕过。</span><span class="sxs-lookup"><span data-stu-id="75442-136">These checkpoints are tightly coupled with core functionality of Message Repair and New Submission and cannot be circumvented.</span></span> <span data-ttu-id="75442-137">虽然消息修复和新提交旨在与无缝集成[!INCLUDE[btsInpathNoVersion](../../includes/btsinpathnoversion-md.md)]表单签名功能，它还旨在作为安全且足够可靠，以强制执行真实性和保护 SWIFT 消息即使[!INCLUDE[btsInpathNoVersion](../../includes/btsinpathnoversion-md.md)]是未使用和消息提交直接的消息修复的最终用户和新提交接收终结点 （SharePoint Web 文件夹）。</span><span class="sxs-lookup"><span data-stu-id="75442-137">While Message Repair and New Submission is designed to integrate seamlessly with the [!INCLUDE[btsInpathNoVersion](../../includes/btsinpathnoversion-md.md)] form-signing functionality, it is also designed to be secure and robust enough to enforce authenticity and protection of SWIFT messages even if [!INCLUDE[btsInpathNoVersion](../../includes/btsinpathnoversion-md.md)] is not used and messages are submitted directly by end users to Message Repair and New Submission receive endpoints (SharePoint Web folders).</span></span>