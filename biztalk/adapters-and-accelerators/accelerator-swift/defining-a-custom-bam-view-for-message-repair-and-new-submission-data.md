---
title: 定义消息修复和新提交数据的自定义 BAM 视图 |Microsoft 文档
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- BAM views
- Message Repair and New Submission, BAM views
ms.assetid: 76a6e78d-9b11-4b43-a500-a9d7666ee468
caps.latest.revision: 6
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: e88ec7506a299476dccb6ef9f9d0125768ea80b6
ms.sourcegitcommit: 3fc338e52d5dbca2c3ea1685a2faafc7582fe23a
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 12/01/2017
ms.locfileid: "26006814"
---
# <a name="defining-a-custom-bam-view-for-message-repair-and-new-submission-data"></a><span data-ttu-id="5a971-102">定义消息修复和新提交数据的自定义 BAM 视图</span><span class="sxs-lookup"><span data-stu-id="5a971-102">Defining a Custom BAM View for Message Repair and New Submission Data</span></span>
[!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)]<span data-ttu-id="5a971-103">安装程序提供定义的业务活动和业务视图的 BAM 定义文件。</span><span class="sxs-lookup"><span data-stu-id="5a971-103"> Setup provides a BAM definition file that defines a business activity and a business view.</span></span> <span data-ttu-id="5a971-104">你可以部署的 BAM 定义文件要使用该视图，或者可以创建自定义视图，你可以将它们添加到 BAM 定义文件。</span><span class="sxs-lookup"><span data-stu-id="5a971-104">You can deploy the BAM definition file to use that view, or you can create a custom view that you can add to the BAM definition file.</span></span>  
  
 <span data-ttu-id="5a971-105">BAM 定义文件是在 MrsrActivities.xml *\<驱动器\>*: files\microsoft BizTalk Accelerator for SWIFT\BAMTracking。</span><span class="sxs-lookup"><span data-stu-id="5a971-105">The BAM definition file is MrsrActivities.xml in *\<drive\>*:\Program Files\Microsoft BizTalk Accelerator for SWIFT\BAMTracking.</span></span> <span data-ttu-id="5a971-106">它定义消息活动和 RepairView 视图。</span><span class="sxs-lookup"><span data-stu-id="5a971-106">It defines a Message activity and a RepairView view.</span></span> <span data-ttu-id="5a971-107">有关使用 bm 部署 MrsrActivities.xml 详细信息部署实用工具，请参阅 BizTalk Server 帮助。</span><span class="sxs-lookup"><span data-stu-id="5a971-107">For more information about deploying MrsrActivities.xml by using the bm deploy utility, see BizTalk Server Help.</span></span>  
  
 <span data-ttu-id="5a971-108">在业务活动监视视图向导从 BAM 工作簿中创建的自定义视图。</span><span class="sxs-lookup"><span data-stu-id="5a971-108">Create the custom view in the Business Activity Monitoring View Wizard from the BAM workbook.</span></span> <span data-ttu-id="5a971-109">有关创建自定义视图的详细信息，请参阅"创建 BAM 视图"中[!INCLUDE[btsCoName](../../includes/btsconame-md.md)]BizTalk Server 信息工作人员帮助。</span><span class="sxs-lookup"><span data-stu-id="5a971-109">For more information about creating a custom view, see "Creating a BAM View" in [!INCLUDE[btsCoName](../../includes/btsconame-md.md)]BizTalk Server Information Worker Help.</span></span>  
  
 <span data-ttu-id="5a971-110">MrsrActivities.xml 中的消息活动包括以下各项可添加到自定义视图：</span><span class="sxs-lookup"><span data-stu-id="5a971-110">The Message activity in MrsrActivities.xml includes the following items that you can add to the custom view:</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5a971-111">持续时间在计算时 BAM 中，它们以一天 （14.4 分钟 =.01 天） 为单位测量。</span><span class="sxs-lookup"><span data-stu-id="5a971-111">When durations are calculated in BAM, they are measured in units of one day (14.4 minutes = .01 day).</span></span>  
  
|<span data-ttu-id="5a971-112">项</span><span class="sxs-lookup"><span data-stu-id="5a971-112">Item</span></span>|<span data-ttu-id="5a971-113">改用</span><span class="sxs-lookup"><span data-stu-id="5a971-113">Use</span></span>|<span data-ttu-id="5a971-114">项类型</span><span class="sxs-lookup"><span data-stu-id="5a971-114">Item type</span></span>|  
|----------|---------|---------------|  
|<span data-ttu-id="5a971-115">目标 BIC</span><span class="sxs-lookup"><span data-stu-id="5a971-115">Destination BIC</span></span>|<span data-ttu-id="5a971-116">消息接收方的 LT 地址 (从应用程序标头块的输入消息 SWIFT，或从块 1 的消息会从 SWIFT 其中[!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)]机构是目标)。</span><span class="sxs-lookup"><span data-stu-id="5a971-116">The LT address of the receiver of the message (taken from Application Header Block Input for messages to SWIFT, or from Block 1 for messages from SWIFT where the [!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)] institution is the destination).</span></span><br /><br /> <span data-ttu-id="5a971-117">此数据是始终存在 （从应用程序标头输入目标 LT 对于 SWIFTBound 消息，或从 SWIFT 收到的消息的基本标头 LT）。</span><span class="sxs-lookup"><span data-stu-id="5a971-117">This data is always present (from Application Header Input Destination LT for SWIFTBound messages, or from Basic Header LT for messages received from SWIFT).</span></span>|<span data-ttu-id="5a971-118">业务数据的文本</span><span class="sxs-lookup"><span data-stu-id="5a971-118">Business Data - Text</span></span>|  
|<span data-ttu-id="5a971-119">结束时间</span><span class="sxs-lookup"><span data-stu-id="5a971-119">End Time</span></span>|<span data-ttu-id="5a971-120">日期和时间 MRSRRepair 业务流程完成处理消息 （MRSR_Completed 或 MRSR_Failed）。</span><span class="sxs-lookup"><span data-stu-id="5a971-120">The date and time when the MRSRRepair orchestration completed processing the message (MRSR_Completed or MRSR_Failed).</span></span><br /><br /> <span data-ttu-id="5a971-121">此数据是否出现，仅对于已完成，即 MRSR 工作流的消息均已退出与**BTS。操作** == **A4SWIFT_MRSRCompleted**或**A4SWIFT_MRSRFailed**。</span><span class="sxs-lookup"><span data-stu-id="5a971-121">This data is present only for messages that have completed MRSR workflow, that is, have exited with **BTS.Operation** == **A4SWIFT_MRSRCompleted** or **A4SWIFT_MRSRFailed**.</span></span>|<span data-ttu-id="5a971-122">业务里程碑</span><span class="sxs-lookup"><span data-stu-id="5a971-122">Business Milestone</span></span>|  
|<span data-ttu-id="5a971-123">参考</span><span class="sxs-lookup"><span data-stu-id="5a971-123">Reference</span></span>|<span data-ttu-id="5a971-124">此消息或事务发送的机构; 分配的唯一引用标识符摘自字段 20 或 20C(SEME)</span><span class="sxs-lookup"><span data-stu-id="5a971-124">The unique reference identifier for this message or transaction as assigned by the sending institution; taken from field 20 or 20C(SEME)</span></span>|<span data-ttu-id="5a971-125">业务数据的文本</span><span class="sxs-lookup"><span data-stu-id="5a971-125">Business Data - Text</span></span>|  
|<span data-ttu-id="5a971-126">消息类型</span><span class="sxs-lookup"><span data-stu-id="5a971-126">Message Type</span></span>|<span data-ttu-id="5a971-127">FIN 或 GPA 消息的类型。</span><span class="sxs-lookup"><span data-stu-id="5a971-127">The type of FIN or GPA message.</span></span><br /><br /> <span data-ttu-id="5a971-128">此数据将始终存在 （应用程序标头输入或应用程序标头输出）。</span><span class="sxs-lookup"><span data-stu-id="5a971-128">This data is always present (Application Header Input or Application Header Output).</span></span>|<span data-ttu-id="5a971-129">业务数据的文本</span><span class="sxs-lookup"><span data-stu-id="5a971-129">Business Data - Text</span></span>|  
|<span data-ttu-id="5a971-130">新的提交</span><span class="sxs-lookup"><span data-stu-id="5a971-130">New Submission</span></span>|<span data-ttu-id="5a971-131">指示器是否这是新的条目 (Y) 或从另一个系统或 SWIFT (N) 发出的消息。</span><span class="sxs-lookup"><span data-stu-id="5a971-131">An indicator as to whether this is a new entry (Y) or a message that originated from another system or SWIFT (N).</span></span><br /><br /> <span data-ttu-id="5a971-132">此数据不存在只对已按角色发起与创建功能的消息。</span><span class="sxs-lookup"><span data-stu-id="5a971-132">This data is present only for messages that were originated by role with Create capability.</span></span>|<span data-ttu-id="5a971-133">业务数据的文本</span><span class="sxs-lookup"><span data-stu-id="5a971-133">Business Data - Text</span></span>|  
|<span data-ttu-id="5a971-134">Priority</span><span class="sxs-lookup"><span data-stu-id="5a971-134">Priority</span></span>|<span data-ttu-id="5a971-135">SWIFT 邮件的优先级 (N = 正常，U = 紧急，S = 系统)。</span><span class="sxs-lookup"><span data-stu-id="5a971-135">The priority of the SWIFT message (N = normal, U = urgent, S = system).</span></span><br /><br /> <span data-ttu-id="5a971-136">此数据是始终存在。</span><span class="sxs-lookup"><span data-stu-id="5a971-136">This data is always present.</span></span>|<span data-ttu-id="5a971-137">业务数据的文本</span><span class="sxs-lookup"><span data-stu-id="5a971-137">Business Data - Text</span></span>|  
|<span data-ttu-id="5a971-138">接收的时间</span><span class="sxs-lookup"><span data-stu-id="5a971-138">Received Time</span></span>|<span data-ttu-id="5a971-139">日期和时间 MRSRRepair 业务流程最近一次收到消息 （从上一阶段 – 请参阅下面的阶段）。</span><span class="sxs-lookup"><span data-stu-id="5a971-139">The date and time when the MRSRRepair orchestration last received the message (from the previous stage – see Stage below).</span></span><br /><br /> <span data-ttu-id="5a971-140">此数据是始终存在。</span><span class="sxs-lookup"><span data-stu-id="5a971-140">This data is always present.</span></span>|<span data-ttu-id="5a971-141">业务里程碑</span><span class="sxs-lookup"><span data-stu-id="5a971-141">Business Milestone</span></span>|  
|<span data-ttu-id="5a971-142">发件人 BIC</span><span class="sxs-lookup"><span data-stu-id="5a971-142">Sender BIC</span></span>|<span data-ttu-id="5a971-143">中的原始消息的发件人的 LT 地址 (来自块 1 的消息到 SWIFT 其中[!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)]机构是发送方，或从应用程序来自 SWIFT 的消息的标头输出)。</span><span class="sxs-lookup"><span data-stu-id="5a971-143">The LT address of the originator of the message (taken from Block 1 for messages to SWIFT where the [!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)] institution is the sender, or from Application Header Output for messages from SWIFT).</span></span><br /><br /> <span data-ttu-id="5a971-144">此数据是始终存在 （从基本的标头 LT 地址对于 SWIFTBound 消息，或从 SWIFT 接收的消息的应用程序标头输出）。</span><span class="sxs-lookup"><span data-stu-id="5a971-144">This data is always present (from Basic Header LT Address for SWIFTBound Messages, or from Application Header Output for messages received from SWIFT).</span></span>|<span data-ttu-id="5a971-145">业务数据的文本</span><span class="sxs-lookup"><span data-stu-id="5a971-145">Business Data - Text</span></span>|  
|<span data-ttu-id="5a971-146">发送时间</span><span class="sxs-lookup"><span data-stu-id="5a971-146">Send Time</span></span>|<span data-ttu-id="5a971-147">日期和时间时 MRSRRepair 业务流程上次将邮件发送给 MRSR 站点 （对于当前的阶段中）。</span><span class="sxs-lookup"><span data-stu-id="5a971-147">The date and time when the MRSRRepair orchestration last sent the message to MRSR site (for the current stage).</span></span><br /><br /> <span data-ttu-id="5a971-148">此数据将始终存在，除非消息位于业务流程中的过程。</span><span class="sxs-lookup"><span data-stu-id="5a971-148">This data is always present unless the message is in process in the orchestration.</span></span>|<span data-ttu-id="5a971-149">业务里程碑</span><span class="sxs-lookup"><span data-stu-id="5a971-149">Business Milestone</span></span>|  
|<span data-ttu-id="5a971-150">Start Time</span><span class="sxs-lookup"><span data-stu-id="5a971-150">Start Time</span></span>|<span data-ttu-id="5a971-151">日期和时间时 MRSRRepair 业务流程最初收到消息作为新提交或来自接口 （内部系统或 SWIFT） 消息。</span><span class="sxs-lookup"><span data-stu-id="5a971-151">The date and time when the MRSRRepair orchestration initially received the message either as a new submission or as a message from an interface (internal system or SWIFT).</span></span><br /><br /> <span data-ttu-id="5a971-152">此数据是始终存在。</span><span class="sxs-lookup"><span data-stu-id="5a971-152">This data is always present.</span></span>|<span data-ttu-id="5a971-153">业务里程碑</span><span class="sxs-lookup"><span data-stu-id="5a971-153">Business Milestone</span></span>|  
|<span data-ttu-id="5a971-154">最后一个阶段</span><span class="sxs-lookup"><span data-stu-id="5a971-154">Last Stage</span></span>|<span data-ttu-id="5a971-155">最后完成的工作流 （始终之前消息现阶段） 中的步骤</span><span class="sxs-lookup"><span data-stu-id="5a971-155">The last completed step in the workflow (always the stage before where the message is now)</span></span>|<span data-ttu-id="5a971-156">业务数据的文本</span><span class="sxs-lookup"><span data-stu-id="5a971-156">Business Data - Text</span></span>|  
|<span data-ttu-id="5a971-157">状态</span><span class="sxs-lookup"><span data-stu-id="5a971-157">Status</span></span>|<span data-ttu-id="5a971-158">可以是：</span><span class="sxs-lookup"><span data-stu-id="5a971-158">Can be:</span></span><br /><br /> <span data-ttu-id="5a971-159">-已完成 （如果成功）</span><span class="sxs-lookup"><span data-stu-id="5a971-159">-   Completed (if successful)</span></span><br /><span data-ttu-id="5a971-160">-重置和解释 （适用于重置如果重新启动工作流的工作流）</span><span class="sxs-lookup"><span data-stu-id="5a971-160">-   Reset and reason (for workflow reset if the workflow restarted)</span></span><br /><span data-ttu-id="5a971-161">-失败，原因 （如果未成功，完成的消息，即已拒绝或超时）。</span><span class="sxs-lookup"><span data-stu-id="5a971-161">-   Failed and reason (if message completed unsuccessfully, that is, was rejected or timed out).</span></span><br /><br /> <span data-ttu-id="5a971-162">此数据是始终存在。</span><span class="sxs-lookup"><span data-stu-id="5a971-162">This data is always present.</span></span>|<span data-ttu-id="5a971-163">业务数据的文本</span><span class="sxs-lookup"><span data-stu-id="5a971-163">Business Data - Text</span></span>|  
|<span data-ttu-id="5a971-164">部门</span><span class="sxs-lookup"><span data-stu-id="5a971-164">Department</span></span>|<span data-ttu-id="5a971-165">通过根据部门策略 MRSRRepair 业务流程所选的部门 (依赖于[!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)]机构)</span><span class="sxs-lookup"><span data-stu-id="5a971-165">The department selected by the MRSRRepair orchestration according to the Department Policy (dependent on the [!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)] institution)</span></span>|<span data-ttu-id="5a971-166">业务数据的文本</span><span class="sxs-lookup"><span data-stu-id="5a971-166">Business Data - Text</span></span>|  
|<span data-ttu-id="5a971-167">用户名</span><span class="sxs-lookup"><span data-stu-id="5a971-167">Username</span></span>|<span data-ttu-id="5a971-168">与上一阶段关联的用户的名称 （请参阅上面的阶段）</span><span class="sxs-lookup"><span data-stu-id="5a971-168">The name of the user associated with the previous stage (see Stage above)</span></span>|<span data-ttu-id="5a971-169">业务数据的文本</span><span class="sxs-lookup"><span data-stu-id="5a971-169">Business Data - Text</span></span>|  
|<span data-ttu-id="5a971-170">当前阶段</span><span class="sxs-lookup"><span data-stu-id="5a971-170">Current Stage</span></span>|<span data-ttu-id="5a971-171">MRSRRepair 业务流程已向其传递的消息 （例如，收件箱） 工作流步骤。</span><span class="sxs-lookup"><span data-stu-id="5a971-171">The workflow step to which the MRSRRepair orchestration has delivered the message (for example, the Inbox).</span></span><br /><br /> <span data-ttu-id="5a971-172">除非消息已完成消息修复，此数据不存在。</span><span class="sxs-lookup"><span data-stu-id="5a971-172">This data is present unless the message has completed message repair.</span></span>|<span data-ttu-id="5a971-173">业务数据的文本</span><span class="sxs-lookup"><span data-stu-id="5a971-173">Business Data - Text</span></span>|