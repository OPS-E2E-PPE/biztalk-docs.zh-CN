---
title: "步骤 1： 将 SAP 项目作为 WCF 服务发布 |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- WCF service, generating a
- WCF Adapter Service Development Wizard , using the
- WCF Adapter Service Development Wizard
- SAP artifacts, publishing as a WCF service
ms.assetid: bd3087b0-e20f-4b75-beef-a913336d767b
caps.latest.revision: "18"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: a83dd69e7c66c8ce8ff1af78662392dd0aa66ff2
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/28/2017
---
# <a name="step-1-publish-the-sap-artifacts-as-a-wcf-service"></a><span data-ttu-id="c2e6d-102">步骤 1： 发布的 SAP 项目作为一个 WCF 服务</span><span class="sxs-lookup"><span data-stu-id="c2e6d-102">Step 1: Publish the SAP Artifacts as a WCF Service</span></span>
<span data-ttu-id="c2e6d-103">![步骤 1 4](../../adapters-and-accelerators/adapter-oracle-ebs/media/step-1of4.gif "Step_1of4")</span><span class="sxs-lookup"><span data-stu-id="c2e6d-103">![Step 1 of 4](../../adapters-and-accelerators/adapter-oracle-ebs/media/step-1of4.gif "Step_1of4")</span></span>  
  
 <span data-ttu-id="c2e6d-104">**完成时间：** 10 分钟</span><span class="sxs-lookup"><span data-stu-id="c2e6d-104">**Time to complete:** 10 minutes</span></span>  
  
 <span data-ttu-id="c2e6d-105">**目标：**可以使用 WCF 适配器服务开发向导在如 Internet 信息服务 (IIS) 或 Windows 进程激活服务 (WAS) 宿主环境中生成可承载的 WCF 服务。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-105">**Objective:** You can use the WCF Adapter Service Development Wizard to generate a WCF service that can be hosted in a hosting environment such as Internet Information Services (IIS) or Windows Process Activation Service (WAS).</span></span> <span data-ttu-id="c2e6d-106">本主题演示如何使用向导来生成 WCF 服务文件。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-106">This topic demonstrates how to use the wizard to generate a WCF service file.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="c2e6d-107">先决条件</span><span class="sxs-lookup"><span data-stu-id="c2e6d-107">Prerequisites</span></span>  
 <span data-ttu-id="c2e6d-108">运行向导之前，安装以下项：</span><span class="sxs-lookup"><span data-stu-id="c2e6d-108">Before running the wizard, install the following:</span></span>  
  
-   [!INCLUDE[afproductnamelong](../../includes/afproductnamelong-md.md)]<span data-ttu-id="c2e6d-109">使用**完成**选项或**自定义**选项 (选择**工具**中此选项)。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-109"> either with the **Complete** option or the **Custom** option (and choosing **Tools** within this option).</span></span> <span data-ttu-id="c2e6d-110">这将安装[!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)]WCF 适配器服务开发向导的模板。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-110">This installs the [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)] template for the WCF Adapter Service Development Wizard.</span></span>  
  
-   [!INCLUDE[adaptersap](../../includes/adaptersap-md.md)]<span data-ttu-id="c2e6d-111">从[!INCLUDE[adapterpacknoversion](../../includes/adapterpacknoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-111"> from the [!INCLUDE[adapterpacknoversion](../../includes/adapterpacknoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="c2e6d-112">所需的 SAP 客户端库。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-112">The required SAP client libraries.</span></span>  
  
 <span data-ttu-id="c2e6d-113">有关这些先决条件的详细信息，请参阅[!INCLUDE[adapterpacknoversion](../../includes/adapterpacknoversion-md.md)]安装指南。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-113">For more information about these prerequisites, see the [!INCLUDE[adapterpacknoversion](../../includes/adapterpacknoversion-md.md)] installation guide.</span></span> <span data-ttu-id="c2e6d-114">安装指南通常安装在\<安装驱动器\>: files\microsoft [!INCLUDE[adapterpacknoversion](../../includes/adapterpacknoversion-md.md)]\Documents。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-114">The installation guide is typically installed at \<installation drive\>:\Program Files\Microsoft [!INCLUDE[adapterpacknoversion](../../includes/adapterpacknoversion-md.md)]\Documents.</span></span>  
  
### <a name="to-publish-the-sap-artifacts-as-a-wcf-service"></a><span data-ttu-id="c2e6d-115">若要将 SAP 项目作为 WCF 服务发布</span><span class="sxs-lookup"><span data-stu-id="c2e6d-115">To publish the SAP artifacts as a WCF service</span></span>  
  
1.  <span data-ttu-id="c2e6d-116">启动[!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)]，然后创建一个项目。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-116">Start [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)], and then create a project.</span></span>  
  
2.  <span data-ttu-id="c2e6d-117">在**新项目**对话框中，从**项目类型**窗格中，选择**Visual C#**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-117">In the **New Project** dialog box, from the **Project types** pane, select **Visual C#**.</span></span> <span data-ttu-id="c2e6d-118">从**模板**窗格中，选择**WCF 适配器服务**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-118">From the **Templates** pane, select **WCF Adapter Service**.</span></span>  
  
     <span data-ttu-id="c2e6d-119">或者，从**项目类型**窗格中，展开**Visual C#**，然后选择**Web**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-119">Alternatively, from the **Project types** pane, expand **Visual C#**, and then select **Web**.</span></span> <span data-ttu-id="c2e6d-120">从**模板**窗格中，选择**WCF 适配器服务**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-120">From the **Templates** pane, select **WCF Adapter Service**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="c2e6d-121">如果你安装[!INCLUDE[btsVStudio2008](../../includes/btsvstudio2008-md.md)]Web 开发组件后， **WCF 适配器服务**模板也会提供**新的网站**选项。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-121">If you installed [!INCLUDE[btsVStudio2008](../../includes/btsvstudio2008-md.md)] with the Web Development component, the **WCF Adapter Service** template is also available from the **New Website** option.</span></span>  
  
3.  <span data-ttu-id="c2e6d-122">指定的名称和位置的解决方案，然后单击**确定**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-122">Specify a name and location for the solution, and then click **OK**.</span></span> <span data-ttu-id="c2e6d-123">WCF 适配器服务开发向导将启动。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-123">The WCF Adapter Service Development Wizard starts.</span></span>  
  
4.  <span data-ttu-id="c2e6d-124">在欢迎页上，单击**下一步**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-124">On the Welcome page, click **Next**.</span></span>  
  
5.  <span data-ttu-id="c2e6d-125">在选择操作页上，指定要连接到 SAP 系统的连接字符串。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-125">On the Choose Operations page, specify a connection string to connect to the SAP system.</span></span> <span data-ttu-id="c2e6d-126">为此：</span><span class="sxs-lookup"><span data-stu-id="c2e6d-126">To do so:</span></span>  
  
    1.  <span data-ttu-id="c2e6d-127">在**选择的绑定**列表中，单击**sapBinding**，然后单击**配置**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-127">In the **Select a binding** list, click **sapBinding**, and then click **Configure**.</span></span>  
  
    2.  <span data-ttu-id="c2e6d-128">在**配置适配器**对话框中，单击**安全**选项卡。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-128">In the **Configure Adapter** dialog box, click the **Security** tab.</span></span>  
  
    3.  <span data-ttu-id="c2e6d-129">在**客户端凭据类型**列表中，选择**用户名**，然后指定有效的 SAP 用户名和密码以连接到 SAP 系统。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-129">In the **Client credential type** list, select **Username**, and then specify a valid SAP user name and password to connect to the SAP system.</span></span>  
  
    4.  <span data-ttu-id="c2e6d-130">单击**URI 属性**选项卡上，然后指定连接参数的值。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-130">Click the **URI Properties** tab, and then specify values for the connection parameters.</span></span> <span data-ttu-id="c2e6d-131">有关连接 URI 的详细信息为[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]，请参阅[创建 SAP 系统连接 URI](../../adapters-and-accelerators/adapter-sap/create-the-sap-system-connection-uri.md)。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-131">For more information about the connection URI for the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)], see [Create the SAP system connection URI](../../adapters-and-accelerators/adapter-sap/create-the-sap-system-connection-uri.md).</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="c2e6d-132">如果连接参数包含任何保留的字符 （如 XML 特殊字符），则必须指定它们作为-处于**URI 属性**选项卡上，即，而无需使用任何转义字符。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-132">If the connection parameters contain any reserved characters (such as XML special characters), you must specify them as-is in the **URI Properties** tab, that is, without using any escape characters.</span></span> <span data-ttu-id="c2e6d-133">但是，如果你指定直接在 URI**配置 URI**框和连接参数包含保留的字符，则必须指定连接参数使用适当的转义字符。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-133">However, if you specify the URI directly in the **Configure a URI** box and the connection parameters contain reserved characters, you must specify the connection parameters using proper escape characters.</span></span>  
  
    5.  <span data-ttu-id="c2e6d-134">单击**绑定属性**选项卡上，如果你想要针对的操作所需任何操作，然后指定绑定属性的值。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-134">Click the **Binding Properties** tab, and then specify values for the binding properties, if any, required for the operations you want to target.</span></span> <span data-ttu-id="c2e6d-135">在本教程中，调用 BAPI_SALESORDER_GETLIST RFC 若要获取特定客户的销售订单的列表。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-135">In this tutorial, the BAPI_SALESORDER_GETLIST RFC is invoked to get the list of sales orders for a specific customer.</span></span> <span data-ttu-id="c2e6d-136">销售订单信息可能还包含日期列。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-136">The sales order information might also contain date columns.</span></span> <span data-ttu-id="c2e6d-137">当检索日期列的值，我们建议你设置**EnableSafeTyping**属性绑定到**True**在生成元数据。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-137">When retrieving values for the date column, we recommend that you set the **EnableSafeTyping** binding property to **True** when generating the metadata.</span></span> <span data-ttu-id="c2e6d-138">如果设置此属性，以字符串的形式显示 SAP DAT 数据类型。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-138">If this property is set, the SAP DATS data type is surfaced as strings.</span></span>  
  
         <span data-ttu-id="c2e6d-139">有关如何将 SAP 数据类型映射到等效的.NET 类型的详细信息，请参阅[基本 SAP 数据类型](../../adapters-and-accelerators/adapter-sap/basic-sap-data-types.md)。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-139">For more information about how the SAP data types are mapped to equivalent .NET types, see [Basic SAP Data Types](../../adapters-and-accelerators/adapter-sap/basic-sap-data-types.md).</span></span>  
  
         <span data-ttu-id="c2e6d-140">有关绑定属性的详细信息，请参阅[了解针对 mySAP Business Suite 绑定属性的 BizTalk 适配器](../../adapters-and-accelerators/adapter-sap/read-about-biztalk-adapter-for-mysap-business-suite-binding-properties.md)。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-140">For more information about binding properties, see [Read about BizTalk Adapter for mySAP Business Suite binding properties](../../adapters-and-accelerators/adapter-sap/read-about-biztalk-adapter-for-mysap-business-suite-binding-properties.md).</span></span>  
  
    6.  <span data-ttu-id="c2e6d-141">单击**确定**，然后单击**连接**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-141">Click **OK**, and then click **Connect**.</span></span> <span data-ttu-id="c2e6d-142">建立连接后，连接状态将显示为**已连接**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-142">After the connection is established, the connection status is shown as **Connected**.</span></span>  
  
6.  <span data-ttu-id="c2e6d-143">在选择操作页面中**选择协定类型**列表中，单击**客户端 （出站操作）**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-143">On the Choose Operations page, in the **Select contract type** list, click **Client (Outbound operations)**.</span></span>  
  
7.  <span data-ttu-id="c2e6d-144">在**选择类别**框中，展开一个 SAP 项目类型。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-144">In the **Select a category** box, expand an SAP artifact type.</span></span> <span data-ttu-id="c2e6d-145">例如，展开**RFC**节点可查看包含你想要生成的 WCF 服务的 RFC 功能组。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-145">For example, expand the **RFC** node to see the functional group containing the RFC for which you want to generate a WCF service.</span></span>  
  
8.  <span data-ttu-id="c2e6d-146">在**可用类别和操作**框中，选择要为其生成 WCF 服务，然后单击的操作**添加**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-146">In the **Available categories and operations** box, select the operations for which you want to generate a WCF service, and then click **Add**.</span></span> <span data-ttu-id="c2e6d-147">中列出了所选的操作**添加类别和操作**框。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-147">The selected operations are listed in the **Added categories and operations** box.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="c2e6d-148">你可以添加每个项目的多个操作。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-148">You can add more than one operation for each artifact.</span></span> <span data-ttu-id="c2e6d-149">你还可以添加不同的 SAP 项目的操作。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-149">You can also add operations for different SAP artifacts.</span></span> <span data-ttu-id="c2e6d-150">例如，你可以添加一个操作，RFC 和另一个用于 IDOC。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-150">For example, you can add one operation for RFC and another for IDOC.</span></span> <span data-ttu-id="c2e6d-151">此外，你也可以通过在搜索表达式中指定通配符搜索特定操作。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-151">In addition, you can search for specific operations by specifying wildcard characters in search expressions.</span></span> <span data-ttu-id="c2e6d-152">有关受支持的特殊字符和从该处中，你可以搜索操作的节点级别的详细信息，请参阅[连接到 Visual Studio 使用添加适配器元数据在向导中的 SAP](../../adapters-and-accelerators/adapter-sap/connecting-to-sap-in-visual-studio-using-add-adapter-metadata-wizard.md)</span><span class="sxs-lookup"><span data-stu-id="c2e6d-152">For more information about the supported special characters and the node levels at which you can search for the operations, see [Connecting to SAP in Visual Studio Using Add Adapter Metadata Wizard](../../adapters-and-accelerators/adapter-sap/connecting-to-sap-in-visual-studio-using-add-adapter-metadata-wizard.md)</span></span>  
  
     <span data-ttu-id="c2e6d-153">对于本例，请添加了 SD_RFC_CUSTOMER_GET 和 BAPI_SALESORDER_GETLIST Rfc。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-153">For this example, the SD_RFC_CUSTOMER_GET and BAPI_SALESORDER_GETLIST RFCs are added.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="c2e6d-154">某些版本的 SAP 系统公开而不是 SD_RFC_CUSTOMER_GET RFC_CUSTOMER_GET RFC。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-154">Some versions of the SAP system expose an RFC_CUSTOMER_GET RFC instead of SD_RFC_CUSTOMER_GET.</span></span>  
  
     <span data-ttu-id="c2e6d-155">![选择 SAP 项目](../../adapters-and-accelerators/adapter-sap/media/f944f9a0-7387-46cb-8eb6-337344d01d29.gif "f944f9a0-7387-46cb-8eb6-337344d01d29")</span><span class="sxs-lookup"><span data-stu-id="c2e6d-155">![Select SAP artifacts](../../adapters-and-accelerators/adapter-sap/media/f944f9a0-7387-46cb-8eb6-337344d01d29.gif "f944f9a0-7387-46cb-8eb6-337344d01d29")</span></span>  
  
9. <span data-ttu-id="c2e6d-156">在选择操作页面上单击**下一步**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-156">On the Choose Operations page, click **Next**.</span></span>  
  
10. <span data-ttu-id="c2e6d-157">在配置服务和终结点行为页上，指定值以配置的服务和终结点行为。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-157">On the Configure Service and Endpoint Behaviors page, specify values to configure the service and endpoint behavior.</span></span>  
  
    1.  <span data-ttu-id="c2e6d-158">在**服务行为配置**框中，指定以下设置的值：</span><span class="sxs-lookup"><span data-stu-id="c2e6d-158">In the **Service Behavior Configuration** box, specify values for the following:</span></span>  
  
        |<span data-ttu-id="c2e6d-159">属性</span><span class="sxs-lookup"><span data-stu-id="c2e6d-159">For the property</span></span>|<span data-ttu-id="c2e6d-160">指定的值</span><span class="sxs-lookup"><span data-stu-id="c2e6d-160">Specify the value</span></span>|  
        |----------------------|-----------------------|  
        |<span data-ttu-id="c2e6d-161">EnableMetadataExchange</span><span class="sxs-lookup"><span data-stu-id="c2e6d-161">EnableMetadataExchange</span></span>|<span data-ttu-id="c2e6d-162">将其设置为**True**创建元数据交换终结点。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-162">Set this to **True** to create a metadata exchange endpoint.</span></span> <span data-ttu-id="c2e6d-163">通过此选项设置为**True**，使服务元数据可使用标准的协议，如 WS 元数据交换 (MEX) 和 HTTP/GET 请求。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-163">By setting this to **True**, you make the service metadata available using standardized protocols, such as WS-Metadata Exchange (MEX) and HTTP/GET requests.</span></span><br /><br /> <span data-ttu-id="c2e6d-164">默认值是**False**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-164">Default is **False**.</span></span>|  
        |<span data-ttu-id="c2e6d-165">IncludeExceptionDetailsinFault</span><span class="sxs-lookup"><span data-stu-id="c2e6d-165">IncludeExceptionDetailsinFault</span></span>|<span data-ttu-id="c2e6d-166">将其设置为**True**返回到客户端以便进行调试的 SOAP 错误的详细信息中包含托管的异常信息。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-166">Set this to **True** to include managed exception information in detail of SOAP faults returned to the client for debugging purposes.</span></span> <span data-ttu-id="c2e6d-167">默认值是**False**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-167">Default is **False**.</span></span>|  
        |<span data-ttu-id="c2e6d-168">Name</span><span class="sxs-lookup"><span data-stu-id="c2e6d-168">Name</span></span>|<span data-ttu-id="c2e6d-169">服务行为配置名称。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-169">Name for the service behavior configuration.</span></span>|  
        |<span data-ttu-id="c2e6d-170">UseServiceCertificate</span><span class="sxs-lookup"><span data-stu-id="c2e6d-170">UseServiceCertificate</span></span>|<span data-ttu-id="c2e6d-171">指定是否想要使用的 WCF 消息级别安全模式。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-171">Specifies whether you want to use the message level security mode of WCF.</span></span> <span data-ttu-id="c2e6d-172">默认值是**True**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-172">Default is **True**.</span></span><br /><br /> <span data-ttu-id="c2e6d-173">对于本教程，你必须将其设置**False**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-173">For this tutorial, you must set this to **False**.</span></span>|  
        |<span data-ttu-id="c2e6d-174">FindValue</span><span class="sxs-lookup"><span data-stu-id="c2e6d-174">FindValue</span></span>|<span data-ttu-id="c2e6d-175">一个字符串，指定要在 X.509 证书存储区中搜索的值。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-175">A string that specifies the value to search for in the X.509 certificate store.</span></span><br /><br /> <span data-ttu-id="c2e6d-176">**注意：**为此属性仅当指定值**UseServiceCertificate**设置为**True**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-176">**Note:** Specify a value for this property only if **UseServiceCertificate** is set to **True**.</span></span>|  
        |<span data-ttu-id="c2e6d-177">StoreLocation</span><span class="sxs-lookup"><span data-stu-id="c2e6d-177">StoreLocation</span></span>|<span data-ttu-id="c2e6d-178">一个值，指定服务可用于验证客户端的证书的证书存储区的位置。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-178">A value that specifies the location of the certificate store that the service can use to validate the client's certificate.</span></span><br /><br /> <span data-ttu-id="c2e6d-179">**注意：**为此属性仅当指定值**UseServiceCertificate**设置为**True**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-179">**Note:** Specify a value for this property only if **UseServiceCertificate** is set to **True**.</span></span>|  
        |<span data-ttu-id="c2e6d-180">StoreName</span><span class="sxs-lookup"><span data-stu-id="c2e6d-180">StoreName</span></span>|<span data-ttu-id="c2e6d-181">若要打开的 X.509 证书存储区的名称。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-181">Name of the X.509 certificate store to open.</span></span><br /><br /> <span data-ttu-id="c2e6d-182">**注意：**为此属性仅当指定值**UseServiceCertificate**设置为**True**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-182">**Note:** Specify a value for this property only if **UseServiceCertificate** is set to **True**.</span></span>|  
        |<span data-ttu-id="c2e6d-183">X509FindType</span><span class="sxs-lookup"><span data-stu-id="c2e6d-183">X509FindType</span></span>|<span data-ttu-id="c2e6d-184">要执行的 X.509 搜索的类型。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-184">The type of X.509 search to be executed.</span></span><br /><br /> <span data-ttu-id="c2e6d-185">**注意：**为此属性仅当指定值**UseServiceCertificate**设置为**True**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-185">**Note:** Specify a value for this property only if **UseServiceCertificate** is set to **True**.</span></span>|  
  
        > [!NOTE]
        >  <span data-ttu-id="c2e6d-186">有关证书和关联的属性的详细信息，请参阅"X509ClientCertificateCredentialsElement 属性"在[http://go.microsoft.com/fwlink/?LinkId=103771](http://go.microsoft.com/fwlink/?LinkId=103771)。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-186">For more information about the certificates and the associated properties, see "X509ClientCertificateCredentialsElement Properties" at [http://go.microsoft.com/fwlink/?LinkId=103771](http://go.microsoft.com/fwlink/?LinkId=103771).</span></span>  
  
    2.  <span data-ttu-id="c2e6d-187">在**终结点行为配置**框中，指定以下设置的值：</span><span class="sxs-lookup"><span data-stu-id="c2e6d-187">In the **Endpoint Behavior Configuration** box, specify values for the following:</span></span>  
  
        |<span data-ttu-id="c2e6d-188">属性</span><span class="sxs-lookup"><span data-stu-id="c2e6d-188">For the property</span></span>|<span data-ttu-id="c2e6d-189">指定的值</span><span class="sxs-lookup"><span data-stu-id="c2e6d-189">Specify the value</span></span>|  
        |----------------------|-----------------------|  
        |<span data-ttu-id="c2e6d-190">身份验证类型</span><span class="sxs-lookup"><span data-stu-id="c2e6d-190">Authentication Type</span></span>|<span data-ttu-id="c2e6d-191">-将此设置为**ClientCredentialUserNamePassword**以允许客户端使用 WCF 服务时指定的用户名和密码。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-191">- Set this to **ClientCredentialUserNamePassword** to enable the clients to specify the user name and password when consuming the WCF service.</span></span><br /><br /> <span data-ttu-id="c2e6d-192">-将此设置为**HTTPUserNamePassword**以使客户端的 HTTP 标头的一部分指定用户名和密码。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-192">- Set this to **HTTPUserNamePassword** to enable clients to specify user name and password as part of the HTTP header.</span></span><br /><br /> <span data-ttu-id="c2e6d-193">-将此设置为**自动**首先允许客户端指定凭据通过**ClientCredential**接口。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-193">- Set this to **Auto** to first enable clients to specify credentials through the **ClientCredential** interface.</span></span> <span data-ttu-id="c2e6d-194">如果此操作失败，客户端可以将凭据传递的 HTTP 标头的一部分。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-194">If this fails, clients can pass credentials as part of the HTTP header.</span></span><br /><br /> <span data-ttu-id="c2e6d-195">默认值是**自动**。对于 Microsoft Office SharePoint Server，可以使用的 WCF 服务，你应将其设置为**HTTPUserNamePassword**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-195">Default is **Auto**. For Microsoft Office SharePoint Server to consume the WCF service, you should set this as **HTTPUserNamePassword**.</span></span>|  
        |<span data-ttu-id="c2e6d-196">Name</span><span class="sxs-lookup"><span data-stu-id="c2e6d-196">Name</span></span>|<span data-ttu-id="c2e6d-197">指定终结点行为配置的名称。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-197">Specify a name for the endpoint behavior configuration.</span></span>|  
        |<span data-ttu-id="c2e6d-198">UsernameHeader</span><span class="sxs-lookup"><span data-stu-id="c2e6d-198">UsernameHeader</span></span>|<span data-ttu-id="c2e6d-199">用户名称标头的名称。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-199">Name for the user name header.</span></span> <span data-ttu-id="c2e6d-200">对于此示例中，指定**MyUserHeader**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-200">For this example, specify **MyUserHeader**.</span></span> <span data-ttu-id="c2e6d-201">有关 HTTP 标头的详细信息，请参阅"支持的自定义 HTTP 和 SOAP 标头"在[http://go.microsoft.com/fwlink/?LinkId=106692](http://go.microsoft.com/fwlink/?LinkId=106692)。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-201">For more information about HTTP headers, see "Support for Custom HTTP and SOAP Headers" at [http://go.microsoft.com/fwlink/?LinkId=106692](http://go.microsoft.com/fwlink/?LinkId=106692).</span></span><br /><br /> <span data-ttu-id="c2e6d-202">**注意：**如果满足以下条件，则必须指定此属性的值**身份验证类型**设置为**HTTPUserNamePassword**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-202">**Note:** You must specify a value for this property if the **Authentication Type** is set to **HTTPUserNamePassword**.</span></span> <span data-ttu-id="c2e6d-203">如果**身份验证类型**设置为**自动**，此属性是可选的。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-203">If **Authentication Type** is set to **Auto**, this property is optional.</span></span>|  
        |<span data-ttu-id="c2e6d-204">PasswordHeader</span><span class="sxs-lookup"><span data-stu-id="c2e6d-204">PasswordHeader</span></span>|<span data-ttu-id="c2e6d-205">密码标头的名称。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-205">Name for the password header.</span></span> <span data-ttu-id="c2e6d-206">对于此示例中，指定**MyPassHeader**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-206">For this example, specify **MyPassHeader**.</span></span> <span data-ttu-id="c2e6d-207">有关 HTTP 标头的详细信息，请参阅"支持的自定义 HTTP 和 SOAP 标头"在[http://go.microsoft.com/fwlink/?LinkId=106692](http://go.microsoft.com/fwlink/?LinkId=106692)。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-207">For more information about HTTP headers, see "Support for Custom HTTP and SOAP Headers" at [http://go.microsoft.com/fwlink/?LinkId=106692](http://go.microsoft.com/fwlink/?LinkId=106692).</span></span><br /><br /> <span data-ttu-id="c2e6d-208">**注意：**如果满足以下条件，则必须指定此属性的值**身份验证类型**设置为**HTTPUserNamePassword**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-208">**Note:** You must specify a value for this property if the **Authentication Type** is set to **HTTPUserNamePassword**.</span></span> <span data-ttu-id="c2e6d-209">如果**身份验证类型**设置为**自动**，此属性是可选的。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-209">If **Authentication Type** is set to **Auto**, this property is optional.</span></span>|  
  
     <span data-ttu-id="c2e6d-210">下图显示使用指定的值的配置服务和终结点行为页。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-210">The following figure shows the Configure Service and Endpoint Behaviors page with the specified values.</span></span>  
  
     <span data-ttu-id="c2e6d-211">![配置服务和终结点行为页](../../adapters-and-accelerators/adapter-sap/media/0a286b0c-7f0d-46c5-9b56-29bef3a1deea.gif "0a286b0c-7f0d-46c5-9b56-29bef3a1deea")</span><span class="sxs-lookup"><span data-stu-id="c2e6d-211">![Configure Service and Endpoint Behaviors page](../../adapters-and-accelerators/adapter-sap/media/0a286b0c-7f0d-46c5-9b56-29bef3a1deea.gif "0a286b0c-7f0d-46c5-9b56-29bef3a1deea")</span></span>  
  
11. <span data-ttu-id="c2e6d-212">在配置服务和终结点行为页上，单击**下一步**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-212">On the Configure Service and Endpoint Behaviors page, click **Next**.</span></span>  
  
12. <span data-ttu-id="c2e6d-213">在配置服务终结点绑定和地址页上，**选择协定配置**框中列出的 SAP 项目为其选择选择操作页面上的操作。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-213">On the Configure Service Endpoint Binding and Address page, the **Select a contract to configure** box lists the SAP artifacts for which you selected the operations on the Choose Operations page.</span></span>  
  
     <span data-ttu-id="c2e6d-214">例如，如果你选择下 RFC 和 IDOC，项目**选择协定配置**列出 RFC 和 IDOC。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-214">For example, if you selected artifacts under RFC and IDOC, the **Select a Contract to configure** lists both RFC and IDOC.</span></span> <span data-ttu-id="c2e6d-215">如果你选择仅 RFC，框将仅列出 RFC。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-215">If you selected only an RFC, the box will only list RFC.</span></span>  
  
13. <span data-ttu-id="c2e6d-216">**下所选的协定的操作**框将显示为选择操作页面上的每个项目选择的操作。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-216">The **Operations under the selected contract** box displays the operations you selected for each artifact on the Choose Operations page.</span></span>  
  
14. <span data-ttu-id="c2e6d-217">在**配置的地址和协定绑定**框中，指定以下设置的值：</span><span class="sxs-lookup"><span data-stu-id="c2e6d-217">In the **Configure the address and binding for the contract** box, specify values for the following:</span></span>  
  
    |<span data-ttu-id="c2e6d-218">属性</span><span class="sxs-lookup"><span data-stu-id="c2e6d-218">For the property</span></span>|<span data-ttu-id="c2e6d-219">指定的值</span><span class="sxs-lookup"><span data-stu-id="c2e6d-219">Specify the value</span></span>|  
    |----------------------|-----------------------|  
    |<span data-ttu-id="c2e6d-220">绑定配置</span><span class="sxs-lookup"><span data-stu-id="c2e6d-220">Binding Configuration</span></span>|<span data-ttu-id="c2e6d-221">该向导仅支持基本 HTTP 绑定。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-221">The wizard only supports basic HTTP binding.</span></span> <span data-ttu-id="c2e6d-222">因此，此绑定配置字段进行自动填充到*System.ServiceModel.Configuration.BasicHttpBindingElement*。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-222">So, the binding configuration field is automatically populated to *System.ServiceModel.Configuration.BasicHttpBindingElement*.</span></span><br /><br /> <span data-ttu-id="c2e6d-223">单击省略号按钮**（...）**来更改 HTTP 绑定的属性。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-223">Click the ellipsis button **(…)** to change the properties for HTTP binding.</span></span> <span data-ttu-id="c2e6d-224">若要使用的安全通信通道，必须始终设置**模式**属性**传输**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-224">To use a secure communication channel, you must always set the **Mode** property to **Transport**.</span></span> <span data-ttu-id="c2e6d-225">向导会将设置的默认值为**模式**属性作为**传输**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-225">The wizard sets the default value for the **Mode** property as **Transport**.</span></span><br /><br /> <span data-ttu-id="c2e6d-226">有关其他公开的绑定的详细信息，请参阅"BasicHttpBindingElement 成员"网址[http://go.microsoft.com/fwlink/?LinkId=103773](http://go.microsoft.com/fwlink/?LinkId=103773)。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-226">For more information about the other bindings exposed, see "BasicHttpBindingElement Members" at [http://go.microsoft.com/fwlink/?LinkId=103773](http://go.microsoft.com/fwlink/?LinkId=103773).</span></span>|  
    |<span data-ttu-id="c2e6d-227">端点名称</span><span class="sxs-lookup"><span data-stu-id="c2e6d-227">Endpoint Name</span></span>|<span data-ttu-id="c2e6d-228">指定协定的终结点名称。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-228">Specify an endpoint name for the contract.</span></span>|  
  
     <span data-ttu-id="c2e6d-229">根据你在前面的页面中指定的值自动填充此页上的其他字段。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-229">The other fields on this page are automatically populated based on the values you specified in the earlier pages.</span></span>  
  
     <span data-ttu-id="c2e6d-230">单击 **“应用”**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-230">Click **Apply**.</span></span> <span data-ttu-id="c2e6d-231">执行此步骤下显示的所有协定**选择协定配置**框。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-231">Perform this step for all the contracts displayed under the **Select a contract to configure** box.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="c2e6d-232">如果此页上未指定任何值，所有协定接受默认值。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-232">If you do not specify any values on this page, the default values are accepted for all the contracts.</span></span>  
  
     <span data-ttu-id="c2e6d-233">下图显示的配置服务终结点绑定和地址页，用指定的值。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-233">The following figure shows the Configure Service Endpoint Binding and Address page with the specified values.</span></span>  
  
     <span data-ttu-id="c2e6d-234">![配置服务终结点绑定和地址](../../adapters-and-accelerators/adapter-sap/media/356e297c-9893-494c-a834-9d0b8b42da2e.gif "356e297c-9893-494c-a834-9d0b8b42da2e")</span><span class="sxs-lookup"><span data-stu-id="c2e6d-234">![Configure Service Endpoint Binding and Address](../../adapters-and-accelerators/adapter-sap/media/356e297c-9893-494c-a834-9d0b8b42da2e.gif "356e297c-9893-494c-a834-9d0b8b42da2e")</span></span>  
  
15. <span data-ttu-id="c2e6d-235">在配置服务终结点绑定和地址页上，单击**下一步**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-235">On the Configure Service Endpoint Binding and Address page, click **Next**.</span></span>  <span data-ttu-id="c2e6d-236">摘要页列出树状结构的 SAP 项目，并下，选择每个项目的操作。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-236">The Summary page lists a tree structure of the SAP artifacts and, under that, the operations selected for each artifact.</span></span>  
  
16. <span data-ttu-id="c2e6d-237">查看摘要，并依次**完成**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-237">Review the summary, and then click **Finish**.</span></span>  
  
17. <span data-ttu-id="c2e6d-238">向导将创建一个 WCF 服务，并添加到以下文件[!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)]项目：</span><span class="sxs-lookup"><span data-stu-id="c2e6d-238">The wizard creates a WCF service and adds the following files to the [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)] project:</span></span>  
  
    1.  <span data-ttu-id="c2e6d-239">.svc 文件。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-239">.svc file.</span></span> <span data-ttu-id="c2e6d-240">这是 WCF 服务文件。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-240">This is the WCF service file.</span></span> <span data-ttu-id="c2e6d-241">向导将生成每个协定的一个文件。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-241">The wizard generates one file for each contract.</span></span>  
  
    2.  <span data-ttu-id="c2e6d-242">Web.config 文件。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-242">Web.config file.</span></span>  
  
    3.  <span data-ttu-id="c2e6d-243">服务代码 （.cs 文件）</span><span class="sxs-lookup"><span data-stu-id="c2e6d-243">Service code (.cs file)</span></span>  
  
18. <span data-ttu-id="c2e6d-244">WCF 服务发布。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-244">Publish the WCF service.</span></span>  
  
    1.  <span data-ttu-id="c2e6d-245">请确保 Internet 信息服务 (IIS) 启用 SSL。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-245">Make sure SSL is enabled for Internet Information Services (IIS).</span></span> <span data-ttu-id="c2e6d-246">有关如何为 IIS 启用 SSL 的说明，请参阅[http://go.microsoft.com/fwlink/?LinkId=197170](http://go.microsoft.com/fwlink/?LinkId=197170)。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-246">For instructions on how to enable SSL for IIS, see [http://go.microsoft.com/fwlink/?LinkId=197170](http://go.microsoft.com/fwlink/?LinkId=197170).</span></span>  
  
    2.  <span data-ttu-id="c2e6d-247">右键单击解决方案资源管理器中的项目，然后单击**发布**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-247">Right-click the project in Solution Explorer, and then click **Publish**.</span></span>  
  
    3.  <span data-ttu-id="c2e6d-248">在**发布 Web**对话框中，指定 WCF 服务的 URL。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-248">In the **Publish Web** dialog box, specify a URL for the WCF service.</span></span> <span data-ttu-id="c2e6d-249">例如：</span><span class="sxs-lookup"><span data-stu-id="c2e6d-249">For example:</span></span>  
  
        ```  
        https://<computer_name>/Customer_Order/  
        ```  
  
    4.  <span data-ttu-id="c2e6d-250">从**复制**框中，单击**所有项目文件**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-250">From the **Copy** box, click **All project files**.</span></span>  
  
    5.  <span data-ttu-id="c2e6d-251">单击“发布” 。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-251">Click **Publish**.</span></span>  
  
19. <span data-ttu-id="c2e6d-252">验证的 WCF 服务已成功发布。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-252">Verify that the WCF service is published successfully.</span></span>  
  
    1.  <span data-ttu-id="c2e6d-253">启动 IIS Microsoft 管理控制台。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-253">Start the IIS Microsoft Management Console.</span></span> <span data-ttu-id="c2e6d-254">单击**启动**，指向**管理工具**，然后单击**Internet Information Services (IIS) Manager**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-254">Click **Start**, point to **Administrative Tools**, and then click **Internet Information Services (IIS) Manager**.</span></span>  
  
    2.  <span data-ttu-id="c2e6d-255">导航到在其中发布服务的节点。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-255">Navigate to the node where you published the service.</span></span> <span data-ttu-id="c2e6d-256">有关**Customer_Order**服务中，导航到**Internet Information Services** > **\<计算机名称\>**  > **网站** > **Default Web Site** > **Customer_Order**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-256">For the **Customer_Order** service, navigate to **Internet Information Services** > **\<Computer Name\>** > **Web Sites** > **Default Web Site** > **Customer_Order**.</span></span>  
  
    3.  <span data-ttu-id="c2e6d-257">在右窗格中，右键单击 Rfc.svc 文件，然后单击**浏览**。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-257">On the right pane, right-click the Rfc.svc file, and then click **Browse**.</span></span>  
  
    4.  <span data-ttu-id="c2e6d-258">网页出现时带有检索 WSDL 的 URL。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-258">The Web page shows up with the URL for retrieving the WSDL.</span></span> <span data-ttu-id="c2e6d-259">你可能想要测试元数据检索使用**svcutil**命令。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-259">You may want to test metadata retrieval using the **svcutil** command.</span></span> <span data-ttu-id="c2e6d-260">例如，若要检索 Customer_Order 服务的元数据的命令是：</span><span class="sxs-lookup"><span data-stu-id="c2e6d-260">For example, the command to retrieve metadata for the Customer_Order service is:</span></span>  
  
        ```  
        svcutil.exe https://<computer_name>/Customer_Order/Rfc.svc?wsdl  
  
        ```  
  
## <a name="next-step"></a><span data-ttu-id="c2e6d-261">下一步</span><span class="sxs-lookup"><span data-stu-id="c2e6d-261">Next Step</span></span>  
 <span data-ttu-id="c2e6d-262">若要创建的 SAP 项目的应用程序定义文件，使用业务数据目录定义编辑器。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-262">To create an application definition file for the SAP artifacts, use the Business Data Catalog Definition Editor.</span></span> <span data-ttu-id="c2e6d-263">请参阅[步骤 2： 为 SAP 项目创建应用程序定义文件](../../adapters-and-accelerators/adapter-sap/step-2-create-an-application-definition-file-for-the-sap-artifacts.md)有关的说明。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-263">See [Step 2: Create an Application Definition File for the SAP Artifacts](../../adapters-and-accelerators/adapter-sap/step-2-create-an-application-definition-file-for-the-sap-artifacts.md) for instructions.</span></span> <span data-ttu-id="c2e6d-264">应用程序定义文件标识存储 LOB 数据和在其中存储的格式。</span><span class="sxs-lookup"><span data-stu-id="c2e6d-264">The application definition file identifies where the LOB data is stored and the format in which it is stored.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c2e6d-265">另请参阅</span><span class="sxs-lookup"><span data-stu-id="c2e6d-265">See Also</span></span>  
 [<span data-ttu-id="c2e6d-266">教程 1：在 SharePoint 上提供来自 SAP 系统的数据</span><span class="sxs-lookup"><span data-stu-id="c2e6d-266">Tutorial 1: Presenting Data from an SAP System on a SharePoint Site</span></span>](../../adapters-and-accelerators/adapter-sap/tutorial-1-presenting-data-from-an-sap-system-on-a-sharepoint-site.md)