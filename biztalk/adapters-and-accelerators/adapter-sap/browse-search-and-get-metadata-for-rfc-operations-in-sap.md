---
title: 浏览、 搜索和获取 RFC 操作在 SAP 中的元数据 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- browsing, RFCs
- RFCs, searching
- RFCs, browsing
- RFC operations, generating schema
- RFC operations
- searching, RFCs
- WCF client, generating a
ms.assetid: 68d9e7b2-b8ab-47f5-afda-2811f68e834b
caps.latest.revision: 13
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: c712075358cfacfbbf2ae3478f76fd64b78db6ae
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/27/2018
ms.locfileid: "36966942"
---
# <a name="browse-search-and-get-metadata-for-rfc-operations-in-sap"></a><span data-ttu-id="43ce4-102">浏览、 搜索和获取 RFC 操作在 SAP 中的元数据</span><span class="sxs-lookup"><span data-stu-id="43ce4-102">Browse, search, and get metadata for RFC operations in SAP</span></span>
<span data-ttu-id="43ce4-103">本部分说明如何浏览、 搜索和检索 RFC 操作使用的 sap 元数据[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]， [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]，或[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="43ce4-103">This section provides instructions on how to browse, search, and retrieve metadata from SAP for RFC operations using [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span> <span data-ttu-id="43ce4-104">说明的大多数都是相同的所有三个用户界面。</span><span class="sxs-lookup"><span data-stu-id="43ce4-104">Most of the instructions are same for all three user interface.</span></span> <span data-ttu-id="43ce4-105">只要为相关的用户界面提供了适用的单独操作步骤。</span><span class="sxs-lookup"><span data-stu-id="43ce4-105">Wherever applicable, separate procedures are provided for the relevant user interface.</span></span>  
  
 <span data-ttu-id="43ce4-106">在执行之前提供以下各节中的步骤，您必须具有：</span><span class="sxs-lookup"><span data-stu-id="43ce4-106">Before performing the steps provided in the following sections, you must have:</span></span>  
  
- <span data-ttu-id="43ce4-107">创建[!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)]项目。</span><span class="sxs-lookup"><span data-stu-id="43ce4-107">Created a [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)] project.</span></span>  
  
- <span data-ttu-id="43ce4-108">连接到 SAP 系统使用[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]， [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]，或[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="43ce4-108">Connected to the SAP system using [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)].</span></span> <span data-ttu-id="43ce4-109">有关说明，请参阅[连接到 Visual Studio 中的 SAP 系统](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md)。</span><span class="sxs-lookup"><span data-stu-id="43ce4-109">For instructions see [Connect to the SAP System in Visual Studio](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md).</span></span>  
  
## <a name="browsing-rfcs-in-an-sap-system"></a><span data-ttu-id="43ce4-110">在 SAP 系统中浏览 Rfc</span><span class="sxs-lookup"><span data-stu-id="43ce4-110">Browsing RFCs in an SAP System</span></span>  
 <span data-ttu-id="43ce4-111">浏览元数据中使用的同时[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]， [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]，或[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)][!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]图面：</span><span class="sxs-lookup"><span data-stu-id="43ce4-111">While browsing metadata using [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] surfaces:</span></span>  
  
- <span data-ttu-id="43ce4-112">作为可以在 SAP 系统调用的操作的 Rfc。</span><span class="sxs-lookup"><span data-stu-id="43ce4-112">RFCs as operations that can be invoked on the SAP system.</span></span>  
  
- <span data-ttu-id="43ce4-113">RfcGetAttributes 操作，这使适配器客户端能够获取有关 RFC 连接参数的信息。</span><span class="sxs-lookup"><span data-stu-id="43ce4-113">RfcGetAttributes operation, which enables adapter clients to get information about the RFC connection parameters.</span></span>  
  
  <span data-ttu-id="43ce4-114">有关浏览 SAP 元数据的详细信息，请参阅[将适配器设置为使用 WCF LOB 适配器 SDK 的绑定属性](../../adapters-and-accelerators/wcf-lob-adapter-sdk/expose-adapter-settings-as-a-binding-property-using-the-wcf-lob-adapter-sdk.md)。</span><span class="sxs-lookup"><span data-stu-id="43ce4-114">Fore more information about browsing SAP metadata, see [Expose adapter settings as a binding property using the WCF LOB Adapter SDK](../../adapters-and-accelerators/wcf-lob-adapter-sdk/expose-adapter-settings-as-a-binding-property-using-the-wcf-lob-adapter-sdk.md).</span></span>
  
  <span data-ttu-id="43ce4-115">执行以下步骤中 SAP 系统使用浏览 Rfc [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]， [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]，或[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="43ce4-115">Perform the following steps to browse RFCs in an SAP system using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)].</span></span>  
  
#### <a name="to-browse-rfcs-in-an-sap-system"></a><span data-ttu-id="43ce4-116">若要在 SAP 系统中浏览 Rfc</span><span class="sxs-lookup"><span data-stu-id="43ce4-116">To browse RFCs in an SAP system</span></span>  
  
1. <span data-ttu-id="43ce4-117">连接到 SAP 服务器使用[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]， [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]，或[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="43ce4-117">Connect to an SAP server using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)].</span></span> <span data-ttu-id="43ce4-118">请参阅[连接到 Visual Studio 中的 SAP 系统](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md)有关的说明。</span><span class="sxs-lookup"><span data-stu-id="43ce4-118">See [Connect to the SAP System in Visual Studio](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md) for instructions.</span></span>  
  
2. <span data-ttu-id="43ce4-119">从**选择协定类型**下拉列表中，选择基于是否将执行使用该适配器的入站或出站操作的协定的类型。</span><span class="sxs-lookup"><span data-stu-id="43ce4-119">From the **Select contract type** drop-down list, select the type of contract based on whether you will be performing inbound or outbound operations using the adapter.</span></span>  
  
3. <span data-ttu-id="43ce4-120">在中**选择一个类别**框中，单击要请参阅 RFC 功能组中的 RFC 节点**可用类别和操作**框。</span><span class="sxs-lookup"><span data-stu-id="43ce4-120">In the **Select a category** box, click the RFC node to see the RFC functional groups in the **Available categories and operations** box.</span></span> <span data-ttu-id="43ce4-121">或者，您还可以通过展开 RFC 节点来查看 RFC 功能组。</span><span class="sxs-lookup"><span data-stu-id="43ce4-121">Alternatively, you can also see the RFC functional groups by expanding the RFC node.</span></span>  
  
   > [!TIP]
   >  <span data-ttu-id="43ce4-122">您可以直接转到"即时"类别节点或子类别节点在树中，通过键入中项目的名称的树视图中聚焦时**选择一个类别**框。</span><span class="sxs-lookup"><span data-stu-id="43ce4-122">You can directly go to the “immediate” category node or subcategory nodes in the tree, by typing the name of the artifact in while the focus is on the tree view in the **Select a category** box.</span></span> <span data-ttu-id="43ce4-123">例如，若要跳转到**基础**RFC 功能组，重点介绍**RFC**节点，并键入`Basis`。</span><span class="sxs-lookup"><span data-stu-id="43ce4-123">For example, to jump to the **Basis** RFC functional group, keep the focus on the **RFC** node, and then type `Basis`.</span></span>  
  
    <span data-ttu-id="43ce4-124">下图显示[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]列出 RFC 功能组。</span><span class="sxs-lookup"><span data-stu-id="43ce4-124">The following figure shows the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] listing the RFC functional groups.</span></span>  
  
    <span data-ttu-id="43ce4-125">![浏览 RFC 功能组](../../adapters-and-accelerators/adapter-sap/media/958cba26-1644-4700-a647-9eeb0273ebd1.gif "958cba26-1644-4700-a647-9eeb0273ebd1")</span><span class="sxs-lookup"><span data-stu-id="43ce4-125">![Browsing RFC functional groups](../../adapters-and-accelerators/adapter-sap/media/958cba26-1644-4700-a647-9eeb0273ebd1.gif "958cba26-1644-4700-a647-9eeb0273ebd1")</span></span>  
  
4. <span data-ttu-id="43ce4-126">单击以查看相关 Rfc RFC 功能组。</span><span class="sxs-lookup"><span data-stu-id="43ce4-126">Click the RFC functional groups to see the relevant RFCs.</span></span> <span data-ttu-id="43ce4-127">下图显示[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]与特定的 RFC 功能组下 Rfc。</span><span class="sxs-lookup"><span data-stu-id="43ce4-127">The following figure shows the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] with the RFCs under a particular RFC functional group.</span></span>  
  
    <span data-ttu-id="43ce4-128">![浏览 Rfc 功能组中](../../adapters-and-accelerators/adapter-sap/media/bf725aa9-a547-4f20-8246-d9c8fedadb40.gif "bf725aa9-a547-4f20-8246-d9c8fedadb40")</span><span class="sxs-lookup"><span data-stu-id="43ce4-128">![Browsing RFCs in a functional group](../../adapters-and-accelerators/adapter-sap/media/bf725aa9-a547-4f20-8246-d9c8fedadb40.gif "bf725aa9-a547-4f20-8246-d9c8fedadb40")</span></span>  
  
## <a name="searching-rfcs-in-an-sap-system"></a><span data-ttu-id="43ce4-129">SAP 系统中搜索 Rfc</span><span class="sxs-lookup"><span data-stu-id="43ce4-129">Searching RFCs in an SAP System</span></span>  
 <span data-ttu-id="43ce4-130">在 SAP 系统使用 Rfc 搜索元数据时[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]， [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]，或[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="43ce4-130">While searching metadata for RFCs in an SAP system using [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]:</span></span>  
  
- <span data-ttu-id="43ce4-131">搜索表达式中支持通配符字符。</span><span class="sxs-lookup"><span data-stu-id="43ce4-131">Supports wildcard characters in the search expression.</span></span>  
  
- <span data-ttu-id="43ce4-132">可以立即执行搜索操作的间隔的节点下的搜索。</span><span class="sxs-lookup"><span data-stu-id="43ce4-132">Enables search immediately under the node at which the search operation is performed.</span></span>  
  
  <span data-ttu-id="43ce4-133">下表列出了可用于搜索和通过其解释的特殊字符[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="43ce4-133">The following table lists the special characters that can be used for search and their interpretation by the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span></span>  
  
|<span data-ttu-id="43ce4-134">特殊字符</span><span class="sxs-lookup"><span data-stu-id="43ce4-134">Special character</span></span>|<span data-ttu-id="43ce4-135">解释</span><span class="sxs-lookup"><span data-stu-id="43ce4-135">Interpretation</span></span>|  
|-----------------------|--------------------|  
|<span data-ttu-id="43ce4-136">+（加号）</span><span class="sxs-lookup"><span data-stu-id="43ce4-136">+ (plus)</span></span>|<span data-ttu-id="43ce4-137">匹配一个字符。</span><span class="sxs-lookup"><span data-stu-id="43ce4-137">Matches exactly one character.</span></span><br /><br /> <span data-ttu-id="43ce4-138">例如，A + 匹配 AB，交流，AD</span><span class="sxs-lookup"><span data-stu-id="43ce4-138">For example, A+ matches AB, AC, AD</span></span>|  
|<span data-ttu-id="43ce4-139">\*（星号）</span><span class="sxs-lookup"><span data-stu-id="43ce4-139">\* (asterisk)</span></span>|<span data-ttu-id="43ce4-140">匹配零个或多个字符。</span><span class="sxs-lookup"><span data-stu-id="43ce4-140">Matches zero or more characters.</span></span><br /><br /> <span data-ttu-id="43ce4-141">例如，A \* A，AB，ABC 匹配。</span><span class="sxs-lookup"><span data-stu-id="43ce4-141">For example, A\* matches A, AB, ABC.</span></span>|  
  
 <span data-ttu-id="43ce4-142">有关适配器支持的特殊字符的详细信息，请参阅[将适配器设置为使用 WCF LOB 适配器 SDK 的绑定属性](../../adapters-and-accelerators/wcf-lob-adapter-sdk/expose-adapter-settings-as-a-binding-property-using-the-wcf-lob-adapter-sdk.md)。</span><span class="sxs-lookup"><span data-stu-id="43ce4-142">For more information about the special characters supported by the adapter, see [Expose adapter settings as a binding property using the WCF LOB Adapter SDK](../../adapters-and-accelerators/wcf-lob-adapter-sdk/expose-adapter-settings-as-a-binding-property-using-the-wcf-lob-adapter-sdk.md).</span></span>
  
 <span data-ttu-id="43ce4-143">执行以下步骤在 SAP 系统使用中搜索 Rfc [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]， [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]，或[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="43ce4-143">Perform the following steps to search RFCs in an SAP system using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)].</span></span>  
  
#### <a name="to-search-rfcs-in-an-sap-system"></a><span data-ttu-id="43ce4-144">若要在 SAP 系统中搜索 Rfc</span><span class="sxs-lookup"><span data-stu-id="43ce4-144">To search RFCs in an SAP system</span></span>  
  
1. <span data-ttu-id="43ce4-145">连接到 SAP 服务器使用[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]， [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]，或[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="43ce4-145">Connect to an SAP server using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)].</span></span> <span data-ttu-id="43ce4-146">请参阅[连接到 Visual Studio 中的 SAP 系统](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md)有关的说明。</span><span class="sxs-lookup"><span data-stu-id="43ce4-146">See [Connect to the SAP System in Visual Studio](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md) for instructions.</span></span>  
  
2. <span data-ttu-id="43ce4-147">从**选择协定类型**下拉列表中，选择根据你是否将搜索使用的适配器的入站或出站操作的协定的类型。</span><span class="sxs-lookup"><span data-stu-id="43ce4-147">From the **Select contract type** drop-down list, select the type of contract based on whether you will be searching for inbound or outbound operations using the adapter.</span></span>  
  
3. <span data-ttu-id="43ce4-148">在中**选择一个类别**框中，单击包含想要搜索的 RFC 的 RFC 功能组。</span><span class="sxs-lookup"><span data-stu-id="43ce4-148">In the **Select a category** box, click the RFC functional group containing the RFC you want to search.</span></span> <span data-ttu-id="43ce4-149">如果不确定要在中搜索的功能组，请单击根 RFC 节点。</span><span class="sxs-lookup"><span data-stu-id="43ce4-149">If you are not sure which functional group to search in, click the root RFC node.</span></span>  
  
4. <span data-ttu-id="43ce4-150">在中**类别中的搜索**文字框中，输入要搜索特定 RFC 的搜索表达式。</span><span class="sxs-lookup"><span data-stu-id="43ce4-150">In the **Search in category** text box, enter a search expression to search for a specific RFC.</span></span> <span data-ttu-id="43ce4-151">例如，若要搜索名称中含有"RFC_CUST"的 Rfc，请键入 * RFC_CUST\*在文本框中。</span><span class="sxs-lookup"><span data-stu-id="43ce4-151">For example, to search for RFCs that have "RFC_CUST" in their names, type *RFC_CUST\* in the text box.</span></span>  
  
5. <span data-ttu-id="43ce4-152">单击开始搜索的向右箭头图标按钮。</span><span class="sxs-lookup"><span data-stu-id="43ce4-152">Click the button with the right-arrow icon to start the search.</span></span> <span data-ttu-id="43ce4-153">搜索完成后**可用类别和操作**框列出了满足搜索条件的 Rfc。</span><span class="sxs-lookup"><span data-stu-id="43ce4-153">After the search is complete, the **Available categories and operations** box lists the RFCs that satisfy the search criteria.</span></span>  
  
    <span data-ttu-id="43ce4-154">下图显示[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]列出 RFC 搜索结果。</span><span class="sxs-lookup"><span data-stu-id="43ce4-154">The following figure shows the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] listing the RFC search result.</span></span>  
  
    <span data-ttu-id="43ce4-155">![SAP 系统中搜索 RFC](../../adapters-and-accelerators/adapter-sap/media/2cf0b262-bbc7-4d0f-a9cf-5b090fb744b6.gif "2cf0b262-bbc7-4d0f-a9cf-5b090fb744b6")</span><span class="sxs-lookup"><span data-stu-id="43ce4-155">![Search RFC in an SAP system](../../adapters-and-accelerators/adapter-sap/media/2cf0b262-bbc7-4d0f-a9cf-5b090fb744b6.gif "2cf0b262-bbc7-4d0f-a9cf-5b090fb744b6")</span></span>  
  
## <a name="generating-schema-for-biztalk-projects"></a><span data-ttu-id="43ce4-156">对于 BizTalk 项目的生成架构</span><span class="sxs-lookup"><span data-stu-id="43ce4-156">Generating Schema for BizTalk Projects</span></span>  
 <span data-ttu-id="43ce4-157">可以使用[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]或[!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]生成所选的 SAP 项目的架构。</span><span class="sxs-lookup"><span data-stu-id="43ce4-157">You can use the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] or [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)] to generate schema for selected SAP artifacts.</span></span> <span data-ttu-id="43ce4-158">浏览并搜索你想要调用的项目后，您可以生成的项目的架构和发送消息，符合架构，到 SAP 系统。</span><span class="sxs-lookup"><span data-stu-id="43ce4-158">Once you have browsed and searched for the artifacts you want to invoke, you can generate schema for those artifacts and send messages, conforming to the schema, to the SAP system.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="43ce4-159">可以选择要在该类别的子树中返回的所有操作的类别节点，例如，可以选择整个 RFC 功能组 （可以为该组中的所有 Rfc 生成架构） 或选择特定的 Rfc 来生成仅这些 Rfc 的架构。</span><span class="sxs-lookup"><span data-stu-id="43ce4-159">You can select category nodes to return all the operations in that category's sub-tree—for example, you can select an entire RFC functional group (to generate schema for all the RFCs in that group) or select specific RFCs to generate schema for only those RFCs.</span></span> <span data-ttu-id="43ce4-160">有关节点的详细信息，请参阅[元数据节点 Id](../../adapters-and-accelerators/adapter-sap/metadata-node-ids4.md)。</span><span class="sxs-lookup"><span data-stu-id="43ce4-160">For more information about the nodes, see [Metadata Node IDs](../../adapters-and-accelerators/adapter-sap/metadata-node-ids4.md).</span></span>  
  
#### <a name="to-retrieve-metadata-for-rfcs"></a><span data-ttu-id="43ce4-161">若要检索 Rfc 的元数据</span><span class="sxs-lookup"><span data-stu-id="43ce4-161">To retrieve metadata for RFCs</span></span>  
  
1. <span data-ttu-id="43ce4-162">连接到 SAP 服务器使用[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]或[!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="43ce4-162">Connect to an SAP server using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] or the [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)].</span></span> <span data-ttu-id="43ce4-163">请参阅[连接到 Visual Studio 中的 SAP 系统](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md)有关的说明。</span><span class="sxs-lookup"><span data-stu-id="43ce4-163">See [Connect to the SAP System in Visual Studio](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md) for instructions.</span></span>  
  
2. <span data-ttu-id="43ce4-164">从**选择协定类型**下拉列表中，选择基于是否将执行使用该适配器的入站或出站操作的协定的类型。</span><span class="sxs-lookup"><span data-stu-id="43ce4-164">From the **Select contract type** drop-down list, select the type of contract based on whether you will be performing inbound or outbound operations using the adapter.</span></span>  
  
3. <span data-ttu-id="43ce4-165">在中**选择一个类别**框中，单击包含您要为其生成元数据的 RFC 的 RFC 功能组。</span><span class="sxs-lookup"><span data-stu-id="43ce4-165">In the **Select a category** box, click the RFC functional group containing the RFC for which you want to generate metadata.</span></span>  
  
    <span data-ttu-id="43ce4-166">您还可以搜索特定的 Rfc。</span><span class="sxs-lookup"><span data-stu-id="43ce4-166">You can also search for specific RFCs.</span></span> <span data-ttu-id="43ce4-167">例如，若要搜索其名称中包含"RFC_CUST"的 Rfc 单击 RFC 节点和在**类别中的搜索**文本框中键入\*RFC_CUST\*。</span><span class="sxs-lookup"><span data-stu-id="43ce4-167">For example, to search for RFCs that contain "RFC_CUST" in their name, click the RFC node and in the **Search in category** text box type \*RFC_CUST\*.</span></span> <span data-ttu-id="43ce4-168">单击开始搜索的向右箭头图标按钮。</span><span class="sxs-lookup"><span data-stu-id="43ce4-168">Click the button with the right-arrow icon to start the search.</span></span> <span data-ttu-id="43ce4-169">**可用类别和操作**框中列出的所有名称中包含"RFC_CUST"的 Rfc。</span><span class="sxs-lookup"><span data-stu-id="43ce4-169">The **Available categories and operations** box lists all the RFCs that have "RFC_CUST" in their name.</span></span>  
  
4. <span data-ttu-id="43ce4-170">在中**可用类别和操作**框中，选择您要为其生成元数据，并单击的 Rfc**添加**。</span><span class="sxs-lookup"><span data-stu-id="43ce4-170">In the **Available categories and operations** box, select the RFCs for which you want to generate metadata and click **Add**.</span></span> <span data-ttu-id="43ce4-171">中列出了所选的 Rfc**添加的类别和操作**框。</span><span class="sxs-lookup"><span data-stu-id="43ce4-171">The selected RFCs are listed in the **Added categories and operations** box.</span></span>  
  
    <span data-ttu-id="43ce4-172">下图显示[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]列出所选的 Rfc。</span><span class="sxs-lookup"><span data-stu-id="43ce4-172">The following figure shows the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] listing the selected RFCs.</span></span>  
  
    <span data-ttu-id="43ce4-173">![检索 RFC 的元数据](../../adapters-and-accelerators/adapter-sap/media/f7c89882-e2d7-409b-af2e-e35c7268c137.gif "f7c89882-e2d7-409b-af2e-e35c7268c137")</span><span class="sxs-lookup"><span data-stu-id="43ce4-173">![Retrieve metadata for RFC](../../adapters-and-accelerators/adapter-sap/media/f7c89882-e2d7-409b-af2e-e35c7268c137.gif "f7c89882-e2d7-409b-af2e-e35c7268c137")</span></span>  
  
    <span data-ttu-id="43ce4-174">如果你想要为多个操作生成架构，可能有一些重复的元素定义由这些架构会导致在编译 BizTalk 项目中的问题。</span><span class="sxs-lookup"><span data-stu-id="43ce4-174">If you want to generate schema for multiple operations, there may be some duplicate element definitions among these schema that may cause failure in compiling the BizTalk project.</span></span> <span data-ttu-id="43ce4-175">例如，假设其中生成操作"Op1"的架构。</span><span class="sxs-lookup"><span data-stu-id="43ce4-175">For example, consider a scenario where you generate schema for an operation “Op1”.</span></span> <span data-ttu-id="43ce4-176">"Op1"的架构包含复杂数据类型"CT1"的参数。</span><span class="sxs-lookup"><span data-stu-id="43ce4-176">The schema for “Op1” contains a parameter of complex data type “CT1”.</span></span> <span data-ttu-id="43ce4-177">对于"Op1"生成架构后关闭[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]并重新打开它以生成架构的另一项操作"Op2"。</span><span class="sxs-lookup"><span data-stu-id="43ce4-177">After generating the schema for “Op1” you close the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] and re-open it to generate schema for another operation “Op2”.</span></span> <span data-ttu-id="43ce4-178">假定"Op2"还包含复杂数据类型"CT1"的参数。</span><span class="sxs-lookup"><span data-stu-id="43ce4-178">Assume that “Op2” also contains a parameter of complex data type “CT1”.</span></span> <span data-ttu-id="43ce4-179">退出后[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]和编译项目，你将收到编译错误，因为两次在不同的 XSD 文件中定义的复杂数据类型"CT1"。</span><span class="sxs-lookup"><span data-stu-id="43ce4-179">After you exit the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] and compile the project, you will get compilation errors because the complex data type “CT1” is defined twice in different XSD files.</span></span> <span data-ttu-id="43ce4-180">在这种情况下，我们建议：</span><span class="sxs-lookup"><span data-stu-id="43ce4-180">In such situations, we recommend the following:</span></span>  
  
   - <span data-ttu-id="43ce4-181">生成的所有操作的架构中的一次运行[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="43ce4-181">Generate schema for all the operations in a single run of [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span> <span data-ttu-id="43ce4-182">这可确保[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]生成复杂的数据类型"CT1"只有一个定义。</span><span class="sxs-lookup"><span data-stu-id="43ce4-182">This ensures that the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] generates only one definition for the complex data type “CT1”.</span></span>  
  
   - <span data-ttu-id="43ce4-183">如果你想要在不同的运行中生成多个操作的架构[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]，请确保选择**生成唯一的架构类型**复选框，以便生成的 XSD 文件包含复杂的唯一命名空间数据类型"CT1"。</span><span class="sxs-lookup"><span data-stu-id="43ce4-183">If you want to generate schema for multiple operations across different runs of [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], make sure you select the **Generate unique schema types** check box so that the generated XSD files contain unique namespaces for the complex data type “CT1”.</span></span>  
  
5. <span data-ttu-id="43ce4-184">单击“确定” 。</span><span class="sxs-lookup"><span data-stu-id="43ce4-184">Click **OK**.</span></span> <span data-ttu-id="43ce4-185">架构文件保存具有.xsd 扩展名为 BizTalk 项目所在的位置。</span><span class="sxs-lookup"><span data-stu-id="43ce4-185">The schema file is saved with an .xsd extension at the same location as the BizTalk project.</span></span>  
  
   > [!NOTE]
   >  <span data-ttu-id="43ce4-186">如果使用的[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]，默认情况下创建的文件命名约定"SAPBinding\<n >.xsd"，其中 n 可为 1，2，等具体取决于架构创建的文件数。</span><span class="sxs-lookup"><span data-stu-id="43ce4-186">If you are using [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], by default the files are created with the naming convention "SAPBinding\<n>.xsd", where 'n' can be 1, 2, etc. depending on the number of schema files created.</span></span> <span data-ttu-id="43ce4-187">或者，可以通过输入一个名称中的提供的架构文件的自定义名称**文件名前缀**文本框。</span><span class="sxs-lookup"><span data-stu-id="43ce4-187">Alternatively, you can provide a custom name to the schema files by entering a name in the **Filename prefix** text box.</span></span> <span data-ttu-id="43ce4-188">[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]现在使用的命名约定创建架构文件\<文件名前缀 >\<n >.xsd。</span><span class="sxs-lookup"><span data-stu-id="43ce4-188">The [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] now creates schema files with the naming convention \<filename prefix>\<n>.xsd.</span></span>  
   > 
   > [!NOTE]
   >  <span data-ttu-id="43ce4-189">[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]还会创建包含在生成架构时指定的绑定属性的绑定文件 （XML 文件） 的操作和要调用该操作的 SOAP 操作。</span><span class="sxs-lookup"><span data-stu-id="43ce4-189">The [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] also creates a binding file (an XML file) containing the binding properties that you specified while generating the schema for an operation and the SOAP action to invoke the operation.</span></span> <span data-ttu-id="43ce4-190">可以在 BizTalk Server 管理控制台创建 WCF 自定义端口的连接 URI，绑定属性与此绑定文件导入和 SOAP 操作集。</span><span class="sxs-lookup"><span data-stu-id="43ce4-190">You can import this binding file in the BizTalk Server Administration console to create a WCF-Custom port with the connection URI, binding properties, and the SOAP action set.</span></span> <span data-ttu-id="43ce4-191">有关详细信息，请参阅[配置物理端口绑定使用的端口绑定文件与 SAP](../../adapters-and-accelerators/adapter-sap/configure-a-physical-port-binding-using-a-port-binding-file-to-sap.md)。</span><span class="sxs-lookup"><span data-stu-id="43ce4-191">For more information, see [Configure a physical port binding using a port binding file to SAP](../../adapters-and-accelerators/adapter-sap/configure-a-physical-port-binding-using-a-port-binding-file-to-sap.md).</span></span>
  
6. <span data-ttu-id="43ce4-192">在“文件”  菜单上，单击“全部保存” 。</span><span class="sxs-lookup"><span data-stu-id="43ce4-192">On the **File** menu, click **Save All**.</span></span>  
  
## <a name="generating-a-wcf-client-for-rfc-operations-using-the-add-adapter-service-reference-plug-in"></a><span data-ttu-id="43ce4-193">生成使用 RFC 操作的 WCF 客户端添加适配器服务引用插件</span><span class="sxs-lookup"><span data-stu-id="43ce4-193">Generating a WCF Client for RFC Operations Using the Add Adapter Service Reference Plug-in</span></span>  
 <span data-ttu-id="43ce4-194">可以使用[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]生成任一 WCF 客户端代码，以向 SAP 发送 Rfc 系统或 WCF 服务以协定和代码，以接收来自 SAP 系统的 Rfc （RFC 服务器）。</span><span class="sxs-lookup"><span data-stu-id="43ce4-194">You can use the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] to generate either WCF client code to send RFCs to the SAP system or a WCF service contract and code to receive RFCs (RFC server) from the SAP system.</span></span>  
  
#### <a name="to-generate-a-wcf-client-or-a-wcf-service-contract-for-rfcs"></a><span data-ttu-id="43ce4-195">若要为 Rfc 生成 WCF 客户端或 WCF 服务约定</span><span class="sxs-lookup"><span data-stu-id="43ce4-195">To generate a WCF client or a WCF service contract for RFCs</span></span>  
  
1. <span data-ttu-id="43ce4-196">在中[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]，从**选择协定类型**下拉列表中，选择基于是否将执行入站 （RFC 服务器） 或出站操作的协定的类型。</span><span class="sxs-lookup"><span data-stu-id="43ce4-196">In the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)], from the **Select contract type** drop-down list, select the type of contract based on whether you will be performing inbound (RFC server) or outbound operations.</span></span>  
  
2. <span data-ttu-id="43ce4-197">在中**选择一个类别**框中，展开**RFC**节点，然后单击包含您要为其生成 WCF 客户端或 WCF 服务协定的 RFC RFC 功能组。</span><span class="sxs-lookup"><span data-stu-id="43ce4-197">In the **Select a category** box, expand the **RFC** node, and then click the RFC functional group that contains the RFC for which you want to generate a WCF client or WCF service contract.</span></span>  
  
    <span data-ttu-id="43ce4-198">您还可以搜索 Rfc。</span><span class="sxs-lookup"><span data-stu-id="43ce4-198">You can also search for RFCs.</span></span> <span data-ttu-id="43ce4-199">例如，若要搜索名称中包含"RFC_CUST"的 Rfc，请单击**RFC**节点并在**类别中的搜索**文本框中键入\*RFC_CUST\*。</span><span class="sxs-lookup"><span data-stu-id="43ce4-199">For example, to search for RFCs that contain "RFC_CUST" in their name, click the **RFC** node and in the **Search in category** text box type \*RFC_CUST\*.</span></span> <span data-ttu-id="43ce4-200">单击开始搜索的向右箭头图标按钮。</span><span class="sxs-lookup"><span data-stu-id="43ce4-200">Click the button with the right-arrow icon to start the search.</span></span> <span data-ttu-id="43ce4-201">**可用类别和操作**框中列出的所有名称中包含"RFC_CUST"的 Rfc。</span><span class="sxs-lookup"><span data-stu-id="43ce4-201">The **Available categories and operations** box lists all the RFCs that have "RFC_CUST" in their name.</span></span>  
  
3. <span data-ttu-id="43ce4-202">在中**可用类别和操作**框中，选择您要为其生成 WCF 客户端 （或 WCF 服务约定），然后单击的类别 （RFC 功能组） 的操作**添加**。</span><span class="sxs-lookup"><span data-stu-id="43ce4-202">In the **Available categories and operations** box, select the operations or categories (RFC functional groups) for which you want to generate a WCF client (or WCF service contract), and then click **Add**.</span></span> <span data-ttu-id="43ce4-203">所选的操作所示**添加的类别和操作**框。</span><span class="sxs-lookup"><span data-stu-id="43ce4-203">The selected operations are listed in the **Added categories and operations** box.</span></span> <span data-ttu-id="43ce4-204">可以选择中列出的任何节点**可用类别和操作**框。</span><span class="sxs-lookup"><span data-stu-id="43ce4-204">You can select any node that is listed in the **Available categories and operations** box.</span></span> <span data-ttu-id="43ce4-205">如果您选择的类别节点，则只提供该节点下的操作，并且将添加及其子节点。</span><span class="sxs-lookup"><span data-stu-id="43ce4-205">If you select a category node, then all of the operations available under that node and its sub-nodes will be added.</span></span>  
  
4. <span data-ttu-id="43ce4-206">在大多数情况下的默认序列化选项是不够的;但是，如果需要可以控制生成的代码有关的几个方面和序列化程序使用的类型。</span><span class="sxs-lookup"><span data-stu-id="43ce4-206">For most scenarios the default serialization options are sufficient; however, if needed, you can control several aspects about the code that is generated and the type of serializer that is used.</span></span> <span data-ttu-id="43ce4-207">若要设置这些选项：</span><span class="sxs-lookup"><span data-stu-id="43ce4-207">To set these options:</span></span>  
  
   1. <span data-ttu-id="43ce4-208">单击**高级选项**以打开**高级选项**框。</span><span class="sxs-lookup"><span data-stu-id="43ce4-208">Click **Advanced Options** to open the **Advanced Options** box.</span></span>  
  
   2. <span data-ttu-id="43ce4-209">在中**高级选项**框下**选择生成的代理的选项**，选择所需的选项。</span><span class="sxs-lookup"><span data-stu-id="43ce4-209">In the **Advanced Options** box under **Choose options for generated proxy**, select the options that you want.</span></span> <span data-ttu-id="43ce4-210">例如，可以选择是否异步方法生成 WCF 客户端或禁用配置文件的生成。</span><span class="sxs-lookup"><span data-stu-id="43ce4-210">For example, you can select whether asynchronous methods are generated for the WCF client or disable the generation of a configuration file.</span></span>  
  
   3. <span data-ttu-id="43ce4-211">下**序列化程序**选择应使用的序列化程序。</span><span class="sxs-lookup"><span data-stu-id="43ce4-211">Under **Serializer** select the serializer that should be used.</span></span>  
  
      <span data-ttu-id="43ce4-212">下图显示**高级选项**具有默认选择框 (**自动**处于选中状态的选择序列化程序和任何其他选项)。</span><span class="sxs-lookup"><span data-stu-id="43ce4-212">The following figure shows the **Advanced Options** box with the default selections (**Auto** is selected for the serializer and no other options are selected).</span></span>  
  
      <span data-ttu-id="43ce4-213">![高级选项框默认设置](../../adapters-and-accelerators/adapter-oracle-database/media/r2-net-adapters-oracle-msb-advanced-options.gif "R2_NET_Adapters_Oracle_MSB_Advanced_Options")</span><span class="sxs-lookup"><span data-stu-id="43ce4-213">![The Advanced Options box default settings](../../adapters-and-accelerators/adapter-oracle-database/media/r2-net-adapters-oracle-msb-advanced-options.gif "R2_NET_Adapters_Oracle_MSB_Advanced_Options")</span></span>  
  
      <span data-ttu-id="43ce4-214">可以在中配置的选项**高级选项**使用 ServiceModel Metadata Utility Tool (svcutil.exe) 时，框将等效于一些可用的选项。</span><span class="sxs-lookup"><span data-stu-id="43ce4-214">The options that you can configure in the **Advanced Options** box are equivalent to some of the options available when you use the ServiceModel Metadata Utility Tool (svcutil.exe).</span></span> <span data-ttu-id="43ce4-215">有关这些选项的详细信息，请参阅[ServiceModel Metadata Utility Tool (Svcutil.exe)](https://msdn.microsoft.com/library/aa347733.aspx)。</span><span class="sxs-lookup"><span data-stu-id="43ce4-215">For more information about these options, see [ServiceModel Metadata Utility Tool (Svcutil.exe)](https://msdn.microsoft.com/library/aa347733.aspx).</span></span>
  
5. <span data-ttu-id="43ce4-216">单击“确定” 。</span><span class="sxs-lookup"><span data-stu-id="43ce4-216">Click **OK**.</span></span> <span data-ttu-id="43ce4-217">[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]保存 WCF 客户端类 （或 WCF 服务接口） 和帮助程序代码的操作和已选择在项目目录中的类别。</span><span class="sxs-lookup"><span data-stu-id="43ce4-217">The [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] saves the WCF client class (or WCF service interface) and helper code for the operations and categories that you have selected in your project directory.</span></span> <span data-ttu-id="43ce4-218">默认情况下，还保存配置文件。</span><span class="sxs-lookup"><span data-stu-id="43ce4-218">By default, a configuration file is also saved.</span></span> <span data-ttu-id="43ce4-219">为入站和出站操作; 生成略有不同的文件有关详细信息，请参阅[生成 WCF 客户端或 SAP 解决方案项目的 WCF 服务约定](../../adapters-and-accelerators/adapter-sap/generate-a-wcf-client-or-a-wcf-service-contract-for-sap-solution-artifacts.md)。</span><span class="sxs-lookup"><span data-stu-id="43ce4-219">Slightly different files are generated for inbound and outbound operations; for more information, see [Generate a WCF client or a WCF service contract for SAP solution artifacts](../../adapters-and-accelerators/adapter-sap/generate-a-wcf-client-or-a-wcf-service-contract-for-sap-solution-artifacts.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="43ce4-220">请参阅</span><span class="sxs-lookup"><span data-stu-id="43ce4-220">See Also</span></span>  
 [<span data-ttu-id="43ce4-221">在 Visual Studio 中获取 SAP 操作的元数据</span><span class="sxs-lookup"><span data-stu-id="43ce4-221">Get Metadata for SAP Operations in Visual Studio</span></span>](../../adapters-and-accelerators/adapter-sap/get-metadata-for-sap-operations-in-visual-studio.md)