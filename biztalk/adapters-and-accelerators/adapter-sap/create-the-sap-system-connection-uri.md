---
title: 创建 SAP 系统连接 URI |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- connection URI
- how to, connect using connection URI
- connecting using connection URI
- connecting to SAP, using the connection URI
ms.assetid: e41ed488-07a7-4fb7-97c0-6d626e041e95
caps.latest.revision: 10
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: f0cf3f1f830540469fb9e87af6ef3cdcb7f87068
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65373539"
---
# <a name="create-the-sap-system-connection-uri"></a><span data-ttu-id="6fd20-102">创建 SAP 系统连接 URI</span><span class="sxs-lookup"><span data-stu-id="6fd20-102">Create the SAP system connection URI</span></span>
<span data-ttu-id="6fd20-103">[!INCLUDE[adaptersap](../../includes/adaptersap-md.md)]连接 URI 包含适配器用于建立到 SAP 系统的连接的属性。</span><span class="sxs-lookup"><span data-stu-id="6fd20-103">The [!INCLUDE[adaptersap](../../includes/adaptersap-md.md)] connection URI contains properties that the adapter uses to establish a connection to the SAP system.</span></span>  

> [!IMPORTANT]
>  <span data-ttu-id="6fd20-104">默认情况下，SAP 客户端库 (librfc32u.dll) 支持最多 100 个连接到 SAP 系统。</span><span class="sxs-lookup"><span data-stu-id="6fd20-104">By default, the SAP client library (librfc32u.dll) supports a maximum of 100 connections to the SAP system.</span></span> <span data-ttu-id="6fd20-105">如果超过此数量的连接，将引发异常。</span><span class="sxs-lookup"><span data-stu-id="6fd20-105">If you exceed this number of connections, an exception will be thrown.</span></span> <span data-ttu-id="6fd20-106">出于此原因，应设置**MaxConnectionsPerSystem**绑定属性可限制连接数的[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]将尝试打开 SAP 系统或 CPIC_MAX_CONV 环境变量设置为增加受支持的 SAP 客户端库的连接数。</span><span class="sxs-lookup"><span data-stu-id="6fd20-106">For this reason, you should either set the **MaxConnectionsPerSystem** binding property to limit the number of connections that the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] will try to open on the SAP system; or set the CPIC_MAX_CONV environment variable to increase the number of connections supported by the SAP client library.</span></span> <span data-ttu-id="6fd20-107">如果更改 CPIC_MAX_CONV，必须重新启动计算机中的更改才能生效。</span><span class="sxs-lookup"><span data-stu-id="6fd20-107">If you change CPIC_MAX_CONV, you must restart your computer for the change to take effect.</span></span> <span data-ttu-id="6fd20-108">有关详细信息[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]绑定属性，请参阅[了解关于 BizTalk Adapter for mySAP Business Suite 绑定属性](../../adapters-and-accelerators/adapter-sap/read-about-biztalk-adapter-for-mysap-business-suite-binding-properties.md)。</span><span class="sxs-lookup"><span data-stu-id="6fd20-108">For more information about the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] binding properties, see [Read about BizTalk Adapter for mySAP Business Suite binding properties](../../adapters-and-accelerators/adapter-sap/read-about-biztalk-adapter-for-mysap-business-suite-binding-properties.md).</span></span>  

 <span data-ttu-id="6fd20-109">本主题提供有关 SAP 连接 URI 的信息，并还提供了指向其他主题的解释如何在不同的编程方案中指定连接 URI。</span><span class="sxs-lookup"><span data-stu-id="6fd20-109">This topic provides information about the SAP connection URI and also provides links to other topics that explain how to specify a connection URI in different programming scenarios.</span></span>  

## <a name="connection-uri-for-the-sap-adapter"></a><span data-ttu-id="6fd20-110">SAP 适配器的连接 URI</span><span class="sxs-lookup"><span data-stu-id="6fd20-110">Connection URI for the SAP Adapter</span></span>  
 <span data-ttu-id="6fd20-111">典型[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]终结点地址 URI 表示，如下所示：</span><span class="sxs-lookup"><span data-stu-id="6fd20-111">A typical [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] endpoint address URI is represented as follows:</span></span>  

```  
scheme://userinfoparams@hostinfoparams?query_string  
```  

 <span data-ttu-id="6fd20-112">终结点地址 URI 包含以下组件：</span><span class="sxs-lookup"><span data-stu-id="6fd20-112">The endpoint address URI contains the following components:</span></span>  

- <span data-ttu-id="6fd20-113">方案为方案名称。</span><span class="sxs-lookup"><span data-stu-id="6fd20-113">scheme is the scheme name.</span></span>  

- <span data-ttu-id="6fd20-114">userinfoparams 是终结点进行用户身份验证所需的参数名称值集合。</span><span class="sxs-lookup"><span data-stu-id="6fd20-114">userinfoparams is a name-value collection of parameters required for user authentication by the endpoint.</span></span>  

- <span data-ttu-id="6fd20-115">hostinfoparams 是建立与主机; 的连接所需的信息例如，路径。</span><span class="sxs-lookup"><span data-stu-id="6fd20-115">hostinfoparams is information required to establish the connection to the host; for example, a path.</span></span>  

- <span data-ttu-id="6fd20-116">query_string 是由问号 （？） 分隔的参数的可选名称值集合。</span><span class="sxs-lookup"><span data-stu-id="6fd20-116">query_string is an optional name-value collection of parameters delimited by a question mark (?).</span></span>  

  <span data-ttu-id="6fd20-117">终结点地址 URI 的[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]SAP 系统的用途通过使用 SAP 连接 URI 中指定。</span><span class="sxs-lookup"><span data-stu-id="6fd20-117">The endpoint address URI that the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] uses for a SAP system is specified by using a SAP connection URI.</span></span> <span data-ttu-id="6fd20-118">[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]实现此连接 URI，如下所示：</span><span class="sxs-lookup"><span data-stu-id="6fd20-118">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] implements this connection URI as follows:</span></span>  

```  
sap://user=[USER_NAME];passwd=[PASSWORD];Client=[CLIENT];lang=[LANGUAGE];[UseSnc]=[True|False]@connectiontype/conndetail1/conndetail2?GwHost=[GWHOST]?GwServ=[GWSERV]?MsServ=[MSSERV]?Group=[GROUP]?ListenerDest=[LISTENERDEST]?ListenerGwHost=[LISTENERGWHOST]?ListenerGwServ=[LISTENERGWSERV]?ListenerProgramId=[LISTENERPROGRAMID]?RfcSdkTrace=[true/false]?AbapDebug=[true/false]  
```  

 <span data-ttu-id="6fd20-119">以下各节中介绍了连接 URI 的组件。</span><span class="sxs-lookup"><span data-stu-id="6fd20-119">The components of the connection URI are explained in the following sections.</span></span>  

### <a name="the-sap-connection-uri-scheme"></a><span data-ttu-id="6fd20-120">SAP 连接 URI 方案</span><span class="sxs-lookup"><span data-stu-id="6fd20-120">The SAP Connection URI scheme</span></span>  
 <span data-ttu-id="6fd20-121">SAP 连接 URI 的方案是"sap"。</span><span class="sxs-lookup"><span data-stu-id="6fd20-121">The scheme for the SAP connection URI is "sap".</span></span>  

### <a name="user-information-in-the-sap-connection-uri"></a><span data-ttu-id="6fd20-122">在 SAP 连接 URI 用户信息</span><span class="sxs-lookup"><span data-stu-id="6fd20-122">User Information in the SAP Connection URI</span></span>  
 <span data-ttu-id="6fd20-123">SAP 连接 URI 表示为所需的用户身份验证、 客户端标识和语言规范参数的名称值集合中的用户信息 (userinfoparams)。</span><span class="sxs-lookup"><span data-stu-id="6fd20-123">The user information (userinfoparams) in the SAP connection URI is represented as a name-value collection of parameters required for user authentication, client identification, and language specification.</span></span> <span data-ttu-id="6fd20-124">下表介绍了这些参数。</span><span class="sxs-lookup"><span data-stu-id="6fd20-124">The following table describes these parameters.</span></span>  


| <span data-ttu-id="6fd20-125">属性</span><span class="sxs-lookup"><span data-stu-id="6fd20-125">Property</span></span> |                                                                                                                                                                                                                                                                                                                                                                                                          <span data-ttu-id="6fd20-126">Description</span><span class="sxs-lookup"><span data-stu-id="6fd20-126">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                          |
|----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|   <span data-ttu-id="6fd20-127">“用户”</span><span class="sxs-lookup"><span data-stu-id="6fd20-127">User</span></span>   |                                                                                                                                                                                                            <span data-ttu-id="6fd20-128">SAP 系统的用户名此值是区分大小写。</span><span class="sxs-lookup"><span data-stu-id="6fd20-128">The user name on the SAP system; this value is case sensitive.</span></span> <span data-ttu-id="6fd20-129">必须设置**AcceptCredentialsInUri**属性绑定到**true**连接 URI 中指定的用户名和密码。</span><span class="sxs-lookup"><span data-stu-id="6fd20-129">You must set the **AcceptCredentialsInUri** binding property to **true** to specify the user name and password in the connection URI.</span></span> <span data-ttu-id="6fd20-130">**注意：** [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]将保留在打开 SAP 系统上的连接时输入的用户名的值的大小写。</span><span class="sxs-lookup"><span data-stu-id="6fd20-130">**Note:**  The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] preserves the case of the value that you enter for the user name when it opens a connection on the SAP system.</span></span>                                                                                                                                                                                                             |
|  <span data-ttu-id="6fd20-131">Passwd</span><span class="sxs-lookup"><span data-stu-id="6fd20-131">Passwd</span></span>  |                                                                                                                                                                                                       <span data-ttu-id="6fd20-132">在 SAP 系统，则为用户的密码此值是区分大小写。</span><span class="sxs-lookup"><span data-stu-id="6fd20-132">The password for the user on the SAP system; this value is case sensitive.</span></span> <span data-ttu-id="6fd20-133">必须设置**AcceptCredentialsInUri**属性绑定到**true**连接 URI 中指定的用户名和密码。</span><span class="sxs-lookup"><span data-stu-id="6fd20-133">You must set the **AcceptCredentialsInUri** binding property to **true** to specify the user name and password in the connection URI.</span></span> <span data-ttu-id="6fd20-134">**注意：** [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]将保留在打开 SAP 系统上的连接时输入的密码值的大小写。</span><span class="sxs-lookup"><span data-stu-id="6fd20-134">**Note:**  The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] preserves the case of the value that you enter for the password when it opens a connection on the SAP system.</span></span>                                                                                                                                                                                                       |
|  <span data-ttu-id="6fd20-135">客户端</span><span class="sxs-lookup"><span data-stu-id="6fd20-135">Client</span></span>  |                                                                                                                                                                                                                                                                                                                                                                                                   <span data-ttu-id="6fd20-136">SAP 系统客户端 id。</span><span class="sxs-lookup"><span data-stu-id="6fd20-136">The SAP system client id.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="6fd20-137">语言</span><span class="sxs-lookup"><span data-stu-id="6fd20-137">Language</span></span> |                                                                                                                                                                                                                                                                                                                                                                                                           <span data-ttu-id="6fd20-138">语言。</span><span class="sxs-lookup"><span data-stu-id="6fd20-138">Language.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                           |
|  <span data-ttu-id="6fd20-139">UseSnc</span><span class="sxs-lookup"><span data-stu-id="6fd20-139">UseSnc</span></span>  | <span data-ttu-id="6fd20-140">可选参数，用于指定是否已启用 SAP 安全网络通信 (SNC)。</span><span class="sxs-lookup"><span data-stu-id="6fd20-140">Optional parameter that specifies whether SAP Secure Network Communications (SNC) is enabled.</span></span> <span data-ttu-id="6fd20-141">值可以是 True 或 False;如果为 True，则启用 SNC。</span><span class="sxs-lookup"><span data-stu-id="6fd20-141">The value can be True or False; if True, SNC is enabled.</span></span> <span data-ttu-id="6fd20-142">默认值为 False</span><span class="sxs-lookup"><span data-stu-id="6fd20-142">The default is False</span></span><br /><br /> <span data-ttu-id="6fd20-143">如果启用 SNC，还必须设置**SncPartnerName**并**SncLibrary**绑定属性。</span><span class="sxs-lookup"><span data-stu-id="6fd20-143">When you enable SNC, you must also set the **SncPartnerName** and **SncLibrary** binding properties.</span></span> <span data-ttu-id="6fd20-144">有关详细信息，请参阅[了解关于 BizTalk Adapter for mySAP Business Suite 绑定属性](../../adapters-and-accelerators/adapter-sap/read-about-biztalk-adapter-for-mysap-business-suite-binding-properties.md)。</span><span class="sxs-lookup"><span data-stu-id="6fd20-144">For more information, see [Read about BizTalk Adapter for mySAP Business Suite binding properties](../../adapters-and-accelerators/adapter-sap/read-about-biztalk-adapter-for-mysap-business-suite-binding-properties.md).</span></span><br /><br /> <span data-ttu-id="6fd20-145">如果启用 SNC 连接 URI 包含凭据，则适配器将引发异常。</span><span class="sxs-lookup"><span data-stu-id="6fd20-145">If SNC is enabled and the connection URI contains credentials, the adapter throws an exception.</span></span> <span data-ttu-id="6fd20-146">**注意：** UseSnc 连接参数是仅适用于连接类型 A 和 b。本主题稍后将详细介绍不同的连接类型和其重要性。</span><span class="sxs-lookup"><span data-stu-id="6fd20-146">**Note:**  UseSnc connection parameter is applicable only for connection types A and B. The different connection types and their significance is described in detail later in this topic.</span></span> |

> [!NOTE]
>  <span data-ttu-id="6fd20-147">必须在 SAP 连接 URI 中指定的客户端和语言。</span><span class="sxs-lookup"><span data-stu-id="6fd20-147">You must specify the Client and Language in the SAP connection URI.</span></span>  

 <span data-ttu-id="6fd20-148">[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]图面**AcceptCredentialsinUri**绑定属性，以便您可以控制是否可以连接 URI 中指定 SAP 系统凭据。</span><span class="sxs-lookup"><span data-stu-id="6fd20-148">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] surfaces the **AcceptCredentialsinUri** binding property so you can control whether SAP system credentials can be specified in the connection URI.</span></span> <span data-ttu-id="6fd20-149">这是因为凭据表示为纯文本形式的连接 URI，而这会带来固有的安全风险。</span><span class="sxs-lookup"><span data-stu-id="6fd20-149">This is because the credentials are represented as plain text in the connection URI and this poses an inherent security risk.</span></span> <span data-ttu-id="6fd20-150">默认情况下**AcceptCredentialsInUri**绑定属性为 false，并且该适配器将引发异常，如果在连接 URI 中指定凭据。</span><span class="sxs-lookup"><span data-stu-id="6fd20-150">By default, the **AcceptCredentialsInUri** binding property is false and the adapter throws an exception if credentials are specified in the connection URI.</span></span>  

 <span data-ttu-id="6fd20-151">某些情况下，它是需要在连接 URI; 中指定凭据例如，若要从 SAP 接收入站的操作系统时使用 WCF 服务模型或 WCF 通道模型。</span><span class="sxs-lookup"><span data-stu-id="6fd20-151">There are some scenarios in which it is necessary to specify credentials in the connection URI; for example, to receive the inbound operations from the SAP system when you use the WCF service model or the WCF channel model.</span></span> <span data-ttu-id="6fd20-152">可以设置**AcceptCredentialsInUri**属性设为 true，对于这种情况。</span><span class="sxs-lookup"><span data-stu-id="6fd20-152">You can set the **AcceptCredentialsInUri** property to true for these scenarios.</span></span> <span data-ttu-id="6fd20-153">它是最佳做法，但是，若要避免提供直接在连接 URI 中的凭据。</span><span class="sxs-lookup"><span data-stu-id="6fd20-153">It is a best practice, however, to avoid providing credentials directly in the connection URI.</span></span> <span data-ttu-id="6fd20-154">有关如何更安全地提供 SAP 连接的凭据的详细信息，请参阅[保护 SAP 应用程序](../../adapters-and-accelerators/adapter-sap/secure-your-sap-applications.md)。</span><span class="sxs-lookup"><span data-stu-id="6fd20-154">For more information about how to more securely provide credentials for the SAP connection, see [Secure your SAP applications](../../adapters-and-accelerators/adapter-sap/secure-your-sap-applications.md).</span></span>  

> [!IMPORTANT]
>  <span data-ttu-id="6fd20-155">如果通过 UseSnc 参数设置为 true，来启用安全网络通信 (SNC)，适配器将引发异常。</span><span class="sxs-lookup"><span data-stu-id="6fd20-155">If you enable Secure Network Communications (SNC) by setting the UseSnc parameter to true, the adapter throws an exception.</span></span>  

### <a name="host-information-in-the-sap-connection-uri"></a><span data-ttu-id="6fd20-156">在 SAP 连接 URI 的主机信息</span><span class="sxs-lookup"><span data-stu-id="6fd20-156">Host Information in the SAP Connection URI</span></span>  
 <span data-ttu-id="6fd20-157">SAP 主机信息 (hostinfoparams) 由 SAP 连接 URI 中的下列元素： `connectiontype/conndetail1/conndetail2`。</span><span class="sxs-lookup"><span data-stu-id="6fd20-157">The SAP host information (hostinfoparams) is represented by the following elements in the SAP connection URI: `connectiontype/conndetail1/conndetail2`.</span></span> <span data-ttu-id="6fd20-158">这些参数指定有关客户端连接到 SAP 系统的详细信息。</span><span class="sxs-lookup"><span data-stu-id="6fd20-158">These parameters specify details about the client connection to the SAP system.</span></span> <span data-ttu-id="6fd20-159">有关 SAP 客户端连接以及到 SAP RFC 目标侦听器可以被指定 query_string 中建立的连接的详细信息的其他详细信息。</span><span class="sxs-lookup"><span data-stu-id="6fd20-159">Additional details about the SAP client connection as well as details that establish a connection as a listener to an SAP RFC destination can be specified in the query_string.</span></span> <span data-ttu-id="6fd20-160">[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] SAP 连接 URI 中支持以下客户端连接类型：</span><span class="sxs-lookup"><span data-stu-id="6fd20-160">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] supports the following client connection types in the SAP connection URI:</span></span>  

- <span data-ttu-id="6fd20-161">答：应用程序主机基于在其中连接 URI 指定通过该应用程序服务器的连接[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]连接到 SAP。</span><span class="sxs-lookup"><span data-stu-id="6fd20-161">A: An application-host based connection in which the connection URI specifies an application server through which the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] connects to SAP.</span></span>  

- <span data-ttu-id="6fd20-162">B:负载平衡的连接 URI 中指定了消息和服务器之间的连接[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]连接到 SAP。</span><span class="sxs-lookup"><span data-stu-id="6fd20-162">B: A load balanced connection in which the connection URI specifies a message server through which the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] connects to SAP.</span></span>  

- <span data-ttu-id="6fd20-163">D:一种基于目标的连接，在其中连接 URI 指定连接参数包含适用于 SAP 的 saprfc.ini 文件中的目标。</span><span class="sxs-lookup"><span data-stu-id="6fd20-163">D: A destination-based connection in which the connection URI specifies a destination in the saprfc.ini file that contains the connection parameters for SAP.</span></span>  

  > [!NOTE]
  > <span data-ttu-id="6fd20-164">连接类型 B 仅适用于发送端口。</span><span class="sxs-lookup"><span data-stu-id="6fd20-164">Connection Type B only applies to send ports.</span></span>  <span data-ttu-id="6fd20-165">在配置接收位置时，选择连接类型 A 或 d。</span><span class="sxs-lookup"><span data-stu-id="6fd20-165">When configuring a receive location, choose Connection Type A or D.</span></span>

  <span data-ttu-id="6fd20-166">下表介绍了如何在 SAP 连接 URI 中指定这些连接。</span><span class="sxs-lookup"><span data-stu-id="6fd20-166">The following table describes how these connections are specified in the SAP connection URI.</span></span>  

|<span data-ttu-id="6fd20-167">连接类型</span><span class="sxs-lookup"><span data-stu-id="6fd20-167">Connection Type</span></span>|<span data-ttu-id="6fd20-168">Conndetail1</span><span class="sxs-lookup"><span data-stu-id="6fd20-168">Conndetail1</span></span>|<span data-ttu-id="6fd20-169">Conndetail2</span><span class="sxs-lookup"><span data-stu-id="6fd20-169">Conndetail2</span></span>|<span data-ttu-id="6fd20-170">Description</span><span class="sxs-lookup"><span data-stu-id="6fd20-170">Description</span></span>|  
|---------------------|-----------------|-----------------|-----------------|  
|<span data-ttu-id="6fd20-171">A</span><span class="sxs-lookup"><span data-stu-id="6fd20-171">A</span></span>|<span data-ttu-id="6fd20-172">ASHOST （应用程序服务器主机）</span><span class="sxs-lookup"><span data-stu-id="6fd20-172">ASHOST (Application Server Host)</span></span>|<span data-ttu-id="6fd20-173">SYSNR （SAP 系统编号）</span><span class="sxs-lookup"><span data-stu-id="6fd20-173">SYSNR (SAP System Number)</span></span>|<span data-ttu-id="6fd20-174">指定应用程序基于主机的连接。</span><span class="sxs-lookup"><span data-stu-id="6fd20-174">Specifies an application host-based connection.</span></span> <span data-ttu-id="6fd20-175">对于应用程序基于主机的连接，可以 query_string 中指定一个可选网关主机和网关服务。</span><span class="sxs-lookup"><span data-stu-id="6fd20-175">For an application host-based connection, an optional Gateway Host and Gateway Service can be specified in the query_string.</span></span>|  
|<span data-ttu-id="6fd20-176">B</span><span class="sxs-lookup"><span data-stu-id="6fd20-176">B</span></span>|<span data-ttu-id="6fd20-177">MSHOST （消息服务器主机）</span><span class="sxs-lookup"><span data-stu-id="6fd20-177">MSHOST (Message Server Host)</span></span>|<span data-ttu-id="6fd20-178">R3NAME （SAP R3 名称）</span><span class="sxs-lookup"><span data-stu-id="6fd20-178">R3NAME (SAP R3 Name)</span></span>|<span data-ttu-id="6fd20-179">指定负载均衡通过消息服务器的连接。</span><span class="sxs-lookup"><span data-stu-id="6fd20-179">Specifies a load balancing connection through a message server.</span></span> <span data-ttu-id="6fd20-180">对于负载平衡连接，可以 query_string 中指定可选的服务器组和消息服务。</span><span class="sxs-lookup"><span data-stu-id="6fd20-180">For a load balancing connection, an optional server Group and Message Service can be specified in the query_string.</span></span>|  
|<span data-ttu-id="6fd20-181">D</span><span class="sxs-lookup"><span data-stu-id="6fd20-181">D</span></span>|<span data-ttu-id="6fd20-182">DEST （包含 saprfc.ini 文件中的连接参数的目标）</span><span class="sxs-lookup"><span data-stu-id="6fd20-182">DEST (Destination that contains the connection parameters in the saprfc.ini file)</span></span>|--|<span data-ttu-id="6fd20-183">指定基于目标的连接。</span><span class="sxs-lookup"><span data-stu-id="6fd20-183">Specifies a destination-based connection.</span></span> <span data-ttu-id="6fd20-184">SAP 连接参数包含在 saprfc.ini 文件中指定的目标。</span><span class="sxs-lookup"><span data-stu-id="6fd20-184">The SAP connection parameters are contained in the specified destination in the saprfc.ini file.</span></span> <span data-ttu-id="6fd20-185">在目标中，可以指定只有一个类型和 B 类型的连接。</span><span class="sxs-lookup"><span data-stu-id="6fd20-185">Only A-type and B-type connections can be specified in the destination.</span></span>|  

> [!NOTE]
>  <span data-ttu-id="6fd20-186">如果 saprfc.ini 文件中指定的连接值，请确保该文件位于同一文件夹作为.exe 访问文件或在所需的 SAP 系统的标准位置。</span><span class="sxs-lookup"><span data-stu-id="6fd20-186">If you specify connection values in the saprfc.ini file, make sure the file is located in the same folder as the .exe accessing the file or at a standard location as required by the SAP system.</span></span> <span data-ttu-id="6fd20-187">有关详细信息，请参阅 SAP 文档。</span><span class="sxs-lookup"><span data-stu-id="6fd20-187">For more information, see the SAP documentation.</span></span>  

### <a name="query-information-in-the-sap-connection-uri"></a><span data-ttu-id="6fd20-188">在 SAP 连接 URI 的查询信息</span><span class="sxs-lookup"><span data-stu-id="6fd20-188">Query Information in the SAP Connection URI</span></span>  
 <span data-ttu-id="6fd20-189">在 SAP 连接 URI 的查询信息 (query_string) 包含可以是包括在内，以指定下列各项的可选参数：</span><span class="sxs-lookup"><span data-stu-id="6fd20-189">The query information (query_string) in the SAP connection URI contains optional parameters that can be included to specify the following:</span></span>  

- <span data-ttu-id="6fd20-190">其他连接的应用程序基于主机的连接 (A) 的详细信息。</span><span class="sxs-lookup"><span data-stu-id="6fd20-190">Additional connection details for application host-based connections (A).</span></span>  

- <span data-ttu-id="6fd20-191">附加的连接详细信息的负载平衡连接 (B)。</span><span class="sxs-lookup"><span data-stu-id="6fd20-191">Additional connection details for load balancing connections (B).</span></span>  

- <span data-ttu-id="6fd20-192">指定通过该 SAP 系统可以发送 Rfc、 Trfc 和 Idoc 到 SAP 系统的 RFC 目标的侦听程序详细信息[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="6fd20-192">Listener details that specify an RFC Destination on the SAP system through which the SAP system can send RFCs, TRFCs, and IDocs to the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span></span>  

- <span data-ttu-id="6fd20-193">是否启用 SAP 安全网络通信 (SNC)。</span><span class="sxs-lookup"><span data-stu-id="6fd20-193">Whether to enable SAP Secure Network Communications (SNC).</span></span>  

- <span data-ttu-id="6fd20-194">指定调试配置的详细信息。</span><span class="sxs-lookup"><span data-stu-id="6fd20-194">Details that specify debugging configuration.</span></span>  

  <span data-ttu-id="6fd20-195">查询参数是可选的;但是，必须为指定侦听器的详细信息[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]为 RFC 服务器。</span><span class="sxs-lookup"><span data-stu-id="6fd20-195">Query parameters are optional; however, listener details must be specified for the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] to act as an RFC server.</span></span>  

  <span data-ttu-id="6fd20-196">下表描述了查询参数，并指示它们是有效的 SAP 连接类型。</span><span class="sxs-lookup"><span data-stu-id="6fd20-196">The following table describes the query parameters and indicates the SAP connection types for which they are valid.</span></span>  

|       <span data-ttu-id="6fd20-197">ReplTest1</span><span class="sxs-lookup"><span data-stu-id="6fd20-197">Value</span></span>       | <span data-ttu-id="6fd20-198">有效的连接类型</span><span class="sxs-lookup"><span data-stu-id="6fd20-198">Valid Connection Type</span></span> |                                                                                                                                                                                                                                    <span data-ttu-id="6fd20-199">Description</span><span class="sxs-lookup"><span data-stu-id="6fd20-199">Description</span></span>                                                                                                                                                                                                                                     |
|-------------------|-----------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|      <span data-ttu-id="6fd20-200">GwHost</span><span class="sxs-lookup"><span data-stu-id="6fd20-200">GwHost</span></span>       |           <span data-ttu-id="6fd20-201">A</span><span class="sxs-lookup"><span data-stu-id="6fd20-201">A</span></span>           |                                                                                                                                                                                              <span data-ttu-id="6fd20-202">在应用程序基于主机的连接中指定可选网关主机的名称。</span><span class="sxs-lookup"><span data-stu-id="6fd20-202">Specifies the name of an optional gateway host in an application host-based connection.</span></span>                                                                                                                                                                                               |
|      <span data-ttu-id="6fd20-203">GwServ</span><span class="sxs-lookup"><span data-stu-id="6fd20-203">GwServ</span></span>       |           <span data-ttu-id="6fd20-204">A</span><span class="sxs-lookup"><span data-stu-id="6fd20-204">A</span></span>           |                                                                                                                                                                                             <span data-ttu-id="6fd20-205">在应用程序基于主机的连接中指定可选网关服务的名称。</span><span class="sxs-lookup"><span data-stu-id="6fd20-205">Specifies the name of an optional gateway service in an application host-based connection.</span></span>                                                                                                                                                                                             |
|      <span data-ttu-id="6fd20-206">MsServ</span><span class="sxs-lookup"><span data-stu-id="6fd20-206">MsServ</span></span>       |           <span data-ttu-id="6fd20-207">B</span><span class="sxs-lookup"><span data-stu-id="6fd20-207">B</span></span>           |                                                                                                                                                                                                 <span data-ttu-id="6fd20-208">在负载平衡连接中指定可选的消息服务的名称。</span><span class="sxs-lookup"><span data-stu-id="6fd20-208">Specifies the name of an optional message service in a load balancing connection.</span></span>                                                                                                                                                                                                  |
|       <span data-ttu-id="6fd20-209">Group</span><span class="sxs-lookup"><span data-stu-id="6fd20-209">Group</span></span>       |           <span data-ttu-id="6fd20-210">B</span><span class="sxs-lookup"><span data-stu-id="6fd20-210">B</span></span>           |                                                                                                                                                                                                 <span data-ttu-id="6fd20-211">指定在负载平衡连接的应用程序服务器的可选组。</span><span class="sxs-lookup"><span data-stu-id="6fd20-211">Specifies an optional group of application servers in a load balancing connection.</span></span>                                                                                                                                                                                                 |
|   <span data-ttu-id="6fd20-212">ListenerDest</span><span class="sxs-lookup"><span data-stu-id="6fd20-212">ListenerDest</span></span>    |          <span data-ttu-id="6fd20-213">(R)</span><span class="sxs-lookup"><span data-stu-id="6fd20-213">(R)</span></span>          |                                                                                                                                                                      <span data-ttu-id="6fd20-214">Rfc 服务器连接中 saprfc.ini 文件中指定的可选目标。</span><span class="sxs-lookup"><span data-stu-id="6fd20-214">Specifies an optional destination in the saprfc.ini file in an rfc server connection.</span></span> <span data-ttu-id="6fd20-215">目标必须指定 R 类型连接。</span><span class="sxs-lookup"><span data-stu-id="6fd20-215">The destination must specify an R-type connection.</span></span>                                                                                                                                                                      |
|  <span data-ttu-id="6fd20-216">ListenerGwHost</span><span class="sxs-lookup"><span data-stu-id="6fd20-216">ListenerGwHost</span></span>   |          <span data-ttu-id="6fd20-217">(R)</span><span class="sxs-lookup"><span data-stu-id="6fd20-217">(R)</span></span>          |                                                                                      <span data-ttu-id="6fd20-218">指定 rfc 服务器连接的网关主机。</span><span class="sxs-lookup"><span data-stu-id="6fd20-218">Specifies the gateway host for an rfc server connection.</span></span> <span data-ttu-id="6fd20-219">此参数是可选的;但是，如果所需的 rfc 服务器连接和 LISTENERDEST 未指定或没有网关主机由 saprfc.ini 文件中的目标指定，LISTENERGWHOST 必须包含有效的网关主机。</span><span class="sxs-lookup"><span data-stu-id="6fd20-219">This parameter is optional; however, if an rfc server connection is desired and LISTENERDEST is not specified or no gateway host is specified by the destination in the saprfc.ini file, then LISTENERGWHOST must contain a valid gateway host.</span></span>                                                                                      |
|  <span data-ttu-id="6fd20-220">ListenerGwServ</span><span class="sxs-lookup"><span data-stu-id="6fd20-220">ListenerGwServ</span></span>   |          <span data-ttu-id="6fd20-221">(R)</span><span class="sxs-lookup"><span data-stu-id="6fd20-221">(R)</span></span>          |                                                                                 <span data-ttu-id="6fd20-222">指定 rfc 服务器连接的网关服务。</span><span class="sxs-lookup"><span data-stu-id="6fd20-222">Specifies the gateway service for an rfc server connection.</span></span> <span data-ttu-id="6fd20-223">此参数是可选的;但是，如果所需的 rfc 服务器连接和 LISTENERDEST 未指定或由 saprfc.ini 文件中的目标指定没有任何网关服务，然后 LISTENERGWSERV 必须包含有效的网关服务。</span><span class="sxs-lookup"><span data-stu-id="6fd20-223">This parameter is optional; however, if an rfc server connection is desired and LISTENERDEST is not specified or no gateway service is specified by the destination in the saprfc.ini file, then LISTENERGWSERV must contain a valid gateway service.</span></span>                                                                                  |
| <span data-ttu-id="6fd20-224">ListenerProgramId</span><span class="sxs-lookup"><span data-stu-id="6fd20-224">ListenerProgramId</span></span> |          <span data-ttu-id="6fd20-225">(R)</span><span class="sxs-lookup"><span data-stu-id="6fd20-225">(R)</span></span>          |                                                                                  <span data-ttu-id="6fd20-226">指定 rfc 服务器连接的程序 id。</span><span class="sxs-lookup"><span data-stu-id="6fd20-226">Specifies the program id for an rfc server connection.</span></span> <span data-ttu-id="6fd20-227">此参数是可选的;但是，如果所需的 rfc 服务器连接和 LISTENERDEST 未指定或由 saprfc.ini 文件中的目标指定没有任何网关服务，然后 LISTENERPROGRAMID 必须包含有效的网关服务。</span><span class="sxs-lookup"><span data-stu-id="6fd20-227">This parameter is optional; however, if an rfc server connection is desired and LISTENERDEST is not specified or no gateway service is specified by the destination in the saprfc.ini file, then LISTENERPROGRAMID must contain a valid gateway service.</span></span>                                                                                   |
|    <span data-ttu-id="6fd20-228">RfcSdkTrace</span><span class="sxs-lookup"><span data-stu-id="6fd20-228">RfcSdkTrace</span></span>    |          <span data-ttu-id="6fd20-229">All</span><span class="sxs-lookup"><span data-stu-id="6fd20-229">All</span></span>          | <span data-ttu-id="6fd20-230">可选参数，用于指定是否启用了 RFC 库跟踪。</span><span class="sxs-lookup"><span data-stu-id="6fd20-230">Optional parameter that specifies whether RFC library tracing is enabled.</span></span> <span data-ttu-id="6fd20-231">值可以是 True 或 False;如果为 True，则启用 RFC 库跟踪。</span><span class="sxs-lookup"><span data-stu-id="6fd20-231">The value can be True or False; if True, RFC Library tracing is enabled.</span></span> <span data-ttu-id="6fd20-232">默认值为 False。</span><span class="sxs-lookup"><span data-stu-id="6fd20-232">The default is False.</span></span><br /><br /> <span data-ttu-id="6fd20-233">情况下 RfcSdkTrace 参数启用的跟踪级别取决于 RFC_TRACE 环境变量。</span><span class="sxs-lookup"><span data-stu-id="6fd20-233">The level of tracing enabled by the RfcSdkTrace parameter depends upon the environment variable RFC_TRACE.</span></span><br /><br /> <span data-ttu-id="6fd20-234">-如果 RFC_TRACE 不存在，或者设置为 0，则启用最小的跟踪级别。</span><span class="sxs-lookup"><span data-stu-id="6fd20-234">-   If RFC_TRACE not present, or is set to 0, then the minimum level of tracing is enabled.</span></span><br /><span data-ttu-id="6fd20-235">-你可以将 RFC_TRACE 设置为 1 或 2，以增加的跟踪级别。</span><span class="sxs-lookup"><span data-stu-id="6fd20-235">-   You can set RFC_TRACE to 1 or 2 to increase the level of tracing.</span></span> |
|     <span data-ttu-id="6fd20-236">AbapDebug</span><span class="sxs-lookup"><span data-stu-id="6fd20-236">AbapDebug</span></span>     |          <span data-ttu-id="6fd20-237">All</span><span class="sxs-lookup"><span data-stu-id="6fd20-237">All</span></span>          |                                                                                             <span data-ttu-id="6fd20-238">可选参数，用于指定是否从调试 ABAP[!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)]已启用。</span><span class="sxs-lookup"><span data-stu-id="6fd20-238">Optional parameter that specifies whether ABAP debugging from [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)] is enabled.</span></span> <span data-ttu-id="6fd20-239">值可以是 True 或 False;如果为 True，则启用 ABAP 调试。</span><span class="sxs-lookup"><span data-stu-id="6fd20-239">The value can be True or False; if True, ABAP debugging is enabled.</span></span> <span data-ttu-id="6fd20-240">默认值为 False。</span><span class="sxs-lookup"><span data-stu-id="6fd20-240">The default is False.</span></span> <span data-ttu-id="6fd20-241">如果 AbapDebug 为 True，则打开 SAP GUI。</span><span class="sxs-lookup"><span data-stu-id="6fd20-241">If AbapDebug is True, the SAP GUI is opened.</span></span>                                                                                             |

 <span data-ttu-id="6fd20-242">在查询字符串参数是 SAP 参数，并由 SAP 定义它们的值。</span><span class="sxs-lookup"><span data-stu-id="6fd20-242">The parameters in the query string are SAP parameters and their values are defined by SAP.</span></span> <span data-ttu-id="6fd20-243">有关这些参数的详细信息，请参阅 SAP 文档。</span><span class="sxs-lookup"><span data-stu-id="6fd20-243">For more information about these parameters please see your SAP documentation.</span></span>  

 <span data-ttu-id="6fd20-244">下面显示了应用程序基于主机的连接的示例连接 URI:</span><span class="sxs-lookup"><span data-stu-id="6fd20-244">The following shows a sample connection URI for an application host-based connection:</span></span>  

```  
sap://Client=800;lang=EN@A/YourSAPHOST/00  
```  

## <a name="connection-uri-properties-in-the-configure-adapter-dialog-box"></a><span data-ttu-id="6fd20-245">中的连接 URI 属性配置适配器对话框</span><span class="sxs-lookup"><span data-stu-id="6fd20-245">Connection URI Properties in the Configure Adapter Dialog Box</span></span>  
 <span data-ttu-id="6fd20-246">当您连接到 SAP 系统[!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)]或[!INCLUDE[addadapterservreflong](../../includes/addadapterservreflong-md.md)]所设置的连接 URI 参数从**URI 属性**选项卡中**配置适配器**对话框。</span><span class="sxs-lookup"><span data-stu-id="6fd20-246">When you connect to the SAP system with the [!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)] or the [!INCLUDE[addadapterservreflong](../../includes/addadapterservreflong-md.md)] you set the connection URI parameters from the **URI Properties** tab in the **Configure Adapter** dialog box.</span></span> <span data-ttu-id="6fd20-247">下表显示了 URI 属性中的显示方式**URI 属性**工作表。</span><span class="sxs-lookup"><span data-stu-id="6fd20-247">The following table shows how the URI properties are displayed in the **URI Properties** sheet.</span></span> <span data-ttu-id="6fd20-248">（URI 属性按列出它们在 URI 属性表中显示的顺序组。）</span><span class="sxs-lookup"><span data-stu-id="6fd20-248">(The URI properties are listed by group in the order they appear in the URI Properties sheet.)</span></span>  

|<span data-ttu-id="6fd20-249">Category</span><span class="sxs-lookup"><span data-stu-id="6fd20-249">Category</span></span>|<span data-ttu-id="6fd20-250">URI 属性</span><span class="sxs-lookup"><span data-stu-id="6fd20-250">URI Property</span></span>|<span data-ttu-id="6fd20-251">URI 部分</span><span class="sxs-lookup"><span data-stu-id="6fd20-251">URI Part</span></span>|  
|--------------|------------------|--------------|  
|<span data-ttu-id="6fd20-252">应用程序服务器</span><span class="sxs-lookup"><span data-stu-id="6fd20-252">Application Server</span></span>|<span data-ttu-id="6fd20-253">应用程序服务器主机</span><span class="sxs-lookup"><span data-stu-id="6fd20-253">Application Server Host</span></span>|<span data-ttu-id="6fd20-254">Conndetail1 （主机信息连接类型 A）</span><span class="sxs-lookup"><span data-stu-id="6fd20-254">Conndetail1 (host information connection type A)</span></span>|  
|<span data-ttu-id="6fd20-255">应用程序服务器</span><span class="sxs-lookup"><span data-stu-id="6fd20-255">Application Server</span></span>|<span data-ttu-id="6fd20-256">网关主机</span><span class="sxs-lookup"><span data-stu-id="6fd20-256">Gateway Host</span></span>|<span data-ttu-id="6fd20-257">GwHost （查询字符串）</span><span class="sxs-lookup"><span data-stu-id="6fd20-257">GwHost (query string)</span></span>|  
|<span data-ttu-id="6fd20-258">应用程序服务器</span><span class="sxs-lookup"><span data-stu-id="6fd20-258">Application Server</span></span>|<span data-ttu-id="6fd20-259">网关服务</span><span class="sxs-lookup"><span data-stu-id="6fd20-259">Gateway Service</span></span>|<span data-ttu-id="6fd20-260">GwServ （查询字符串）</span><span class="sxs-lookup"><span data-stu-id="6fd20-260">GwServ (query string)</span></span>|  
|<span data-ttu-id="6fd20-261">应用程序服务器</span><span class="sxs-lookup"><span data-stu-id="6fd20-261">Application Server</span></span>|<span data-ttu-id="6fd20-262">系统编号</span><span class="sxs-lookup"><span data-stu-id="6fd20-262">System Number</span></span>|<span data-ttu-id="6fd20-263">Conndetail2 （主机信息连接类型 A）</span><span class="sxs-lookup"><span data-stu-id="6fd20-263">Conndetail2 (host information connection type A)</span></span>|  
|<span data-ttu-id="6fd20-264">目标</span><span class="sxs-lookup"><span data-stu-id="6fd20-264">Destination</span></span>|<span data-ttu-id="6fd20-265">目标名称</span><span class="sxs-lookup"><span data-stu-id="6fd20-265">Destination Name</span></span>|<span data-ttu-id="6fd20-266">Conndetail1 （主机信息连接类型为 D）</span><span class="sxs-lookup"><span data-stu-id="6fd20-266">Conndetail1 (host information connection type D)</span></span>|  
|<span data-ttu-id="6fd20-267">诊断</span><span class="sxs-lookup"><span data-stu-id="6fd20-267">Diagnostics</span></span>|<span data-ttu-id="6fd20-268">RFC 跟踪</span><span class="sxs-lookup"><span data-stu-id="6fd20-268">RFC Trace</span></span>|<span data-ttu-id="6fd20-269">RfcSdkTrace （查询字符串）</span><span class="sxs-lookup"><span data-stu-id="6fd20-269">RfcSdkTrace (query string)</span></span>|  
|<span data-ttu-id="6fd20-270">诊断</span><span class="sxs-lookup"><span data-stu-id="6fd20-270">Diagnostics</span></span>|<span data-ttu-id="6fd20-271">ABAP 调试</span><span class="sxs-lookup"><span data-stu-id="6fd20-271">ABAP Debug</span></span>|<span data-ttu-id="6fd20-272">AbapDebug （查询字符串）</span><span class="sxs-lookup"><span data-stu-id="6fd20-272">AbapDebug (query string)</span></span>|  
|<span data-ttu-id="6fd20-273">登录信息</span><span class="sxs-lookup"><span data-stu-id="6fd20-273">Login Information</span></span>|<span data-ttu-id="6fd20-274">客户端</span><span class="sxs-lookup"><span data-stu-id="6fd20-274">Client</span></span>|<span data-ttu-id="6fd20-275">客户端 (userinfoparams)</span><span class="sxs-lookup"><span data-stu-id="6fd20-275">Client (userinfoparams)</span></span>|  
|<span data-ttu-id="6fd20-276">登录信息</span><span class="sxs-lookup"><span data-stu-id="6fd20-276">Login Information</span></span>|<span data-ttu-id="6fd20-277">语言</span><span class="sxs-lookup"><span data-stu-id="6fd20-277">Language</span></span>|<span data-ttu-id="6fd20-278">语言 (userinfoparams)</span><span class="sxs-lookup"><span data-stu-id="6fd20-278">Language (userinfoparams)</span></span>|  
|<span data-ttu-id="6fd20-279">消息服务器</span><span class="sxs-lookup"><span data-stu-id="6fd20-279">Message Server</span></span>|<span data-ttu-id="6fd20-280">应用程序服务器组名称</span><span class="sxs-lookup"><span data-stu-id="6fd20-280">Application Server Group Name</span></span>|<span data-ttu-id="6fd20-281">组 （查询字符串）</span><span class="sxs-lookup"><span data-stu-id="6fd20-281">Group (query string)</span></span>|  
|<span data-ttu-id="6fd20-282">消息服务器</span><span class="sxs-lookup"><span data-stu-id="6fd20-282">Message Server</span></span>|<span data-ttu-id="6fd20-283">消息服务器主机</span><span class="sxs-lookup"><span data-stu-id="6fd20-283">Message Server Host</span></span>|<span data-ttu-id="6fd20-284">Conndetail1 （主机信息连接类型 B）</span><span class="sxs-lookup"><span data-stu-id="6fd20-284">Conndetail1 (host information connection type B)</span></span>|  
|<span data-ttu-id="6fd20-285">消息服务器</span><span class="sxs-lookup"><span data-stu-id="6fd20-285">Message Server</span></span>|<span data-ttu-id="6fd20-286">消息服务器服务</span><span class="sxs-lookup"><span data-stu-id="6fd20-286">Message Server Service</span></span>|<span data-ttu-id="6fd20-287">MsServ （查询字符串）</span><span class="sxs-lookup"><span data-stu-id="6fd20-287">MsServ (query string)</span></span>|  
|<span data-ttu-id="6fd20-288">消息服务器</span><span class="sxs-lookup"><span data-stu-id="6fd20-288">Message Server</span></span>|<span data-ttu-id="6fd20-289">R/3 系统名称</span><span class="sxs-lookup"><span data-stu-id="6fd20-289">R/3 System Name</span></span>|<span data-ttu-id="6fd20-290">Conndetail2 （主机信息连接类型 B）</span><span class="sxs-lookup"><span data-stu-id="6fd20-290">Conndetail2 (host information connection type B)</span></span>|  
|<span data-ttu-id="6fd20-291">杂项</span><span class="sxs-lookup"><span data-stu-id="6fd20-291">Misc</span></span>|<span data-ttu-id="6fd20-292">连接类型</span><span class="sxs-lookup"><span data-stu-id="6fd20-292">Connection Type</span></span>|<span data-ttu-id="6fd20-293">连接类型 (主机信息：A、 B 或 D）</span><span class="sxs-lookup"><span data-stu-id="6fd20-293">Connection Type (host information: A, B, or D)</span></span>|  
|<span data-ttu-id="6fd20-294">RFC 服务器</span><span class="sxs-lookup"><span data-stu-id="6fd20-294">RFC Server</span></span>|<span data-ttu-id="6fd20-295">目标名称</span><span class="sxs-lookup"><span data-stu-id="6fd20-295">Destination Name</span></span>|<span data-ttu-id="6fd20-296">ListenerDest （查询字符串）</span><span class="sxs-lookup"><span data-stu-id="6fd20-296">ListenerDest (query string)</span></span>|  
|<span data-ttu-id="6fd20-297">RFC 服务器</span><span class="sxs-lookup"><span data-stu-id="6fd20-297">RFC Server</span></span>|<span data-ttu-id="6fd20-298">网关主机</span><span class="sxs-lookup"><span data-stu-id="6fd20-298">Gateway Host</span></span>|<span data-ttu-id="6fd20-299">ListenerGwHost （查询字符串）</span><span class="sxs-lookup"><span data-stu-id="6fd20-299">ListenerGwHost (query string)</span></span>|  
|<span data-ttu-id="6fd20-300">RFC 服务器</span><span class="sxs-lookup"><span data-stu-id="6fd20-300">RFC Server</span></span>|<span data-ttu-id="6fd20-301">网关服务</span><span class="sxs-lookup"><span data-stu-id="6fd20-301">Gateway Service</span></span>|<span data-ttu-id="6fd20-302">ListenerGwServ （查询字符串）</span><span class="sxs-lookup"><span data-stu-id="6fd20-302">ListenerGwServ (query string)</span></span>|  
|<span data-ttu-id="6fd20-303">RFC 服务器</span><span class="sxs-lookup"><span data-stu-id="6fd20-303">RFC Server</span></span>|<span data-ttu-id="6fd20-304">程序 Id</span><span class="sxs-lookup"><span data-stu-id="6fd20-304">Program Id</span></span>|<span data-ttu-id="6fd20-305">ListenerProgramId （查询字符串）</span><span class="sxs-lookup"><span data-stu-id="6fd20-305">ListenerProgramId (query string)</span></span>|  
|<span data-ttu-id="6fd20-306">SNC</span><span class="sxs-lookup"><span data-stu-id="6fd20-306">SNC</span></span>|<span data-ttu-id="6fd20-307">UseSnc</span><span class="sxs-lookup"><span data-stu-id="6fd20-307">UseSnc</span></span>|<span data-ttu-id="6fd20-308">UseSnc （用户信息）</span><span class="sxs-lookup"><span data-stu-id="6fd20-308">UseSnc (user info)</span></span>|  

## <a name="how-to-specify-a-connection-uri-for-rfc-server-connections"></a><span data-ttu-id="6fd20-309">如何为 RFC 服务器连接中指定连接 URI。</span><span class="sxs-lookup"><span data-stu-id="6fd20-309">How to specify a Connection URI for RFC Server Connections.</span></span>  
 <span data-ttu-id="6fd20-310">若要创建通过该终结点地址[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]可以作为 RFC 服务器，则必须指定 SAP 程序 id、 SAP 网关主机，并与 SAP 系统上的 RFC 目标相对应的 SAP 网关服务。</span><span class="sxs-lookup"><span data-stu-id="6fd20-310">To create an endpoint address through which the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] can act as an RFC server, you must specify a SAP program id, a SAP gateway host, and a SAP gateway service that correspond to an RFC destination on the SAP system.</span></span> <span data-ttu-id="6fd20-311">有关如何设置上 SAP 的 RFC 目标的信息，请参阅[创建 RFC 和 RFC 目标发送来自 SAP RFC](creating-an-rfc-in-an-sap-system.md)。</span><span class="sxs-lookup"><span data-stu-id="6fd20-311">For information about how to setup an RFC destination on SAP, see [Create an RFC, RFC destination, and send an RFC from SAP](creating-an-rfc-in-an-sap-system.md).</span></span>  

 <span data-ttu-id="6fd20-312">可以在连接中两种方式之一的 URI 中指定的程序 id、 网关主机和网关服务：</span><span class="sxs-lookup"><span data-stu-id="6fd20-312">You can specify the program id, gateway host, and gateway service in the connection URI in one of two ways:</span></span>  

-   <span data-ttu-id="6fd20-313">通过设置 ListenerGwHost、 ListenerGwServ 和 ListenerProgramId 查询参数</span><span class="sxs-lookup"><span data-stu-id="6fd20-313">by setting the ListenerGwHost, ListenerGwServ, and ListenerProgramId query parameters</span></span>  

-   <span data-ttu-id="6fd20-314">通过 ListenerDest 查询参数设置为 saprfc.ini 文件中的目标的指定 R 类型连接。</span><span class="sxs-lookup"><span data-stu-id="6fd20-314">by setting the ListenerDest query parameter to a destination in the saprfc.ini file that specifies an R-type connection.</span></span>  

> [!NOTE]
>  <span data-ttu-id="6fd20-315">如果 saprfc.ini 文件中指定的连接值，请确保该文件驻留在与访问该文件的.exe 相同的位置或所需的 SAP 系统的标准位置。</span><span class="sxs-lookup"><span data-stu-id="6fd20-315">If you specify connection values in the saprfc.ini file, make sure the file resides at the same location as the .exe accessing the file or at a standard location as required by the SAP system.</span></span> <span data-ttu-id="6fd20-316">有关详细信息，请参阅 SAP 文档。</span><span class="sxs-lookup"><span data-stu-id="6fd20-316">For more information, see the SAP documentation.</span></span>  

 <span data-ttu-id="6fd20-317">若要指定是 RFC 服务器连接的连接 URI，请使用查询字符串，如以下示例所示中指定的 RFC 目标指定常规客户端连接：</span><span class="sxs-lookup"><span data-stu-id="6fd20-317">To specify a connection URI for an RFC server connection, you specify a regular client connection with an RFC destination specified in the query string, as in the following example:</span></span>  

```  
sap://Client=800;lang=EN@A/YourSAPHOST/00?ListenerGwHost=YourSAPHOST&ListenerGwServ=SAPGW00&ListenerProgramId=MyProgramId  
```  

 <span data-ttu-id="6fd20-318">[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]使用中的连接 URI 的 userinfoparams 和 hostinfoparams 一部分包含的信息来检索元数据从 SAP 系统并使用查询字符串中的侦听器参数提供的信息将自己注册为在 SAP RFC 目标的侦听器。</span><span class="sxs-lookup"><span data-stu-id="6fd20-318">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] uses the information contained in the userinfoparams and hostinfoparams part of the connection URI to retrieve metadata from the SAP system and uses the information provided by the Listener parameters in the query string to register itself as a listener at the SAP RFC Destination.</span></span>  

## <a name="using-reserved-characters-in-the-connection-uri"></a><span data-ttu-id="6fd20-319">在连接 URI 中使用保留的字符</span><span class="sxs-lookup"><span data-stu-id="6fd20-319">Using Reserved Characters in the Connection URI</span></span>  
 <span data-ttu-id="6fd20-320">[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]不支持指定连接 URI，其中含有特殊字符的任何参数值。</span><span class="sxs-lookup"><span data-stu-id="6fd20-320">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] does not support specifying a connection URI that has special characters for any of the parameter values.</span></span> <span data-ttu-id="6fd20-321">如果连接参数值包含特殊字符，请确保执行下列任一操作：</span><span class="sxs-lookup"><span data-stu-id="6fd20-321">If the connection parameter values contain special characters, make sure you do one of the following:</span></span>  

- <span data-ttu-id="6fd20-322">如果在指定的 URI 中[!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)]使用[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]或[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]，则必须指定其作为-处于**URI 属性**选项卡上，即，而无需使用任何转义符。</span><span class="sxs-lookup"><span data-stu-id="6fd20-322">If you are specifying the URI in [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)] using [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] or [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], you must specify them as-is in the **URI Properties** tab, that is, without using any escape characters.</span></span> <span data-ttu-id="6fd20-323">如果指定的 URI 中直接**配置 URI**字段和连接参数包含保留的字符，则必须指定连接参数使用正确的转义字符。</span><span class="sxs-lookup"><span data-stu-id="6fd20-323">If you specify the URI directly in the **Configure a URI** field and the connection parameters contain reserved characters, you must specify the connection parameters using proper escape characters.</span></span>  

- <span data-ttu-id="6fd20-324">如果创建一个发送时指定的 URI 或接收端口中的[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]管理控制台中和连接参数包含保留的字符，则必须指定连接参数使用正确的转义字符。</span><span class="sxs-lookup"><span data-stu-id="6fd20-324">If you are specifying the URI while creating a send or receive port in [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console, and the connection parameters contain reserved characters, you must specify the connection parameters using proper escape characters.</span></span>  

## <a name="using-the-connection-uri-to-connect-to-the-sap-system"></a><span data-ttu-id="6fd20-325">用于连接到 SAP 系统连接 URI</span><span class="sxs-lookup"><span data-stu-id="6fd20-325">Using the Connection URI to Connect to the SAP System</span></span>  
 <span data-ttu-id="6fd20-326">有关如何建立到 SAP 系统的连接信息时您：</span><span class="sxs-lookup"><span data-stu-id="6fd20-326">For information about how to establish a connection to the SAP system when you:</span></span>  

- <span data-ttu-id="6fd20-327">使用[!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)]或[!INCLUDE[addadapterservreflong](../../includes/addadapterservreflong-md.md)]，请参阅[连接到 Visual Studio 中的 SAP 系统](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md)。</span><span class="sxs-lookup"><span data-stu-id="6fd20-327">Use the [!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)] or the [!INCLUDE[addadapterservreflong](../../includes/addadapterservreflong-md.md)], see [Connect to the SAP System in Visual Studio](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md).</span></span>  

- <span data-ttu-id="6fd20-328">配置发送端口或接收端口 （位置） 中[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]解决方案，请参阅[手动配置到 SAP 适配器的物理端口绑定](../../adapters-and-accelerators/adapter-sap/manually-configure-a-physical-port-binding-to-the-sap-adapter.md)。</span><span class="sxs-lookup"><span data-stu-id="6fd20-328">Configure a send port or receive port (location) in a [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] solution, see [Manually configure a physical port binding to the SAP adapter](../../adapters-and-accelerators/adapter-sap/manually-configure-a-physical-port-binding-to-the-sap-adapter.md).</span></span>  

- <span data-ttu-id="6fd20-329">编程解决方案中使用 WCF 通道模型，请参阅[创建一个通道，使用 SAP](../../adapters-and-accelerators/adapter-sap/create-a-channel-using-sap.md)。</span><span class="sxs-lookup"><span data-stu-id="6fd20-329">Use the WCF channel model in a programming solution, see [Create a channel using SAP](../../adapters-and-accelerators/adapter-sap/create-a-channel-using-sap.md).</span></span>  

- <span data-ttu-id="6fd20-330">编程解决方案中使用 WCF 服务模型，请参阅[配置客户端 SAP 系统的绑定](../../adapters-and-accelerators/adapter-sap/configure-a-client-binding-for-the-sap-system.md)。</span><span class="sxs-lookup"><span data-stu-id="6fd20-330">Use the WCF service model in a programming solution, see [Configure a client binding for the SAP system](../../adapters-and-accelerators/adapter-sap/configure-a-client-binding-for-the-sap-system.md).</span></span>  

- <span data-ttu-id="6fd20-331">使用 WCF ServiceModel Metadata Utility Tool (svcutil.exe)，请参阅[用于 mySAP Business Suite 的 BizTalk 适配器使用 ServiceModel Metadata Utility Tool](../../adapters-and-accelerators/adapter-sap/use-the-servicemodel-metadata-utility-with-the-sap-adapter-in-biztalk.md)。</span><span class="sxs-lookup"><span data-stu-id="6fd20-331">Use the WCF ServiceModel Metadata Utility Tool (svcutil.exe), see [Using the ServiceModel Metadata Utility Tool with the BizTalk Adapter for mySAP Business Suite](../../adapters-and-accelerators/adapter-sap/use-the-servicemodel-metadata-utility-with-the-sap-adapter-in-biztalk.md).</span></span>  

## <a name="see-also"></a><span data-ttu-id="6fd20-332">请参阅</span><span class="sxs-lookup"><span data-stu-id="6fd20-332">See Also</span></span>  
 [<span data-ttu-id="6fd20-333">创建指向 SAP 系统的连接</span><span class="sxs-lookup"><span data-stu-id="6fd20-333">Create a connection to the SAP system</span></span>](../../adapters-and-accelerators/adapter-sap/create-a-connection-to-the-sap-system.md)