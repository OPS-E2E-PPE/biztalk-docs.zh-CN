---
title: 流式处理 Oracle 数据库适配器中的大型对象数据类型 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- streaming, support in the WCF service model
- streaming, support for
- streaming, support in BizTalk Server
- streaming, support in the WCF channel model
ms.assetid: c6cbe870-6794-4bf1-90c1-db65a242e8fe
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: af0e81c5e2430dad50090637069713680c900d13
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/27/2018
ms.locfileid: "36994110"
---
# <a name="streaming-large-object-data-types-in-oracle-database-adapter"></a><span data-ttu-id="bda0d-102">Oracle 数据库适配器中的流式处理大型对象数据类型</span><span class="sxs-lookup"><span data-stu-id="bda0d-102">Streaming large object data types in Oracle Database adapter</span></span>
<span data-ttu-id="bda0d-103">[!INCLUDE[adapteroracle](../../includes/adapteroracle-md.md)]支持 Oracle 大型对象 (LOB) 数据类型的流式处理。</span><span class="sxs-lookup"><span data-stu-id="bda0d-103">The [!INCLUDE[adapteroracle](../../includes/adapteroracle-md.md)] supports streaming for Oracle large object (LOB) data types.</span></span> <span data-ttu-id="bda0d-104">使用[!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)]调用操作和通过交换 SOAP 消息返回响应。</span><span class="sxs-lookup"><span data-stu-id="bda0d-104">With the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] operations are invoked and responses are returned by exchanging SOAP messages.</span></span> <span data-ttu-id="bda0d-105">SOAP 消息正文组成的 XML 节点。</span><span class="sxs-lookup"><span data-stu-id="bda0d-105">A SOAP message body is composed of XML nodes.</span></span>  
  
 <span data-ttu-id="bda0d-106">有两种类型的消息流处理的适配器支持：</span><span class="sxs-lookup"><span data-stu-id="bda0d-106">There are two kinds of message streaming that are supported by the adapter:</span></span>  
  
- <span data-ttu-id="bda0d-107">**节点流**。</span><span class="sxs-lookup"><span data-stu-id="bda0d-107">**Node streaming**.</span></span> <span data-ttu-id="bda0d-108">在节点流式处理的每个节点是缓冲的适配器，发送到 Oracle 数据库之前 （或返回到客户端）。</span><span class="sxs-lookup"><span data-stu-id="bda0d-108">In node streaming each node is buffered by the adapter before it is sent to the Oracle database (or returned to the client).</span></span> <span data-ttu-id="bda0d-109">这意味着，对于 LOB 数据类型，整个值读取到缓冲区。</span><span class="sxs-lookup"><span data-stu-id="bda0d-109">This means that, for an LOB data type, the entire value is read into a buffer.</span></span>  
  
- <span data-ttu-id="bda0d-110">**节点值流式处理**。</span><span class="sxs-lookup"><span data-stu-id="bda0d-110">**Node-value streaming**.</span></span> <span data-ttu-id="bda0d-111">在节点值流式处理节点的实际值可以进行流式处理 Oracle 数据库和客户端之间的块区中。</span><span class="sxs-lookup"><span data-stu-id="bda0d-111">In node-value streaming the actual value of the node can be streamed in chunks between the Oracle database and the client.</span></span> <span data-ttu-id="bda0d-112">节点值流式处理支持端到端的流式处理的 Oracle 数据库适配器客户端之间的 LOB 数据类型。</span><span class="sxs-lookup"><span data-stu-id="bda0d-112">Node-value streaming supports end-to-end streaming of LOB data types between the adapter client and the Oracle database.</span></span>  
  
  <span data-ttu-id="bda0d-113">这两种流式处理模式依赖于支持流式处理的节点和节点值在 WCF 中消息流处理。</span><span class="sxs-lookup"><span data-stu-id="bda0d-113">Both of these streaming modes rely on support for node streaming and node-value streaming on messages in WCF.</span></span> <span data-ttu-id="bda0d-114">出于此原因，LOB 类型的流式处理被密切关系到如何创建和使用适配器和客户端应用程序消息。</span><span class="sxs-lookup"><span data-stu-id="bda0d-114">For this reason, streaming for LOB types is tied closely to how messages are created and consumed both by the adapter and by a client application.</span></span> <span data-ttu-id="bda0d-115">结果之一就是，流式处理 LOB 类型不支持相同跨所有编程模型。</span><span class="sxs-lookup"><span data-stu-id="bda0d-115">One result of this is that support for streaming LOB types is not the same across all programming models.</span></span>  
  
  <span data-ttu-id="bda0d-116">本主题中的部分提供：</span><span class="sxs-lookup"><span data-stu-id="bda0d-116">The sections in this topic provide:</span></span>  
  
- <span data-ttu-id="bda0d-117">有关如何流式处理的消息在 WCF 中支持和如何实现适配器的基本背景信息。</span><span class="sxs-lookup"><span data-stu-id="bda0d-117">Fundamental background information about how message streaming is supported in WCF and how it is implemented by the adapter.</span></span>  
  
- <span data-ttu-id="bda0d-118">有关如何流式处理 LOB 数据类型时，才支持每个编程模型中使用适配器的信息。</span><span class="sxs-lookup"><span data-stu-id="bda0d-118">Information about how streaming for LOB data types is supported when you use the adapter in each programming model.</span></span>  
  
## <a name="streaming-fundamentals"></a><span data-ttu-id="bda0d-119">流式处理的基础知识</span><span class="sxs-lookup"><span data-stu-id="bda0d-119">Streaming Fundamentals</span></span>  
 <span data-ttu-id="bda0d-120">流式处理由实现支持[!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)]组成：</span><span class="sxs-lookup"><span data-stu-id="bda0d-120">The support for streaming implemented by the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] is a combination of:</span></span>  
  
-   <span data-ttu-id="bda0d-121">在 WCF 消息流式处理支持。</span><span class="sxs-lookup"><span data-stu-id="bda0d-121">Message streaming support in WCF.</span></span>  
  
-   <span data-ttu-id="bda0d-122">Oracle 客户端库 (ODP.NET) 中的流式处理支持。</span><span class="sxs-lookup"><span data-stu-id="bda0d-122">Streaming support in the Oracle client library (ODP.NET).</span></span>  
  
-   <span data-ttu-id="bda0d-123">双向消息创建，并在内部使用的适配器。</span><span class="sxs-lookup"><span data-stu-id="bda0d-123">The way messages are created and consumed internally by the adapter.</span></span>  
  
### <a name="message-streaming-support-in-wcf"></a><span data-ttu-id="bda0d-124">WCF 中的消息流支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-124">Message Streaming Support in WCF</span></span>  
 <span data-ttu-id="bda0d-125">WCF 如何支持流式处理的消息取决于如何创建的消息和消息的使用方式。</span><span class="sxs-lookup"><span data-stu-id="bda0d-125">How WCF supports streaming on a message depends both on how the message is created and how the message is consumed.</span></span>  
  
- <span data-ttu-id="bda0d-126">WCF 消息创建使用静态**创建**方法**System.ServiceModel.Channels.Message**。</span><span class="sxs-lookup"><span data-stu-id="bda0d-126">A WCF message is created by using the static **Create** method of **System.ServiceModel.Channels.Message**.</span></span> <span data-ttu-id="bda0d-127">此方法有若干重载，支持不同的方法来传递消息正文。</span><span class="sxs-lookup"><span data-stu-id="bda0d-127">This method has several overloads that support different ways of passing the message body.</span></span> <span data-ttu-id="bda0d-128">可以通过传递消息的正文使用创建 WCF 消息：</span><span class="sxs-lookup"><span data-stu-id="bda0d-128">A WCF message can be created by passing the message body using:</span></span>  
  
  -   <span data-ttu-id="bda0d-129">一个**System.Xml.XmlReader**，或</span><span class="sxs-lookup"><span data-stu-id="bda0d-129">A **System.Xml.XmlReader**, or</span></span>  
  
  -   <span data-ttu-id="bda0d-130">一个**System.ServiceModel.Channels.BodyWriter**。</span><span class="sxs-lookup"><span data-stu-id="bda0d-130">A **System.ServiceModel.Channels.BodyWriter**.</span></span>  
  
- <span data-ttu-id="bda0d-131">可以使用已使用 WCF 消息</span><span class="sxs-lookup"><span data-stu-id="bda0d-131">A WCF message can be consumed using</span></span>  
  
  -   <span data-ttu-id="bda0d-132">**XmlReader**通过调用**Message.GetReaderAtBodyContents()**，或</span><span class="sxs-lookup"><span data-stu-id="bda0d-132">An **XmlReader** by calling **Message.GetReaderAtBodyContents()**, or</span></span>  
  
  -   <span data-ttu-id="bda0d-133">**XmlDictionaryWriter**通过调用**Message.WriteBodyContents(XmlDictionaryWriter)**。</span><span class="sxs-lookup"><span data-stu-id="bda0d-133">An **XmlDictionaryWriter** by calling **Message.WriteBodyContents(XmlDictionaryWriter)**.</span></span>  
  
  <span data-ttu-id="bda0d-134">下表显示了 WCF 创建和使用消息的不同组合的行为方式。</span><span class="sxs-lookup"><span data-stu-id="bda0d-134">The following table shows how WCF behaves for different combinations of creating and consuming messages.</span></span>  
  
|<span data-ttu-id="bda0d-135">使用创建的消息</span><span class="sxs-lookup"><span data-stu-id="bda0d-135">Message Created With</span></span>|<span data-ttu-id="bda0d-136">使用的消息</span><span class="sxs-lookup"><span data-stu-id="bda0d-136">Message Consumed With</span></span>|<span data-ttu-id="bda0d-137">WCF 行为</span><span class="sxs-lookup"><span data-stu-id="bda0d-137">WCF Behavior</span></span>|  
|--------------------------|---------------------------|------------------|  
|<span data-ttu-id="bda0d-138">**XmlBodyWriter**</span><span class="sxs-lookup"><span data-stu-id="bda0d-138">**XmlBodyWriter**</span></span>|<span data-ttu-id="bda0d-139">**XmlDictionaryWriter**</span><span class="sxs-lookup"><span data-stu-id="bda0d-139">**XmlDictionaryWriter**</span></span>|<span data-ttu-id="bda0d-140">**节点值流式处理**支持。</span><span class="sxs-lookup"><span data-stu-id="bda0d-140">**Node-value streaming** is supported.</span></span> <span data-ttu-id="bda0d-141">WCF 通过管道传递两个编写器组合起来以实现流式处理。</span><span class="sxs-lookup"><span data-stu-id="bda0d-141">WCF pipes the two writers together to enable streaming.</span></span> <span data-ttu-id="bda0d-142">这两个**XmlBodyWriter**并**XmlDictionaryWriter**必须支持节点值为其发生流式处理。</span><span class="sxs-lookup"><span data-stu-id="bda0d-142">Both the **XmlBodyWriter** and the **XmlDictionaryWriter** must support node-value streaming for it to occur.</span></span>|  
|<span data-ttu-id="bda0d-143">**XmlBodyWriter**</span><span class="sxs-lookup"><span data-stu-id="bda0d-143">**XmlBodyWriter**</span></span>|<span data-ttu-id="bda0d-144">**XmlReader**</span><span class="sxs-lookup"><span data-stu-id="bda0d-144">**XmlReader**</span></span>|<span data-ttu-id="bda0d-145">**节点流**支持。</span><span class="sxs-lookup"><span data-stu-id="bda0d-145">**Node streaming** is supported.</span></span> <span data-ttu-id="bda0d-146">WCF 在内部缓冲**XmlReader**。</span><span class="sxs-lookup"><span data-stu-id="bda0d-146">WCF internally buffers the **XmlReader**.</span></span>|  
|<span data-ttu-id="bda0d-147">**XmlReader**</span><span class="sxs-lookup"><span data-stu-id="bda0d-147">**XmlReader**</span></span>|<span data-ttu-id="bda0d-148">**XmlDictionaryWriter**</span><span class="sxs-lookup"><span data-stu-id="bda0d-148">**XmlDictionaryWriter**</span></span>|<span data-ttu-id="bda0d-149">**节点流**支持。</span><span class="sxs-lookup"><span data-stu-id="bda0d-149">**Node streaming** is supported.</span></span> <span data-ttu-id="bda0d-150">WCF 在内部缓冲**XmlReader** ，并返回到调用**XmlDictionaryWriter**。</span><span class="sxs-lookup"><span data-stu-id="bda0d-150">WCF internally buffers the **XmlReader** and calls back into the **XmlDictionaryWriter**.</span></span>|  
|<span data-ttu-id="bda0d-151">**XmlReader**</span><span class="sxs-lookup"><span data-stu-id="bda0d-151">**XmlReader**</span></span>|<span data-ttu-id="bda0d-152">**XmlReader**</span><span class="sxs-lookup"><span data-stu-id="bda0d-152">**XmlReader**</span></span>|<span data-ttu-id="bda0d-153">**节点流**支持。</span><span class="sxs-lookup"><span data-stu-id="bda0d-153">**Node streaming** is supported.</span></span> <span data-ttu-id="bda0d-154">WCF 在内部缓冲**XmlReader**。</span><span class="sxs-lookup"><span data-stu-id="bda0d-154">WCF internally buffers the **XmlReader**.</span></span>|  
  
### <a name="streaming-support-in-the-oracle-client-library-odpnet"></a><span data-ttu-id="bda0d-155">Oracle 客户端库 (ODP.NET) 中的流式处理支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-155">Streaming Support in the Oracle Client Library (ODP.NET)</span></span>  
 <span data-ttu-id="bda0d-156">ODP.NET 支持流式处理按以下方式：</span><span class="sxs-lookup"><span data-stu-id="bda0d-156">ODP.NET supports streaming in the following manner:</span></span>  
  
-   <span data-ttu-id="bda0d-157">仅在 Oracle LOB 数据类型支持流式处理。</span><span class="sxs-lookup"><span data-stu-id="bda0d-157">Streaming is supported only on Oracle LOB data types.</span></span>  
  
-   <span data-ttu-id="bda0d-158">对于某些表 （和视图） 的操作，LOB 数据类型进行缓冲处理。</span><span class="sxs-lookup"><span data-stu-id="bda0d-158">For some table (and view) operations, LOB data types are buffered.</span></span> <span data-ttu-id="bda0d-159">因此，支持任何流式处理。</span><span class="sxs-lookup"><span data-stu-id="bda0d-159">Therefore, no streaming is supported.</span></span>  
  
### <a name="internal-message-handling-by-the-adapter"></a><span data-ttu-id="bda0d-160">内部消息处理由适配器</span><span class="sxs-lookup"><span data-stu-id="bda0d-160">Internal Message Handling by the Adapter</span></span>  
 <span data-ttu-id="bda0d-161">适配器支持流式处理按以下方式：</span><span class="sxs-lookup"><span data-stu-id="bda0d-161">The adapter supports streaming in the following manner:</span></span>  
  
-   <span data-ttu-id="bda0d-162">该适配器扩展了**消息**若要实现自定义消息类**Microsoft.Adapters.AdapterUtilities.AdapterMessage**。</span><span class="sxs-lookup"><span data-stu-id="bda0d-162">The adapter extends **Message** to implement a custom message class, **Microsoft.Adapters.AdapterUtilities.AdapterMessage**.</span></span> <span data-ttu-id="bda0d-163">它会创建**AdapterMessage**对于所有 WCF 都消息提供给适配器客户端; 这包括所有出站操作的响应都消息和 POLLINGSTMT 操作的请求消息。</span><span class="sxs-lookup"><span data-stu-id="bda0d-163">It creates an **AdapterMessage** for all WCF messages that it provides to the adapter client; this includes the response messages for all outbound operations and the request message for the POLLINGSTMT operation.</span></span> <span data-ttu-id="bda0d-164">这使得适配器可以支持节点值为 ReadLOB 操作流式处理，从而**XmlReader**支持**ReadValueChunk**到适配器客户端。</span><span class="sxs-lookup"><span data-stu-id="bda0d-164">This enables the adapter to support node-value streaming for the ReadLOB operation by providing an **XmlReader** that supports **ReadValueChunk** to adapter clients.</span></span>  
  
-   <span data-ttu-id="bda0d-165">适配器使用的所有使用的自定义实现从客户端接收的消息**XmlDictionaryWriter**。</span><span class="sxs-lookup"><span data-stu-id="bda0d-165">The adapter consumes all messages received from the client by using a custom implementation of **XmlDictionaryWriter**.</span></span>  
  
-   <span data-ttu-id="bda0d-166">适配器创建发送到客户端使用的自定义实现的所有消息**XmlBodyWriter**，ReadLOB 响应消息除外。</span><span class="sxs-lookup"><span data-stu-id="bda0d-166">The adapter creates all messages that it sends to the client by using a custom implementation of **XmlBodyWriter**, except for the ReadLOB response message.</span></span> <span data-ttu-id="bda0d-167">（这包括所有出站操作的响应消息和 POLLINGSTMT 操作的请求消息。）</span><span class="sxs-lookup"><span data-stu-id="bda0d-167">(This includes response messages for all outbound operations and the request message for the POLLINGSTMT operation.)</span></span>  
  
## <a name="streaming-support-in-the-wcf-channel-model"></a><span data-ttu-id="bda0d-168">WCF 通道模型中的流式处理支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-168">Streaming Support in the WCF Channel Model</span></span>  
 <span data-ttu-id="bda0d-169">下表提供了有关如何流式处理中的 WCF 通道模型支持的详细的信息。</span><span class="sxs-lookup"><span data-stu-id="bda0d-169">The following table provides detailed information about how streaming is supported in the WCF channel model.</span></span>  
  
|<span data-ttu-id="bda0d-170">运算</span><span class="sxs-lookup"><span data-stu-id="bda0d-170">Operation</span></span>|<span data-ttu-id="bda0d-171">流式处理的节点</span><span class="sxs-lookup"><span data-stu-id="bda0d-171">Node Streaming</span></span>|<span data-ttu-id="bda0d-172">节点值流式处理</span><span class="sxs-lookup"><span data-stu-id="bda0d-172">Node-Value Streaming</span></span>|<span data-ttu-id="bda0d-173">Description</span><span class="sxs-lookup"><span data-stu-id="bda0d-173">Description</span></span>|  
|---------------|--------------------|---------------------------|-----------------|  
|<span data-ttu-id="bda0d-174">表插入操作</span><span class="sxs-lookup"><span data-stu-id="bda0d-174">Table Insert operation</span></span>|<span data-ttu-id="bda0d-175">支持\*</span><span class="sxs-lookup"><span data-stu-id="bda0d-175">Supported\*</span></span>|<span data-ttu-id="bda0d-176">不支持在适配器和 Oracle 数据库之间。</span><span class="sxs-lookup"><span data-stu-id="bda0d-176">Not supported between the adapter and the Oracle database.</span></span> <span data-ttu-id="bda0d-177">支持客户端和适配器之间</span><span class="sxs-lookup"><span data-stu-id="bda0d-177">Supported between the client and adapter.\*</span></span>|<span data-ttu-id="bda0d-178">不支持流式处理的端到端节点的值，因为将 LOB 列的值由 ODP.NET，进行缓冲，则执行插入。</span><span class="sxs-lookup"><span data-stu-id="bda0d-178">End-to-end node-value streaming is not supported because the values of LOB columns are buffered by ODP.NET, and then the insert is performed.</span></span> <span data-ttu-id="bda0d-179">但是，节点值流式处理客户端和适配器之间有可能 LOB 列，如果客户端创建的消息**BodyWriter**。</span><span class="sxs-lookup"><span data-stu-id="bda0d-179">However, node-value streaming between the client and the adapter is possible for LOB columns, if the client creates the message with a **BodyWriter**.</span></span>|  
|<span data-ttu-id="bda0d-180">表选择操作</span><span class="sxs-lookup"><span data-stu-id="bda0d-180">Table Select operation</span></span>|<span data-ttu-id="bda0d-181">是否支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-181">Supported</span></span>|<span data-ttu-id="bda0d-182">是否支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-182">Supported</span></span>|<span data-ttu-id="bda0d-183">该适配器将使用**BodyWriter**创建响应消息。</span><span class="sxs-lookup"><span data-stu-id="bda0d-183">The adapter uses a **BodyWriter** to create the response message.</span></span> <span data-ttu-id="bda0d-184">如果客户端使用消息使用**XmlDictionaryWriter**，节点值流式处理 LOB 列时发生。</span><span class="sxs-lookup"><span data-stu-id="bda0d-184">If the client consumes the message using an **XmlDictionaryWriter**, node-value streaming for LOB columns occurs.</span></span>|  
|<span data-ttu-id="bda0d-185">表更新操作</span><span class="sxs-lookup"><span data-stu-id="bda0d-185">Table Update operation</span></span>|<span data-ttu-id="bda0d-186">是否支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-186">Supported</span></span>|<span data-ttu-id="bda0d-187">不支持在适配器和 Oracle 数据库之间。</span><span class="sxs-lookup"><span data-stu-id="bda0d-187">Not supported between the adapter and the Oracle database.</span></span> <span data-ttu-id="bda0d-188">支持客户端和适配器之间。</span><span class="sxs-lookup"><span data-stu-id="bda0d-188">Supported between the client and adapter.</span></span>|<span data-ttu-id="bda0d-189">不支持流式处理的端到端节点的值，因为将 LOB 列的值进行缓冲通过 ODP.NET，，然后执行更新。</span><span class="sxs-lookup"><span data-stu-id="bda0d-189">End-to-end node-value streaming is not supported because the values of LOB columns are buffered by ODP.NET, and then the update is performed.</span></span> <span data-ttu-id="bda0d-190">但是，节点值流式处理客户端和适配器之间有 LOB 列可能的如果客户端创建的消息**BodyWriter**。</span><span class="sxs-lookup"><span data-stu-id="bda0d-190">However, node-value streaming between the client and the adapter is possible for LOB columns if the client creates the message with a **BodyWriter**.</span></span>|  
|<span data-ttu-id="bda0d-191">表删除操作</span><span class="sxs-lookup"><span data-stu-id="bda0d-191">Table Delete operation</span></span>|<span data-ttu-id="bda0d-192">是否支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-192">Supported</span></span>|<span data-ttu-id="bda0d-193">不支持在适配器和 Oracle 数据库之间。</span><span class="sxs-lookup"><span data-stu-id="bda0d-193">Not supported between the adapter and the Oracle database.</span></span> <span data-ttu-id="bda0d-194">支持客户端和适配器之间。</span><span class="sxs-lookup"><span data-stu-id="bda0d-194">Supported between the client and adapter.</span></span>|<span data-ttu-id="bda0d-195">不支持流式处理的端到端节点的值，因为通过 ODP.NET 进行缓冲 LOB 列的值，然后执行删除操作。</span><span class="sxs-lookup"><span data-stu-id="bda0d-195">End-to-end node-value streaming is not supported because the values of LOB columns are buffered by ODP.NET and then the delete is performed.</span></span> <span data-ttu-id="bda0d-196">但是，节点值流式处理客户端和适配器之间有 LOB 列可能的如果客户端创建的消息**BodyWriter**。</span><span class="sxs-lookup"><span data-stu-id="bda0d-196">However, node-value streaming between the client and the adapter is possible for LOB columns if the client creates the message with a **BodyWriter**.</span></span>|  
|<span data-ttu-id="bda0d-197">表 ReadLOB 操作</span><span class="sxs-lookup"><span data-stu-id="bda0d-197">Table ReadLOB operation</span></span>|<span data-ttu-id="bda0d-198">是否支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-198">Supported</span></span>|<span data-ttu-id="bda0d-199">是否支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-199">Supported</span></span>|<span data-ttu-id="bda0d-200">ReadLOB 操作主要设计到流的 WCF 服务模型中的 LOB 数据列。</span><span class="sxs-lookup"><span data-stu-id="bda0d-200">The ReadLOB operation is primarily designed to stream LOB data columns in the WCF service model.</span></span> <span data-ttu-id="bda0d-201">在 WCF 通道模型中，如果客户端使用消息使用**XmlReader** (通过调用**GetReaderAtBodyContents**在响应消息的方法)，会发生流式处理端到端节点的值。</span><span class="sxs-lookup"><span data-stu-id="bda0d-201">In the WCF channel model, if the client consumes the message using an **XmlReader** (by invoking the **GetReaderAtBodyContents** method on the response message), end-to-end node-value streaming occurs.</span></span> <span data-ttu-id="bda0d-202">这是因为该适配器返回**XmlReader**支持**ReadValueChunk**调用 ReadLOB 响应消息。</span><span class="sxs-lookup"><span data-stu-id="bda0d-202">This is because the adapter returns an **XmlReader** that supports **ReadValueChunk** calls for the ReadLOB response message.</span></span> <span data-ttu-id="bda0d-203">但是，建议不要使用 WCF 通道模型从 ReadLOB 操作。</span><span class="sxs-lookup"><span data-stu-id="bda0d-203">However, it is recommended that you do not use the ReadLOB operation from the WCF channel model.</span></span> <span data-ttu-id="bda0d-204">可以改为使用选择操作或 SQLEXECUTE 操作。</span><span class="sxs-lookup"><span data-stu-id="bda0d-204">You can use a Select operation or a SQLEXECUTE operation instead.</span></span>|  
|<span data-ttu-id="bda0d-205">表 UpdateLOB 操作</span><span class="sxs-lookup"><span data-stu-id="bda0d-205">Table UpdateLOB operation</span></span>|<span data-ttu-id="bda0d-206">是否支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-206">Supported</span></span>|<span data-ttu-id="bda0d-207">是否支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-207">Supported</span></span>|<span data-ttu-id="bda0d-208">该适配器将使用**XmlDictionaryWriter**来使用请求消息。</span><span class="sxs-lookup"><span data-stu-id="bda0d-208">The adapter uses an **XmlDictionaryWriter** to consume the request message.</span></span> <span data-ttu-id="bda0d-209">如果客户端使用**BodyWriter**若要创建请求消息，流式处理 LOB 数据的端到端节点的值时发生。</span><span class="sxs-lookup"><span data-stu-id="bda0d-209">If the client uses a **BodyWriter** to create the request message, end-to-end node-value streaming for LOB data occurs.</span></span>|  
|<span data-ttu-id="bda0d-210">SQLEXECUTE 操作</span><span class="sxs-lookup"><span data-stu-id="bda0d-210">SQLEXECUTE operation</span></span>|<span data-ttu-id="bda0d-211">是否支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-211">Supported</span></span>|<span data-ttu-id="bda0d-212">是否支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-212">Supported</span></span>|<span data-ttu-id="bda0d-213">该适配器将使用**BodyWriter**创建响应消息。</span><span class="sxs-lookup"><span data-stu-id="bda0d-213">The adapter uses a **BodyWriter** to create the response message.</span></span><br /><br /> <span data-ttu-id="bda0d-214">如果客户端使用**XmlDictionaryWriter**若要使用的响应消息，流式处理 LOB 数据的端到端节点的值时发生。</span><span class="sxs-lookup"><span data-stu-id="bda0d-214">If the client uses an **XmlDictionaryWriter** to consume the response message, end-to-end node-value streaming for the LOB data occurs.</span></span><br /><br /> <span data-ttu-id="bda0d-215">请求消息不支持流式处理的端到端节点的值，因为它可以调用 Oracle 数据库上的操作之前，适配器必须缓冲所有操作数。</span><span class="sxs-lookup"><span data-stu-id="bda0d-215">End-to-end node-value streaming is not supported for the request message because the adapter must buffer all operands before it can invoke the operation on the Oracle database.</span></span>|  
|<span data-ttu-id="bda0d-216">存储的过程和函数操作</span><span class="sxs-lookup"><span data-stu-id="bda0d-216">Stored procedure and function operation</span></span>|<span data-ttu-id="bda0d-217">是否支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-217">Supported</span></span>|<span data-ttu-id="bda0d-218">是否支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-218">Supported</span></span>|<span data-ttu-id="bda0d-219">该适配器将使用**BodyWriter**创建响应消息。</span><span class="sxs-lookup"><span data-stu-id="bda0d-219">The adapter uses a **BodyWriter** to create the response message.</span></span><br /><br /> <span data-ttu-id="bda0d-220">如果客户端使用**XmlDictionaryWriter**若要使用的响应消息，流式处理 LOB 数据的端到端节点的值时发生。</span><span class="sxs-lookup"><span data-stu-id="bda0d-220">If the client uses an **XmlDictionaryWriter** to consume the response message, end-to-end node-value streaming for the LOB data occurs.</span></span> <span data-ttu-id="bda0d-221">(这意味着，对于扩展支持流式处理和 IN 出过程和函数参数的响应消息中。)</span><span class="sxs-lookup"><span data-stu-id="bda0d-221">(This means that streaming is supported for OUT and IN OUT procedure and function parameters in the response message.)</span></span><br /><br /> <span data-ttu-id="bda0d-222">请求消息不支持流式处理的端到端节点的值，因为它可以调用 Oracle 数据库上的操作之前，适配器必须缓冲所有操作数。</span><span class="sxs-lookup"><span data-stu-id="bda0d-222">End-to-end node-value streaming is not supported for the request message because the adapter must buffer all operands before it can invoke the operation on the Oracle database.</span></span>|  
|<span data-ttu-id="bda0d-223">POLLINGSTMT 操作</span><span class="sxs-lookup"><span data-stu-id="bda0d-223">POLLINGSTMT operation</span></span>|<span data-ttu-id="bda0d-224">是否支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-224">Supported</span></span>|<span data-ttu-id="bda0d-225">是否支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-225">Supported</span></span>|<span data-ttu-id="bda0d-226">该适配器将使用**BodyWriter**创建 POLLINGSTMT 请求消息。</span><span class="sxs-lookup"><span data-stu-id="bda0d-226">The adapter uses a **BodyWriter** to create the POLLINGSTMT request message.</span></span> <span data-ttu-id="bda0d-227">如果客户端使用消息使用**XmlDictionaryWriter**，就会发生流式处理 LOB 列的节点的值。</span><span class="sxs-lookup"><span data-stu-id="bda0d-227">If the client consumes the message using an **XmlDictionaryWriter**, then node-value streaming for LOB columns occurs.</span></span>|  
  
 <span data-ttu-id="bda0d-228">有关如何实现使用 WCF 通道模型时在代码中流式处理 LOB 数据的信息，请参阅[流式处理 Oracle 数据库 LOB 数据类型使用的 WCF 通道模型](../../adapters-and-accelerators/adapter-oracle-database/streaming-oracle-database-lob-data-types-using-the-wcf-channel-model.md)。</span><span class="sxs-lookup"><span data-stu-id="bda0d-228">For information about how to implement LOB data streaming in your code when you use the WCF channel model, see [Streaming Oracle Database LOB Data Types Using the WCF Channel Model](../../adapters-and-accelerators/adapter-oracle-database/streaming-oracle-database-lob-data-types-using-the-wcf-channel-model.md).</span></span>  
  
## <a name="streaming-support-in-the-wcf-service-model"></a><span data-ttu-id="bda0d-229">WCF 服务模型中的流式处理支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-229">Streaming Support in the WCF Service Model</span></span>  
 <span data-ttu-id="bda0d-230">序列化和反序列化消息的 XML 表示形式和该消息的托管的代码对象表示形式之间需要写入和读取到内存中的整个消息。</span><span class="sxs-lookup"><span data-stu-id="bda0d-230">Serializing and deserializing between the XML representation of a message and the managed code object representation of that message requires writing and reading the entire message into memory.</span></span> <span data-ttu-id="bda0d-231">出于此原因，流式处理的节点和节点值流式传输都不支持针对大多数操作。</span><span class="sxs-lookup"><span data-stu-id="bda0d-231">For this reason, neither node streaming nor node-value streaming is supported for most operations.</span></span>  
  
 <span data-ttu-id="bda0d-232">唯一的例外是 ReadLOB 操作。</span><span class="sxs-lookup"><span data-stu-id="bda0d-232">The only exception to this is the ReadLOB operation.</span></span> <span data-ttu-id="bda0d-233">实现此操作是专门为支持端到端流式处理读取的 WCF 服务模型中的表和视图 LOB 列。</span><span class="sxs-lookup"><span data-stu-id="bda0d-233">This operation is implemented specifically to support end-to-end streaming for reading table and view LOB columns in the WCF service model.</span></span>  
  
## <a name="streaming-support-in-biztalk-server"></a><span data-ttu-id="bda0d-234">BizTalk Server 中的流式处理支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-234">Streaming Support in BizTalk Server</span></span>  
 <span data-ttu-id="bda0d-235">下表提供了有关如何流式处理 BizTalk Server 中支持的详细的信息。</span><span class="sxs-lookup"><span data-stu-id="bda0d-235">The following table provides detailed information about how streaming is supported in BizTalk Server.</span></span> <span data-ttu-id="bda0d-236">("适配器"的所有引用是否都引用[!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)]; Wcf-custom 适配器始终引用此表中其完整名称。)</span><span class="sxs-lookup"><span data-stu-id="bda0d-236">(All references to the "adapter" refer to the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)]; the WCF-Custom adapter is always referred to by its full name in this table.)</span></span>  
  
|<span data-ttu-id="bda0d-237">运算</span><span class="sxs-lookup"><span data-stu-id="bda0d-237">Operation</span></span>|<span data-ttu-id="bda0d-238">流式处理的节点</span><span class="sxs-lookup"><span data-stu-id="bda0d-238">Node Streaming</span></span>|<span data-ttu-id="bda0d-239">节点值流式处理</span><span class="sxs-lookup"><span data-stu-id="bda0d-239">Node-Value Streaming</span></span>|<span data-ttu-id="bda0d-240">Description</span><span class="sxs-lookup"><span data-stu-id="bda0d-240">Description</span></span>|  
|---------------|--------------------|---------------------------|-----------------|  
|<span data-ttu-id="bda0d-241">表插入操作</span><span class="sxs-lookup"><span data-stu-id="bda0d-241">Table Insert operation</span></span>|<span data-ttu-id="bda0d-242">支持\*</span><span class="sxs-lookup"><span data-stu-id="bda0d-242">Supported\*</span></span>|<span data-ttu-id="bda0d-243">不支持之间的适配器和 Oracle 数据库中;但是，BizTalk Server 和适配器之间传输数据。</span><span class="sxs-lookup"><span data-stu-id="bda0d-243">Not supported between the adapter and the Oracle database; however, data is streamed between BizTalk Server and the adapter.</span></span>|<span data-ttu-id="bda0d-244">不支持流式处理的端到端节点的值，因为将 LOB 列的值由 ODP.NET 进行缓冲，则执行插入。</span><span class="sxs-lookup"><span data-stu-id="bda0d-244">End-to-end node-value streaming is not supported because the values of LOB columns are buffered by ODP.NET and then the insert is performed.</span></span> <span data-ttu-id="bda0d-245">但是，节点值流式处理 BizTalk Server 和适配器之间的支持，LOB 数据类型因为 WCF 自定义适配器创建的消息**BodyWriter**。</span><span class="sxs-lookup"><span data-stu-id="bda0d-245">However, node-value streaming between BizTalk Server and the adapter is supported for LOB data types because the WCF-Custom adapter creates the message with a **BodyWriter**.</span></span>|  
|<span data-ttu-id="bda0d-246">表选择操作</span><span class="sxs-lookup"><span data-stu-id="bda0d-246">Table Select operation</span></span>|<span data-ttu-id="bda0d-247">是否支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-247">Supported</span></span>|<span data-ttu-id="bda0d-248">是否支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-248">Supported</span></span>|<span data-ttu-id="bda0d-249">WCF 自定义适配器将使用**XmlDictionaryWriter**来使用响应消息，因此支持 LOB 类型的流式处理的端到端节点的值。</span><span class="sxs-lookup"><span data-stu-id="bda0d-249">The WCF-Custom adapter uses an **XmlDictionaryWriter** to consume the response message, so end-to-end node-value streaming for LOB types is supported.</span></span>|  
|<span data-ttu-id="bda0d-250">表更新操作</span><span class="sxs-lookup"><span data-stu-id="bda0d-250">Table Update operation</span></span>|<span data-ttu-id="bda0d-251">是否支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-251">Supported</span></span>|<span data-ttu-id="bda0d-252">不支持之间的适配器和 Oracle 数据库中;但是，BizTalk Server 和适配器之间传输数据。</span><span class="sxs-lookup"><span data-stu-id="bda0d-252">Not supported between the adapter and the Oracle database; however, data is streamed between BizTalk Server and the adapter.</span></span>|<span data-ttu-id="bda0d-253">不支持流式处理的端到端节点的值，因为通过 ODP.NET 进行缓冲 LOB 列的值，然后执行更新。</span><span class="sxs-lookup"><span data-stu-id="bda0d-253">End-to-end node-value streaming is not supported because the values of LOB columns are buffered by ODP.NET and then the update is performed.</span></span> <span data-ttu-id="bda0d-254">但是，节点值流式处理 BizTalk Server 和适配器之间的支持，LOB 数据类型因为 WCF 自定义适配器创建的消息**BodyWriter**。</span><span class="sxs-lookup"><span data-stu-id="bda0d-254">However, node-value streaming between BizTalk Server and the adapter is supported for LOB data types because the WCF-Custom adapter creates the message with a **BodyWriter**.</span></span>|  
|<span data-ttu-id="bda0d-255">表删除操作</span><span class="sxs-lookup"><span data-stu-id="bda0d-255">Table Delete operation</span></span>|<span data-ttu-id="bda0d-256">是否支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-256">Supported</span></span>|<span data-ttu-id="bda0d-257">不支持之间的适配器和 Oracle 数据库中;但是，BizTalk Server 和适配器之间传输数据。</span><span class="sxs-lookup"><span data-stu-id="bda0d-257">Not supported between the adapter and the Oracle database; however, data is streamed between BizTalk Server and the adapter.</span></span>|<span data-ttu-id="bda0d-258">不支持流式处理的端到端节点的值，因为通过 ODP.NET 进行缓冲 LOB 列的值，然后执行删除操作。</span><span class="sxs-lookup"><span data-stu-id="bda0d-258">End-to-end node-value streaming is not supported because the values of LOB columns are buffered by ODP.NET and then the delete is performed.</span></span> <span data-ttu-id="bda0d-259">但是，节点值流式处理 BizTalk Server 和适配器之间的支持，LOB 数据类型因为 WCF 自定义适配器创建的消息**BodyWriter**。</span><span class="sxs-lookup"><span data-stu-id="bda0d-259">However, node-value streaming between BizTalk Server and the adapter is supported for LOB data types because the WCF-Custom adapter creates the message with a **BodyWriter**.</span></span>|  
|<span data-ttu-id="bda0d-260">表 ReadLOB 操作</span><span class="sxs-lookup"><span data-stu-id="bda0d-260">Table ReadLOB operation</span></span>|<span data-ttu-id="bda0d-261">为 BizTalk Server 不支持 ReadLOB 操作。</span><span class="sxs-lookup"><span data-stu-id="bda0d-261">The ReadLOB operation is not supported for BizTalk Server.</span></span>|<span data-ttu-id="bda0d-262">为 BizTalk Server 不支持 ReadLOB 操作。</span><span class="sxs-lookup"><span data-stu-id="bda0d-262">The ReadLOB operation is not supported for BizTalk Server.</span></span>|<span data-ttu-id="bda0d-263">为 BizTalk Server 不支持 ReadLOB 操作。</span><span class="sxs-lookup"><span data-stu-id="bda0d-263">The ReadLOB operation is not supported for BizTalk Server.</span></span> <span data-ttu-id="bda0d-264">改为使用选择的操作或 SQLEXECUTE 操作。</span><span class="sxs-lookup"><span data-stu-id="bda0d-264">Use the Select operation or a SQLEXECUTE operation instead.</span></span>|  
|<span data-ttu-id="bda0d-265">表 UpdateLOB 操作</span><span class="sxs-lookup"><span data-stu-id="bda0d-265">Table UpdateLOB operation</span></span>|<span data-ttu-id="bda0d-266">是否支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-266">Supported</span></span>|<span data-ttu-id="bda0d-267">是否支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-267">Supported</span></span>|<span data-ttu-id="bda0d-268">WCF 自定义适配器将使用**BodyWriter**创建请求消息，因此支持 LOB 数据类型的流式处理的端到端节点的值。</span><span class="sxs-lookup"><span data-stu-id="bda0d-268">The WCF-Custom adapter uses a **BodyWriter** to create the request message, so end-to-end node-value streaming for LOB data types is supported.</span></span>|  
|<span data-ttu-id="bda0d-269">SQLEXECUTE 操作</span><span class="sxs-lookup"><span data-stu-id="bda0d-269">SQLEXECUTE operation</span></span>|<span data-ttu-id="bda0d-270">是否支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-270">Supported</span></span>|<span data-ttu-id="bda0d-271">是否支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-271">Supported</span></span>|<span data-ttu-id="bda0d-272">WCF 自定义适配器将使用**XmlDictionaryWriter**来使用响应消息，因此支持端到端节点的值在响应消息中的 LOB 数据类型的流式处理。</span><span class="sxs-lookup"><span data-stu-id="bda0d-272">The WCF-Custom adapter uses an **XmlDictionaryWriter** to consume the response message, so end-to-end node-value streaming for LOB data types in the response message is supported.</span></span><br /><br /> <span data-ttu-id="bda0d-273">请求消息不支持流式处理的端到端节点的值，因为它可以调用 Oracle 数据库上的操作之前，适配器必须缓冲所有操作数。</span><span class="sxs-lookup"><span data-stu-id="bda0d-273">End-to-end node-value streaming is not supported for the request message because the adapter must buffer all operands before it can invoke the operation on the Oracle database.</span></span>|  
|<span data-ttu-id="bda0d-274">存储的过程和函数操作</span><span class="sxs-lookup"><span data-stu-id="bda0d-274">Stored procedure and function operation</span></span>|<span data-ttu-id="bda0d-275">是否支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-275">Supported</span></span>|<span data-ttu-id="bda0d-276">是否支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-276">Supported</span></span>|<span data-ttu-id="bda0d-277">WCF 自定义适配器将使用**XmlDictionaryWriter**来使用响应消息，因此支持端到端节点的值在响应消息中的 LOB 数据类型的流式处理。</span><span class="sxs-lookup"><span data-stu-id="bda0d-277">The WCF-Custom adapter uses an **XmlDictionaryWriter** to consume the response message, so end-to-end node-value streaming for LOB data types in the response message is supported.</span></span> <span data-ttu-id="bda0d-278">(这意味着，对于扩展支持流式处理和 IN 出过程和函数参数的响应消息中。)</span><span class="sxs-lookup"><span data-stu-id="bda0d-278">(This means that streaming is supported for OUT and IN OUT procedure and function parameters in the response message.)</span></span><br /><br /> <span data-ttu-id="bda0d-279">请求消息不支持流式处理的端到端节点的值，因为它可以调用 Oracle 数据库上的操作之前，适配器必须缓冲所有操作数。</span><span class="sxs-lookup"><span data-stu-id="bda0d-279">End-to-end node-value streaming is not supported for the request message because the adapter must buffer all operands before it can invoke the operation on the Oracle database.</span></span>|  
|<span data-ttu-id="bda0d-280">POLLINGSTMT 操作</span><span class="sxs-lookup"><span data-stu-id="bda0d-280">POLLINGSTMT operation</span></span>|<span data-ttu-id="bda0d-281">是否支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-281">Supported</span></span>|<span data-ttu-id="bda0d-282">是否支持</span><span class="sxs-lookup"><span data-stu-id="bda0d-282">Supported</span></span>|<span data-ttu-id="bda0d-283">WCF 自定义适配器将使用**XmlDictionaryWriter**使用 （入站） 的请求消息，因此支持 LOB 数据类型的流式处理的端到端节点的值。</span><span class="sxs-lookup"><span data-stu-id="bda0d-283">The WCF-Custom adapter uses an **XmlDictionaryWriter** to consume the (inbound) request message, so end-to-end node-value streaming for LOB data types is supported.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="bda0d-284">请参阅</span><span class="sxs-lookup"><span data-stu-id="bda0d-284">See Also</span></span>  
[<span data-ttu-id="bda0d-285">开发 Oracle 数据库应用程序</span><span class="sxs-lookup"><span data-stu-id="bda0d-285">Develop your Oracle Database applications</span></span>](../../adapters-and-accelerators/adapter-oracle-database/develop-your-oracle-database-applications.md)