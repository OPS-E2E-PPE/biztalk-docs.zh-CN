---
title: 流式处理 Oracle 数据库适配器中的大型对象数据类型 |Microsoft 文档
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- streaming, support in the WCF service model
- streaming, support for
- streaming, support in BizTalk Server
- streaming, support in the WCF channel model
ms.assetid: c6cbe870-6794-4bf1-90c1-db65a242e8fe
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: fda4d99eb381321139e4ed493f119f9eaf21623e
ms.sourcegitcommit: 8418b1a8f38b7f56979cd6e203f0b591e2f40fe1
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/28/2018
ms.locfileid: "22217909"
---
# <a name="streaming-large-object-data-types-in-oracle-database-adapter"></a><span data-ttu-id="d5712-102">Oracle 数据库适配器中的流式处理大型对象数据类型</span><span class="sxs-lookup"><span data-stu-id="d5712-102">Streaming large object data types in Oracle Database adapter</span></span>
<span data-ttu-id="d5712-103">[!INCLUDE[adapteroracle](../../includes/adapteroracle-md.md)]支持流式处理 Oracle 大型对象 (LOB) 数据类型。</span><span class="sxs-lookup"><span data-stu-id="d5712-103">The [!INCLUDE[adapteroracle](../../includes/adapteroracle-md.md)] supports streaming for Oracle large object (LOB) data types.</span></span> <span data-ttu-id="d5712-104">与[!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)]调用操作和通过交换 SOAP 消息返回响应。</span><span class="sxs-lookup"><span data-stu-id="d5712-104">With the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] operations are invoked and responses are returned by exchanging SOAP messages.</span></span> <span data-ttu-id="d5712-105">SOAP 消息正文组成 XML 节点。</span><span class="sxs-lookup"><span data-stu-id="d5712-105">A SOAP message body is composed of XML nodes.</span></span>  
  
 <span data-ttu-id="d5712-106">有适配器支持的两种类型的消息流处理：</span><span class="sxs-lookup"><span data-stu-id="d5712-106">There are two kinds of message streaming that are supported by the adapter:</span></span>  
  
-   <span data-ttu-id="d5712-107">**节点流**。</span><span class="sxs-lookup"><span data-stu-id="d5712-107">**Node streaming**.</span></span> <span data-ttu-id="d5712-108">在节点流式处理每个节点是发送到 Oracle 数据库前缓冲适配器 （或返回到客户端）。</span><span class="sxs-lookup"><span data-stu-id="d5712-108">In node streaming each node is buffered by the adapter before it is sent to the Oracle database (or returned to the client).</span></span> <span data-ttu-id="d5712-109">这意味着，对于 LOB 数据类型，整个值读取到缓冲区。</span><span class="sxs-lookup"><span data-stu-id="d5712-109">This means that, for an LOB data type, the entire value is read into a buffer.</span></span>  
  
-   <span data-ttu-id="d5712-110">**节点值流式处理**。</span><span class="sxs-lookup"><span data-stu-id="d5712-110">**Node-value streaming**.</span></span> <span data-ttu-id="d5712-111">在节点值流式处理节点的实际值可以进行流式处理 Oracle 数据库和客户端之间的小区块中。</span><span class="sxs-lookup"><span data-stu-id="d5712-111">In node-value streaming the actual value of the node can be streamed in chunks between the Oracle database and the client.</span></span> <span data-ttu-id="d5712-112">节点值流式处理支持端到端流式处理的 LOB 适配器客户端和 Oracle 数据库之间的数据类型。</span><span class="sxs-lookup"><span data-stu-id="d5712-112">Node-value streaming supports end-to-end streaming of LOB data types between the adapter client and the Oracle database.</span></span>  
  
 <span data-ttu-id="d5712-113">这两种流式处理模式依赖于支持流式处理的节点和节点值在 WCF 中的消息流式处理。</span><span class="sxs-lookup"><span data-stu-id="d5712-113">Both of these streaming modes rely on support for node streaming and node-value streaming on messages in WCF.</span></span> <span data-ttu-id="d5712-114">为此，流式处理 LOB 类型与密切如何创建和使用的适配器和客户端应用程序消息。</span><span class="sxs-lookup"><span data-stu-id="d5712-114">For this reason, streaming for LOB types is tied closely to how messages are created and consumed both by the adapter and by a client application.</span></span> <span data-ttu-id="d5712-115">一个操作的结果是，支持流式处理 LOB 类型不相同跨所有的编程模型。</span><span class="sxs-lookup"><span data-stu-id="d5712-115">One result of this is that support for streaming LOB types is not the same across all programming models.</span></span>  
  
 <span data-ttu-id="d5712-116">本主题中的部分提供：</span><span class="sxs-lookup"><span data-stu-id="d5712-116">The sections in this topic provide:</span></span>  
  
-   <span data-ttu-id="d5712-117">有关如何消息流式处理在 WCF 中支持和如何通过适配器实现的基本的背景信息。</span><span class="sxs-lookup"><span data-stu-id="d5712-117">Fundamental background information about how message streaming is supported in WCF and how it is implemented by the adapter.</span></span>  
  
-   <span data-ttu-id="d5712-118">有关如何流式处理 LOB 数据类型时，支持你在每个编程模型中使用该适配器的信息。</span><span class="sxs-lookup"><span data-stu-id="d5712-118">Information about how streaming for LOB data types is supported when you use the adapter in each programming model.</span></span>  
  
## <a name="streaming-fundamentals"></a><span data-ttu-id="d5712-119">流式处理的基础知识</span><span class="sxs-lookup"><span data-stu-id="d5712-119">Streaming Fundamentals</span></span>  
 <span data-ttu-id="d5712-120">用于流式处理通过实现支持[!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)]是的组合：</span><span class="sxs-lookup"><span data-stu-id="d5712-120">The support for streaming implemented by the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] is a combination of:</span></span>  
  
-   <span data-ttu-id="d5712-121">在 WCF 中的消息流式处理支持。</span><span class="sxs-lookup"><span data-stu-id="d5712-121">Message streaming support in WCF.</span></span>  
  
-   <span data-ttu-id="d5712-122">Oracle 客户端库 (ODP.NET) 中的流式处理支持。</span><span class="sxs-lookup"><span data-stu-id="d5712-122">Streaming support in the Oracle client library (ODP.NET).</span></span>  
  
-   <span data-ttu-id="d5712-123">创建和使用内部适配器的双向消息。</span><span class="sxs-lookup"><span data-stu-id="d5712-123">The way messages are created and consumed internally by the adapter.</span></span>  
  
### <a name="message-streaming-support-in-wcf"></a><span data-ttu-id="d5712-124">在 WCF 中的消息流式处理支持</span><span class="sxs-lookup"><span data-stu-id="d5712-124">Message Streaming Support in WCF</span></span>  
 <span data-ttu-id="d5712-125">WCF 支持上一条消息流式处理的方式取决于消息的创建方式以及如何处理消息。</span><span class="sxs-lookup"><span data-stu-id="d5712-125">How WCF supports streaming on a message depends both on how the message is created and how the message is consumed.</span></span>  
  
-   <span data-ttu-id="d5712-126">WCF 消息创建使用静态**创建**方法**System.ServiceModel.Channels.Message**。</span><span class="sxs-lookup"><span data-stu-id="d5712-126">A WCF message is created by using the static **Create** method of **System.ServiceModel.Channels.Message**.</span></span> <span data-ttu-id="d5712-127">此方法具有好几个重载，支持将传递消息正文的不同方式。</span><span class="sxs-lookup"><span data-stu-id="d5712-127">This method has several overloads that support different ways of passing the message body.</span></span> <span data-ttu-id="d5712-128">可以通过传递消息的正文使用创建 WCF 消息：</span><span class="sxs-lookup"><span data-stu-id="d5712-128">A WCF message can be created by passing the message body using:</span></span>  
  
    -   <span data-ttu-id="d5712-129">A **System.Xml.XmlReader**，或</span><span class="sxs-lookup"><span data-stu-id="d5712-129">A **System.Xml.XmlReader**, or</span></span>  
  
    -   <span data-ttu-id="d5712-130">A **System.ServiceModel.Channels.BodyWriter**。</span><span class="sxs-lookup"><span data-stu-id="d5712-130">A **System.ServiceModel.Channels.BodyWriter**.</span></span>  
  
-   <span data-ttu-id="d5712-131">可以使用使用 WCF 消息</span><span class="sxs-lookup"><span data-stu-id="d5712-131">A WCF message can be consumed using</span></span>  
  
    -   <span data-ttu-id="d5712-132">An **XmlReader** by calling **Message.GetReaderAtBodyContents()**, or</span><span class="sxs-lookup"><span data-stu-id="d5712-132">An **XmlReader** by calling **Message.GetReaderAtBodyContents()**, or</span></span>  
  
    -   <span data-ttu-id="d5712-133">**XmlDictionaryWriter**通过调用**Message.WriteBodyContents(XmlDictionaryWriter)**。</span><span class="sxs-lookup"><span data-stu-id="d5712-133">An **XmlDictionaryWriter** by calling **Message.WriteBodyContents(XmlDictionaryWriter)**.</span></span>  
  
 <span data-ttu-id="d5712-134">下表显示 WCF 的创建和使用的消息的不同组合的行为方式。</span><span class="sxs-lookup"><span data-stu-id="d5712-134">The following table shows how WCF behaves for different combinations of creating and consuming messages.</span></span>  
  
|<span data-ttu-id="d5712-135">使用创建的消息</span><span class="sxs-lookup"><span data-stu-id="d5712-135">Message Created With</span></span>|<span data-ttu-id="d5712-136">与使用的消息</span><span class="sxs-lookup"><span data-stu-id="d5712-136">Message Consumed With</span></span>|<span data-ttu-id="d5712-137">WCF 行为</span><span class="sxs-lookup"><span data-stu-id="d5712-137">WCF Behavior</span></span>|  
|--------------------------|---------------------------|------------------|  
|<span data-ttu-id="d5712-138">**XmlBodyWriter**</span><span class="sxs-lookup"><span data-stu-id="d5712-138">**XmlBodyWriter**</span></span>|<span data-ttu-id="d5712-139">**XmlDictionaryWriter**</span><span class="sxs-lookup"><span data-stu-id="d5712-139">**XmlDictionaryWriter**</span></span>|<span data-ttu-id="d5712-140">**节点值流式处理**支持。</span><span class="sxs-lookup"><span data-stu-id="d5712-140">**Node-value streaming** is supported.</span></span> <span data-ttu-id="d5712-141">WCF 通过管道传递两个编写器在一起，若要启用流。</span><span class="sxs-lookup"><span data-stu-id="d5712-141">WCF pipes the two writers together to enable streaming.</span></span> <span data-ttu-id="d5712-142">这两个**XmlBodyWriter**和**XmlDictionaryWriter**必须支持节点值来进行这流式处理。</span><span class="sxs-lookup"><span data-stu-id="d5712-142">Both the **XmlBodyWriter** and the **XmlDictionaryWriter** must support node-value streaming for it to occur.</span></span>|  
|<span data-ttu-id="d5712-143">**XmlBodyWriter**</span><span class="sxs-lookup"><span data-stu-id="d5712-143">**XmlBodyWriter**</span></span>|<span data-ttu-id="d5712-144">**XmlReader**</span><span class="sxs-lookup"><span data-stu-id="d5712-144">**XmlReader**</span></span>|<span data-ttu-id="d5712-145">**节点流**支持。</span><span class="sxs-lookup"><span data-stu-id="d5712-145">**Node streaming** is supported.</span></span> <span data-ttu-id="d5712-146">WCF 内部缓冲**XmlReader**。</span><span class="sxs-lookup"><span data-stu-id="d5712-146">WCF internally buffers the **XmlReader**.</span></span>|  
|<span data-ttu-id="d5712-147">**XmlReader**</span><span class="sxs-lookup"><span data-stu-id="d5712-147">**XmlReader**</span></span>|<span data-ttu-id="d5712-148">**XmlDictionaryWriter**</span><span class="sxs-lookup"><span data-stu-id="d5712-148">**XmlDictionaryWriter**</span></span>|<span data-ttu-id="d5712-149">**节点流**支持。</span><span class="sxs-lookup"><span data-stu-id="d5712-149">**Node streaming** is supported.</span></span> <span data-ttu-id="d5712-150">WCF 内部缓冲**XmlReader**和回调到**XmlDictionaryWriter**。</span><span class="sxs-lookup"><span data-stu-id="d5712-150">WCF internally buffers the **XmlReader** and calls back into the **XmlDictionaryWriter**.</span></span>|  
|<span data-ttu-id="d5712-151">**XmlReader**</span><span class="sxs-lookup"><span data-stu-id="d5712-151">**XmlReader**</span></span>|<span data-ttu-id="d5712-152">**XmlReader**</span><span class="sxs-lookup"><span data-stu-id="d5712-152">**XmlReader**</span></span>|<span data-ttu-id="d5712-153">**节点流**支持。</span><span class="sxs-lookup"><span data-stu-id="d5712-153">**Node streaming** is supported.</span></span> <span data-ttu-id="d5712-154">WCF 内部缓冲**XmlReader**。</span><span class="sxs-lookup"><span data-stu-id="d5712-154">WCF internally buffers the **XmlReader**.</span></span>|  
  
### <a name="streaming-support-in-the-oracle-client-library-odpnet"></a><span data-ttu-id="d5712-155">Oracle 客户端库 (ODP.NET) 中的流式处理支持</span><span class="sxs-lookup"><span data-stu-id="d5712-155">Streaming Support in the Oracle Client Library (ODP.NET)</span></span>  
 <span data-ttu-id="d5712-156">ODP.NET 支持按以下方式流式处理：</span><span class="sxs-lookup"><span data-stu-id="d5712-156">ODP.NET supports streaming in the following manner:</span></span>  
  
-   <span data-ttu-id="d5712-157">只能针对 Oracle LOB 数据类型支持流式传输。</span><span class="sxs-lookup"><span data-stu-id="d5712-157">Streaming is supported only on Oracle LOB data types.</span></span>  
  
-   <span data-ttu-id="d5712-158">对于某些表 （和视图） 的操作，进行缓冲 LOB 数据类型。</span><span class="sxs-lookup"><span data-stu-id="d5712-158">For some table (and view) operations, LOB data types are buffered.</span></span> <span data-ttu-id="d5712-159">因此，支持没有流式处理。</span><span class="sxs-lookup"><span data-stu-id="d5712-159">Therefore, no streaming is supported.</span></span>  
  
### <a name="internal-message-handling-by-the-adapter"></a><span data-ttu-id="d5712-160">内部消息处理由适配器</span><span class="sxs-lookup"><span data-stu-id="d5712-160">Internal Message Handling by the Adapter</span></span>  
 <span data-ttu-id="d5712-161">适配器支持按以下方式流式处理：</span><span class="sxs-lookup"><span data-stu-id="d5712-161">The adapter supports streaming in the following manner:</span></span>  
  
-   <span data-ttu-id="d5712-162">适配器扩展**消息**以实现一个自定义消息的类， **Microsoft.Adapters.AdapterUtilities.AdapterMessage**。</span><span class="sxs-lookup"><span data-stu-id="d5712-162">The adapter extends **Message** to implement a custom message class, **Microsoft.Adapters.AdapterUtilities.AdapterMessage**.</span></span> <span data-ttu-id="d5712-163">它将创建**AdapterMessage**对于所有 WCF 都消息，它提供了到适配器客户端; 这包括所有出站操作的响应都消息和 POLLINGSTMT 操作的请求消息。</span><span class="sxs-lookup"><span data-stu-id="d5712-163">It creates an **AdapterMessage** for all WCF messages that it provides to the adapter client; this includes the response messages for all outbound operations and the request message for the POLLINGSTMT operation.</span></span> <span data-ttu-id="d5712-164">这使支持节点值 ReadLOB 操作用于通过提供的流式处理的适配器**XmlReader**支持**ReadValueChunk**到适配器客户端。</span><span class="sxs-lookup"><span data-stu-id="d5712-164">This enables the adapter to support node-value streaming for the ReadLOB operation by providing an **XmlReader** that supports **ReadValueChunk** to adapter clients.</span></span>  
  
-   <span data-ttu-id="d5712-165">适配器使用通过使用的自定义实现从客户端接收的所有消息**XmlDictionaryWriter**。</span><span class="sxs-lookup"><span data-stu-id="d5712-165">The adapter consumes all messages received from the client by using a custom implementation of **XmlDictionaryWriter**.</span></span>  
  
-   <span data-ttu-id="d5712-166">适配器会创建它将发送到客户端使用的自定义实现的所有消息**XmlBodyWriter**，ReadLOB 响应消息除外。</span><span class="sxs-lookup"><span data-stu-id="d5712-166">The adapter creates all messages that it sends to the client by using a custom implementation of **XmlBodyWriter**, except for the ReadLOB response message.</span></span> <span data-ttu-id="d5712-167">（这包括所有出站操作的响应消息和 POLLINGSTMT 操作的请求消息。）</span><span class="sxs-lookup"><span data-stu-id="d5712-167">(This includes response messages for all outbound operations and the request message for the POLLINGSTMT operation.)</span></span>  
  
## <a name="streaming-support-in-the-wcf-channel-model"></a><span data-ttu-id="d5712-168">WCF 通道模型中的流式处理支持</span><span class="sxs-lookup"><span data-stu-id="d5712-168">Streaming Support in the WCF Channel Model</span></span>  
 <span data-ttu-id="d5712-169">下表提供了有关如何流式处理支持 WCF 通道模型的详细的信息。</span><span class="sxs-lookup"><span data-stu-id="d5712-169">The following table provides detailed information about how streaming is supported in the WCF channel model.</span></span>  
  
|<span data-ttu-id="d5712-170">运算</span><span class="sxs-lookup"><span data-stu-id="d5712-170">Operation</span></span>|<span data-ttu-id="d5712-171">流式处理的节点</span><span class="sxs-lookup"><span data-stu-id="d5712-171">Node Streaming</span></span>|<span data-ttu-id="d5712-172">节点值流式处理</span><span class="sxs-lookup"><span data-stu-id="d5712-172">Node-Value Streaming</span></span>|<span data-ttu-id="d5712-173">Description</span><span class="sxs-lookup"><span data-stu-id="d5712-173">Description</span></span>|  
|---------------|--------------------|---------------------------|-----------------|  
|<span data-ttu-id="d5712-174">表插入操作</span><span class="sxs-lookup"><span data-stu-id="d5712-174">Table Insert operation</span></span>|<span data-ttu-id="d5712-175">支持\*</span><span class="sxs-lookup"><span data-stu-id="d5712-175">Supported\*</span></span>|<span data-ttu-id="d5712-176">不支持之间的适配器和 Oracle 数据库。</span><span class="sxs-lookup"><span data-stu-id="d5712-176">Not supported between the adapter and the Oracle database.</span></span> <span data-ttu-id="d5712-177">支持客户端和适配器之间</span><span class="sxs-lookup"><span data-stu-id="d5712-177">Supported between the client and adapter.\*</span></span>|<span data-ttu-id="d5712-178">不支持流式处理的端到端节点的值，因为 LOB 列的值进行缓冲通过 ODP.NET，，然后执行插入。</span><span class="sxs-lookup"><span data-stu-id="d5712-178">End-to-end node-value streaming is not supported because the values of LOB columns are buffered by ODP.NET, and then the insert is performed.</span></span> <span data-ttu-id="d5712-179">但是，节点值流式处理客户端和适配器之间有可能 LOB 列，如果客户端创建的消息的**BodyWriter**。</span><span class="sxs-lookup"><span data-stu-id="d5712-179">However, node-value streaming between the client and the adapter is possible for LOB columns, if the client creates the message with a **BodyWriter**.</span></span>|  
|<span data-ttu-id="d5712-180">表选择操作</span><span class="sxs-lookup"><span data-stu-id="d5712-180">Table Select operation</span></span>|<span data-ttu-id="d5712-181">Supported</span><span class="sxs-lookup"><span data-stu-id="d5712-181">Supported</span></span>|<span data-ttu-id="d5712-182">Supported</span><span class="sxs-lookup"><span data-stu-id="d5712-182">Supported</span></span>|<span data-ttu-id="d5712-183">适配器使用**BodyWriter**创建响应消息。</span><span class="sxs-lookup"><span data-stu-id="d5712-183">The adapter uses a **BodyWriter** to create the response message.</span></span> <span data-ttu-id="d5712-184">如果客户端使用消息使用**XmlDictionaryWriter**，节点值流式处理 LOB 列时发生。</span><span class="sxs-lookup"><span data-stu-id="d5712-184">If the client consumes the message using an **XmlDictionaryWriter**, node-value streaming for LOB columns occurs.</span></span>|  
|<span data-ttu-id="d5712-185">表更新操作</span><span class="sxs-lookup"><span data-stu-id="d5712-185">Table Update operation</span></span>|<span data-ttu-id="d5712-186">Supported</span><span class="sxs-lookup"><span data-stu-id="d5712-186">Supported</span></span>|<span data-ttu-id="d5712-187">不支持之间的适配器和 Oracle 数据库。</span><span class="sxs-lookup"><span data-stu-id="d5712-187">Not supported between the adapter and the Oracle database.</span></span> <span data-ttu-id="d5712-188">支持客户端和适配器之间。</span><span class="sxs-lookup"><span data-stu-id="d5712-188">Supported between the client and adapter.</span></span>|<span data-ttu-id="d5712-189">不支持流式处理的端到端节点的值，因为 LOB 列的值进行缓冲通过 ODP.NET，，然后执行更新。</span><span class="sxs-lookup"><span data-stu-id="d5712-189">End-to-end node-value streaming is not supported because the values of LOB columns are buffered by ODP.NET, and then the update is performed.</span></span> <span data-ttu-id="d5712-190">如果客户端创建的消息的节点值流式处理客户端和适配器之间但是，有可能 LOB 列**BodyWriter**。</span><span class="sxs-lookup"><span data-stu-id="d5712-190">However, node-value streaming between the client and the adapter is possible for LOB columns if the client creates the message with a **BodyWriter**.</span></span>|  
|<span data-ttu-id="d5712-191">表删除操作</span><span class="sxs-lookup"><span data-stu-id="d5712-191">Table Delete operation</span></span>|<span data-ttu-id="d5712-192">Supported</span><span class="sxs-lookup"><span data-stu-id="d5712-192">Supported</span></span>|<span data-ttu-id="d5712-193">不支持之间的适配器和 Oracle 数据库。</span><span class="sxs-lookup"><span data-stu-id="d5712-193">Not supported between the adapter and the Oracle database.</span></span> <span data-ttu-id="d5712-194">支持客户端和适配器之间。</span><span class="sxs-lookup"><span data-stu-id="d5712-194">Supported between the client and adapter.</span></span>|<span data-ttu-id="d5712-195">不支持流式处理的端到端节点的值，因为 LOB 列的值进行缓冲 ODP.NET 通过，然后执行删除操作。</span><span class="sxs-lookup"><span data-stu-id="d5712-195">End-to-end node-value streaming is not supported because the values of LOB columns are buffered by ODP.NET and then the delete is performed.</span></span> <span data-ttu-id="d5712-196">如果客户端创建的消息的节点值流式处理客户端和适配器之间但是，有可能 LOB 列**BodyWriter**。</span><span class="sxs-lookup"><span data-stu-id="d5712-196">However, node-value streaming between the client and the adapter is possible for LOB columns if the client creates the message with a **BodyWriter**.</span></span>|  
|<span data-ttu-id="d5712-197">表 ReadLOB 操作</span><span class="sxs-lookup"><span data-stu-id="d5712-197">Table ReadLOB operation</span></span>|<span data-ttu-id="d5712-198">Supported</span><span class="sxs-lookup"><span data-stu-id="d5712-198">Supported</span></span>|<span data-ttu-id="d5712-199">Supported</span><span class="sxs-lookup"><span data-stu-id="d5712-199">Supported</span></span>|<span data-ttu-id="d5712-200">ReadLOB 操作主要设计为 WCF 服务模型中的流 LOB 数据列。</span><span class="sxs-lookup"><span data-stu-id="d5712-200">The ReadLOB operation is primarily designed to stream LOB data columns in the WCF service model.</span></span> <span data-ttu-id="d5712-201">在 WCF 通道模型中，如果客户端使用消息使用**XmlReader** (通过调用**GetReaderAtBodyContents**的响应消息的方法)，流式处理端到端节点值时发生。</span><span class="sxs-lookup"><span data-stu-id="d5712-201">In the WCF channel model, if the client consumes the message using an **XmlReader** (by invoking the **GetReaderAtBodyContents** method on the response message), end-to-end node-value streaming occurs.</span></span> <span data-ttu-id="d5712-202">这是因为该适配器返回**XmlReader**支持**ReadValueChunk**调用 ReadLOB 响应消息。</span><span class="sxs-lookup"><span data-stu-id="d5712-202">This is because the adapter returns an **XmlReader** that supports **ReadValueChunk** calls for the ReadLOB response message.</span></span> <span data-ttu-id="d5712-203">但是，建议不使用 WCF 通道模型 ReadLOB 操作。</span><span class="sxs-lookup"><span data-stu-id="d5712-203">However, it is recommended that you do not use the ReadLOB operation from the WCF channel model.</span></span> <span data-ttu-id="d5712-204">可以改为使用选择的操作或 SQLEXECUTE 操作。</span><span class="sxs-lookup"><span data-stu-id="d5712-204">You can use a Select operation or a SQLEXECUTE operation instead.</span></span>|  
|<span data-ttu-id="d5712-205">表 UpdateLOB 操作</span><span class="sxs-lookup"><span data-stu-id="d5712-205">Table UpdateLOB operation</span></span>|<span data-ttu-id="d5712-206">Supported</span><span class="sxs-lookup"><span data-stu-id="d5712-206">Supported</span></span>|<span data-ttu-id="d5712-207">Supported</span><span class="sxs-lookup"><span data-stu-id="d5712-207">Supported</span></span>|<span data-ttu-id="d5712-208">适配器使用**XmlDictionaryWriter**使用请求消息。</span><span class="sxs-lookup"><span data-stu-id="d5712-208">The adapter uses an **XmlDictionaryWriter** to consume the request message.</span></span> <span data-ttu-id="d5712-209">如果客户端使用**BodyWriter**若要创建请求消息，流式处理 LOB 数据的端到端节点的值在发生。</span><span class="sxs-lookup"><span data-stu-id="d5712-209">If the client uses a **BodyWriter** to create the request message, end-to-end node-value streaming for LOB data occurs.</span></span>|  
|<span data-ttu-id="d5712-210">SQLEXECUTE 操作</span><span class="sxs-lookup"><span data-stu-id="d5712-210">SQLEXECUTE operation</span></span>|<span data-ttu-id="d5712-211">Supported</span><span class="sxs-lookup"><span data-stu-id="d5712-211">Supported</span></span>|<span data-ttu-id="d5712-212">Supported</span><span class="sxs-lookup"><span data-stu-id="d5712-212">Supported</span></span>|<span data-ttu-id="d5712-213">适配器使用**BodyWriter**创建响应消息。</span><span class="sxs-lookup"><span data-stu-id="d5712-213">The adapter uses a **BodyWriter** to create the response message.</span></span><br /><br /> <span data-ttu-id="d5712-214">如果客户端使用**XmlDictionaryWriter**若要使用响应消息，流式处理 LOB 数据的端到端节点的值在发生。</span><span class="sxs-lookup"><span data-stu-id="d5712-214">If the client uses an **XmlDictionaryWriter** to consume the response message, end-to-end node-value streaming for the LOB data occurs.</span></span><br /><br /> <span data-ttu-id="d5712-215">不支持请求消息流式处理的端到端节点的值，因为它可以调用 Oracle 数据库的操作之前，适配器必须缓冲的所有操作数。</span><span class="sxs-lookup"><span data-stu-id="d5712-215">End-to-end node-value streaming is not supported for the request message because the adapter must buffer all operands before it can invoke the operation on the Oracle database.</span></span>|  
|<span data-ttu-id="d5712-216">存储的过程和函数的操作</span><span class="sxs-lookup"><span data-stu-id="d5712-216">Stored procedure and function operation</span></span>|<span data-ttu-id="d5712-217">Supported</span><span class="sxs-lookup"><span data-stu-id="d5712-217">Supported</span></span>|<span data-ttu-id="d5712-218">Supported</span><span class="sxs-lookup"><span data-stu-id="d5712-218">Supported</span></span>|<span data-ttu-id="d5712-219">适配器使用**BodyWriter**创建响应消息。</span><span class="sxs-lookup"><span data-stu-id="d5712-219">The adapter uses a **BodyWriter** to create the response message.</span></span><br /><br /> <span data-ttu-id="d5712-220">如果客户端使用**XmlDictionaryWriter**若要使用响应消息，流式处理 LOB 数据的端到端节点的值在发生。</span><span class="sxs-lookup"><span data-stu-id="d5712-220">If the client uses an **XmlDictionaryWriter** to consume the response message, end-to-end node-value streaming for the LOB data occurs.</span></span> <span data-ttu-id="d5712-221">(这意味着，对于扩展支持流式处理和 IN 出过程和函数参数的响应消息中。)</span><span class="sxs-lookup"><span data-stu-id="d5712-221">(This means that streaming is supported for OUT and IN OUT procedure and function parameters in the response message.)</span></span><br /><br /> <span data-ttu-id="d5712-222">不支持请求消息流式处理的端到端节点的值，因为它可以调用 Oracle 数据库的操作之前，适配器必须缓冲的所有操作数。</span><span class="sxs-lookup"><span data-stu-id="d5712-222">End-to-end node-value streaming is not supported for the request message because the adapter must buffer all operands before it can invoke the operation on the Oracle database.</span></span>|  
|<span data-ttu-id="d5712-223">POLLINGSTMT 操作</span><span class="sxs-lookup"><span data-stu-id="d5712-223">POLLINGSTMT operation</span></span>|<span data-ttu-id="d5712-224">Supported</span><span class="sxs-lookup"><span data-stu-id="d5712-224">Supported</span></span>|<span data-ttu-id="d5712-225">Supported</span><span class="sxs-lookup"><span data-stu-id="d5712-225">Supported</span></span>|<span data-ttu-id="d5712-226">适配器使用**BodyWriter**创建 POLLINGSTMT 请求消息。</span><span class="sxs-lookup"><span data-stu-id="d5712-226">The adapter uses a **BodyWriter** to create the POLLINGSTMT request message.</span></span> <span data-ttu-id="d5712-227">如果客户端使用消息使用**XmlDictionaryWriter**，则会出现节点值流式处理 LOB 列。</span><span class="sxs-lookup"><span data-stu-id="d5712-227">If the client consumes the message using an **XmlDictionaryWriter**, then node-value streaming for LOB columns occurs.</span></span>|  
  
 <span data-ttu-id="d5712-228">有关如何实现流在代码中，当使用 WCF 通道模型的 LOB 数据的信息，请参阅[流式处理 Oracle 数据库 LOB 数据类型使用 WCF 通道模型](../../adapters-and-accelerators/adapter-oracle-database/streaming-oracle-database-lob-data-types-using-the-wcf-channel-model.md)。</span><span class="sxs-lookup"><span data-stu-id="d5712-228">For information about how to implement LOB data streaming in your code when you use the WCF channel model, see [Streaming Oracle Database LOB Data Types Using the WCF Channel Model](../../adapters-and-accelerators/adapter-oracle-database/streaming-oracle-database-lob-data-types-using-the-wcf-channel-model.md).</span></span>  
  
## <a name="streaming-support-in-the-wcf-service-model"></a><span data-ttu-id="d5712-229">WCF 服务模型中的流式处理支持</span><span class="sxs-lookup"><span data-stu-id="d5712-229">Streaming Support in the WCF Service Model</span></span>  
 <span data-ttu-id="d5712-230">序列化和反序列化的 XML 表示形式一条消息的该消息的托管的代码对象的表示形式之间需要写入和读取到内存的整个消息。</span><span class="sxs-lookup"><span data-stu-id="d5712-230">Serializing and deserializing between the XML representation of a message and the managed code object representation of that message requires writing and reading the entire message into memory.</span></span> <span data-ttu-id="d5712-231">因此，节点流式处理和流式处理的节点的值都不支持针对大多数操作。</span><span class="sxs-lookup"><span data-stu-id="d5712-231">For this reason, neither node streaming nor node-value streaming is supported for most operations.</span></span>  
  
 <span data-ttu-id="d5712-232">唯一的例外是 ReadLOB 操作。</span><span class="sxs-lookup"><span data-stu-id="d5712-232">The only exception to this is the ReadLOB operation.</span></span> <span data-ttu-id="d5712-233">实现此操作是专门为了支持端到端流用于读取 WCF 服务模型中的表和视图 LOB 列。</span><span class="sxs-lookup"><span data-stu-id="d5712-233">This operation is implemented specifically to support end-to-end streaming for reading table and view LOB columns in the WCF service model.</span></span>  
  
## <a name="streaming-support-in-biztalk-server"></a><span data-ttu-id="d5712-234">BizTalk Server 中的流式处理支持</span><span class="sxs-lookup"><span data-stu-id="d5712-234">Streaming Support in BizTalk Server</span></span>  
 <span data-ttu-id="d5712-235">下表提供了有关如何流式处理在 BizTalk Server 中支持的详细的信息。</span><span class="sxs-lookup"><span data-stu-id="d5712-235">The following table provides detailed information about how streaming is supported in BizTalk Server.</span></span> <span data-ttu-id="d5712-236">(对"适配器"的所有引用都指[!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)]; WCF 自定义适配器始终由所引用它在此表中的完整名称。)</span><span class="sxs-lookup"><span data-stu-id="d5712-236">(All references to the "adapter" refer to the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)]; the WCF-Custom adapter is always referred to by its full name in this table.)</span></span>  
  
|<span data-ttu-id="d5712-237">运算</span><span class="sxs-lookup"><span data-stu-id="d5712-237">Operation</span></span>|<span data-ttu-id="d5712-238">流式处理的节点</span><span class="sxs-lookup"><span data-stu-id="d5712-238">Node Streaming</span></span>|<span data-ttu-id="d5712-239">节点值流式处理</span><span class="sxs-lookup"><span data-stu-id="d5712-239">Node-Value Streaming</span></span>|<span data-ttu-id="d5712-240">Description</span><span class="sxs-lookup"><span data-stu-id="d5712-240">Description</span></span>|  
|---------------|--------------------|---------------------------|-----------------|  
|<span data-ttu-id="d5712-241">表插入操作</span><span class="sxs-lookup"><span data-stu-id="d5712-241">Table Insert operation</span></span>|<span data-ttu-id="d5712-242">支持\*</span><span class="sxs-lookup"><span data-stu-id="d5712-242">Supported\*</span></span>|<span data-ttu-id="d5712-243">之间的适配器和 Oracle 数据库中; 不支持但是，BizTalk Server 和适配器之间进行流式处理数据。</span><span class="sxs-lookup"><span data-stu-id="d5712-243">Not supported between the adapter and the Oracle database; however, data is streamed between BizTalk Server and the adapter.</span></span>|<span data-ttu-id="d5712-244">不支持流式处理的端到端节点的值，因为 LOB 列的值进行缓冲 ODP.NET 通过，然后执行插入。</span><span class="sxs-lookup"><span data-stu-id="d5712-244">End-to-end node-value streaming is not supported because the values of LOB columns are buffered by ODP.NET and then the insert is performed.</span></span> <span data-ttu-id="d5712-245">但是，节点的值之间 BizTalk Server 和适配器流式处理支持 LOB 数据类型因为 WCF 自定义适配器创建的消息的**BodyWriter**。</span><span class="sxs-lookup"><span data-stu-id="d5712-245">However, node-value streaming between BizTalk Server and the adapter is supported for LOB data types because the WCF-Custom adapter creates the message with a **BodyWriter**.</span></span>|  
|<span data-ttu-id="d5712-246">表选择操作</span><span class="sxs-lookup"><span data-stu-id="d5712-246">Table Select operation</span></span>|<span data-ttu-id="d5712-247">Supported</span><span class="sxs-lookup"><span data-stu-id="d5712-247">Supported</span></span>|<span data-ttu-id="d5712-248">Supported</span><span class="sxs-lookup"><span data-stu-id="d5712-248">Supported</span></span>|<span data-ttu-id="d5712-249">WCF 自定义适配器使用**XmlDictionaryWriter**来使用响应消息中，因此支持 LOB 类型流式处理的端到端节点的值。</span><span class="sxs-lookup"><span data-stu-id="d5712-249">The WCF-Custom adapter uses an **XmlDictionaryWriter** to consume the response message, so end-to-end node-value streaming for LOB types is supported.</span></span>|  
|<span data-ttu-id="d5712-250">表更新操作</span><span class="sxs-lookup"><span data-stu-id="d5712-250">Table Update operation</span></span>|<span data-ttu-id="d5712-251">Supported</span><span class="sxs-lookup"><span data-stu-id="d5712-251">Supported</span></span>|<span data-ttu-id="d5712-252">之间的适配器和 Oracle 数据库中; 不支持但是，BizTalk Server 和适配器之间进行流式处理数据。</span><span class="sxs-lookup"><span data-stu-id="d5712-252">Not supported between the adapter and the Oracle database; however, data is streamed between BizTalk Server and the adapter.</span></span>|<span data-ttu-id="d5712-253">不支持流式处理的端到端节点的值，因为 LOB 列的值进行缓冲 ODP.NET 通过，然后执行更新。</span><span class="sxs-lookup"><span data-stu-id="d5712-253">End-to-end node-value streaming is not supported because the values of LOB columns are buffered by ODP.NET and then the update is performed.</span></span> <span data-ttu-id="d5712-254">但是，节点的值之间 BizTalk Server 和适配器流式处理支持 LOB 数据类型因为 WCF 自定义适配器创建的消息的**BodyWriter**。</span><span class="sxs-lookup"><span data-stu-id="d5712-254">However, node-value streaming between BizTalk Server and the adapter is supported for LOB data types because the WCF-Custom adapter creates the message with a **BodyWriter**.</span></span>|  
|<span data-ttu-id="d5712-255">表删除操作</span><span class="sxs-lookup"><span data-stu-id="d5712-255">Table Delete operation</span></span>|<span data-ttu-id="d5712-256">Supported</span><span class="sxs-lookup"><span data-stu-id="d5712-256">Supported</span></span>|<span data-ttu-id="d5712-257">之间的适配器和 Oracle 数据库中; 不支持但是，BizTalk Server 和适配器之间进行流式处理数据。</span><span class="sxs-lookup"><span data-stu-id="d5712-257">Not supported between the adapter and the Oracle database; however, data is streamed between BizTalk Server and the adapter.</span></span>|<span data-ttu-id="d5712-258">不支持流式处理的端到端节点的值，因为 LOB 列的值进行缓冲 ODP.NET 通过，然后执行删除操作。</span><span class="sxs-lookup"><span data-stu-id="d5712-258">End-to-end node-value streaming is not supported because the values of LOB columns are buffered by ODP.NET and then the delete is performed.</span></span> <span data-ttu-id="d5712-259">但是，节点的值之间 BizTalk Server 和适配器流式处理支持 LOB 数据类型因为 WCF 自定义适配器创建的消息的**BodyWriter**。</span><span class="sxs-lookup"><span data-stu-id="d5712-259">However, node-value streaming between BizTalk Server and the adapter is supported for LOB data types because the WCF-Custom adapter creates the message with a **BodyWriter**.</span></span>|  
|<span data-ttu-id="d5712-260">表 ReadLOB 操作</span><span class="sxs-lookup"><span data-stu-id="d5712-260">Table ReadLOB operation</span></span>|<span data-ttu-id="d5712-261">ReadLOB 操作不可用于 BizTalk Server。</span><span class="sxs-lookup"><span data-stu-id="d5712-261">The ReadLOB operation is not supported for BizTalk Server.</span></span>|<span data-ttu-id="d5712-262">ReadLOB 操作不可用于 BizTalk Server。</span><span class="sxs-lookup"><span data-stu-id="d5712-262">The ReadLOB operation is not supported for BizTalk Server.</span></span>|<span data-ttu-id="d5712-263">ReadLOB 操作不可用于 BizTalk Server。</span><span class="sxs-lookup"><span data-stu-id="d5712-263">The ReadLOB operation is not supported for BizTalk Server.</span></span> <span data-ttu-id="d5712-264">改为使用选择的操作或 SQLEXECUTE 操作。</span><span class="sxs-lookup"><span data-stu-id="d5712-264">Use the Select operation or a SQLEXECUTE operation instead.</span></span>|  
|<span data-ttu-id="d5712-265">表 UpdateLOB 操作</span><span class="sxs-lookup"><span data-stu-id="d5712-265">Table UpdateLOB operation</span></span>|<span data-ttu-id="d5712-266">Supported</span><span class="sxs-lookup"><span data-stu-id="d5712-266">Supported</span></span>|<span data-ttu-id="d5712-267">Supported</span><span class="sxs-lookup"><span data-stu-id="d5712-267">Supported</span></span>|<span data-ttu-id="d5712-268">WCF 自定义适配器使用**BodyWriter**创建请求消息中，因此支持流式处理 LOB 数据类型的端到端节点的值。</span><span class="sxs-lookup"><span data-stu-id="d5712-268">The WCF-Custom adapter uses a **BodyWriter** to create the request message, so end-to-end node-value streaming for LOB data types is supported.</span></span>|  
|<span data-ttu-id="d5712-269">SQLEXECUTE 操作</span><span class="sxs-lookup"><span data-stu-id="d5712-269">SQLEXECUTE operation</span></span>|<span data-ttu-id="d5712-270">Supported</span><span class="sxs-lookup"><span data-stu-id="d5712-270">Supported</span></span>|<span data-ttu-id="d5712-271">Supported</span><span class="sxs-lookup"><span data-stu-id="d5712-271">Supported</span></span>|<span data-ttu-id="d5712-272">WCF 自定义适配器使用**XmlDictionaryWriter**来使用响应消息中，因此支持流式处理响应消息中的 LOB 数据类型的端到端节点的值。</span><span class="sxs-lookup"><span data-stu-id="d5712-272">The WCF-Custom adapter uses an **XmlDictionaryWriter** to consume the response message, so end-to-end node-value streaming for LOB data types in the response message is supported.</span></span><br /><br /> <span data-ttu-id="d5712-273">不支持请求消息流式处理的端到端节点的值，因为它可以调用 Oracle 数据库的操作之前，适配器必须缓冲的所有操作数。</span><span class="sxs-lookup"><span data-stu-id="d5712-273">End-to-end node-value streaming is not supported for the request message because the adapter must buffer all operands before it can invoke the operation on the Oracle database.</span></span>|  
|<span data-ttu-id="d5712-274">存储的过程和函数的操作</span><span class="sxs-lookup"><span data-stu-id="d5712-274">Stored procedure and function operation</span></span>|<span data-ttu-id="d5712-275">Supported</span><span class="sxs-lookup"><span data-stu-id="d5712-275">Supported</span></span>|<span data-ttu-id="d5712-276">Supported</span><span class="sxs-lookup"><span data-stu-id="d5712-276">Supported</span></span>|<span data-ttu-id="d5712-277">WCF 自定义适配器使用**XmlDictionaryWriter**来使用响应消息中，因此支持流式处理响应消息中的 LOB 数据类型的端到端节点的值。</span><span class="sxs-lookup"><span data-stu-id="d5712-277">The WCF-Custom adapter uses an **XmlDictionaryWriter** to consume the response message, so end-to-end node-value streaming for LOB data types in the response message is supported.</span></span> <span data-ttu-id="d5712-278">(这意味着，对于扩展支持流式处理和 IN 出过程和函数参数的响应消息中。)</span><span class="sxs-lookup"><span data-stu-id="d5712-278">(This means that streaming is supported for OUT and IN OUT procedure and function parameters in the response message.)</span></span><br /><br /> <span data-ttu-id="d5712-279">不支持请求消息流式处理的端到端节点的值，因为它可以调用 Oracle 数据库的操作之前，适配器必须缓冲的所有操作数。</span><span class="sxs-lookup"><span data-stu-id="d5712-279">End-to-end node-value streaming is not supported for the request message because the adapter must buffer all operands before it can invoke the operation on the Oracle database.</span></span>|  
|<span data-ttu-id="d5712-280">POLLINGSTMT 操作</span><span class="sxs-lookup"><span data-stu-id="d5712-280">POLLINGSTMT operation</span></span>|<span data-ttu-id="d5712-281">Supported</span><span class="sxs-lookup"><span data-stu-id="d5712-281">Supported</span></span>|<span data-ttu-id="d5712-282">Supported</span><span class="sxs-lookup"><span data-stu-id="d5712-282">Supported</span></span>|<span data-ttu-id="d5712-283">WCF 自定义适配器使用**XmlDictionaryWriter**来使用 （入站） 请求消息，因此支持流式处理 LOB 数据类型的端到端节点的值。</span><span class="sxs-lookup"><span data-stu-id="d5712-283">The WCF-Custom adapter uses an **XmlDictionaryWriter** to consume the (inbound) request message, so end-to-end node-value streaming for LOB data types is supported.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="d5712-284">另请参阅</span><span class="sxs-lookup"><span data-stu-id="d5712-284">See Also</span></span>  
[<span data-ttu-id="d5712-285">开发 Oracle 数据库应用程序</span><span class="sxs-lookup"><span data-stu-id="d5712-285">Develop your Oracle Database applications</span></span>](../../adapters-and-accelerators/adapter-oracle-database/develop-your-oracle-database-applications.md)