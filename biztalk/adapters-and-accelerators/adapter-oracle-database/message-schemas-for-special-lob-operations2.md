---
title: "特殊 LOB Operations2 的消息架构 |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- LOB data types, message structure of
- LOB data types, message actions for
ms.assetid: 031989d5-3209-41ab-8836-a40539781e74
caps.latest.revision: "4"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 203ffc81b6dc85fcaf7b80ff097bbeb001b747cd
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
---
# <a name="message-schemas-for-special-lob-operations"></a><span data-ttu-id="dd70c-102">特殊 LOB 操作的消息架构</span><span class="sxs-lookup"><span data-stu-id="dd70c-102">Message Schemas for Special LOB Operations</span></span>
<span data-ttu-id="dd70c-103">表和视图包含 LOB 列; 中加以表示的 ReadLOB 和 UpdateLOB 操作这就是用于存储 Oracle 大型对象 (LOB) 数据的列。</span><span class="sxs-lookup"><span data-stu-id="dd70c-103">The ReadLOB and UpdateLOB operations are surfaced for tables and views that contain LOB columns; that is columns that are used to store Oracle large object (LOB) data.</span></span> <span data-ttu-id="dd70c-104">这些操作，可以读取或写入 LOB 数据作为 base64Binary 编码数据的流。</span><span class="sxs-lookup"><span data-stu-id="dd70c-104">These operations enable you to read or write the LOB data as a stream of base64Binary-encoded data.</span></span> <span data-ttu-id="dd70c-105">它们对单个列的单个行中的 LOB 数据的操作。</span><span class="sxs-lookup"><span data-stu-id="dd70c-105">They operate on a single column of LOB data in a single row.</span></span>  
  
 <span data-ttu-id="dd70c-106">ReadLOB 和 UpdateLOB 操作和支持的 Oracle LOB 数据类型的概述，请参阅[对表和视图包含 Oracle 数据库中的 LOB 数据的操作](../../adapters-and-accelerators/adapter-oracle-database/operations-on-tables-and-views-that-contain-lob-data-in-oracle-database.md)。</span><span class="sxs-lookup"><span data-stu-id="dd70c-106">For an overview of the ReadLOB and UpdateLOB operations and of the Oracle LOB data types supported, see [Operations on tables and views that contain LOB data in Oracle Database](../../adapters-and-accelerators/adapter-oracle-database/operations-on-tables-and-views-that-contain-lob-data-in-oracle-database.md).</span></span>  
  
## <a name="message-structure-of-lob-data-type-operations"></a><span data-ttu-id="dd70c-107">LOB 数据类型操作的消息结构</span><span class="sxs-lookup"><span data-stu-id="dd70c-107">Message Structure of LOB Data-Type Operations</span></span>  
 <span data-ttu-id="dd70c-108">下表显示对于 ReadLOB 和 UpdateLOB 操作请求和响应消息的结构。</span><span class="sxs-lookup"><span data-stu-id="dd70c-108">The following table shows the structure of the request and response messages for the ReadLOB and UpdateLOB operations.</span></span> <span data-ttu-id="dd70c-109">该操作的目标表中的消息操作指定，也会出现在目标命名空间。</span><span class="sxs-lookup"><span data-stu-id="dd70c-109">The target table for the operation is specified in the message action and also appears in the target namespace.</span></span>  
  
|<span data-ttu-id="dd70c-110">运算</span><span class="sxs-lookup"><span data-stu-id="dd70c-110">Operation</span></span>|<span data-ttu-id="dd70c-111">XML 消息</span><span class="sxs-lookup"><span data-stu-id="dd70c-111">XML Message</span></span>|<span data-ttu-id="dd70c-112">Description</span><span class="sxs-lookup"><span data-stu-id="dd70c-112">Description</span></span>|  
|---------------|-----------------|-----------------|  
|<span data-ttu-id="dd70c-113">ReadLOB</span><span class="sxs-lookup"><span data-stu-id="dd70c-113">ReadLOB</span></span>|`<ReadLOB xmlns="[VERSION]/[SCHEMA]/Table/[TABLE_NAME]">   <LOB_COLUMN>[COL_NAME]</LOB_COLUMN>   <FILTER>[WHERE_clause]</LOB_COLUMN> </ReadLOB>`|<span data-ttu-id="dd70c-114">中的 LOB 数据</span><span class="sxs-lookup"><span data-stu-id="dd70c-114">The LOB data in the</span></span><br /><br /> <span data-ttu-id="dd70c-115">-LOB_COLUMN 元素中，标识列和</span><span class="sxs-lookup"><span data-stu-id="dd70c-115">- column identified by the LOB_COLUMN element, and the</span></span><br /><br /> <span data-ttu-id="dd70c-116">-行相匹配 where 子句筛选器元素中指定</span><span class="sxs-lookup"><span data-stu-id="dd70c-116">- row that matches the where clause specified in the FILTER element</span></span><br /><br /> <span data-ttu-id="dd70c-117">返回。</span><span class="sxs-lookup"><span data-stu-id="dd70c-117">is returned.</span></span><br /><br /> <span data-ttu-id="dd70c-118">Where 子句应匹配只有一行。</span><span class="sxs-lookup"><span data-stu-id="dd70c-118">The where clause should match only a single row.</span></span> <span data-ttu-id="dd70c-119">如果没有多个匹配行，则返回第一个匹配行中的 LOB 数据。</span><span class="sxs-lookup"><span data-stu-id="dd70c-119">If there is more than one matching row, the LOB data in the first matching row is returned.</span></span><br /><br /> <span data-ttu-id="dd70c-120">**重要**ReadLOB 操作旨在支持的 WCF 服务模型中的 LOB 数据的输入流。</span><span class="sxs-lookup"><span data-stu-id="dd70c-120">**Important** The ReadLOB operation is designed to support input streaming of LOB data in the WCF service model.</span></span> <span data-ttu-id="dd70c-121">应使用表选择操作从 WCF 通道模型读取 LOB 数据或[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]解决方案。</span><span class="sxs-lookup"><span data-stu-id="dd70c-121">You should use a table Select operation to read LOB data from a WCF Channel Model or [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] solution.</span></span>|  
|<span data-ttu-id="dd70c-122">ReadLOB 响应</span><span class="sxs-lookup"><span data-stu-id="dd70c-122">ReadLOB Response</span></span>|`<ReadLOBResponse xmlns="[VERSION]/[SCHEMA]/Table/[TABLE_NAME]">   <ReadLOBResult>     [LOB_DATA]   </ReadLOBResult> </ReadLOBResponse>`|<span data-ttu-id="dd70c-123">LOB 数据作为 base64Binary 编码数据的流返回。</span><span class="sxs-lookup"><span data-stu-id="dd70c-123">The LOB data is returned as a stream of base64Binary encoded data.</span></span><br /><br /> <span data-ttu-id="dd70c-124">**重要**适配器返回的 WSDL 与用于适配器 ReadLOB 响应消息的实际架构不匹配。</span><span class="sxs-lookup"><span data-stu-id="dd70c-124">**Important** The WSDL returned by the adapter does not match the actual schema used by the adapter for the ReadLOB response message.</span></span>|  
|<span data-ttu-id="dd70c-125">UpdateLOB</span><span class="sxs-lookup"><span data-stu-id="dd70c-125">UpdateLOB</span></span>|`<UpdateLOB xmlns="[VERSION]/[SCHEMA]/Table/[TABLE_NAME]">   <LOB_COLUMN>[COL_NAME]</LOB_COLUMN>   <FILTER>[WHERE_clause]</LOB_COLUMN>   <Stream>[LOB_DATA]</Stream> </UpdateLOB>`|<span data-ttu-id="dd70c-126">中的 LOB 数据</span><span class="sxs-lookup"><span data-stu-id="dd70c-126">The LOB data in the</span></span><br /><br /> <span data-ttu-id="dd70c-127">-LOB_COLUMN 元素中，标识列和</span><span class="sxs-lookup"><span data-stu-id="dd70c-127">- column identified by the LOB_COLUMN element, and the</span></span><br /><br /> <span data-ttu-id="dd70c-128">-行相匹配 where 子句筛选器元素中指定</span><span class="sxs-lookup"><span data-stu-id="dd70c-128">- row that matches the where clause specified in the FILTER element</span></span><br /><br /> <span data-ttu-id="dd70c-129">使用流中的 base64Binary 编码数据更新。</span><span class="sxs-lookup"><span data-stu-id="dd70c-129">is updated with the base64Binary encoded data in the stream.</span></span><br /><br /> <span data-ttu-id="dd70c-130">Where 子句应匹配只有一行。</span><span class="sxs-lookup"><span data-stu-id="dd70c-130">The where clause should match only a single row.</span></span> <span data-ttu-id="dd70c-131">如果有多个匹配行，将引发异常。</span><span class="sxs-lookup"><span data-stu-id="dd70c-131">If there is more than one matching row, an exception is thrown.</span></span><br /><br /> <span data-ttu-id="dd70c-132">**请注意**UpdateLOB 操作将替换所有指定的列和行中的数据。</span><span class="sxs-lookup"><span data-stu-id="dd70c-132">**Note** The UpdateLOB operation replaces all of the data in the specified column and row.</span></span>|  
|<span data-ttu-id="dd70c-133">UpdateLOB 响应</span><span class="sxs-lookup"><span data-stu-id="dd70c-133">UpdateLOB Response</span></span>|`<UpdateLOBResponse xmlns="[VERSION]/[SCHEMA]/Table/[TABLE_NAME]"> </UpdateLOBResponse>`|<span data-ttu-id="dd70c-134">返回一个空响应。</span><span class="sxs-lookup"><span data-stu-id="dd70c-134">An empty response is returned.</span></span>|  
  
 <span data-ttu-id="dd70c-135">[VERSION] = 消息版本字符串;例如，"http://Microsoft.LobServices/OracleDB/2007/03"。</span><span class="sxs-lookup"><span data-stu-id="dd70c-135">[VERSION] = The message version string; for example, "http://Microsoft.LobServices/OracleDB/2007/03".</span></span>  
  
 <span data-ttu-id="dd70c-136">[架构] = Oracle 集合项目;例如，SCOTT。</span><span class="sxs-lookup"><span data-stu-id="dd70c-136">[SCHEMA] = Collection of Oracle artifacts; for example, SCOTT.</span></span>  
  
 <span data-ttu-id="dd70c-137">[TABLE_NAME] = 包含目标的 LOB 列; 的表例如，EMP。</span><span class="sxs-lookup"><span data-stu-id="dd70c-137">[TABLE_NAME] = The table that contains the targeted LOB column; for example, EMP.</span></span>  
  
 <span data-ttu-id="dd70c-138">[COL_NAME] = 目标的 LOB 列; 的名称例如，LOB_FIELD。</span><span class="sxs-lookup"><span data-stu-id="dd70c-138">[COL_NAME] = The name of the targeted LOB column; for example, LOB_FIELD.</span></span>  
  
 <span data-ttu-id="dd70c-139">[WHERE_clause] = An Oracle 数据库的 SELECT 语句的 WHERE 子句，匹配单个行;例如，ID = 1。</span><span class="sxs-lookup"><span data-stu-id="dd70c-139">[WHERE_clause] = An Oracle database SELECT statement WHERE clause that matches a single row; for example, ID = 1.</span></span>  
  
 <span data-ttu-id="dd70c-140">[LOB_DATA] = base64Binary 类型中的 LOB 列数据。</span><span class="sxs-lookup"><span data-stu-id="dd70c-140">[LOB_DATA] = The LOB column data in base64Binary type.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="dd70c-141">在视图上的 ReadLOB 和 UpdateLOB 操作的消息结构相同表只是该操作的命名空间指定视图而不是表： `<ReadLOB xmlns ="[VERSION]/[SCHEMA]/``View``/[VIEW_NAME]">`。</span><span class="sxs-lookup"><span data-stu-id="dd70c-141">The message structure for the ReadLOB and UpdateLOB operations on views is the same as that on tables except that the namespace for the operation specifies a view rather than a table: `<ReadLOB xmlns ="[VERSION]/[SCHEMA]/``View``/[VIEW_NAME]">`.</span></span>  
  
## <a name="message-actions-for-lob-data-type-operations"></a><span data-ttu-id="dd70c-142">LOB 数据类型操作的消息操作</span><span class="sxs-lookup"><span data-stu-id="dd70c-142">Message Actions for LOB Data-Type Operations</span></span>  
 <span data-ttu-id="dd70c-143">下表显示使用的消息操作[!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)]表上的 ReadLOB 和 UpdateLOB 操作。</span><span class="sxs-lookup"><span data-stu-id="dd70c-143">The following table shows the message actions that are used by the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] for the ReadLOB and UpdateLOB operations on tables.</span></span> <span data-ttu-id="dd70c-144">[!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)]使用的消息操作中指定的表名称来确定该操作的目标表。</span><span class="sxs-lookup"><span data-stu-id="dd70c-144">The [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] uses the table name specified in the message action to determine the target table for the operation.</span></span>  
  
|<span data-ttu-id="dd70c-145">运算</span><span class="sxs-lookup"><span data-stu-id="dd70c-145">Operation</span></span>|<span data-ttu-id="dd70c-146">操作</span><span class="sxs-lookup"><span data-stu-id="dd70c-146">Action</span></span>|<span data-ttu-id="dd70c-147">示例</span><span class="sxs-lookup"><span data-stu-id="dd70c-147">Example</span></span>|  
|---------------|------------|-------------|  
|<span data-ttu-id="dd70c-148">ReadLOB</span><span class="sxs-lookup"><span data-stu-id="dd70c-148">ReadLOB</span></span>|`[VERSION]/[SCHEMA]/Table/[TABLE_NAME]/ReadLOB`|`http:/Microsoft.LobServices.OracleDB/2007/03/SCOTT/Table/CUSTOMER/ReadLOB`|  
|<span data-ttu-id="dd70c-149">ReadLOB 响应</span><span class="sxs-lookup"><span data-stu-id="dd70c-149">ReadLOB Response</span></span>|`[VERSION]/[SCHEMA]/Table/[TABLE_NAME]/ReadLOB/response`|`http:/Microsoft.LobServices.OracleDB/2007/03/SCOTT/Table/CUSTOMER/ReadLOB/response`|  
|<span data-ttu-id="dd70c-150">UpdateLOB</span><span class="sxs-lookup"><span data-stu-id="dd70c-150">UpdateLOB</span></span>|`[VERSION]/[SCHEMA]/Table/[TABLE_NAME]/UpdateLOB`|`http:/Microsoft.LobServices.OracleDB/2007/03/SCOTT/Table/CUSTOMER/UpdateLOB`|  
|<span data-ttu-id="dd70c-151">UpdateLOB 响应</span><span class="sxs-lookup"><span data-stu-id="dd70c-151">UpdateLOB Response</span></span>|`[VERSION]/[SCHEMA]/Table/[TABLE_NAME]/UpdateLOB/response`|`http:/Microsoft.LobServices.OracleDB/2007/03/SCOTT/Table/CUSTOMER/UpdateLOB/response`|  
  
 <span data-ttu-id="dd70c-152">[VERSION] = 消息版本字符串;例如，"http://Microsoft.LobServices.OracleDB/2007/03"。</span><span class="sxs-lookup"><span data-stu-id="dd70c-152">[VERSION] = The message version string; for example, "http://Microsoft.LobServices.OracleDB/2007/03".</span></span>  
  
 <span data-ttu-id="dd70c-153">[架构] = Oracle 集合项目;例如，SCOTT。</span><span class="sxs-lookup"><span data-stu-id="dd70c-153">[SCHEMA] = Collection of Oracle artifacts; for example, SCOTT.</span></span>  
  
 <span data-ttu-id="dd70c-154">[TABLE_NAME] = 包含目标的 LOB 列; 的表例如，客户。</span><span class="sxs-lookup"><span data-stu-id="dd70c-154">[TABLE_NAME] = The table that contains the targeted LOB column; for example, CUSTOMER.</span></span> <span data-ttu-id="dd70c-155">(SCOTT。CUSTOMER 表是由安装这些示例中包含的 SQL 脚本。）</span><span class="sxs-lookup"><span data-stu-id="dd70c-155">(The SCOTT.CUSTOMER table is installed by a SQL script included in the samples.)</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="dd70c-156">在视图上的 ReadLOB 和 UpdateLOB 操作的消息操作类似于用于表，只是操作的操作指定了一个视图，而不是表： `[VERSION]/[SCHEMA]/View/[VIEW_NAME]/ReadLOB`。</span><span class="sxs-lookup"><span data-stu-id="dd70c-156">The message action for ReadLOB and UpdateLOB operations on views is similar to that used for tables, except that action for the operation specifies a view rather than a table: `[VERSION]/[SCHEMA]/View/[VIEW_NAME]/ReadLOB`.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="dd70c-157">另请参阅</span><span class="sxs-lookup"><span data-stu-id="dd70c-157">See Also</span></span>  
 [<span data-ttu-id="dd70c-158">消息和用于 Oracle 数据库的 BizTalk Adapter 的消息架构</span><span class="sxs-lookup"><span data-stu-id="dd70c-158">Messages and Message Schemas for BizTalk Adapter for Oracle Database</span></span>](../../adapters-and-accelerators/adapter-oracle-database/messages-and-message-schemas-for-biztalk-adapter-for-oracle-database.md)