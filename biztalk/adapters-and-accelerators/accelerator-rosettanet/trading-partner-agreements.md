---
title: 贸易合作伙伴协议 |Microsoft 文档
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- trading partners, agreements
- agreements, trading partners
ms.assetid: 846466d2-db39-42ba-8be1-ecca83a55a02
caps.latest.revision: ''
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 26c8ac38e9b3dd0c32b496f3f7750fa0dcd982a1
ms.sourcegitcommit: 8418b1a8f38b7f56979cd6e203f0b591e2f40fe1
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/23/2018
---
# <a name="trading-partner-agreements"></a><span data-ttu-id="f4244-102">贸易合作伙伴协议</span><span class="sxs-lookup"><span data-stu-id="f4244-102">Trading Partner Agreements</span></span>
[!INCLUDE[btsCoName](../../includes/btsconame-md.md)]<span data-ttu-id="f4244-103"> [!INCLUDE[BTARN_CurrentVersion_FirstRef](../../includes/btarn-currentversion-firstref-md.md)] 通过贸易合作伙伴协议 (TPA) 来处理与合作伙伴的消息交换。</span><span class="sxs-lookup"><span data-stu-id="f4244-103"> [!INCLUDE[BTARN_CurrentVersion_FirstRef](../../includes/btarn-currentversion-firstref-md.md)] processes message exchange with a partner by a trading partner agreement (TPA).</span></span> <span data-ttu-id="f4244-104">TPA 定义消息处理和验证两个合作伙伴之间的特性。</span><span class="sxs-lookup"><span data-stu-id="f4244-104">The TPA defines the specifics of message processing and validation between the two partners.</span></span> <span data-ttu-id="f4244-105">它定义了这些合作伙伴如何实现相关的合作伙伴接口过程 (PIP)，它指定某个特定消息类型的所有实现的消息内容。</span><span class="sxs-lookup"><span data-stu-id="f4244-105">It defines how those partners implement the relevant Partner Interface Process (PIP), which specifies the message content for all implementations of a specific message type.</span></span> <span data-ttu-id="f4244-106">TPA 还定义合作伙伴如何通过 Internet 交换消息的详细的信息。</span><span class="sxs-lookup"><span data-stu-id="f4244-106">The TPA also defines specifics of how the partners exchange messages over the Internet.</span></span>  
  
## <a name="trading-partner-agreement-contents"></a><span data-ttu-id="f4244-107">贸易合作伙伴协议内容</span><span class="sxs-lookup"><span data-stu-id="f4244-107">Trading Partner Agreement Contents</span></span>  
 <span data-ttu-id="f4244-108">每个贸易合作伙伴协议包括以下信息：</span><span class="sxs-lookup"><span data-stu-id="f4244-108">Each trading partner agreement includes the following information:</span></span>  
  
-   <span data-ttu-id="f4244-109">贸易合作伙伴的标识</span><span class="sxs-lookup"><span data-stu-id="f4244-109">The identities of the trading partners</span></span>  
  
-   <span data-ttu-id="f4244-110">公共，按照定义，处理 RosettaNet 实现框架 (RNIF) 版本 — 每个 TPA 引用单个公共进程用于启动或响应 PIP 操作</span><span class="sxs-lookup"><span data-stu-id="f4244-110">The public process, as defined by the RosettaNet Implementation Framework (RNIF) version—each TPA references a single public process to initiate or respond to PIP actions</span></span>  
  
-   <span data-ttu-id="f4244-111">过程配置的配置文件， [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] PIP 的实现</span><span class="sxs-lookup"><span data-stu-id="f4244-111">The process configuration profile, the [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] implementation of the PIP</span></span>  
  
-   <span data-ttu-id="f4244-112">ASPX 设置，包括操作、 信号和同步 Url</span><span class="sxs-lookup"><span data-stu-id="f4244-112">ASPX settings, including the action, signal, and synchronous URLs</span></span>  
  
-   <span data-ttu-id="f4244-113">用于编码和加密协议</span><span class="sxs-lookup"><span data-stu-id="f4244-113">Protocols for encoding and encryption</span></span>  
  
-   <span data-ttu-id="f4244-114">自定义属性</span><span class="sxs-lookup"><span data-stu-id="f4244-114">Custom properties</span></span>  
  
 <span data-ttu-id="f4244-115">要创建贸易合作伙伴协议，必须使用 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 管理控制台创建流程配置。</span><span class="sxs-lookup"><span data-stu-id="f4244-115">To create a trading partner agreement, you must use the [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] Management Console to create a process configuration.</span></span> <span data-ttu-id="f4244-116">你通常基础上 RosettaNet PIP，此配置，但可以还使它基于自定义的架构。</span><span class="sxs-lookup"><span data-stu-id="f4244-116">You typically base this configuration on a RosettaNet PIP, but you can also base it on a custom schema.</span></span> <span data-ttu-id="f4244-117">你必须使用控制台来创建本组织和合作伙伴。</span><span class="sxs-lookup"><span data-stu-id="f4244-117">You must also use the console to create a home organization and a partner.</span></span> [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="f4244-118"> 不支持未知的参与方之间的消息交换。</span><span class="sxs-lookup"><span data-stu-id="f4244-118"> does not support message exchange between unknown parties.</span></span> <span data-ttu-id="f4244-119">创建的配置和组织后，可以使用管理控制台来创建合作伙伴协议。</span><span class="sxs-lookup"><span data-stu-id="f4244-119">After you create the configuration and the organization, you can then use the Management Console to create a partner agreement.</span></span>  
  
### <a name="process-configuration"></a><span data-ttu-id="f4244-120">流程配置</span><span class="sxs-lookup"><span data-stu-id="f4244-120">Process Configuration</span></span>  
 <span data-ttu-id="f4244-121">这些设置决定了 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 如何处理消息内容；</span><span class="sxs-lookup"><span data-stu-id="f4244-121">These settings determine how [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] processes message content.</span></span> <span data-ttu-id="f4244-122">指定了 RosettaNet PIP，并指示 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 将如何实现 PIP。</span><span class="sxs-lookup"><span data-stu-id="f4244-122">They specify the RosettaNet PIP, and indicate how [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] will implement the PIP.</span></span> <span data-ttu-id="f4244-123">若要执行此操作，它们提供特定值的行为的设置，PIP 指定，例如，超时和重试值。</span><span class="sxs-lookup"><span data-stu-id="f4244-123">To do this, they provide specific values for the behavioral settings that the PIP specifies, for example, time-out and retry values.</span></span> <span data-ttu-id="f4244-124">因此，两组不同的伙伴或一组相同的合作伙伴，还可以用两种不同方式实现相同的 PIP。</span><span class="sxs-lookup"><span data-stu-id="f4244-124">Therefore, two different sets of partners, or the same set of partners, can implement the same PIP in two different ways.</span></span>  
  
 <span data-ttu-id="f4244-125">这些设置也指定的标准 （RosettaNet 或 CIDX） 和家庭的组织与伙伴角色的常规方面。</span><span class="sxs-lookup"><span data-stu-id="f4244-125">These settings also specify the standard (RosettaNet or CIDX), and general aspects of the home organization and partner roles.</span></span> <span data-ttu-id="f4244-126">你还可以创建非 RosettaNet 内容的过程配置。</span><span class="sxs-lookup"><span data-stu-id="f4244-126">You can also create a process configuration for non-RosettaNet content.</span></span> <span data-ttu-id="f4244-127">若要执行此操作，必须为该内容创建架构，然后创建基于该架构的配置。</span><span class="sxs-lookup"><span data-stu-id="f4244-127">To do this, you must create a schema for that content, and then create the configuration based on that schema.</span></span> <span data-ttu-id="f4244-128">有关非 RosettaNet 内容，你必须输入值为消息标准、 标准版中和负载绑定 ID 设置**常规**选项卡中**过程配置设置**对话框。</span><span class="sxs-lookup"><span data-stu-id="f4244-128">For non-RosettaNet content, you must enter values for the Message standard, Standard version, and Payload Binding ID settings on the **General** tab in the **Process Configuration Settings** dialog box.</span></span> <span data-ttu-id="f4244-129">仅可以通过使用 RNIF 2.0 传输非 RosettaNet 内容。</span><span class="sxs-lookup"><span data-stu-id="f4244-129">You can only transport non-RosettaNet content by using RNIF 2.0.</span></span>  
  
 <span data-ttu-id="f4244-130">有关设置这些属性的详细信息，请参阅[如何创建或编辑过程配置](../../adapters-and-accelerators/accelerator-rosettanet/how-to-create-or-edit-a-process-configuration.md)。</span><span class="sxs-lookup"><span data-stu-id="f4244-130">For more information about setting these properties, see [How to Create or Edit a Process Configuration](../../adapters-and-accelerators/accelerator-rosettanet/how-to-create-or-edit-a-process-configuration.md).</span></span>  
  
### <a name="home-organization"></a><span data-ttu-id="f4244-131">本组织</span><span class="sxs-lookup"><span data-stu-id="f4244-131">Home Organization</span></span>  
 <span data-ttu-id="f4244-132">这些设置用于定义本组织将启动消息。</span><span class="sxs-lookup"><span data-stu-id="f4244-132">These settings define the home organization that will initiate messages.</span></span> <span data-ttu-id="f4244-133">这些设置包括全局业务标识符 (GBI)，即是业务的唯一标识符的 DUNS 编号，并且联系某些事务中所需的信息。</span><span class="sxs-lookup"><span data-stu-id="f4244-133">The settings include a Global Business Identifier (GBI), which is the DUNS number that is the unique identifier of the business, and contact information that is required in some transactions.</span></span> <span data-ttu-id="f4244-134">有关设置这些属性的详细信息，请参阅[创建或编辑了主页的组织](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-a-home-organization.md)。</span><span class="sxs-lookup"><span data-stu-id="f4244-134">For more information about setting these properties, see [Creating or Editing a Home Organization](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-a-home-organization.md).</span></span>  
  
### <a name="partner-organization"></a><span data-ttu-id="f4244-135">伙伴组织</span><span class="sxs-lookup"><span data-stu-id="f4244-135">Partner Organization</span></span>  
 <span data-ttu-id="f4244-136">这些设置用于定义将接收和响应消息的合作伙伴。</span><span class="sxs-lookup"><span data-stu-id="f4244-136">These settings define the partner that will receive and respond to messages.</span></span> [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="f4244-137"> 验证每个传入 RNIF 消息来自有效的当事方，具有与主组织协议。</span><span class="sxs-lookup"><span data-stu-id="f4244-137"> validates that each incoming RNIF message originated from a valid party who has an agreement with the home organization.</span></span> <span data-ttu-id="f4244-138">如果不是，则 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 验证失败，不处理该消息。</span><span class="sxs-lookup"><span data-stu-id="f4244-138">If not, [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] will fail to authenticate and not process the message.</span></span> <span data-ttu-id="f4244-139">有关设置这些属性的详细信息，请参阅[创建或编辑合作伙伴](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-a-partner.md)。</span><span class="sxs-lookup"><span data-stu-id="f4244-139">For more information about setting these properties, see [Creating or Editing a Partner](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-a-partner.md).</span></span>  
  
### <a name="agreements-trading-partner-agreement-variables"></a><span data-ttu-id="f4244-140">协议 （贸易合作伙伴协议变量）</span><span class="sxs-lookup"><span data-stu-id="f4244-140">Agreements (Trading Partner Agreement Variables)</span></span>  
 <span data-ttu-id="f4244-141">协议指定贸易合作伙伴关系的所有方面。</span><span class="sxs-lookup"><span data-stu-id="f4244-141">The agreement specifies all aspects of the trading partner relationship.</span></span> <span data-ttu-id="f4244-142">正如在 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 管理控制台中定义的那样，协议指定了流程配置设置的显示代码；</span><span class="sxs-lookup"><span data-stu-id="f4244-142">It specifies the display code of the process configuration settings, as defined in the [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] Management Console.</span></span> <span data-ttu-id="f4244-143">它还指定 RNIF 版本、 端口 Url、 协议设置 （编码和加密） 和其他变量。</span><span class="sxs-lookup"><span data-stu-id="f4244-143">It also specifies the RNIF version, port URLs, protocol settings (encoding and encryption), and other variables.</span></span> <span data-ttu-id="f4244-144">有关设置这些属性的详细信息，请参阅[创建或编辑协议](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-an-agreement.md)。</span><span class="sxs-lookup"><span data-stu-id="f4244-144">For more information about setting these properties, see [Creating or Editing an Agreement](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-an-agreement.md).</span></span>  
  
 <span data-ttu-id="f4244-145">有关管理控制台的详细信息，请参阅[管理配置、 证书、 数据库和安全](manage-configuration-certificates-databases-security.md)。</span><span class="sxs-lookup"><span data-stu-id="f4244-145">For more information about the management console, see [Manage configuration, certificates, databases, and security](manage-configuration-certificates-databases-security.md).</span></span> <span data-ttu-id="f4244-146">此外可以获取类和接口的开发人员参考 Microsoft.Solutions.BTARN.ConfigurationManager Namespace 通过这些设置的只读的编程访问。</span><span class="sxs-lookup"><span data-stu-id="f4244-146">You can also gain read-only programmatic access to these settings through the classes and interfaces in the Microsoft.Solutions.BTARN.ConfigurationManager Namespace in the Developer Reference.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f4244-147">另请参阅</span><span class="sxs-lookup"><span data-stu-id="f4244-147">See Also</span></span>  
 <span data-ttu-id="f4244-148">[BizTalk Accelerator for RosettaNet 将添加到 BizTalk Server](../../adapters-and-accelerators/accelerator-rosettanet/what-biztalk-accelerator-for-rosettanet-adds-to-biztalk-server.md) </span><span class="sxs-lookup"><span data-stu-id="f4244-148">[What BizTalk Accelerator for RosettaNet Adds to BizTalk Server](../../adapters-and-accelerators/accelerator-rosettanet/what-biztalk-accelerator-for-rosettanet-adds-to-biztalk-server.md) </span></span>  
 <span data-ttu-id="f4244-149">[RNIF 管道](../../adapters-and-accelerators/accelerator-rosettanet/rnif-pipelines.md) </span><span class="sxs-lookup"><span data-stu-id="f4244-149">[RNIF Pipelines](../../adapters-and-accelerators/accelerator-rosettanet/rnif-pipelines.md) </span></span>  
 <span data-ttu-id="f4244-150">[如何创建或编辑过程配置](../../adapters-and-accelerators/accelerator-rosettanet/how-to-create-or-edit-a-process-configuration.md) </span><span class="sxs-lookup"><span data-stu-id="f4244-150">[How to Create or Edit a Process Configuration](../../adapters-and-accelerators/accelerator-rosettanet/how-to-create-or-edit-a-process-configuration.md) </span></span>  
 <span data-ttu-id="f4244-151">[创建或编辑主组织](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-a-home-organization.md) </span><span class="sxs-lookup"><span data-stu-id="f4244-151">[Creating or Editing a Home Organization](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-a-home-organization.md) </span></span>  
 <span data-ttu-id="f4244-152">[创建或编辑合作伙伴](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-a-partner.md) </span><span class="sxs-lookup"><span data-stu-id="f4244-152">[Creating or Editing a Partner](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-a-partner.md) </span></span>  
 [<span data-ttu-id="f4244-153">创建或编辑协议</span><span class="sxs-lookup"><span data-stu-id="f4244-153">Creating or Editing an Agreement</span></span>](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-an-agreement.md)