---
title: 贸易合作伙伴协议 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- trading partners, agreements
- agreements, trading partners
ms.assetid: 846466d2-db39-42ba-8be1-ecca83a55a02
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: bc197479f20453225d70d425a0f59290c79e5d84
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65280481"
---
# <a name="trading-partner-agreements"></a><span data-ttu-id="b4650-102">贸易合作伙伴协议</span><span class="sxs-lookup"><span data-stu-id="b4650-102">Trading Partner Agreements</span></span>
<span data-ttu-id="b4650-103">Microsoft[!INCLUDE[BTARN_CurrentVersion_FirstRef](../../includes/btarn-currentversion-firstref-md.md)]的贸易合作伙伴协议 (TPA) 来处理与合作伙伴交换消息。</span><span class="sxs-lookup"><span data-stu-id="b4650-103">Microsoft [!INCLUDE[BTARN_CurrentVersion_FirstRef](../../includes/btarn-currentversion-firstref-md.md)] processes message exchange with a partner by a trading partner agreement (TPA).</span></span> <span data-ttu-id="b4650-104">TPA 定义消息处理和验证两个合作伙伴之间的细节。</span><span class="sxs-lookup"><span data-stu-id="b4650-104">The TPA defines the specifics of message processing and validation between the two partners.</span></span> <span data-ttu-id="b4650-105">它定义了这些合作伙伴如何实现相关的合作伙伴接口流程 (PIP)，它指定特定的消息类型的所有实现的消息内容。</span><span class="sxs-lookup"><span data-stu-id="b4650-105">It defines how those partners implement the relevant Partner Interface Process (PIP), which specifies the message content for all implementations of a specific message type.</span></span> <span data-ttu-id="b4650-106">TPA 还定义合作伙伴通过 Internet 交换消息的方式的详细信息。</span><span class="sxs-lookup"><span data-stu-id="b4650-106">The TPA also defines specifics of how the partners exchange messages over the Internet.</span></span>  
  
## <a name="trading-partner-agreement-contents"></a><span data-ttu-id="b4650-107">贸易合作伙伴协议内容</span><span class="sxs-lookup"><span data-stu-id="b4650-107">Trading Partner Agreement Contents</span></span>  
 <span data-ttu-id="b4650-108">每个贸易合作伙伴协议包括以下信息：</span><span class="sxs-lookup"><span data-stu-id="b4650-108">Each trading partner agreement includes the following information:</span></span>  
  
- <span data-ttu-id="b4650-109">贸易合作伙伴的标识</span><span class="sxs-lookup"><span data-stu-id="b4650-109">The identities of the trading partners</span></span>  
  
- <span data-ttu-id="b4650-110">公用流程，如 RosettaNet 实现框架 (RNIF) 版本定义的 — 每个 TPA 引用单个公用流程，以便发起或响应 PIP 操作</span><span class="sxs-lookup"><span data-stu-id="b4650-110">The public process, as defined by the RosettaNet Implementation Framework (RNIF) version—each TPA references a single public process to initiate or respond to PIP actions</span></span>  
  
- <span data-ttu-id="b4650-111">流程配置的配置文件， [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] PIP 的实现</span><span class="sxs-lookup"><span data-stu-id="b4650-111">The process configuration profile, the [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] implementation of the PIP</span></span>  
  
- <span data-ttu-id="b4650-112">ASPX 设置，包括操作、 信号和同步 Url</span><span class="sxs-lookup"><span data-stu-id="b4650-112">ASPX settings, including the action, signal, and synchronous URLs</span></span>  
  
- <span data-ttu-id="b4650-113">用于编码和加密协议</span><span class="sxs-lookup"><span data-stu-id="b4650-113">Protocols for encoding and encryption</span></span>  
  
- <span data-ttu-id="b4650-114">自定义属性</span><span class="sxs-lookup"><span data-stu-id="b4650-114">Custom properties</span></span>  
  
  <span data-ttu-id="b4650-115">若要创建贸易合作伙伴协议，必须使用[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]管理控制台创建流程配置。</span><span class="sxs-lookup"><span data-stu-id="b4650-115">To create a trading partner agreement, you must use the [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] Management Console to create a process configuration.</span></span> <span data-ttu-id="b4650-116">您通常基于在 RosettaNet PIP，此配置，但也可以基于其自定义架构。</span><span class="sxs-lookup"><span data-stu-id="b4650-116">You typically base this configuration on a RosettaNet PIP, but you can also base it on a custom schema.</span></span> <span data-ttu-id="b4650-117">您必须使用控制台创建本组织和合作伙伴。</span><span class="sxs-lookup"><span data-stu-id="b4650-117">You must also use the console to create a home organization and a partner.</span></span> [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] <span data-ttu-id="b4650-118">不支持在未知参与方之间交换消息。</span><span class="sxs-lookup"><span data-stu-id="b4650-118">does not support message exchange between unknown parties.</span></span> <span data-ttu-id="b4650-119">配置和组织创建之后，可以使用管理控制台创建合作伙伴协议。</span><span class="sxs-lookup"><span data-stu-id="b4650-119">After you create the configuration and the organization, you can then use the Management Console to create a partner agreement.</span></span>  
  
### <a name="process-configuration"></a><span data-ttu-id="b4650-120">过程配置</span><span class="sxs-lookup"><span data-stu-id="b4650-120">Process Configuration</span></span>  
 <span data-ttu-id="b4650-121">这些设置确定如何[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]处理消息内容。</span><span class="sxs-lookup"><span data-stu-id="b4650-121">These settings determine how [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] processes message content.</span></span> <span data-ttu-id="b4650-122">它们指定了 RosettaNet PIP，并指示如何[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]将实现 PIP。</span><span class="sxs-lookup"><span data-stu-id="b4650-122">They specify the RosettaNet PIP, and indicate how [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] will implement the PIP.</span></span> <span data-ttu-id="b4650-123">若要执行此操作，它们提供特定值的行为的设置，PIP 指定，例如，超时和重试值。</span><span class="sxs-lookup"><span data-stu-id="b4650-123">To do this, they provide specific values for the behavioral settings that the PIP specifies, for example, time-out and retry values.</span></span> <span data-ttu-id="b4650-124">因此，两组不同的合作伙伴或一组相同的合作伙伴，还可以用两种不同方式实现同一 PIP。</span><span class="sxs-lookup"><span data-stu-id="b4650-124">Therefore, two different sets of partners, or the same set of partners, can implement the same PIP in two different ways.</span></span>  
  
 <span data-ttu-id="b4650-125">这些设置还指定的标准 （RosettaNet 或 CIDX） 和本组织和合作伙伴角色的常规方面。</span><span class="sxs-lookup"><span data-stu-id="b4650-125">These settings also specify the standard (RosettaNet or CIDX), and general aspects of the home organization and partner roles.</span></span> <span data-ttu-id="b4650-126">此外可以创建流程配置对于非 RosettaNet 内容。</span><span class="sxs-lookup"><span data-stu-id="b4650-126">You can also create a process configuration for non-RosettaNet content.</span></span> <span data-ttu-id="b4650-127">若要执行此操作，必须为该内容创建架构，然后创建基于该架构的配置。</span><span class="sxs-lookup"><span data-stu-id="b4650-127">To do this, you must create a schema for that content, and then create the configuration based on that schema.</span></span> <span data-ttu-id="b4650-128">对于非 RosettaNet 内容，您必须输入的值的消息标准、 标准版和负载绑定 ID 设置**常规**选项卡**流程配置设置**对话框。</span><span class="sxs-lookup"><span data-stu-id="b4650-128">For non-RosettaNet content, you must enter values for the Message standard, Standard version, and Payload Binding ID settings on the **General** tab in the **Process Configuration Settings** dialog box.</span></span> <span data-ttu-id="b4650-129">仅可以通过使用 RNIF 2.0 传输非 RosettaNet 内容。</span><span class="sxs-lookup"><span data-stu-id="b4650-129">You can only transport non-RosettaNet content by using RNIF 2.0.</span></span>  
  
 <span data-ttu-id="b4650-130">有关如何设置这些属性的详细信息，请参阅[如何创建或编辑流程配置](../../adapters-and-accelerators/accelerator-rosettanet/how-to-create-or-edit-a-process-configuration.md)。</span><span class="sxs-lookup"><span data-stu-id="b4650-130">For more information about setting these properties, see [How to Create or Edit a Process Configuration](../../adapters-and-accelerators/accelerator-rosettanet/how-to-create-or-edit-a-process-configuration.md).</span></span>  
  
### <a name="home-organization"></a><span data-ttu-id="b4650-131">本组织</span><span class="sxs-lookup"><span data-stu-id="b4650-131">Home Organization</span></span>  
 <span data-ttu-id="b4650-132">这些设置定义本组织，将启动的消息。</span><span class="sxs-lookup"><span data-stu-id="b4650-132">These settings define the home organization that will initiate messages.</span></span> <span data-ttu-id="b4650-133">设置包括全局业务标识符 (GBI)，即是业务的唯一标识符的 duns 和联系人中某些交易记录所需的信息。</span><span class="sxs-lookup"><span data-stu-id="b4650-133">The settings include a Global Business Identifier (GBI), which is the DUNS number that is the unique identifier of the business, and contact information that is required in some transactions.</span></span> <span data-ttu-id="b4650-134">有关如何设置这些属性的详细信息，请参阅[创建或编辑本组织](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-a-home-organization.md)。</span><span class="sxs-lookup"><span data-stu-id="b4650-134">For more information about setting these properties, see [Creating or Editing a Home Organization](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-a-home-organization.md).</span></span>  
  
### <a name="partner-organization"></a><span data-ttu-id="b4650-135">合作伙伴组织</span><span class="sxs-lookup"><span data-stu-id="b4650-135">Partner Organization</span></span>  
 <span data-ttu-id="b4650-136">这些设置用于定义将接收和响应消息的合作伙伴。</span><span class="sxs-lookup"><span data-stu-id="b4650-136">These settings define the partner that will receive and respond to messages.</span></span> [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] <span data-ttu-id="b4650-137">验证每个传入的 RNIF 消息来自有效的当事方拥有与本组织的协议。</span><span class="sxs-lookup"><span data-stu-id="b4650-137">validates that each incoming RNIF message originated from a valid party who has an agreement with the home organization.</span></span> <span data-ttu-id="b4650-138">如果没有，[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]将无法进行身份验证并处理该消息。</span><span class="sxs-lookup"><span data-stu-id="b4650-138">If not, [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] will fail to authenticate and not process the message.</span></span> <span data-ttu-id="b4650-139">有关如何设置这些属性的详细信息，请参阅[创建或编辑合作伙伴](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-a-partner.md)。</span><span class="sxs-lookup"><span data-stu-id="b4650-139">For more information about setting these properties, see [Creating or Editing a Partner](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-a-partner.md).</span></span>  
  
### <a name="agreements-trading-partner-agreement-variables"></a><span data-ttu-id="b4650-140">协议 （贸易合作伙伴协议变量）</span><span class="sxs-lookup"><span data-stu-id="b4650-140">Agreements (Trading Partner Agreement Variables)</span></span>  
 <span data-ttu-id="b4650-141">该协议指定贸易合作伙伴关系的所有方面。</span><span class="sxs-lookup"><span data-stu-id="b4650-141">The agreement specifies all aspects of the trading partner relationship.</span></span> <span data-ttu-id="b4650-142">它指定流程配置设置，显示代码中定义[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]管理控制台。</span><span class="sxs-lookup"><span data-stu-id="b4650-142">It specifies the display code of the process configuration settings, as defined in the [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] Management Console.</span></span> <span data-ttu-id="b4650-143">它还指定 RNIF 版本、 端口 Url、 协议设置 （编码和加密） 和其他变量。</span><span class="sxs-lookup"><span data-stu-id="b4650-143">It also specifies the RNIF version, port URLs, protocol settings (encoding and encryption), and other variables.</span></span> <span data-ttu-id="b4650-144">有关如何设置这些属性的详细信息，请参阅[创建或编辑协议](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-an-agreement.md)。</span><span class="sxs-lookup"><span data-stu-id="b4650-144">For more information about setting these properties, see [Creating or Editing an Agreement](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-an-agreement.md).</span></span>  
  
 <span data-ttu-id="b4650-145">有关管理控制台的详细信息，请参阅[管理配置、 证书、 数据库和安全](manage-configuration-certificates-databases-security.md)。</span><span class="sxs-lookup"><span data-stu-id="b4650-145">For more information about the management console, see [Manage configuration, certificates, databases, and security](manage-configuration-certificates-databases-security.md).</span></span> <span data-ttu-id="b4650-146">此外可以只读能够以编程方式访问的类和接口的开发人员参考中 Microsoft.Solutions.BTARN.ConfigurationManager Namespace 通过这些设置。</span><span class="sxs-lookup"><span data-stu-id="b4650-146">You can also gain read-only programmatic access to these settings through the classes and interfaces in the Microsoft.Solutions.BTARN.ConfigurationManager Namespace in the Developer Reference.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b4650-147">请参阅</span><span class="sxs-lookup"><span data-stu-id="b4650-147">See Also</span></span>  
 <span data-ttu-id="b4650-148">[BizTalk Accelerator for RosettaNet 向 BizTalk Server 的添加](../../adapters-and-accelerators/accelerator-rosettanet/what-biztalk-accelerator-for-rosettanet-adds-to-biztalk-server.md) </span><span class="sxs-lookup"><span data-stu-id="b4650-148">[What BizTalk Accelerator for RosettaNet Adds to BizTalk Server](../../adapters-and-accelerators/accelerator-rosettanet/what-biztalk-accelerator-for-rosettanet-adds-to-biztalk-server.md) </span></span>  
 <span data-ttu-id="b4650-149">[RNIF 管道](../../adapters-and-accelerators/accelerator-rosettanet/rnif-pipelines.md) </span><span class="sxs-lookup"><span data-stu-id="b4650-149">[RNIF Pipelines](../../adapters-and-accelerators/accelerator-rosettanet/rnif-pipelines.md) </span></span>  
 <span data-ttu-id="b4650-150">[如何创建或编辑流程配置](../../adapters-and-accelerators/accelerator-rosettanet/how-to-create-or-edit-a-process-configuration.md) </span><span class="sxs-lookup"><span data-stu-id="b4650-150">[How to Create or Edit a Process Configuration](../../adapters-and-accelerators/accelerator-rosettanet/how-to-create-or-edit-a-process-configuration.md) </span></span>  
 <span data-ttu-id="b4650-151">[创建或编辑本组织](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-a-home-organization.md) </span><span class="sxs-lookup"><span data-stu-id="b4650-151">[Creating or Editing a Home Organization](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-a-home-organization.md) </span></span>  
 <span data-ttu-id="b4650-152">[创建或编辑合作伙伴](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-a-partner.md) </span><span class="sxs-lookup"><span data-stu-id="b4650-152">[Creating or Editing a Partner](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-a-partner.md) </span></span>  
 [<span data-ttu-id="b4650-153">创建或编辑协议</span><span class="sxs-lookup"><span data-stu-id="b4650-153">Creating or Editing an Agreement</span></span>](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-an-agreement.md)