---
title: 使用 BizTalk Server 中的 RosettaNet 加速器的已知问题 |Microsoft Docs
description: 查看已知的问题和解决方法与 0A1 通知，失败、 BAM、 安装和配置，并在 BizTalk Server 中的 BTARN 中的更多
caps.latest.revision: 11
author: MandiOhlinger
manager: anneta
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 335eb3c9-b565-470f-b69c-2a771ef8b476
ms.author: mandia
ms.openlocfilehash: d4f14eff559c3952457b1c5473cd04ece7a39987
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65283353"
---
# <a name="known-issues"></a><span data-ttu-id="d28f1-103">已知问题</span><span class="sxs-lookup"><span data-stu-id="d28f1-103">Known Issues</span></span>
<span data-ttu-id="d28f1-104">本部分包含可帮助你避免 Microsoft® 的错误的有用信息[!INCLUDE[BTARN_CurrentVersion_FirstRef](../../includes/btarn-currentversion-firstref-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="d28f1-104">This section contains useful information that may help you avoid errors with Microsoft® [!INCLUDE[BTARN_CurrentVersion_FirstRef](../../includes/btarn-currentversion-firstref-md.md)].</span></span> <span data-ttu-id="d28f1-105">已知的问题分为以下几个方面：</span><span class="sxs-lookup"><span data-stu-id="d28f1-105">The known issues are grouped into the following areas:</span></span>  
  
-   <span data-ttu-id="d28f1-106">0A1 失败通知</span><span class="sxs-lookup"><span data-stu-id="d28f1-106">0A1 Notification of Failure</span></span>  
  
-   <span data-ttu-id="d28f1-107">业务活动监视 (BAM)</span><span class="sxs-lookup"><span data-stu-id="d28f1-107">Business Activity Monitoring (BAM)</span></span>  
  
-   <span data-ttu-id="d28f1-108">安装和配置</span><span class="sxs-lookup"><span data-stu-id="d28f1-108">Installation and Configuration</span></span>  
  
-   <span data-ttu-id="d28f1-109">杂项</span><span class="sxs-lookup"><span data-stu-id="d28f1-109">Miscellaneous</span></span>  
  
## <a name="0a1-notification-of-failure"></a><span data-ttu-id="d28f1-110">0A1 失败通知</span><span class="sxs-lookup"><span data-stu-id="d28f1-110">0A1 Notification of Failure</span></span>  
  
### <a name="btarn-does-not-perform-cross-field-validation-for-the-cidx-process-configuration-property-and-the-0a1-agreement-property"></a><span data-ttu-id="d28f1-111">BTARN 不对 CIDX 流程配置属性和 0A1 协议属性执行跨字段验证</span><span class="sxs-lookup"><span data-stu-id="d28f1-111">BTARN does not perform cross-field validation for the CIDX process-configuration property and the 0A1 agreement property</span></span>  
 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] <span data-ttu-id="d28f1-112">不会阻止您后即使 CIDX 不支持 0A1 协议设置为"0A1"，该配置文件使用的协议的"0A1 协议"属性设置为"CIDX"流程配置的配置文件的"标准"属性。</span><span class="sxs-lookup"><span data-stu-id="d28f1-112">does not prevent you from setting the "Standard" property for a process configuration profile to "CIDX", after you have set the "0A1 agreement" property for an agreement using that profile to "0A1", even though a CIDX does not support 0A1 agreements.</span></span>  
  
## <a name="business-activity-monitoring"></a><span data-ttu-id="d28f1-113">业务活动监视</span><span class="sxs-lookup"><span data-stu-id="d28f1-113">Business Activity Monitoring</span></span>  
  
### <a name="duplicate-column-data-appears-in-the-business-activity-monitoring-reports"></a><span data-ttu-id="d28f1-114">业务活动监视报表中出现重复的列数据</span><span class="sxs-lookup"><span data-stu-id="d28f1-114">Duplicate column data appears in the Business Activity Monitoring reports</span></span>  
 <span data-ttu-id="d28f1-115">BAM 活动 Web 报表中的 ActivityID 和 PIPInstanceID 列包含相同的内容。</span><span class="sxs-lookup"><span data-stu-id="d28f1-115">The ActivityID and PIPInstanceID columns in the BAM activities Web reports contain the same content.</span></span> <span data-ttu-id="d28f1-116">此数据精确地反映了合作伙伴接口流程 (PIP) 实例标识符。</span><span class="sxs-lookup"><span data-stu-id="d28f1-116">This data accurately reflects the Partner Interface Process (PIP) instance identifier.</span></span> <span data-ttu-id="d28f1-117">ActivityID 将这个值用于内部关联。</span><span class="sxs-lookup"><span data-stu-id="d28f1-117">The ActivityID uses this value for internal correlation.</span></span> <span data-ttu-id="d28f1-118">可以忽略此消息。</span><span class="sxs-lookup"><span data-stu-id="d28f1-118">You can ignore this message.</span></span>  
  
### <a name="empty-data-columns-in-the-business-activity-monitoring-web-reports"></a><span data-ttu-id="d28f1-119">在业务活动监视 Web 报表中的空的数据列</span><span class="sxs-lookup"><span data-stu-id="d28f1-119">Empty data columns in the Business Activity Monitoring Web reports</span></span>  
 <span data-ttu-id="d28f1-120">业务活动监视 (BAM) Web 报表不包含任何有关 0A1 消息流程的数据。</span><span class="sxs-lookup"><span data-stu-id="d28f1-120">The Business Activity Monitoring (BAM) Web reports do not contain any data for 0A1 message processes.</span></span> <span data-ttu-id="d28f1-121">Web 报表中的 0A1 消息列是用"Initiated 0A1"硬编码。</span><span class="sxs-lookup"><span data-stu-id="d28f1-121">The 0A1 message columns in the Web reports are hard-coded with "Initiated 0A1".</span></span>  
  
## <a name="installation-and-configuration"></a><span data-ttu-id="d28f1-122">安装和配置</span><span class="sxs-lookup"><span data-stu-id="d28f1-122">Installation and Configuration</span></span>  
  
### <a name="groups-and-users-in-either-the-biztalk-application-users-group-and-the-biztalk-server-administrators-group-must-be-in-the-same-domain"></a><span data-ttu-id="d28f1-123">组和 BizTalk Application Users 组和 BizTalk Server Administrators 组中的用户必须位于同一域中</span><span class="sxs-lookup"><span data-stu-id="d28f1-123">Groups and users in either the BizTalk Application Users group and the BizTalk Server Administrators group must be in the same domain</span></span>  
 [!INCLUDE[BTARN_CurrentVersion_abbrev](../../includes/btarn-currentversion-abbrev-md.md)] <span data-ttu-id="d28f1-124">支持将组添加到 BizTalk Application Users 组或 BizTalk Server Administrators 组。</span><span class="sxs-lookup"><span data-stu-id="d28f1-124">supports adding a group to either the BizTalk Application Users group or BizTalk Server Administrators group.</span></span> <span data-ttu-id="d28f1-125">但是，单个用户帐户和属于 BizTalk Application Users 组或 BizTalk Server Administrators 组的组必须是同一个域的一部分。</span><span class="sxs-lookup"><span data-stu-id="d28f1-125">However, individual user accounts and groups that belong to either the BizTalk Application Users group or the BizTalk Server Administrators group must be a part of the same domain.</span></span>  
  
### <a name="uninstallation-of-btarn-fails-if-biztalk-server-is-removed-first"></a><span data-ttu-id="d28f1-126">如果先删除 BizTalk Server 的 BTARN 的卸载将失败</span><span class="sxs-lookup"><span data-stu-id="d28f1-126">Uninstallation of BTARN fails if BizTalk Server is removed first</span></span>  
 <span data-ttu-id="d28f1-127">如果在删除之前删除 BizTalk Server [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]，则[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]删除过程将失败且未出错。</span><span class="sxs-lookup"><span data-stu-id="d28f1-127">If you remove BizTalk Server before removing [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)], the [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] removal process fails without errors.</span></span> <span data-ttu-id="d28f1-128">若要解决此问题，重新安装和重新配置 BizTalk Server，然后删除[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="d28f1-128">To resolve this issue, re-install and reconfigure BizTalk Server and then remove [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)].</span></span>  
  
### <a name="distributed-deployment-requires-a-domain-controller"></a><span data-ttu-id="d28f1-129">分布式的部署需要域控制器</span><span class="sxs-lookup"><span data-stu-id="d28f1-129">Distributed deployment requires a domain controller</span></span>  
 <span data-ttu-id="d28f1-130">部署[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]多服务器环境中时，需要一个域控制器，例如，你已安装[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]一台服务器上和[!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)]可使用另一台服务器上配置的数据库。</span><span class="sxs-lookup"><span data-stu-id="d28f1-130">Deploying [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] in a multi-server environment requires a domain controller, for example, when you have installed [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] on one server and the [!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] databases used for configuration on another server.</span></span>  
  
### <a name="custom-pip-configurations-are-not-supported"></a><span data-ttu-id="d28f1-131">不支持自定义 PIP 配置</span><span class="sxs-lookup"><span data-stu-id="d28f1-131">Custom PIP configurations are not supported</span></span>  
 <span data-ttu-id="d28f1-132">当前版本的[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]不支持使用自定义元素或其他非 RosettaNet 标准信息配置 Pip。</span><span class="sxs-lookup"><span data-stu-id="d28f1-132">The current release of [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] does not support configuring PIPs with custom elements or other non-RosettaNet standard information.</span></span>  
  
### <a name="btarn-automatically-starts-the-single-sign-on-service"></a><span data-ttu-id="d28f1-133">BTARN 自动启动单一登录服务</span><span class="sxs-lookup"><span data-stu-id="d28f1-133">BTARN automatically starts the Single Sign-On service</span></span>  
 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] <span data-ttu-id="d28f1-134">在事件中自动启动单一登录 (SSO) 时[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]要求它和 SSO 服务未运行。</span><span class="sxs-lookup"><span data-stu-id="d28f1-134">automatically starts the Single Sign-On (SSO) in an event when [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] requires it and the SSO service is not running.</span></span>  
  
### <a name="the-configuration-program-will-not-remove-btarn-virtual-directories-from-the-excluded-paths-list-when-webapps-is-not-configured-for-the-default-web-site"></a><span data-ttu-id="d28f1-135">配置程序不会删除 BTARN 虚拟目录从排除的路径列表时没有为默认网站上配置 web 应用</span><span class="sxs-lookup"><span data-stu-id="d28f1-135">The configuration program will not remove BTARN virtual directories from the excluded paths list when WebApps is not configured for the default Web site</span></span>  
 <span data-ttu-id="d28f1-136">如果取消配置[!INCLUDE[BTARN_CurrentVersion_abbrev](../../includes/btarn-currentversion-abbrev-md.md)]安装 Web 应用程序虚拟文件夹已配置为 SharePoint Server，没有默认 Web 站点之后，将的必须手动删除 btarnapp 和 btarnhttpreceive 虚拟从 SharePoint 管理中心网站中的排除路径列表的目录。</span><span class="sxs-lookup"><span data-stu-id="d28f1-136">If you unconfigure a [!INCLUDE[BTARN_CurrentVersion_abbrev](../../includes/btarn-currentversion-abbrev-md.md)] installation in which the Web application virtual folder was configured to be SharePoint Server, not Default Web Site, after unconfiguration you will have to manually remove the btarnapp and btarnhttpreceive virtual directories from the Excluded Paths list in the SharePoint Central Administration site.</span></span> <span data-ttu-id="d28f1-137">发生这种情况是因为在配置 Web 应用程序虚拟文件夹，为 SharePoint Server 时，您必须将 btarnapp 和 btarnhttpreceive 手动添加到排除路径列表。</span><span class="sxs-lookup"><span data-stu-id="d28f1-137">This occurs because when you configure the Web application virtual folder to be SharePoint Server, you have to manually add btarnapp and btarnhttpreceive to the Excluded Paths list.</span></span> <span data-ttu-id="d28f1-138">配置程序将不能自动从排除路径列表中删除它们。</span><span class="sxs-lookup"><span data-stu-id="d28f1-138">The configuration program will not be able to automatically remove them from the Excluded Paths list.</span></span>  
  
## <a name="miscellaneous"></a><span data-ttu-id="d28f1-139">杂项</span><span class="sxs-lookup"><span data-stu-id="d28f1-139">Miscellaneous</span></span>  
  
### <a name="btarn-will-receive-messages-encrypted-in-either-encryption-algorithm"></a><span data-ttu-id="d28f1-140">BTARN 将接收中任一加密算法加密的消息</span><span class="sxs-lookup"><span data-stu-id="d28f1-140">BTARN will receive messages encrypted in either encryption algorithm</span></span>  
 <span data-ttu-id="d28f1-141">[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]接收管道接收并解密消息，即使不匹配的协议，用于加密消息和此字段中的编码设置。</span><span class="sxs-lookup"><span data-stu-id="d28f1-141">The [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] receive pipeline receives and decrypts a message even if the protocol that is used to encrypt the message and the Encoding setting in this field do not match.</span></span> <span data-ttu-id="d28f1-142">因此， [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] RC2-40 或 3DES 中接收消息进行加密。</span><span class="sxs-lookup"><span data-stu-id="d28f1-142">Therefore, [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] receives messages that are encrypted in either RC2-40 or 3DES.</span></span>  
  
### <a name="btarn-requires-a-signal-in-a-single-action-synchronous-scenario"></a><span data-ttu-id="d28f1-143">BTARN 需要信号在单一操作同步方案</span><span class="sxs-lookup"><span data-stu-id="d28f1-143">BTARN requires a signal in a single-action synchronous scenario</span></span>  
 <span data-ttu-id="d28f1-144">在单一操作同步方案中，[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]总是期望并生成信号。</span><span class="sxs-lookup"><span data-stu-id="d28f1-144">In a single-action synchronous scenario, [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] always expects and generates signals.</span></span> <span data-ttu-id="d28f1-145">此行为与 RosettaNet 规范的信号可能或可能不需要在单一操作同步方案中不同。</span><span class="sxs-lookup"><span data-stu-id="d28f1-145">This behavior is different from the RosettaNet specification that a signal may or may not be required in a single-action synchronous scenario.</span></span> <span data-ttu-id="d28f1-146">如果[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]作为响应方，它总是生成信号来响应消息从发起方。</span><span class="sxs-lookup"><span data-stu-id="d28f1-146">If [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] is a responder, it always generates a signal in response to a message from the initiator.</span></span> <span data-ttu-id="d28f1-147">如果[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]为发起方，它总是期望收到从响应方返回的信号。</span><span class="sxs-lookup"><span data-stu-id="d28f1-147">If [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] is an initiator, it always expects a signal back from the responder.</span></span> <span data-ttu-id="d28f1-148">如果[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]不会收到信号，它在指定时间间隔后超时`Time To Perform`属性在流程配置设置，并生成 0A1 消息。</span><span class="sxs-lookup"><span data-stu-id="d28f1-148">If [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] does not receive a signal, it times out after the interval specified in the `Time To Perform` property in the process configuration settings, and it generates a 0A1 message.</span></span>  
  
### <a name="btarn-supports-utf-16-in-received-messages"></a><span data-ttu-id="d28f1-149">BTARN 支持接收的消息中的 utf-16</span><span class="sxs-lookup"><span data-stu-id="d28f1-149">BTARN supports UTF-16 in received messages</span></span>  
 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] <span data-ttu-id="d28f1-150">接收并处理字符集为 utf-16 的消息。</span><span class="sxs-lookup"><span data-stu-id="d28f1-150">receives and processes messages that have a character set of UTF-16.</span></span> [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] <span data-ttu-id="d28f1-151">将使用 utf-8 字符集的消息发送。</span><span class="sxs-lookup"><span data-stu-id="d28f1-151">sends messages with a character set of UTF-8.</span></span>  
  
### <a name="namespaces-must-be-stripped-from-response-messages-mapped-from-request-messages"></a><span data-ttu-id="d28f1-152">从请求消息映射的响应消息中必须去掉命名空间</span><span class="sxs-lookup"><span data-stu-id="d28f1-152">Namespaces must be stripped from response messages mapped from request messages</span></span>  
 <span data-ttu-id="d28f1-153">如果在双操作方案的专用流程中使用 BizTalk 映射器，BizTalk 映射器将命名空间添加到响应消息实例从请求消息映射中的一些元素标记。</span><span class="sxs-lookup"><span data-stu-id="d28f1-153">If you use BizTalk Mapper in the private process of a double-action scenario, BizTalk Mapper adds namespaces to some element tags in response message instances mapped from request messages.</span></span> <span data-ttu-id="d28f1-154">这些命名空间会导致在发送管道中失败。</span><span class="sxs-lookup"><span data-stu-id="d28f1-154">These namespaces cause a failure in the send pipeline.</span></span> <span data-ttu-id="d28f1-155">必须删除这些命名空间。</span><span class="sxs-lookup"><span data-stu-id="d28f1-155">You must remove these namespaces.</span></span> <span data-ttu-id="d28f1-156">使用 HeaderHelper 示例执行此操作。</span><span class="sxs-lookup"><span data-stu-id="d28f1-156">Use the HeaderHelper sample to do this.</span></span> <span data-ttu-id="d28f1-157">有关详细信息，请参阅[双操作 PIPAutomation 业务流程&#91;RN3&#93; ](../../adapters-and-accelerators/accelerator-rosettanet/double-action-pipautomation-orchestration.md)并[步骤 4:创建 HeaderHelper 项目&#91;RN3&#93;](../../adapters-and-accelerators/accelerator-rosettanet/step-4-creating-the-headerhelper-project.md)。</span><span class="sxs-lookup"><span data-stu-id="d28f1-157">For more information, see [Double Action PIPAutomation Orchestration &#91;RN3&#93;](../../adapters-and-accelerators/accelerator-rosettanet/double-action-pipautomation-orchestration.md) and [Step 4: Creating the HeaderHelper Project &#91;RN3&#93;](../../adapters-and-accelerators/accelerator-rosettanet/step-4-creating-the-headerhelper-project.md).</span></span>  
  
### <a name="changing-uri-settings-requires-iisreset"></a><span data-ttu-id="d28f1-158">更改 URI 设置需要 IISRESET</span><span class="sxs-lookup"><span data-stu-id="d28f1-158">Changing URI settings requires IISRESET</span></span>  
 <span data-ttu-id="d28f1-159">在运行安装程序时，设置接收和发送.aspx 页使用的 URI 设置和 URI 设置的接收和发送适配器。</span><span class="sxs-lookup"><span data-stu-id="d28f1-159">While running the Setup program, you set the URI settings that the receive and send .aspx pages use and the URI settings of the receive and send adapters.</span></span> <span data-ttu-id="d28f1-160">如果您更改的计算机上安装了.aspx 页或适配器的名称，必须更改这些设置。</span><span class="sxs-lookup"><span data-stu-id="d28f1-160">You must change these settings if you change the name of the computer that the .aspx pages or the adapters are installed on.</span></span> <span data-ttu-id="d28f1-161">您可以通过重新运行配置过程中，更改这些设置，但这需要重置所有配置设置。</span><span class="sxs-lookup"><span data-stu-id="d28f1-161">You can change these settings by re-running the configuration process, but this requires resetting all configuration settings.</span></span> <span data-ttu-id="d28f1-162">您可以通过更改相关的注册表项来更改 URI 设置 (`AsyncReceivePortURI`， `RNIFSenderURI`，和`SyncReceivePortURI`)。</span><span class="sxs-lookup"><span data-stu-id="d28f1-162">You can change the URI settings alone by changing the associated registry keys (`AsyncReceivePortURI`, `RNIFSenderURI`, and `SyncReceivePortURI`).</span></span> <span data-ttu-id="d28f1-163">更改这些注册表设置的任何一个之后, 必须运行 IISRESET 以使更改，才会生效。</span><span class="sxs-lookup"><span data-stu-id="d28f1-163">After changing any one of these registry settings, you must run IISRESET for the changes to take effect.</span></span> <span data-ttu-id="d28f1-164">这是因为[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]缓存供其使用的设置。</span><span class="sxs-lookup"><span data-stu-id="d28f1-164">This is because [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] caches the settings for its use.</span></span> <span data-ttu-id="d28f1-165">运行 IISRESET 后，您还必须重新启动 BizTalk 服务。</span><span class="sxs-lookup"><span data-stu-id="d28f1-165">After running IISRESET, you must also restart BizTalk services.</span></span>  
  
### <a name="btarn-does-not-enforce-restrictions-on-rnif-v11-enumerations"></a><span data-ttu-id="d28f1-166">BTARN 不会强制对 RNIF v1.1 枚举的限制</span><span class="sxs-lookup"><span data-stu-id="d28f1-166">BTARN does not enforce restrictions on RNIF v1.1 enumerations</span></span>  
 <span data-ttu-id="d28f1-167">RosettaNet 实现框架 (RNIF) 规范 v1.1 指定了对一些 RNIF 架构枚举的限制。</span><span class="sxs-lookup"><span data-stu-id="d28f1-167">The RosettaNet Implementation Framework (RNIF) Specification v1.1 specifies restrictions on some RNIF schema enumerations.</span></span> [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] <span data-ttu-id="d28f1-168">不强制实施这些限制，并不会验证针对这些限制。</span><span class="sxs-lookup"><span data-stu-id="d28f1-168">does not enforce these restrictions, and does not validate against those restrictions.</span></span> <span data-ttu-id="d28f1-169">限制并不适用于 RNIF v2.01。</span><span class="sxs-lookup"><span data-stu-id="d28f1-169">The restrictions do not apply to RNIF v2.01.</span></span>  
  
 <span data-ttu-id="d28f1-170">这适用于下列服务头元素：</span><span class="sxs-lookup"><span data-stu-id="d28f1-170">This is true for the following service header elements:</span></span>  
  
-   `GlobalBusinessActionCode`  
  
-   `GlobalPartnerClassificationCode`  
  
-   `GlobalBusinessServiceCode`  
  
-   `GlobalProcessCode`  
  
-   `GlobalProcessIndicatorCode`  
  
-   `VersionIdentifier`  
  
### <a name="performancecontrolrequest-parameters-will-not-override-default-process-configuration-settings"></a><span data-ttu-id="d28f1-171">PerformanceControlRequest 参数不会覆盖默认流程配置设置</span><span class="sxs-lookup"><span data-stu-id="d28f1-171">PerformanceControlRequest parameters will not override default process configuration settings</span></span>  
 <span data-ttu-id="d28f1-172">传入消息可以包含`PerformanceControlRequest`服务头中的参数。</span><span class="sxs-lookup"><span data-stu-id="d28f1-172">Incoming messages can contain `PerformanceControlRequest` parameters in the service header.</span></span> <span data-ttu-id="d28f1-173">这些参数包括确认 （接收） 和执行，时间的时间延迟参数的值中的过程配置设置中设置[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]管理控制台。</span><span class="sxs-lookup"><span data-stu-id="d28f1-173">These parameters include values for the time delay parameters of Time to Acknowledge (Receipt) and Time to Perform, as set in the process configuration settings made in the [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] Management Console.</span></span> [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] <span data-ttu-id="d28f1-174">不会动态设置基于时间延迟`PerformanceControlRequest`传入消息中的参数。</span><span class="sxs-lookup"><span data-stu-id="d28f1-174">does not dynamically set the time delays based on the `PerformanceControlRequest` parameters in the incoming message.</span></span> [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] <span data-ttu-id="d28f1-175">始终采用流程配置设置中设置的默认 PIP 值中的时间延迟。</span><span class="sxs-lookup"><span data-stu-id="d28f1-175">always takes the time delays from the default PIP values set in the process configuration settings.</span></span> <span data-ttu-id="d28f1-176">这符合 RosettaNet 实现框架 (RNIF) 规范 v1.1。</span><span class="sxs-lookup"><span data-stu-id="d28f1-176">This follows the RosettaNet Implementation Framework (RNIF) Specification v1.1.</span></span>  
  
### <a name="the-pip-name-and-pip-version-of-double-action-messages-are-case-sensitive"></a><span data-ttu-id="d28f1-177">PIP 名称和双操作消息 PIP 版本是区分大小写</span><span class="sxs-lookup"><span data-stu-id="d28f1-177">The PIP name and PIP version of double-action messages are case-sensitive</span></span>  
 <span data-ttu-id="d28f1-178">如果 PIP 名称和响应消息的 PIP 版本具有不同的情况下的相应值比原始双操作请求的消息，发起方[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]拒绝为无效的响应消息，并向响应方返回一个异常。</span><span class="sxs-lookup"><span data-stu-id="d28f1-178">If the PIP name and PIP version of a response message have a different case than the corresponding values of the original double-action request message, the initiator [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] rejects the response message as not valid and returns an exception to the responder.</span></span>  
  
### <a name="btarn-does-not-support-changing-agreement-settings-while-there-are-active-processes"></a><span data-ttu-id="d28f1-179">尽管有活动进程，BTARN 不支持更改协议设置</span><span class="sxs-lookup"><span data-stu-id="d28f1-179">BTARN does not support changing agreement settings while there are active processes</span></span>  
 <span data-ttu-id="d28f1-180">当您单击将应用对协议属性的更改**Apply**或**确定**以接受这些条款。</span><span class="sxs-lookup"><span data-stu-id="d28f1-180">Changes to agreement properties will apply as soon as you click **Apply** or **OK** to accept them.</span></span> <span data-ttu-id="d28f1-181">更改协议后，已运行的进程中的任何新活动或涉及该协议的任何新进程将使用已更改的协议属性。</span><span class="sxs-lookup"><span data-stu-id="d28f1-181">After you change an agreement, any new activity in an already running process or any new process involving that agreement will use the changed agreement properties.</span></span> <span data-ttu-id="d28f1-182">如果出现运行时更改协议的进程，它可能已使用以前的协议属性的消息。</span><span class="sxs-lookup"><span data-stu-id="d28f1-182">If there was a process running when you changed the agreement, it may have already used the previous agreement properties for a message.</span></span> <span data-ttu-id="d28f1-183">该过程的新消息将使用新的协议设置，这会产生不可预知的结果。</span><span class="sxs-lookup"><span data-stu-id="d28f1-183">The new messages for that process will use the new agreement settings, which may generate unpredictable results.</span></span> <span data-ttu-id="d28f1-184">建议您更改协议设置时没有运行的过程。</span><span class="sxs-lookup"><span data-stu-id="d28f1-184">It is recommended that you change agreement settings when there are no processes running.</span></span>  
  
### <a name="btarn-will-not-perform-cross-field-validation-after-changes-to-a-process-configuration-profile"></a><span data-ttu-id="d28f1-185">BTARN 不会执行跨字段验证后对流程配置配置文件的更改</span><span class="sxs-lookup"><span data-stu-id="d28f1-185">BTARN will not perform cross-field validation after changes to a process configuration profile</span></span>  
 <span data-ttu-id="d28f1-186">当您创建流程配置配置文件，然后创建一个协议，[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]执行跨字段验证，以确保协议和配置文件的属性兼容。</span><span class="sxs-lookup"><span data-stu-id="d28f1-186">When you create a process configuration profile and then create an agreement, [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] performs cross-field validation to make sure that the properties of the agreement and the profile are compatible.</span></span> <span data-ttu-id="d28f1-187">例如，它检查，对于具有标准属性将设置为"CIDX"的配置文件，该协议的 0A1 协议属性设置为"非 0A1"。</span><span class="sxs-lookup"><span data-stu-id="d28f1-187">For example, it checks that for a profile with the Standard property set to "CIDX", the 0A1 agreement property of the agreement is set to "No 0A1".</span></span> <span data-ttu-id="d28f1-188">但是，如果在创建协议后, 更改流程配置配置文件[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]不会执行跨字段验证。</span><span class="sxs-lookup"><span data-stu-id="d28f1-188">However, if you change a process configuration profile after having created an agreement, [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] does not perform cross-field validation.</span></span> <span data-ttu-id="d28f1-189">如果更改为"CIDX"的标准属性从"RosettaNet"[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]不会验证该协议的 0A1 协议属性设置为"非 0A1"。</span><span class="sxs-lookup"><span data-stu-id="d28f1-189">If you change the Standard property from "RosettaNet" to "CIDX", [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] does not verify that the 0A1 agreement property of the agreement is set to "No 0A1".</span></span>  
  
### <a name="errors-will-result-if-all-orchestrations-are-not-started"></a><span data-ttu-id="d28f1-190">如果未启动所有业务流程将导致错误</span><span class="sxs-lookup"><span data-stu-id="d28f1-190">Errors will result if all orchestrations are not started</span></span>  
 <span data-ttu-id="d28f1-191">[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]安装程序将安装 9 个业务流程。</span><span class="sxs-lookup"><span data-stu-id="d28f1-191">The [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] Setup program installs nine orchestrations.</span></span> <span data-ttu-id="d28f1-192">有关[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]成功处理消息，必须将绑定、 登记和启动处理之前启动这些业务流程的所有九个。</span><span class="sxs-lookup"><span data-stu-id="d28f1-192">For [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] to process messages successfully, you must bind, enlist, and start all nine of these orchestrations before initiating processing.</span></span> <span data-ttu-id="d28f1-193">有关详细信息，请参阅 BizTalk Server 帮助中的"业务流程管理中 BizTalk 资源管理器"管理业务流程"主题。</span><span class="sxs-lookup"><span data-stu-id="d28f1-193">For more information, see the "Orchestration Management in BizTalk Explorer" or "Managing Orchestrations" topics in BizTalk Server Help.</span></span>  
  
### <a name="rnifreceiveaspx-does-not-remove-the-mime-bottom-boundary-from-a-message"></a><span data-ttu-id="d28f1-194">RNIFReceive.aspx 不删除从一条消息的 MIME 下边界</span><span class="sxs-lookup"><span data-stu-id="d28f1-194">RNIFReceive.aspx does not remove the MIME bottom boundary from a message</span></span>  
 <span data-ttu-id="d28f1-195">当 RNIFReceive.aspx 页收到消息时从合作伙伴的 RNIFSend.aspx 页时，该消息包含 MIME 头和 MIME 上下边界，用 base64 数字。</span><span class="sxs-lookup"><span data-stu-id="d28f1-195">When the RNIFReceive.aspx page receives a message from an RNIFSend.aspx page of a partner, the message includes a MIME header, and a MIME top and bottom boundary, a base 64 number.</span></span> <span data-ttu-id="d28f1-196">RNIFSend.aspx 将头和边界添加到以便进行 RNIF 传输消息。</span><span class="sxs-lookup"><span data-stu-id="d28f1-196">RNIFSend.aspx adds the header and boundaries to the message for RNIF transmission.</span></span> <span data-ttu-id="d28f1-197">RNIFReceive.aspx 之前应删除 MIME 头和边界从消息将消息提交到公用流程。</span><span class="sxs-lookup"><span data-stu-id="d28f1-197">RNIFReceive.aspx should remove the MIME header and boundaries from the message before submitting the message to the public process.</span></span> <span data-ttu-id="d28f1-198">RNIFReceive.aspx 删除 MIME 头和上边界，但它不会删除下边界。</span><span class="sxs-lookup"><span data-stu-id="d28f1-198">RNIFReceive.aspx removes the MIME header and the upper boundary, but it does not remove the bottom boundary.</span></span> <span data-ttu-id="d28f1-199">下边界存在不会影响公用流程中消息的处理。</span><span class="sxs-lookup"><span data-stu-id="d28f1-199">The presence of the bottom boundary does not affect processing of the message in the public process.</span></span>  
  
### <a name="btarn-does-not-support-a-case-sensitive-configuration-of-sql-server-databases"></a><span data-ttu-id="d28f1-200">BTARN 不支持区分大小写的 SQL Server 数据库配置</span><span class="sxs-lookup"><span data-stu-id="d28f1-200">BTARN does not support a case-sensitive configuration of SQL Server databases</span></span>  
 <span data-ttu-id="d28f1-201">如果你提出[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)][!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)]数据库和数据库对象区分大小写，[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]管理控制台中找不到数据库资源，则引发异常。</span><span class="sxs-lookup"><span data-stu-id="d28f1-201">If you make [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)][!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] databases and database objects case-sensitive, the [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] Management Console cannot find database resources and throws an exception.</span></span> <span data-ttu-id="d28f1-202">[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] [!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)]数据库和数据库对象必须是不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="d28f1-202">The [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)][!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] databases and database objects must be case-insensitive.</span></span>  
  
### <a name="all-queries-in-database-maintenance-scripts-should-be-written-for-utc-time"></a><span data-ttu-id="d28f1-203">应为 UTC 时间编写数据库维护脚本中的所有查询</span><span class="sxs-lookup"><span data-stu-id="d28f1-203">All queries in database maintenance scripts should be written for UTC time</span></span>  
 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] <span data-ttu-id="d28f1-204">[!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] 数据库使用 UTC （协调通用时间） 时间，以便为维护这些数据库之一而创建的任何查询，必须编写为 UTC 时间。</span><span class="sxs-lookup"><span data-stu-id="d28f1-204">[!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] databases use UTC (Universal Time Coordinate) time, so that any query that you create to maintain one of these databases must be written for UTC time.</span></span> <span data-ttu-id="d28f1-205">例如，如果您的维护脚本使用`GetDate()`命令时，您应将其更改为`GetUTCDate()`。</span><span class="sxs-lookup"><span data-stu-id="d28f1-205">For example, if your maintenance script were to use the `GetDate()` command, you should change it to `GetUTCDate()`.</span></span>  
  
### <a name="a-publicresponder-orchestration-will-reject-a-duplicate-request-action-message"></a><span data-ttu-id="d28f1-206">PublicResponder 业务流程将拒绝重复的请求操作消息</span><span class="sxs-lookup"><span data-stu-id="d28f1-206">A PublicResponder orchestration will reject a duplicate request action message</span></span>  
 <span data-ttu-id="d28f1-207">当`PublicResponder`业务流程 (PublicResponderV11.odx) 收到重复的请求操作消息，它将事件日志中记录一条警告，然后拒绝该消息。</span><span class="sxs-lookup"><span data-stu-id="d28f1-207">When a `PublicResponder` orchestration (PublicResponderV11.odx) receives a duplicate request action message, it will log a warning in the event log, and then reject the message.</span></span> <span data-ttu-id="d28f1-208">如果响应方业务流程完成后收到重复的消息，则 BizTalk Server 将终止该消息，因为没有任何订阅。</span><span class="sxs-lookup"><span data-stu-id="d28f1-208">If a duplicate message is received after the responder orchestration has completed, BizTalk Server will stop the message because there are no subscriptions.</span></span>  
  
### <a name="transmission-errors-will-not-be-shown-in-bam-if-the-public-process-has-stopped"></a><span data-ttu-id="d28f1-209">传输错误将不会显示在 BAM 如果公用流程已停止</span><span class="sxs-lookup"><span data-stu-id="d28f1-209">Transmission errors will not be shown in BAM if the public process has stopped</span></span>  
 <span data-ttu-id="d28f1-210">如果公用流程处理其最后一条消息时出现传输错误，事件日志和 HAT 显示错误，但 BAM 不。</span><span class="sxs-lookup"><span data-stu-id="d28f1-210">If a transmission error occurs when a public-process orchestration processes its final message, the event log and HAT display the error, but BAM does not.</span></span> <span data-ttu-id="d28f1-211">BAM 不能显示该消息，因为该业务流程已停止。</span><span class="sxs-lookup"><span data-stu-id="d28f1-211">BAM cannot display the message because the orchestration has stopped.</span></span>  
  
### <a name="the-pipelineexe-tool-cannot-be-used-to-debug-a-btarn-receive-pipeline"></a><span data-ttu-id="d28f1-212">Pipeline.exe 工具不能用于调试 BTARN 接收管道</span><span class="sxs-lookup"><span data-stu-id="d28f1-212">The pipeline.exe tool cannot be used to debug a BTARN receive pipeline</span></span>  
 <span data-ttu-id="d28f1-213">如果你想要调试接收管道，您必须创建承载该管道的端口。</span><span class="sxs-lookup"><span data-stu-id="d28f1-213">If you want to debug a receive pipeline, you have to create a port hosting the pipeline.</span></span> <span data-ttu-id="d28f1-214">无法使用 BizTalk Server 提供的 pipeline.exe 工具调试。</span><span class="sxs-lookup"><span data-stu-id="d28f1-214">You cannot debug it using the pipeline.exe tool that BizTalk Server provides.</span></span>  
  
### <a name="an-error-may-be-generated-for-a-retried-message-that-is-successfully-processed-after-the-orchestration-finishes"></a><span data-ttu-id="d28f1-215">在业务流程完成后成功处理的重试消息可能会产生错误</span><span class="sxs-lookup"><span data-stu-id="d28f1-215">An error may be generated for a retried message that is successfully processed after the orchestration finishes</span></span>  
 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] <span data-ttu-id="d28f1-216">使用业务流程来表示流程。</span><span class="sxs-lookup"><span data-stu-id="d28f1-216">uses orchestrations to represent process flow.</span></span> <span data-ttu-id="d28f1-217">在某些情况下，在其中重试几次重试的消息，业务流程可能会重试的消息到达 BizTalk MessageBox 之前已成功完成。</span><span class="sxs-lookup"><span data-stu-id="d28f1-217">In some cases, in which several retried messages are retried, the orchestration may finish successfully before a retried message arrives in the BizTalk MessageBox.</span></span> <span data-ttu-id="d28f1-218">在这种情况，[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]生成相应"已完成但被删除"的错误消息。</span><span class="sxs-lookup"><span data-stu-id="d28f1-218">When this behavior occurs, [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] generates a corresponding "completed but discarded" error message.</span></span> <span data-ttu-id="d28f1-219">您应查看你的业务 (LOB) 应用程序，以确定是否已完成该过程。</span><span class="sxs-lookup"><span data-stu-id="d28f1-219">You should look at your line-of-business (LOB) application to determine whether the process has finished or not.</span></span> <span data-ttu-id="d28f1-220">如果 LOB 应用程序指示成功完成，则可以忽略"已完成，但已放弃"消息。</span><span class="sxs-lookup"><span data-stu-id="d28f1-220">If the LOB application indicates successful completion, you can ignore the "completed but discarded" message.</span></span>  
  
### <a name="an-xml-file-exported-from-trackingxls-may-have-incorrect-fields"></a><span data-ttu-id="d28f1-221">从 tracking.xls 导出的 XML 文件可能包含错误的字段</span><span class="sxs-lookup"><span data-stu-id="d28f1-221">An XML file exported from tracking.xls may have incorrect fields</span></span>  
 <span data-ttu-id="d28f1-222">当您在跟踪 XLS 文件中定义新的跟踪视图并从该跟踪 XLS 文件导出 XML 文件时，某些字段名称将略有修改。</span><span class="sxs-lookup"><span data-stu-id="d28f1-222">When you define new tracking views in a tracking XLS file, and export an XML file from the tracking XLS file, some of the field names will be slightly modified.</span></span> <span data-ttu-id="d28f1-223">若要更正此问题，验证是否将自定义跟踪中的字段的 XML 文件的标准 tracking.xml 字段进行安装[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]安装程序。</span><span class="sxs-lookup"><span data-stu-id="d28f1-223">To correct this, verify the fields in your customized tracking XML file against the standard tracking.xml field installed by [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] setup.</span></span>  
  
### <a name="rnif-11-service-header-schema-for-signals-and-responses-may-need-modification"></a><span data-ttu-id="d28f1-224">信号和响应的 RNIF 1.1 服务头架构可能需要修改</span><span class="sxs-lookup"><span data-stu-id="d28f1-224">RNIF 1.1 service header schema for signals and responses may need modification</span></span>  
 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] <span data-ttu-id="d28f1-225">在初始状态下提供所有 RosettaNet 头架构。</span><span class="sxs-lookup"><span data-stu-id="d28f1-225">ships all RosettaNet header schemas out of the box.</span></span> <span data-ttu-id="d28f1-226">某些实现中使用以不同的方式比其他，信号控制和操作控制节点，如下所述。</span><span class="sxs-lookup"><span data-stu-id="d28f1-226">Some implementations use the Signal Control and Action Control nodes differently than others, as described below.</span></span>  
  
 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] <span data-ttu-id="d28f1-227">在初始状态下提供如下所示的信号控制元素。</span><span class="sxs-lookup"><span data-stu-id="d28f1-227">out of the box ships the Signal Control element as below.</span></span> <span data-ttu-id="d28f1-228">请注意，相同可能操作控件元素，则返回 true。</span><span class="sxs-lookup"><span data-stu-id="d28f1-228">Note that the same may be true for the Action Control element.</span></span>  
  
```  
<!ELEMENT SignalControl (  
          InstanceIdentifier,  
          PartnerRoute,  
          SignalIdentity,  
          inResponseTo)>  
```  
  
 <span data-ttu-id="d28f1-229">如果你的解决方案需要此序列，然后你不必执行任何操作。</span><span class="sxs-lookup"><span data-stu-id="d28f1-229">If your solution requires this sequence, then you do not need to do anything.</span></span>  
  
 <span data-ttu-id="d28f1-230">其他一些实现，但是，使用以下代码：</span><span class="sxs-lookup"><span data-stu-id="d28f1-230">Some other implementations, on the other hand, use the following code:</span></span>  
  
```  
<!ELEMENT SignalControl (  
          inResponseTo,  
          InstanceIdentifier,  
          PartnerRoute,  
          SignalIdentity)>  
```  
  
 <span data-ttu-id="d28f1-231">如果你的解决方案需要此序列，请参阅 KB 889523。</span><span class="sxs-lookup"><span data-stu-id="d28f1-231">If your solution requires this sequence, refer to KB 889523.</span></span> <span data-ttu-id="d28f1-232">此软件更新将更改相应的 XML 架构。</span><span class="sxs-lookup"><span data-stu-id="d28f1-232">This software update will change the corresponding XML schema.</span></span> <span data-ttu-id="d28f1-233">请注意，此更新仅影响 RNIF 1.1 流程。</span><span class="sxs-lookup"><span data-stu-id="d28f1-233">Note that this update only affects RNIF 1.1 processes.</span></span>  
  
### <a name="pipautomationgetaction-sql-stored-procedure-needs-update"></a><span data-ttu-id="d28f1-234">PipAutomationGetAction SQL 存储过程需要更新</span><span class="sxs-lookup"><span data-stu-id="d28f1-234">PipAutomationGetAction SQL stored procedure needs update</span></span>  
 <span data-ttu-id="d28f1-235">你需要更新 PipAutomationGetAction SQL 存储过程才能锁定单个记录。</span><span class="sxs-lookup"><span data-stu-id="d28f1-235">You need to update the PipAutomationGetAction SQL stored procedure to lock single records.</span></span> <span data-ttu-id="d28f1-236">删除以下行：</span><span class="sxs-lookup"><span data-stu-id="d28f1-236">Delete the following lines:</span></span>  
  
```  
IF @@ERROR <> 0  
    UPDATE MessagesToLOB SET Delivered = -1 WHERE MessageID = @tempGUID  
```  
  
 <span data-ttu-id="d28f1-237">正确的 PipAutomationGetAction 存储过程是按如下所示：</span><span class="sxs-lookup"><span data-stu-id="d28f1-237">The correct PipAutomationGetAction stored procedure is as follows:</span></span>  
  
```  
CREATE PROCEDURE PipAutomationGetAction  
AS  
 SET TRANSACTION ISOLATION LEVEL READ COMMITTED  
BEGIN TRANSACTION  
DECLARE @tempGUID nvarchar(36)  
SELECT TOP 1 @tempGUID = MessageID FROM MessagesToLOB WITH (READPAST,UPDLOCK,ROWLOCK)  
   WHERE Delivered = 0 AND MessageCategory = 10  
  ORDER BY TimeCreated  
  SELECT PIPInstanceID,DestinationPartyName,SourcePartyName,PIPCode,PIPVersion, ServiceContent FROM MessagesToLOB  
   WHERE MessageID = @tempGUID  
For xml auto  
UPDATE MessagesToLOB SET Delivered = 1 WHERE MessageID = @tempGUID  
 COMMIT TRANSACTION  
GO  
```  
  
### <a name="you-can-customize-aspx-code-to-return-the-error-description"></a><span data-ttu-id="d28f1-238">你可以自定义 aspx 代码，以返回的错误说明</span><span class="sxs-lookup"><span data-stu-id="d28f1-238">You can customize aspx code to return the error description</span></span>  
 <span data-ttu-id="d28f1-239">如果需要记录或发送错误说明，可以自定义 aspx 代码，具有在响应中返回的实际文本。</span><span class="sxs-lookup"><span data-stu-id="d28f1-239">If you need to log or send an error description, you can customize the aspx code to have the actual text returned in the response.</span></span> <span data-ttu-id="d28f1-240">若要执行此操作，请使用 （这是内部 asp 请求的响应对象） 的 HttpResponse.Status 或 HttpWebResponse.StatusDescription (返回由[!INCLUDE[btsDotNet](../../includes/btsdotnet-md.md)]HttpWebRequest 对象的 GetResponse 方法调用)。</span><span class="sxs-lookup"><span data-stu-id="d28f1-240">To do so, use HttpResponse.Status (which is the intrinsic asp request’s response object) or HttpWebResponse.StatusDescription (which is returned by the [!INCLUDE[btsDotNet](../../includes/btsdotnet-md.md)] call to the HttpWebRequest object’s GetResponse method).</span></span> <span data-ttu-id="d28f1-241">若要从一个适用的响应对象中返回的返回值，请设置 Response.Status 值类似于附带的 aspx 代码中设置 Response.StatusCode [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="d28f1-241">To return the return values from one of the applicable response objects, set the Response.Status value similar to how Response.StatusCode is set in the aspx code that ships with [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)].</span></span>  
  
### <a name="rnif-11-messages-cannot-be-read-in-plain-text-from-non-repudiation-tables-if-the-encoding-method-is-set-to-base64"></a><span data-ttu-id="d28f1-242">如果编码方法设置为 Base64，不能在纯文本形式从不可否认性表中读取 RNIF 1.1 消息</span><span class="sxs-lookup"><span data-stu-id="d28f1-242">RNIF 1.1 messages cannot be read in plain text from non-repudiation tables if the encoding method is set to Base64</span></span>  
 <span data-ttu-id="d28f1-243">只有编码方法设置为 Base64 时，才会出现此问题。</span><span class="sxs-lookup"><span data-stu-id="d28f1-243">This only happens if the encoding method is set to Base64.</span></span> <span data-ttu-id="d28f1-244">如果编码方法设置为 quoted printable 或 8 位，可以明文形式从不可否认性表中读取消息。</span><span class="sxs-lookup"><span data-stu-id="d28f1-244">Messages can be read in clear text from non-repudiation tables if encoding method is set to quoted-printable or 8-bit.</span></span> <span data-ttu-id="d28f1-245">您需要使用 \*.eml 扩展名保存消息文件，然后打开使用 Outlook Express 中读取消息和 Outlook Express 将为您解码的消息。</span><span class="sxs-lookup"><span data-stu-id="d28f1-245">You need to save the message file with \*.eml extension and then open it using Outlook Express to read the message and Outlook Express will decode the message for you.</span></span> <span data-ttu-id="d28f1-246">下面的代码也可能用于从不可否认性表中读取 Base64 编码的消息。</span><span class="sxs-lookup"><span data-stu-id="d28f1-246">You may also use the code below to read the Base64 encoded messages from non-repudiation tables.</span></span>  
  
```  
byte[] textBytes = Convert.FromBase64String(txtEncodedText.Text);  
string plainText = Encoding.UTF8.GetString(textBytes);  
txtOutput.Text = plainText;  
```  
  
## <a name="see-also"></a><span data-ttu-id="d28f1-247">请参阅</span><span class="sxs-lookup"><span data-stu-id="d28f1-247">See Also</span></span>  
[<span data-ttu-id="d28f1-248">疑难解答和已知问题</span><span class="sxs-lookup"><span data-stu-id="d28f1-248">Troubleshooting and known issues</span></span>](troubleshooting-and-known-issues-in-rosettanet.md)