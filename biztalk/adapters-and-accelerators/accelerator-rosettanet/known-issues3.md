---
title: 与 BizTalk Server 中的 RosettaNet 快捷键的已知问题 |Microsoft 文档
description: 请参阅已知的问题和解决方法与 0A1 通知，失败、 BAM、 安装和配置，并更在 BizTalk Server 中的 BTARN
caps.latest.revision: 11
author: MandiOhlinger
manager: anneta
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 335eb3c9-b565-470f-b69c-2a771ef8b476
ms.author: mandia
ms.openlocfilehash: bbb7ddc2028383f8ac346e7876459f322d2dd96b
ms.sourcegitcommit: 3fc338e52d5dbca2c3ea1685a2faafc7582fe23a
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 12/01/2017
ms.locfileid: "26010774"
---
# <a name="known-issues"></a><span data-ttu-id="f79ef-103">已知问题</span><span class="sxs-lookup"><span data-stu-id="f79ef-103">Known Issues</span></span>
<span data-ttu-id="f79ef-104">本节介绍的有用信息有助于在使用 [!INCLUDE[btsCoName](../../includes/btsconame-md.md)]® [!INCLUDE[BTARN_CurrentVersion_FirstRef](../../includes/btarn-currentversion-firstref-md.md)] 时避免错误。</span><span class="sxs-lookup"><span data-stu-id="f79ef-104">This section contains useful information that may help you avoid errors with [!INCLUDE[btsCoName](../../includes/btsconame-md.md)]® [!INCLUDE[BTARN_CurrentVersion_FirstRef](../../includes/btarn-currentversion-firstref-md.md)].</span></span> <span data-ttu-id="f79ef-105">已知问题归为以下几个方面：</span><span class="sxs-lookup"><span data-stu-id="f79ef-105">The known issues are grouped into the following areas:</span></span>  
  
-   <span data-ttu-id="f79ef-106">0A1 失败通知</span><span class="sxs-lookup"><span data-stu-id="f79ef-106">0A1 Notification of Failure</span></span>  
  
-   <span data-ttu-id="f79ef-107">业务活动监视 (BAM)</span><span class="sxs-lookup"><span data-stu-id="f79ef-107">Business Activity Monitoring (BAM)</span></span>  
  
-   <span data-ttu-id="f79ef-108">安装和配置</span><span class="sxs-lookup"><span data-stu-id="f79ef-108">Installation and Configuration</span></span>  
  
-   <span data-ttu-id="f79ef-109">杂项</span><span class="sxs-lookup"><span data-stu-id="f79ef-109">Miscellaneous</span></span>  
  
## <a name="0a1-notification-of-failure"></a><span data-ttu-id="f79ef-110">0A1 失败通知</span><span class="sxs-lookup"><span data-stu-id="f79ef-110">0A1 Notification of Failure</span></span>  
  
### <a name="btarn-does-not-perform-cross-field-validation-for-the-cidx-process-configuration-property-and-the-0a1-agreement-property"></a><span data-ttu-id="f79ef-111">BTARN 不对 CIDX 流程配置属性和 0A1 协议属性执行跨字段验证</span><span class="sxs-lookup"><span data-stu-id="f79ef-111">BTARN does not perform cross-field validation for the CIDX process-configuration property and the 0A1 agreement property</span></span>  
 <span data-ttu-id="f79ef-112">在将使用某一流程配置配置文件的协议的“0A1 协议”属性设为“0A1”之后，即使 CIDX 不支持 0A1 协议，[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 也不会禁止你将该配置文件的“标准”属性设为“CIDX”。</span><span class="sxs-lookup"><span data-stu-id="f79ef-112">[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] does not prevent you from setting the "Standard" property for a process configuration profile to "CIDX", after you have set the "0A1 agreement" property for an agreement using that profile to "0A1", even though a CIDX does not support 0A1 agreements.</span></span>  
  
## <a name="business-activity-monitoring"></a><span data-ttu-id="f79ef-113">业务活动监视</span><span class="sxs-lookup"><span data-stu-id="f79ef-113">Business Activity Monitoring</span></span>  
  
### <a name="duplicate-column-data-appears-in-the-business-activity-monitoring-reports"></a><span data-ttu-id="f79ef-114">业务活动监视报表中出现重复的列数据</span><span class="sxs-lookup"><span data-stu-id="f79ef-114">Duplicate column data appears in the Business Activity Monitoring reports</span></span>  
 <span data-ttu-id="f79ef-115">BAM 活动 Web 报表中的 ActivityID 和 PIPInstanceID 列包含相同的内容。</span><span class="sxs-lookup"><span data-stu-id="f79ef-115">The ActivityID and PIPInstanceID columns in the BAM activities Web reports contain the same content.</span></span> <span data-ttu-id="f79ef-116">此数据精确地反映了合作伙伴接口流程 (PIP) 实例标识符。</span><span class="sxs-lookup"><span data-stu-id="f79ef-116">This data accurately reflects the Partner Interface Process (PIP) instance identifier.</span></span> <span data-ttu-id="f79ef-117">ActivityID 将这个值用于内部关联。</span><span class="sxs-lookup"><span data-stu-id="f79ef-117">The ActivityID uses this value for internal correlation.</span></span> <span data-ttu-id="f79ef-118">可以忽略此消息。</span><span class="sxs-lookup"><span data-stu-id="f79ef-118">You can ignore this message.</span></span>  
  
### <a name="empty-data-columns-in-the-business-activity-monitoring-web-reports"></a><span data-ttu-id="f79ef-119">业务活动监视 Web 报表中出现空的数据列</span><span class="sxs-lookup"><span data-stu-id="f79ef-119">Empty data columns in the Business Activity Monitoring Web reports</span></span>  
 <span data-ttu-id="f79ef-120">业务活动监视 (BAM) Web 报表不包含任何有关 0A1 消息流程的数据。</span><span class="sxs-lookup"><span data-stu-id="f79ef-120">The Business Activity Monitoring (BAM) Web reports do not contain any data for 0A1 message processes.</span></span> <span data-ttu-id="f79ef-121">Web 报表中的 0A1 消息列是用“Initiated 0A1”硬编码而成的。</span><span class="sxs-lookup"><span data-stu-id="f79ef-121">The 0A1 message columns in the Web reports are hard-coded with "Initiated 0A1".</span></span>  
  
## <a name="installation-and-configuration"></a><span data-ttu-id="f79ef-122">安装和配置</span><span class="sxs-lookup"><span data-stu-id="f79ef-122">Installation and Configuration</span></span>  
  
### <a name="groups-and-users-in-either-the-biztalk-application-users-group-and-the-biztalk-server-administrators-group-must-be-in-the-same-domain"></a><span data-ttu-id="f79ef-123">BizTalk Application Users 组和 BizTalk Server Administrators 组中的组和用户必须在同一个域中</span><span class="sxs-lookup"><span data-stu-id="f79ef-123">Groups and users in either the BizTalk Application Users group and the BizTalk Server Administrators group must be in the same domain</span></span>  
 [!INCLUDE[BTARN_CurrentVersion_abbrev](../../includes/btarn-currentversion-abbrev-md.md)]<span data-ttu-id="f79ef-124"> 支持向 BizTalk Application Users 组或 BizTalk Server Administrators 组中添加组。</span><span class="sxs-lookup"><span data-stu-id="f79ef-124"> supports adding a group to either the BizTalk Application Users group or BizTalk Server Administrators group.</span></span> <span data-ttu-id="f79ef-125">但是，属于 BizTalk Application Users 组或 BizTalk Server Administrators 组的各个用户帐户和组必须在同一个域中。</span><span class="sxs-lookup"><span data-stu-id="f79ef-125">However, individual user accounts and groups that belong to either the BizTalk Application Users group or the BizTalk Server Administrators group must be a part of the same domain.</span></span>  
  
### <a name="uninstallation-of-btarn-fails-if-biztalk-server-is-removed-first"></a><span data-ttu-id="f79ef-126">如果先删除 BizTalk Server，BTARN 的卸载将失败</span><span class="sxs-lookup"><span data-stu-id="f79ef-126">Uninstallation of BTARN fails if BizTalk Server is removed first</span></span>  
 <span data-ttu-id="f79ef-127">如果在删除之前删除 BizTalk Server [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]、[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]删除过程将错误会失败。</span><span class="sxs-lookup"><span data-stu-id="f79ef-127">If you remove BizTalk Server before removing [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)], the [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] removal process fails without errors.</span></span> <span data-ttu-id="f79ef-128">若要解决此问题，重新安装和重新配置 BizTalk Server，然后删除[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="f79ef-128">To resolve this issue, re-install and reconfigure BizTalk Server and then remove [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)].</span></span>  
  
### <a name="distributed-deployment-requires-a-domain-controller"></a><span data-ttu-id="f79ef-129">分布式部署需要域控制器</span><span class="sxs-lookup"><span data-stu-id="f79ef-129">Distributed deployment requires a domain controller</span></span>  
 <span data-ttu-id="f79ef-130">在多服务器环境中部署 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 需要域控制器，例如，[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 安装在一台服务器上，而用于配置的 [!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] 数据库安装在另一台服务器上。</span><span class="sxs-lookup"><span data-stu-id="f79ef-130">Deploying [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] in a multi-server environment requires a domain controller, for example, when you have installed [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] on one server and the [!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] databases used for configuration on another server.</span></span>  
  
### <a name="custom-pip-configurations-are-not-supported"></a><span data-ttu-id="f79ef-131">不支持自定义 PIP 配置</span><span class="sxs-lookup"><span data-stu-id="f79ef-131">Custom PIP configurations are not supported</span></span>  
 <span data-ttu-id="f79ef-132">当前版本的 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 不支持使用自定义元素或其他非 RosettaNet 标准信息配置 PIP。</span><span class="sxs-lookup"><span data-stu-id="f79ef-132">The current release of [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] does not support configuring PIPs with custom elements or other non-RosettaNet standard information.</span></span>  
  
### <a name="btarn-automatically-starts-the-single-sign-on-service"></a><span data-ttu-id="f79ef-133">BTARN 自动启动单一登录服务</span><span class="sxs-lookup"><span data-stu-id="f79ef-133">BTARN automatically starts the Single Sign-On service</span></span>  
 <span data-ttu-id="f79ef-134">当 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 要求单一登录 (SSO) 而 SSO 服务未运行时，[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 会在事件中自动启动 SSO。</span><span class="sxs-lookup"><span data-stu-id="f79ef-134">[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] automatically starts the Single Sign-On (SSO) in an event when [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] requires it and the SSO service is not running.</span></span>  
  
### <a name="the-configuration-program-will-not-remove-btarn-virtual-directories-from-the-excluded-paths-list-when-webapps-is-not-configured-for-the-default-web-site"></a><span data-ttu-id="f79ef-135">如果没有为默认网站配置 WebApps，则配置程序将不会删除排除路径列表中的 BTARN 虚拟目录。</span><span class="sxs-lookup"><span data-stu-id="f79ef-135">The configuration program will not remove BTARN virtual directories from the excluded paths list when WebApps is not configured for the default Web site</span></span>  
 <span data-ttu-id="f79ef-136">如果某个 [!INCLUDE[BTARN_CurrentVersion_abbrev](../../includes/btarn-currentversion-abbrev-md.md)] 安装中的 Web 应用程序虚拟文件夹配置为 SharePoint Server 而不是默认网站，则在取消配置该安装后，将必须从 SharePoint 中心管理站点的“排除路径”列表中手动删除 btarnapp 和 btarnhttpreceive 虚拟目录。</span><span class="sxs-lookup"><span data-stu-id="f79ef-136">If you unconfigure a [!INCLUDE[BTARN_CurrentVersion_abbrev](../../includes/btarn-currentversion-abbrev-md.md)] installation in which the Web application virtual folder was configured to be SharePoint Server, not Default Web Site, after unconfiguration you will have to manually remove the btarnapp and btarnhttpreceive virtual directories from the Excluded Paths list in the SharePoint Central Administration site.</span></span> <span data-ttu-id="f79ef-137">这是因为当将 Web 应用程序虚拟文件夹配置为 SharePoint Server 时，必须将 btarnapp 和 btarnhttpreceive 手动添加到“排除路径”列表中。</span><span class="sxs-lookup"><span data-stu-id="f79ef-137">This occurs because when you configure the Web application virtual folder to be SharePoint Server, you have to manually add btarnapp and btarnhttpreceive to the Excluded Paths list.</span></span> <span data-ttu-id="f79ef-138">配置程序将无法自动从“排除路径”列表中删除它们。</span><span class="sxs-lookup"><span data-stu-id="f79ef-138">The configuration program will not be able to automatically remove them from the Excluded Paths list.</span></span>  
  
## <a name="miscellaneous"></a><span data-ttu-id="f79ef-139">杂项</span><span class="sxs-lookup"><span data-stu-id="f79ef-139">Miscellaneous</span></span>  
  
### <a name="btarn-will-receive-messages-encrypted-in-either-encryption-algorithm"></a><span data-ttu-id="f79ef-140">BTARN 将接收用下列任一种加密算法加密的消息</span><span class="sxs-lookup"><span data-stu-id="f79ef-140">BTARN will receive messages encrypted in either encryption algorithm</span></span>  
 <span data-ttu-id="f79ef-141">即使加密消息所用的协议与此字段中的编码设置不匹配，[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 接收管道也将接收并解密消息。</span><span class="sxs-lookup"><span data-stu-id="f79ef-141">The [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] receive pipeline receives and decrypts a message even if the protocol that is used to encrypt the message and the Encoding setting in this field do not match.</span></span> <span data-ttu-id="f79ef-142">因此，[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]接收 RC2 40 或 3DES 进行加密的消息。</span><span class="sxs-lookup"><span data-stu-id="f79ef-142">Therefore, [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] receives messages that are encrypted in either RC2-40 or 3DES.</span></span>  
  
### <a name="btarn-requires-a-signal-in-a-single-action-synchronous-scenario"></a><span data-ttu-id="f79ef-143">在单一操作同步方案中 BTARN 需要信号</span><span class="sxs-lookup"><span data-stu-id="f79ef-143">BTARN requires a signal in a single-action synchronous scenario</span></span>  
 <span data-ttu-id="f79ef-144">在单一操作同步方案中，[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]始终需要和生成信号。</span><span class="sxs-lookup"><span data-stu-id="f79ef-144">In a single-action synchronous scenario, [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] always expects and generates signals.</span></span> <span data-ttu-id="f79ef-145">此行为与 RosettaNet 规范允许的行为（在单一操作同步方案中信号可有可无）有所不同。</span><span class="sxs-lookup"><span data-stu-id="f79ef-145">This behavior is different from the RosettaNet specification that a signal may or may not be required in a single-action synchronous scenario.</span></span> <span data-ttu-id="f79ef-146">如果 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 为响应方，它总是生成信号来响应来自发起方的消息。</span><span class="sxs-lookup"><span data-stu-id="f79ef-146">If [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] is a responder, it always generates a signal in response to a message from the initiator.</span></span> <span data-ttu-id="f79ef-147">如果[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]为发起方，它始终要求和响应方的信号。</span><span class="sxs-lookup"><span data-stu-id="f79ef-147">If [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] is an initiator, it always expects a signal back from the responder.</span></span> <span data-ttu-id="f79ef-148">如果 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 未收到信号，它将在流程配置设置中的 `Time To Perform` 属性所指定的时间间隔后超时，并生成 0A1 消息。</span><span class="sxs-lookup"><span data-stu-id="f79ef-148">If [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] does not receive a signal, it times out after the interval specified in the `Time To Perform` property in the process configuration settings, and it generates a 0A1 message.</span></span>  
  
### <a name="btarn-supports-utf-16-in-received-messages"></a><span data-ttu-id="f79ef-149">BTARN 支持接收的消息中使用 UTF-16</span><span class="sxs-lookup"><span data-stu-id="f79ef-149">BTARN supports UTF-16 in received messages</span></span>  
 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="f79ef-150">接收并处理具有 utf-16 字符集的消息。</span><span class="sxs-lookup"><span data-stu-id="f79ef-150"> receives and processes messages that have a character set of UTF-16.</span></span> [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="f79ef-151">将使用 utf-8 的字符集的消息发送。</span><span class="sxs-lookup"><span data-stu-id="f79ef-151"> sends messages with a character set of UTF-8.</span></span>  
  
### <a name="namespaces-must-be-stripped-from-response-messages-mapped-from-request-messages"></a><span data-ttu-id="f79ef-152">从请求消息映射的响应消息中必须去掉命名空间</span><span class="sxs-lookup"><span data-stu-id="f79ef-152">Namespaces must be stripped from response messages mapped from request messages</span></span>  
 <span data-ttu-id="f79ef-153">如果在双操作方案的专用流程中使用 BizTalk 映射器，则 BizTalk 映射器将向从请求消息映射的响应消息实例中的一些元素标记添加命名空间。</span><span class="sxs-lookup"><span data-stu-id="f79ef-153">If you use BizTalk Mapper in the private process of a double-action scenario, BizTalk Mapper adds namespaces to some element tags in response message instances mapped from request messages.</span></span> <span data-ttu-id="f79ef-154">这些命名空间会导致在发送管道中发生故障。</span><span class="sxs-lookup"><span data-stu-id="f79ef-154">These namespaces cause a failure in the send pipeline.</span></span> <span data-ttu-id="f79ef-155">必须删除这些命名空间。</span><span class="sxs-lookup"><span data-stu-id="f79ef-155">You must remove these namespaces.</span></span> <span data-ttu-id="f79ef-156">使用 HeaderHelper 示例可实现这一目的。</span><span class="sxs-lookup"><span data-stu-id="f79ef-156">Use the HeaderHelper sample to do this.</span></span> <span data-ttu-id="f79ef-157">有关详细信息，请参阅[Double 操作 PIPAutomation 业务流程和 #91;RN3 &#93;](../../adapters-and-accelerators/accelerator-rosettanet/double-action-pipautomation-orchestration.md)和[步骤 4： 创建 HeaderHelper 项目 &#91;RN3 &#93;](../../adapters-and-accelerators/accelerator-rosettanet/step-4-creating-the-headerhelper-project.md).</span><span class="sxs-lookup"><span data-stu-id="f79ef-157">For more information, see [Double Action PIPAutomation Orchestration &#91;RN3&#93;](../../adapters-and-accelerators/accelerator-rosettanet/double-action-pipautomation-orchestration.md) and [Step 4: Creating the HeaderHelper Project &#91;RN3&#93;](../../adapters-and-accelerators/accelerator-rosettanet/step-4-creating-the-headerhelper-project.md).</span></span>  
  
### <a name="changing-uri-settings-requires-iisreset"></a><span data-ttu-id="f79ef-158">更改 URI 设置需要 IISRESET</span><span class="sxs-lookup"><span data-stu-id="f79ef-158">Changing URI settings requires IISRESET</span></span>  
 <span data-ttu-id="f79ef-159">运行安装程序时，需要设置接收和发送 .aspx 页使用的 URI 设置以及接收和发送适配器使用的 URI 设置。</span><span class="sxs-lookup"><span data-stu-id="f79ef-159">While running the Setup program, you set the URI settings that the receive and send .aspx pages use and the URI settings of the receive and send adapters.</span></span> <span data-ttu-id="f79ef-160">如果你更改了安装了 .aspx 页或适配器的计算机的名称，则必须更改这些设置。</span><span class="sxs-lookup"><span data-stu-id="f79ef-160">You must change these settings if you change the name of the computer that the .aspx pages or the adapters are installed on.</span></span> <span data-ttu-id="f79ef-161">可以通过重新运行配置进程更改这些设置，但这需要重置所有配置设置。</span><span class="sxs-lookup"><span data-stu-id="f79ef-161">You can change these settings by re-running the configuration process, but this requires resetting all configuration settings.</span></span> <span data-ttu-id="f79ef-162">可通过更改相关的注册表项（`AsyncReceivePortURI`、`RNIFSenderURI` 和 `SyncReceivePortURI`）来更改 URI 设置。</span><span class="sxs-lookup"><span data-stu-id="f79ef-162">You can change the URI settings alone by changing the associated registry keys (`AsyncReceivePortURI`, `RNIFSenderURI`, and `SyncReceivePortURI`).</span></span> <span data-ttu-id="f79ef-163">更改这些注册表设置中的任一项后，必须运行 IISRESET 才能使更改生效。</span><span class="sxs-lookup"><span data-stu-id="f79ef-163">After changing any one of these registry settings, you must run IISRESET for the changes to take effect.</span></span> <span data-ttu-id="f79ef-164">这是因为 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 仅缓存这些设置供自己使用。</span><span class="sxs-lookup"><span data-stu-id="f79ef-164">This is because [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] caches the settings for its use.</span></span> <span data-ttu-id="f79ef-165">运行 IISRESET 后，还必须重新启动 BizTalk 服务。</span><span class="sxs-lookup"><span data-stu-id="f79ef-165">After running IISRESET, you must also restart BizTalk services.</span></span>  
  
### <a name="btarn-does-not-enforce-restrictions-on-rnif-v11-enumerations"></a><span data-ttu-id="f79ef-166">BTARN 不对 RNIF v1.1 枚举进行限制</span><span class="sxs-lookup"><span data-stu-id="f79ef-166">BTARN does not enforce restrictions on RNIF v1.1 enumerations</span></span>  
 <span data-ttu-id="f79ef-167">RosettaNet 实现框架 (RNIF) 规范 v1.1 对某些 RNIF 架构枚举指定限制。</span><span class="sxs-lookup"><span data-stu-id="f79ef-167">The RosettaNet Implementation Framework (RNIF) Specification v1.1 specifies restrictions on some RNIF schema enumerations.</span></span> [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="f79ef-168">不会强制这些限制，并不会验证针对这些限制。</span><span class="sxs-lookup"><span data-stu-id="f79ef-168"> does not enforce these restrictions, and does not validate against those restrictions.</span></span> <span data-ttu-id="f79ef-169">这些限制不适用于 RNIF v2.01。</span><span class="sxs-lookup"><span data-stu-id="f79ef-169">The restrictions do not apply to RNIF v2.01.</span></span>  
  
 <span data-ttu-id="f79ef-170">这适用于下列服务头元素：</span><span class="sxs-lookup"><span data-stu-id="f79ef-170">This is true for the following service header elements:</span></span>  
  
-   `GlobalBusinessActionCode`  
  
-   `GlobalPartnerClassificationCode`  
  
-   `GlobalBusinessServiceCode`  
  
-   `GlobalProcessCode`  
  
-   `GlobalProcessIndicatorCode`  
  
-   `VersionIdentifier`  
  
### <a name="performancecontrolrequest-parameters-will-not-override-default-process-configuration-settings"></a><span data-ttu-id="f79ef-171">PerformanceControlRequest 参数不覆盖默认的流程配置设置</span><span class="sxs-lookup"><span data-stu-id="f79ef-171">PerformanceControlRequest parameters will not override default process configuration settings</span></span>  
 <span data-ttu-id="f79ef-172">传入消息可以在服务头中包含 `PerformanceControlRequest` 参数。</span><span class="sxs-lookup"><span data-stu-id="f79ef-172">Incoming messages can contain `PerformanceControlRequest` parameters in the service header.</span></span> <span data-ttu-id="f79ef-173">这些参数包括到确认 （接收） 的时间和执行，时间的时间延迟参数值中所做的过程配置设置中设置[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]管理控制台。</span><span class="sxs-lookup"><span data-stu-id="f79ef-173">These parameters include values for the time delay parameters of Time to Acknowledge (Receipt) and Time to Perform, as set in the process configuration settings made in the [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] Management Console.</span></span> [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="f79ef-174">不会动态设置基于时间延迟`PerformanceControlRequest`传入消息中的参数。</span><span class="sxs-lookup"><span data-stu-id="f79ef-174"> does not dynamically set the time delays based on the `PerformanceControlRequest` parameters in the incoming message.</span></span> [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="f79ef-175">始终会花时间从过程配置设置中设置的默认 PIP 值的时间延迟问题。</span><span class="sxs-lookup"><span data-stu-id="f79ef-175"> always takes the time delays from the default PIP values set in the process configuration settings.</span></span> <span data-ttu-id="f79ef-176">这符合 RosettaNet 实现框架 (RNIF) 规范 v1.1。</span><span class="sxs-lookup"><span data-stu-id="f79ef-176">This follows the RosettaNet Implementation Framework (RNIF) Specification v1.1.</span></span>  
  
### <a name="the-pip-name-and-pip-version-of-double-action-messages-are-case-sensitive"></a><span data-ttu-id="f79ef-177">双操作消息的 PIP 名称和 PIP 版本区分大小写</span><span class="sxs-lookup"><span data-stu-id="f79ef-177">The PIP name and PIP version of double-action messages are case-sensitive</span></span>  
 <span data-ttu-id="f79ef-178">如果响应消息的 PIP 名称和 PIP 版本与原始双操作请求消息的相应值具有不同的大小写，则发起方 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 会将该响应消息视为无效消息加以拒绝，并向响应方返回一个异常。</span><span class="sxs-lookup"><span data-stu-id="f79ef-178">If the PIP name and PIP version of a response message have a different case than the corresponding values of the original double-action request message, the initiator [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] rejects the response message as not valid and returns an exception to the responder.</span></span>  
  
### <a name="btarn-does-not-support-changing-agreement-settings-while-there-are-active-processes"></a><span data-ttu-id="f79ef-179">BTARN 不支持在流程处于活动状态时更改协议设置</span><span class="sxs-lookup"><span data-stu-id="f79ef-179">BTARN does not support changing agreement settings while there are active processes</span></span>  
 <span data-ttu-id="f79ef-180">将应用到协议属性的更改，只要你单击**应用**或**确定**以接受这些条款。</span><span class="sxs-lookup"><span data-stu-id="f79ef-180">Changes to agreement properties will apply as soon as you click **Apply** or **OK** to accept them.</span></span> <span data-ttu-id="f79ef-181">更改协议后，已在运行的流程以及涉及该协议的任何新流程中的任何新活动都将使用更改的协议属性。</span><span class="sxs-lookup"><span data-stu-id="f79ef-181">After you change an agreement, any new activity in an already running process or any new process involving that agreement will use the changed agreement properties.</span></span> <span data-ttu-id="f79ef-182">如果更改协议时有正在运行的流程，则该流程可能已经为消息使用了以前的协议属性。</span><span class="sxs-lookup"><span data-stu-id="f79ef-182">If there was a process running when you changed the agreement, it may have already used the previous agreement properties for a message.</span></span> <span data-ttu-id="f79ef-183">该流程的新消息将使用新的协议设置，这会产生不可预测的结果。</span><span class="sxs-lookup"><span data-stu-id="f79ef-183">The new messages for that process will use the new agreement settings, which may generate unpredictable results.</span></span> <span data-ttu-id="f79ef-184">建议你在所有流程都处于关闭状态时更改协议设置。</span><span class="sxs-lookup"><span data-stu-id="f79ef-184">It is recommended that you change agreement settings when there are no processes running.</span></span>  
  
### <a name="btarn-will-not-perform-cross-field-validation-after-changes-to-a-process-configuration-profile"></a><span data-ttu-id="f79ef-185">在对流程配置的配置文件进行更改后，BTARN 不执行跨字段验证</span><span class="sxs-lookup"><span data-stu-id="f79ef-185">BTARN will not perform cross-field validation after changes to a process configuration profile</span></span>  
 <span data-ttu-id="f79ef-186">创建流程配置的配置文件并接着创建协议时，[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 将执行跨字段验证，以确保协议和配置文件的属性是兼容的。</span><span class="sxs-lookup"><span data-stu-id="f79ef-186">When you create a process configuration profile and then create an agreement, [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] performs cross-field validation to make sure that the properties of the agreement and the profile are compatible.</span></span> <span data-ttu-id="f79ef-187">例如，它会对“标准”属性设为“CIDX”的配置文件进行检查，将协议的 0A1 协议属性设为“非 0A1”。</span><span class="sxs-lookup"><span data-stu-id="f79ef-187">For example, it checks that for a profile with the Standard property set to "CIDX", the 0A1 agreement property of the agreement is set to "No 0A1".</span></span> <span data-ttu-id="f79ef-188">但是，如果你在创建协议之后更改流程配置的配置文件，[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 将不执行跨字段验证。</span><span class="sxs-lookup"><span data-stu-id="f79ef-188">However, if you change a process configuration profile after having created an agreement, [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] does not perform cross-field validation.</span></span> <span data-ttu-id="f79ef-189">如果你将“标准”属性的值从“RosettaNet”更改为“CIDX”，[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 将不检验协议的 0A1 协议属性是否设为“非 0A1”。</span><span class="sxs-lookup"><span data-stu-id="f79ef-189">If you change the Standard property from "RosettaNet" to "CIDX", [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] does not verify that the 0A1 agreement property of the agreement is set to "No 0A1".</span></span>  
  
### <a name="errors-will-result-if-all-orchestrations-are-not-started"></a><span data-ttu-id="f79ef-190">如果所有业务流程均未启动，将出现错误</span><span class="sxs-lookup"><span data-stu-id="f79ef-190">Errors will result if all orchestrations are not started</span></span>  
 <span data-ttu-id="f79ef-191">[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 安装程序共安装 9 个业务流程。</span><span class="sxs-lookup"><span data-stu-id="f79ef-191">The [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] Setup program installs nine orchestrations.</span></span> <span data-ttu-id="f79ef-192">有关[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]若要成功处理消息，必须将绑定、 登记，并在启动处理之前启动的这些业务流程的所有包含 9 个。</span><span class="sxs-lookup"><span data-stu-id="f79ef-192">For [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] to process messages successfully, you must bind, enlist, and start all nine of these orchestrations before initiating processing.</span></span> <span data-ttu-id="f79ef-193">有关详细信息，请参阅 BizTalk Server 帮助中的"业务流程管理在 BizTalk 资源管理器"管理业务流程"主题。</span><span class="sxs-lookup"><span data-stu-id="f79ef-193">For more information, see the "Orchestration Management in BizTalk Explorer" or "Managing Orchestrations" topics in BizTalk Server Help.</span></span>  
  
### <a name="rnifreceiveaspx-does-not-remove-the-mime-bottom-boundary-from-a-message"></a><span data-ttu-id="f79ef-194">RNIFReceive.aspx 不删除消息中的 MIME 下边界</span><span class="sxs-lookup"><span data-stu-id="f79ef-194">RNIFReceive.aspx does not remove the MIME bottom boundary from a message</span></span>  
 <span data-ttu-id="f79ef-195">RNIFReceive.aspx 页收到来自合作伙伴的 RNIFSend.aspx 页的消息时，该消息包含了 MIME 头以及 MIME 上边界和下边界（用 Base64 数字表示）。</span><span class="sxs-lookup"><span data-stu-id="f79ef-195">When the RNIFReceive.aspx page receives a message from an RNIFSend.aspx page of a partner, the message includes a MIME header, and a MIME top and bottom boundary, a base 64 number.</span></span> <span data-ttu-id="f79ef-196">RNIFSend.aspx 将头和边界添加到消息中以便进行 RNIF 传输。</span><span class="sxs-lookup"><span data-stu-id="f79ef-196">RNIFSend.aspx adds the header and boundaries to the message for RNIF transmission.</span></span> <span data-ttu-id="f79ef-197">将消息提交到公用流程之前，RNIFReceive.aspx 应将 MIME 头和边界从消息中删除。</span><span class="sxs-lookup"><span data-stu-id="f79ef-197">RNIFReceive.aspx should remove the MIME header and boundaries from the message before submitting the message to the public process.</span></span> <span data-ttu-id="f79ef-198">RNIFReceive.aspx 删除 MIME 头和上边界，但不删除下边界。</span><span class="sxs-lookup"><span data-stu-id="f79ef-198">RNIFReceive.aspx removes the MIME header and the upper boundary, but it does not remove the bottom boundary.</span></span> <span data-ttu-id="f79ef-199">下边界的存在不会影响公用流程中消息的处理。</span><span class="sxs-lookup"><span data-stu-id="f79ef-199">The presence of the bottom boundary does not affect processing of the message in the public process.</span></span>  
  
### <a name="btarn-does-not-support-a-case-sensitive-configuration-of-sql-server-databases"></a><span data-ttu-id="f79ef-200">BTARN 不支持 SQL Server 数据库的区分大小写的配置</span><span class="sxs-lookup"><span data-stu-id="f79ef-200">BTARN does not support a case-sensitive configuration of SQL Server databases</span></span>  
 <span data-ttu-id="f79ef-201">如果你进行[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)][!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)]数据库和数据库对象区分大小写，[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]管理控制台找不到数据库资源，并引发异常。</span><span class="sxs-lookup"><span data-stu-id="f79ef-201">If you make [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)][!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] databases and database objects case-sensitive, the [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] Management Console cannot find database resources and throws an exception.</span></span> <span data-ttu-id="f79ef-202">[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] [!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)]数据库和数据库对象必须是不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="f79ef-202">The [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)][!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] databases and database objects must be case-insensitive.</span></span>  
  
### <a name="all-queries-in-database-maintenance-scripts-should-be-written-for-utc-time"></a><span data-ttu-id="f79ef-203">数据库维护脚本中的所有查询都应使用 UTC 时间</span><span class="sxs-lookup"><span data-stu-id="f79ef-203">All queries in database maintenance scripts should be written for UTC time</span></span>  
 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="f79ef-204"> [!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] 数据库使用 UTC（协调通用时间）时间，所以为维护这些数据库之一而创建的任何查询都必须使用 UTC 时间。</span><span class="sxs-lookup"><span data-stu-id="f79ef-204"> [!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] databases use UTC (Universal Time Coordinate) time, so that any query that you create to maintain one of these databases must be written for UTC time.</span></span> <span data-ttu-id="f79ef-205">例如，假设你的维护脚本使用的是 `GetDate()` 命令，应将其更改为 `GetUTCDate()`。</span><span class="sxs-lookup"><span data-stu-id="f79ef-205">For example, if your maintenance script were to use the `GetDate()` command, you should change it to `GetUTCDate()`.</span></span>  
  
### <a name="a-publicresponder-orchestration-will-reject-a-duplicate-request-action-message"></a><span data-ttu-id="f79ef-206">PublicResponder 业务流程将拒绝重复的请求操作消息</span><span class="sxs-lookup"><span data-stu-id="f79ef-206">A PublicResponder orchestration will reject a duplicate request action message</span></span>  
 <span data-ttu-id="f79ef-207">如果 `PublicResponder` 业务流程 (PublicResponderV11.odx) 收到重复的请求操作消息，它将在事件日志中记录一条警告，然后拒绝该消息。</span><span class="sxs-lookup"><span data-stu-id="f79ef-207">When a `PublicResponder` orchestration (PublicResponderV11.odx) receives a duplicate request action message, it will log a warning in the event log, and then reject the message.</span></span> <span data-ttu-id="f79ef-208">如果在响应方业务流程完成后收到重复的消息，则 BizTalk Server 将终止该消息，因为不存在针对它的订阅。</span><span class="sxs-lookup"><span data-stu-id="f79ef-208">If a duplicate message is received after the responder orchestration has completed, BizTalk Server will stop the message because there are no subscriptions.</span></span>  
  
### <a name="transmission-errors-will-not-be-shown-in-bam-if-the-public-process-has-stopped"></a><span data-ttu-id="f79ef-209">如果公用流程被终止，BAM 不显示传输错误</span><span class="sxs-lookup"><span data-stu-id="f79ef-209">Transmission errors will not be shown in BAM if the public process has stopped</span></span>  
 <span data-ttu-id="f79ef-210">如果公用流程业务流程在处理其最终消息时出现传输错误，事件日志和 HAT 将显示该错误，但 BAM 不显示该错误。</span><span class="sxs-lookup"><span data-stu-id="f79ef-210">If a transmission error occurs when a public-process orchestration processes its final message, the event log and HAT display the error, but BAM does not.</span></span> <span data-ttu-id="f79ef-211">BAM 之所以不能显示该消息，是因为业务流程已停止。</span><span class="sxs-lookup"><span data-stu-id="f79ef-211">BAM cannot display the message because the orchestration has stopped.</span></span>  
  
### <a name="the-pipelineexe-tool-cannot-be-used-to-debug-a-btarn-receive-pipeline"></a><span data-ttu-id="f79ef-212">pipeline.exe 工具不能用于调试 BTARN 接收管道</span><span class="sxs-lookup"><span data-stu-id="f79ef-212">The pipeline.exe tool cannot be used to debug a BTARN receive pipeline</span></span>  
 <span data-ttu-id="f79ef-213">如果要调试接收管道，必须创建承载该管道的端口。</span><span class="sxs-lookup"><span data-stu-id="f79ef-213">If you want to debug a receive pipeline, you have to create a port hosting the pipeline.</span></span> <span data-ttu-id="f79ef-214">你无法调试使用 BizTalk Server 提供的 pipeline.exe 工具。</span><span class="sxs-lookup"><span data-stu-id="f79ef-214">You cannot debug it using the pipeline.exe tool that BizTalk Server provides.</span></span>  
  
### <a name="an-error-may-be-generated-for-a-retried-message-that-is-successfully-processed-after-the-orchestration-finishes"></a><span data-ttu-id="f79ef-215">在业务流程完成后，如果重试已经成功处理过的消息，则可能会产生错误</span><span class="sxs-lookup"><span data-stu-id="f79ef-215">An error may be generated for a retried message that is successfully processed after the orchestration finishes</span></span>  
 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="f79ef-216"> 使用业务流程来表示流程。</span><span class="sxs-lookup"><span data-stu-id="f79ef-216"> uses orchestrations to represent process flow.</span></span> <span data-ttu-id="f79ef-217">在重试一些已经重试过的消息时，业务流程可能在重试消息到达 BizTalk MessageBox 之前已成功完成。</span><span class="sxs-lookup"><span data-stu-id="f79ef-217">In some cases, in which several retried messages are retried, the orchestration may finish successfully before a retried message arrives in the BizTalk MessageBox.</span></span> <span data-ttu-id="f79ef-218">如果出现这种行为，[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] 将生成一个相应的“已完成但被删除”错误消息。</span><span class="sxs-lookup"><span data-stu-id="f79ef-218">When this behavior occurs, [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] generates a corresponding "completed but discarded" error message.</span></span> <span data-ttu-id="f79ef-219">此时应查看业务线 (LOB) 应用程序，确定该流程是否已完成。</span><span class="sxs-lookup"><span data-stu-id="f79ef-219">You should look at your line-of-business (LOB) application to determine whether the process has finished or not.</span></span> <span data-ttu-id="f79ef-220">如果 LOB 应用程序指出已成功完成，则可以忽略“已完成但被删除”消息。</span><span class="sxs-lookup"><span data-stu-id="f79ef-220">If the LOB application indicates successful completion, you can ignore the "completed but discarded" message.</span></span>  
  
### <a name="an-xml-file-exported-from-trackingxls-may-have-incorrect-fields"></a><span data-ttu-id="f79ef-221">从 tracking.xls 导出的 XML 文件可能包含错误的字段</span><span class="sxs-lookup"><span data-stu-id="f79ef-221">An XML file exported from tracking.xls may have incorrect fields</span></span>  
 <span data-ttu-id="f79ef-222">在跟踪 XLS 文件中定义新的跟踪视图并从该跟踪 XLS 文件导出 XML 文件时，某些字段名可能会被稍做改动。</span><span class="sxs-lookup"><span data-stu-id="f79ef-222">When you define new tracking views in a tracking XLS file, and export an XML file from the tracking XLS file, some of the field names will be slightly modified.</span></span> <span data-ttu-id="f79ef-223">若要更正此操作，请验证你的自定义跟踪中的字段通过针对标准 tracking.xml 字段的 XML 文件安装[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]安装程序。</span><span class="sxs-lookup"><span data-stu-id="f79ef-223">To correct this, verify the fields in your customized tracking XML file against the standard tracking.xml field installed by [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] setup.</span></span>  
  
### <a name="rnif-11-service-header-schema-for-signals-and-responses-may-need-modification"></a><span data-ttu-id="f79ef-224">信号和响应的 RNIF 1.1 服务头架构可能需要修改</span><span class="sxs-lookup"><span data-stu-id="f79ef-224">RNIF 1.1 service header schema for signals and responses may need modification</span></span>  
 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="f79ef-225">现成的附带 RosettaNet 标头的所有架构。</span><span class="sxs-lookup"><span data-stu-id="f79ef-225"> ships all RosettaNet header schemas out of the box.</span></span> <span data-ttu-id="f79ef-226">一些实现与其他实现相比，使用“信号控制”和“操作控制”节点的方式不同，请见下述。</span><span class="sxs-lookup"><span data-stu-id="f79ef-226">Some implementations use the Signal Control and Action Control nodes differently than others, as described below.</span></span>  
  
 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="f79ef-227"> 提供以下即时可用的“信号控制”元素。</span><span class="sxs-lookup"><span data-stu-id="f79ef-227"> out of the box ships the Signal Control element as below.</span></span> <span data-ttu-id="f79ef-228">请注意，“操作控制”元素也是即时可用的。</span><span class="sxs-lookup"><span data-stu-id="f79ef-228">Note that the same may be true for the Action Control element.</span></span>  
  
```  
<!ELEMENT SignalControl (  
          InstanceIdentifier,  
          PartnerRoute,  
          SignalIdentity,  
          inResponseTo)>  
```  
  
 <span data-ttu-id="f79ef-229">如果你的解决方案需要此序列，则你无需执行任何操作。</span><span class="sxs-lookup"><span data-stu-id="f79ef-229">If your solution requires this sequence, then you do not need to do anything.</span></span>  
  
 <span data-ttu-id="f79ef-230">而另一方面，其他一些实现使用以下代码：</span><span class="sxs-lookup"><span data-stu-id="f79ef-230">Some other implementations, on the other hand, use the following code:</span></span>  
  
```  
<!ELEMENT SignalControl (  
          inResponseTo,  
          InstanceIdentifier,  
          PartnerRoute,  
          SignalIdentity)>  
```  
  
 <span data-ttu-id="f79ef-231">如果您的解决方案需要此序列，请参阅 KB 889523。</span><span class="sxs-lookup"><span data-stu-id="f79ef-231">If your solution requires this sequence, refer to KB 889523.</span></span> <span data-ttu-id="f79ef-232">此软件更新程序将更改相应的 XML 架构。</span><span class="sxs-lookup"><span data-stu-id="f79ef-232">This software update will change the corresponding XML schema.</span></span> <span data-ttu-id="f79ef-233">请注意，此更新程序仅影响 RNIF 1.1 流程。</span><span class="sxs-lookup"><span data-stu-id="f79ef-233">Note that this update only affects RNIF 1.1 processes.</span></span>  
  
### <a name="pipautomationgetaction-sql-stored-procedure-needs-update"></a><span data-ttu-id="f79ef-234">PipAutomationGetAction SQL 存储过程需要更新</span><span class="sxs-lookup"><span data-stu-id="f79ef-234">PipAutomationGetAction SQL stored procedure needs update</span></span>  
 <span data-ttu-id="f79ef-235">需要更新 PipAutomationGetAction SQL 存储过程才能锁定各条记录。</span><span class="sxs-lookup"><span data-stu-id="f79ef-235">You need to update the PipAutomationGetAction SQL stored procedure to lock single records.</span></span> <span data-ttu-id="f79ef-236">请删除以下各行：</span><span class="sxs-lookup"><span data-stu-id="f79ef-236">Delete the following lines:</span></span>  
  
```  
IF @@ERROR <> 0  
    UPDATE MessagesToLOB SET Delivered = -1 WHERE MessageID = @tempGUID  
```  
  
 <span data-ttu-id="f79ef-237">正确的 PipAutomationGetAction 存储过程如下所示：</span><span class="sxs-lookup"><span data-stu-id="f79ef-237">The correct PipAutomationGetAction stored procedure is as follows:</span></span>  
  
```  
CREATE PROCEDURE PipAutomationGetAction  
AS  
 SET TRANSACTION ISOLATION LEVEL READ COMMITTED  
BEGIN TRANSACTION  
DECLARE @tempGUID nvarchar(36)  
SELECT TOP 1 @tempGUID = MessageID FROM MessagesToLOB WITH (READPAST,UPDLOCK,ROWLOCK)  
   WHERE Delivered = 0 AND MessageCategory = 10  
  ORDER BY TimeCreated  
  SELECT PIPInstanceID,DestinationPartyName,SourcePartyName,PIPCode,PIPVersion, ServiceContent FROM MessagesToLOB  
   WHERE MessageID = @tempGUID  
For xml auto  
UPDATE MessagesToLOB SET Delivered = 1 WHERE MessageID = @tempGUID  
 COMMIT TRANSACTION  
GO  
```  
  
### <a name="you-can-customize-aspx-code-to-return-the-error-description"></a><span data-ttu-id="f79ef-238">可自定义 aspx 代码，以返回错误说明</span><span class="sxs-lookup"><span data-stu-id="f79ef-238">You can customize aspx code to return the error description</span></span>  
 <span data-ttu-id="f79ef-239">如果需要记录或发送错误说明，可自定义 aspx 代码，在响应中返回实际的文本。</span><span class="sxs-lookup"><span data-stu-id="f79ef-239">If you need to log or send an error description, you can customize the aspx code to have the actual text returned in the response.</span></span> <span data-ttu-id="f79ef-240">为此，请使用 HttpResponse.Status 或 HttpWebResponse.StatusDescription，前者是内部 asp 请求的响应对象，而后者则是通过对 HttpWebRequest 对象的 GetResponse 方法进行 [!INCLUDE[btsDotNet](../../includes/btsdotnet-md.md)] 调用返回的。</span><span class="sxs-lookup"><span data-stu-id="f79ef-240">To do so, use HttpResponse.Status (which is the intrinsic asp request’s response object) or HttpWebResponse.StatusDescription (which is returned by the [!INCLUDE[btsDotNet](../../includes/btsdotnet-md.md)] call to the HttpWebRequest object’s GetResponse method).</span></span> <span data-ttu-id="f79ef-241">要从其中一个适用的响应对象中得到返回值，请设置 Response.Status 值，设置方法类似于在随 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 发布的 aspx 代码中设置 Response.StatusCode。</span><span class="sxs-lookup"><span data-stu-id="f79ef-241">To return the return values from one of the applicable response objects, set the Response.Status value similar to how Response.StatusCode is set in the aspx code that ships with [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)].</span></span>  
  
### <a name="rnif-11-messages-cannot-be-read-in-plain-text-from-non-repudiation-tables-if-the-encoding-method-is-set-to-base64"></a><span data-ttu-id="f79ef-242">如果编码方法设置为 Base64，则无法以纯文本形式从不可否认性表中读取 RNIF 1.1 消息</span><span class="sxs-lookup"><span data-stu-id="f79ef-242">RNIF 1.1 messages cannot be read in plain text from non-repudiation tables if the encoding method is set to Base64</span></span>  
 <span data-ttu-id="f79ef-243">只有编码方法设置为 Base64 时才会出现这种情况。</span><span class="sxs-lookup"><span data-stu-id="f79ef-243">This only happens if the encoding method is set to Base64.</span></span> <span data-ttu-id="f79ef-244">如果编码方法设置为“quoted-printable”或“8 bit”，则可以明文形式从不可否认性表中读取消息。</span><span class="sxs-lookup"><span data-stu-id="f79ef-244">Messages can be read in clear text from non-repudiation tables if encoding method is set to quoted-printable or 8-bit.</span></span> <span data-ttu-id="f79ef-245">需要以 \*.eml 扩展名保存消息文件，然后使用 Outlook Express 打开才能读取消息内容，因为 Outlook Express 可以对消息进行解码。</span><span class="sxs-lookup"><span data-stu-id="f79ef-245">You need to save the message file with \*.eml extension and then open it using Outlook Express to read the message and Outlook Express will decode the message for you.</span></span> <span data-ttu-id="f79ef-246">还可使用以下代码从不可否认性表中读取用 Base64 编码的消息。</span><span class="sxs-lookup"><span data-stu-id="f79ef-246">You may also use the code below to read the Base64 encoded messages from non-repudiation tables.</span></span>  
  
```  
byte[] textBytes = Convert.FromBase64String(txtEncodedText.Text);  
string plainText = Encoding.UTF8.GetString(textBytes);  
txtOutput.Text = plainText;  
```  
  
## <a name="see-also"></a><span data-ttu-id="f79ef-247">另请参阅</span><span class="sxs-lookup"><span data-stu-id="f79ef-247">See Also</span></span>  
[<span data-ttu-id="f79ef-248">疑难解答和已知问题</span><span class="sxs-lookup"><span data-stu-id="f79ef-248">Troubleshooting and known issues</span></span>](troubleshooting-and-known-issues-in-rosettanet.md)