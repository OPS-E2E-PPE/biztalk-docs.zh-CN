---
title: RNIF 标准 |Microsoft 文档
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- RNIF, message definitions
- RNIF, messaging framework patterns
- messages, message definitions
- RNIF, standards
- messages, messaging framework patterns
ms.assetid: d39a9683-1ef5-462b-9472-4e30fe873f7d
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: f6b29d8c9c770893fd78769b86266ce33e31a336
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
ms.locfileid: "22211125"
---
# <a name="rnif-standard"></a><span data-ttu-id="bab8e-102">RNIF 标准</span><span class="sxs-lookup"><span data-stu-id="bab8e-102">RNIF Standard</span></span>
<span data-ttu-id="bab8e-103">RosettaNet 实现框架 (RNIF) 标准定义系统传输 RosettaNet 消息的方式。</span><span class="sxs-lookup"><span data-stu-id="bab8e-103">The RosettaNet Implementation Framework (RNIF) standard defines how systems transport a RosettaNet message.</span></span> <span data-ttu-id="bab8e-104">RNIF 标准是一个强大的传输、路由、打包和安全标准。</span><span class="sxs-lookup"><span data-stu-id="bab8e-104">The RNIF standard is a robust transfer, routing, packaging, and security standard.</span></span> <span data-ttu-id="bab8e-105">所有 RosettaNet 消息传送系统都必须符合 RNIF 标准，才能获得 RosettaNet 证书。</span><span class="sxs-lookup"><span data-stu-id="bab8e-105">All RosettaNet messaging systems must comply with the RNIF standard to achieve RosettaNet certification.</span></span>  
  
 <span data-ttu-id="bab8e-106">此标准定义了消息结构、确认需求、多用途 Internet 邮件扩展 (MIME) 编码以及数字签名。</span><span class="sxs-lookup"><span data-stu-id="bab8e-106">The standard defines message structure, the need for acknowledgements, Multipurpose Internet Mail Extensions (MIME) encoding, and the digital signature.</span></span> <span data-ttu-id="bab8e-107">核心标准包括身份验证、授权、加密以及不可否认性的要求。</span><span class="sxs-lookup"><span data-stu-id="bab8e-107">The core standard includes requirements for authentication, authorization, encryption, and non-repudiation.</span></span> <span data-ttu-id="bab8e-108">RNIF 标准基于 HTTP、MIME 以及 XML 标准。</span><span class="sxs-lookup"><span data-stu-id="bab8e-108">The RNIF standard is based on HTTP, MIME, and XML standards.</span></span> <span data-ttu-id="bab8e-109">RNIF 标准不指定平台，也不指定所支持的应用程序。</span><span class="sxs-lookup"><span data-stu-id="bab8e-109">The RNIF standard does not specify a platform or an enabling application.</span></span>  
  
 [!INCLUDE[BTARN_CurrentVersion_FirstRef](../../includes/btarn-currentversion-firstref-md.md)]<span data-ttu-id="bab8e-110">实现两个版本的 RNIF: RNIF 规范 v02.00.01 和 RNIF 规范 1.1 版。</span><span class="sxs-lookup"><span data-stu-id="bab8e-110"> implements two versions of RNIF: RNIF Specification v02.00.01 and RNIF Specification v1.1.</span></span> <span data-ttu-id="bab8e-111">RNIF 2.01 添加超出支持的 RNIF 1.1，包括加密、 附件和同步事务的重要功能。</span><span class="sxs-lookup"><span data-stu-id="bab8e-111">RNIF 2.01 added significant functionality beyond that supported by RNIF 1.1, including encryption, attachments, and synchronous transactions.</span></span> <span data-ttu-id="bab8e-112">RNIF 2.0 并不向后兼容 RNIF 1.1。</span><span class="sxs-lookup"><span data-stu-id="bab8e-112">RNIF 2.0 is not backward compatible with RNIF 1.1.</span></span>  
  
## <a name="messaging-framework-patterns"></a><span data-ttu-id="bab8e-113">消息传递框架模式</span><span class="sxs-lookup"><span data-stu-id="bab8e-113">Messaging Framework Patterns</span></span>  
 <span data-ttu-id="bab8e-114">下表给出了消息传送框架模式和同步消息交换的 RNIF 支持。</span><span class="sxs-lookup"><span data-stu-id="bab8e-114">The following table shows RNIF support for messaging framework patterns and synchronous message exchange.</span></span> <span data-ttu-id="bab8e-115">单操作消息不涉及响应，而双操作消息则包括请求和响应。</span><span class="sxs-lookup"><span data-stu-id="bab8e-115">A single-action message is one that does not involve a response, whereas a double-action message includes a request and response.</span></span>  
  
|<span data-ttu-id="bab8e-116">框架</span><span class="sxs-lookup"><span data-stu-id="bab8e-116">Framework</span></span>|<span data-ttu-id="bab8e-117">模式</span><span class="sxs-lookup"><span data-stu-id="bab8e-117">Pattern</span></span>|<span data-ttu-id="bab8e-118">同步 /</span><span class="sxs-lookup"><span data-stu-id="bab8e-118">Synchronous/</span></span><br /><span data-ttu-id="bab8e-119">异步</span><span class="sxs-lookup"><span data-stu-id="bab8e-119">Asynchronous</span></span>|  
|---------------|-------------|---------------------------------|  
|<span data-ttu-id="bab8e-120">RNIF 1.1</span><span class="sxs-lookup"><span data-stu-id="bab8e-120">RNIF 1.1</span></span>|<span data-ttu-id="bab8e-121">通知</span><span class="sxs-lookup"><span data-stu-id="bab8e-121">Notification</span></span>|<span data-ttu-id="bab8e-122">异步</span><span class="sxs-lookup"><span data-stu-id="bab8e-122">Asynch</span></span>|  
|<span data-ttu-id="bab8e-123">RNIF 1.1</span><span class="sxs-lookup"><span data-stu-id="bab8e-123">RNIF 1.1</span></span>|<span data-ttu-id="bab8e-124">事务</span><span class="sxs-lookup"><span data-stu-id="bab8e-124">Transaction</span></span>|<span data-ttu-id="bab8e-125">异步</span><span class="sxs-lookup"><span data-stu-id="bab8e-125">Asynch</span></span>|  
|<span data-ttu-id="bab8e-126">RNIF 2.0</span><span class="sxs-lookup"><span data-stu-id="bab8e-126">RNIF 2.0</span></span>|<span data-ttu-id="bab8e-127">双操作</span><span class="sxs-lookup"><span data-stu-id="bab8e-127">Double-action</span></span>|<span data-ttu-id="bab8e-128">同步</span><span class="sxs-lookup"><span data-stu-id="bab8e-128">Synch</span></span>|  
|<span data-ttu-id="bab8e-129">RNIF 2.0</span><span class="sxs-lookup"><span data-stu-id="bab8e-129">RNIF 2.0</span></span>|<span data-ttu-id="bab8e-130">双操作</span><span class="sxs-lookup"><span data-stu-id="bab8e-130">Double-action</span></span>|<span data-ttu-id="bab8e-131">异步</span><span class="sxs-lookup"><span data-stu-id="bab8e-131">Asynch</span></span>|  
|<span data-ttu-id="bab8e-132">RNIF 2.0</span><span class="sxs-lookup"><span data-stu-id="bab8e-132">RNIF 2.0</span></span>|<span data-ttu-id="bab8e-133">单操作</span><span class="sxs-lookup"><span data-stu-id="bab8e-133">Single-action</span></span>|<span data-ttu-id="bab8e-134">同步</span><span class="sxs-lookup"><span data-stu-id="bab8e-134">Synch</span></span>|  
|<span data-ttu-id="bab8e-135">RNIF 2.0</span><span class="sxs-lookup"><span data-stu-id="bab8e-135">RNIF 2.0</span></span>|<span data-ttu-id="bab8e-136">单操作</span><span class="sxs-lookup"><span data-stu-id="bab8e-136">Single-action</span></span>|<span data-ttu-id="bab8e-137">异步</span><span class="sxs-lookup"><span data-stu-id="bab8e-137">Asynch</span></span>|  
  
## <a name="message-definitions"></a><span data-ttu-id="bab8e-138">消息定义</span><span class="sxs-lookup"><span data-stu-id="bab8e-138">Message Definitions</span></span>  
 <span data-ttu-id="bab8e-139">RNIF 1.1 和 RNIF 2.01 对 RosettaNet 消息的定义有所不同。</span><span class="sxs-lookup"><span data-stu-id="bab8e-139">RNIF 1.1 and RNIF 2.01 define the RosettaNet message differently.</span></span> <span data-ttu-id="bab8e-140">这些区别包括：处理附件的方式、安全/多用途 Internet 邮件扩展 (SMIME) 信封、传递头以及 MIME 打包。</span><span class="sxs-lookup"><span data-stu-id="bab8e-140">These differences include how they handle attachments, the Secure/Multipurpose Internet Mail Extensions (SMIME) envelope, delivery header, and MIME packaging.</span></span> <span data-ttu-id="bab8e-141">特别是 RNIF 2.01 还包括附件；另外，RNIF 2.01 添加了传递头，而 RNIF 1.1 不支持传递头。</span><span class="sxs-lookup"><span data-stu-id="bab8e-141">RNIF 2.01 specifically includes attachments; RNIF 2.01 adds a delivery header, while RNIF 1.1 does not.</span></span>  
  
> [!NOTE]
>  [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="bab8e-142">不支持*RNIF 1.1 的技术建议*RosettaNet 组织 （一个用于附件支持，一个用于同步的响应） 发布。</span><span class="sxs-lookup"><span data-stu-id="bab8e-142"> does not support the *Technical Recommendations for RNIF 1.1* published by the RosettaNet organization (one for attachment support, and one for synchronous responses).</span></span>  
  
 <span data-ttu-id="bab8e-143">系统将 RNIF 1.1 和 RNIF 2.01 消息的各部分用于标识参与方、路由以及标识服务级。</span><span class="sxs-lookup"><span data-stu-id="bab8e-143">Systems use the parts of RNIF 1.1 and RNIF 2.01 messages for party identification, routing, and service-level identification purposes.</span></span> <span data-ttu-id="bab8e-144">在读取并答复服务内容正文（消息的主要内容）之前，每个参与方都必须成功地填充或解释头值。</span><span class="sxs-lookup"><span data-stu-id="bab8e-144">Before reading and replying to a body of service content, which is the main content of the message, each party must successfully populate or interpret the header values.</span></span>  
  
 <span data-ttu-id="bab8e-145">下图描述了 RNIF 1.1 和 RNIF 2.01 消息定义。</span><span class="sxs-lookup"><span data-stu-id="bab8e-145">The following figure describes the RNIF 1.1 and RNIF 2.01 message definitions.</span></span>  
  
 <span data-ttu-id="bab8e-146">![& #60;无更改 & #62;](../../adapters-and-accelerators/accelerator-rosettanet/media/rn3-rnif-message-definitions.gif "RN3_RNIF_Message_Definitions")</span><span class="sxs-lookup"><span data-stu-id="bab8e-146">![&#60;No Change&#62;](../../adapters-and-accelerators/accelerator-rosettanet/media/rn3-rnif-message-definitions.gif "RN3_RNIF_Message_Definitions")</span></span>  
  
 <span data-ttu-id="bab8e-147">在 RNIF 1.1 消息中，版本号表明 RNIF 版本。</span><span class="sxs-lookup"><span data-stu-id="bab8e-147">In the RNIF 1.1 message, the version number indicates the RNIF version.</span></span> <span data-ttu-id="bab8e-148">内容长度是 RosettaNet 服务消息的长度。</span><span class="sxs-lookup"><span data-stu-id="bab8e-148">The content length is the length of the RosettaNet Service Message.</span></span> <span data-ttu-id="bab8e-149">服务消息（包括前导头、服务头以及服务内容）是一个 Multipart/related MIME 实体。</span><span class="sxs-lookup"><span data-stu-id="bab8e-149">The Service Message, which includes the preamble, the service header, and the service content, is a multipart/related MIME entity.</span></span> <span data-ttu-id="bab8e-150">签名长度是以字节为单位计算的签名长度。</span><span class="sxs-lookup"><span data-stu-id="bab8e-150">The signature length is the length of the signature in bytes.</span></span> <span data-ttu-id="bab8e-151">如果存在签名，则该签名为服务消息字段的一个公钥加密标准 (PKCS) #7 签名。</span><span class="sxs-lookup"><span data-stu-id="bab8e-151">If the signature exists, it is a Public-Key Cryptography Standards (PKCS) #7 signature on the service message field.</span></span>  
  
 <span data-ttu-id="bab8e-152">RNIF 2.01 包括一个不依赖传输协议的容器，它将业务负载、头组件以及系统将在程序包中交换的其他元素封装在一起。</span><span class="sxs-lookup"><span data-stu-id="bab8e-152">RNIF 2.01 includes a transfer protocol-independent container that packs together the business payload, header components, and other elements that systems will exchange in the package.</span></span> <span data-ttu-id="bab8e-153">如同为 RNIF 2.01 所定义的，RosettaNet 业务消息包括前导头、传递头、服务头以及服务内容。</span><span class="sxs-lookup"><span data-stu-id="bab8e-153">A RosettaNet Business Message (as defined for RNIF 2.01) contains a preamble, a delivery header, a service header, and service content.</span></span> <span data-ttu-id="bab8e-154">系统必须根据 RosettaNet 标准文档类型定义 (DTD) 语法验证规则，对照包含该业务消息的文档类型架构，验证该消息的所有元素。</span><span class="sxs-lookup"><span data-stu-id="bab8e-154">Systems must validate all elements against the schema for the document type that contains it, based on the RosettaNet standard document type definition (DTD) grammar-validation rules.</span></span> <span data-ttu-id="bab8e-155">服务内容可以是操作消息或信号消息。</span><span class="sxs-lookup"><span data-stu-id="bab8e-155">Service content can be an action message or a signal message.</span></span> <span data-ttu-id="bab8e-156">如果服务内容是操作消息，则此消息可以包括一个或多个附件。</span><span class="sxs-lookup"><span data-stu-id="bab8e-156">If service content is an action message, the message can include one or more attachments.</span></span>  
  
 <span data-ttu-id="bab8e-157">RosettaNet 业务消息是一个 Multipart/related MIME 实体。</span><span class="sxs-lookup"><span data-stu-id="bab8e-157">A RosettaNet Business Message is a multipart/related MIME entity.</span></span> <span data-ttu-id="bab8e-158">如上图所示，头和服务内容使用 MIME Multipart/related 结构打包在一起，类似于 RNIF 1.1 打包方案。</span><span class="sxs-lookup"><span data-stu-id="bab8e-158">As shown in the preceding figure, the headers and service content are packaged together using a MIME multipart/related construct, which is similar to the RNIF 1.1 packaging scheme.</span></span> <span data-ttu-id="bab8e-159">系统可选择对 RosettaNet 业务消息进行数字签名。</span><span class="sxs-lookup"><span data-stu-id="bab8e-159">Optionally, systems can digitally sign a RosettaNet Business Message.</span></span> <span data-ttu-id="bab8e-160">在 RNIF 1.1 中，可以使用 RosettaNet 对象 (RNO) 格式实现此目的。</span><span class="sxs-lookup"><span data-stu-id="bab8e-160">In RNIF 1.1, you would use the RosettaNet Object (RNO) format for this purpose.</span></span> <span data-ttu-id="bab8e-161">RNIF 2.0 不支持 RNO 格式，而是使用标准 S/MIME 编码。</span><span class="sxs-lookup"><span data-stu-id="bab8e-161">RNIF 2.0 eliminates the RNO format, and instead uses standard S/MIME encoding.</span></span>  
  
 <span data-ttu-id="bab8e-162">系统还可能会对 RNIF 2.01 负载或负载容器进行加密。</span><span class="sxs-lookup"><span data-stu-id="bab8e-162">A system may encrypt the RNIF 2.01 payload or payload container.</span></span> <span data-ttu-id="bab8e-163">要执行此操作，请将要加密的部分绑定到 Multipart/related MIME 实体，然后再进行加密。</span><span class="sxs-lookup"><span data-stu-id="bab8e-163">To do this, you bundle the parts that you want to encrypt in a multipart/related MIME entity, and then encrypt them.</span></span> <span data-ttu-id="bab8e-164">之后将产生的 S/MIME 对象打包为 RosettaNet 业务消息的一部分。</span><span class="sxs-lookup"><span data-stu-id="bab8e-164">You then package the resulting S/MIME object as a single part in the RosettaNet Business Message.</span></span>  
  
 <span data-ttu-id="bab8e-165">信号消息必须始终为 RosettaNet 定义的信号消息实例。</span><span class="sxs-lookup"><span data-stu-id="bab8e-165">A signal message must always be a RosettaNet-defined signal message instance.</span></span> <span data-ttu-id="bab8e-166">对于操作消息，RNIF 2.01 规范提供了以第三方定义的格式发送业务操作消息的选项。</span><span class="sxs-lookup"><span data-stu-id="bab8e-166">For action messages, the RNIF 2.01 specification provides the option of shipping business-action messages in a third-party defined format.</span></span> <span data-ttu-id="bab8e-167">RNIF 2.01 服务头还包括用于实现此目的的其他字段，例如标识“标准正文”的字段以及标识此操作消息所遵循规范的版本的字段。</span><span class="sxs-lookup"><span data-stu-id="bab8e-167">The RNIF 2.01 service header includes additional fields for this purpose, such as a field that identifies the “standard body” and a field that identifies the version of the specification to which the action message conforms.</span></span>  
  
 <span data-ttu-id="bab8e-168">只有操作消息（也称为业务内容）才可以是非 RosettaNet 消息。</span><span class="sxs-lookup"><span data-stu-id="bab8e-168">Only action messages (also known as business content) can be of non-RosettaNet origin.</span></span> <span data-ttu-id="bab8e-169">系统必须在 RosettaNet 定义的 PIP 中交换这些消息。</span><span class="sxs-lookup"><span data-stu-id="bab8e-169">Systems must exchange these messages in a RosettaNet-defined PIP.</span></span> <span data-ttu-id="bab8e-170">RosettaNet 必须认可这些消息，方法是在 PIP 规范中显式标识认可的第三方操作消息。</span><span class="sxs-lookup"><span data-stu-id="bab8e-170">RosettaNet must sanction these messages by explicitly identifying the sanctioned third-party action message in the PIP specification.</span></span> <span data-ttu-id="bab8e-171">此外，贸易伙伴必须在贸易伙伴协议中达成一致，以交换第三方业务内容。</span><span class="sxs-lookup"><span data-stu-id="bab8e-171">Additionally, trading partners must agree in their trading partner agreement to exchange third-party business content.</span></span> <span data-ttu-id="bab8e-172">协议必须包括 PIP 负载绑定信息，它标识将用于替换 PIP 中特定操作消息的第三方业务内容。</span><span class="sxs-lookup"><span data-stu-id="bab8e-172">The agreement must include the PIP payload binding information, which identifies which third-party business content you would use as a replacement for a particular action message in a PIP.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="bab8e-173">另请参阅</span><span class="sxs-lookup"><span data-stu-id="bab8e-173">See Also</span></span>  
 <span data-ttu-id="bab8e-174">[RosettaNet 和 CIDX 标准消息传送](../../adapters-and-accelerators/accelerator-rosettanet/rosettanet-and-cidx-messaging-standards.md) </span><span class="sxs-lookup"><span data-stu-id="bab8e-174">[RosettaNet and CIDX Messaging Standards](../../adapters-and-accelerators/accelerator-rosettanet/rosettanet-and-cidx-messaging-standards.md) </span></span>  
 [<span data-ttu-id="bab8e-175">RosettaNet Pip</span><span class="sxs-lookup"><span data-stu-id="bab8e-175">RosettaNet PIPs</span></span>](../../adapters-and-accelerators/accelerator-rosettanet/rosettanet-pips.md)