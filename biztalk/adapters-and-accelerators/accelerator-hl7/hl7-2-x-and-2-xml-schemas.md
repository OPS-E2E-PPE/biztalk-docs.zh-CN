---
title: "HL7 2.X 和 2.XML 架构 |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- schemas, schema types
- HL7-encoded messages
- 2.X schemas
- schemas, HL7 organization
- BTAHL7, HL7 schemas
- HL7, 2.XML schemas
- Update2XMLSchema tool
- schemas, common schemas
- 2.X schemas, about 2.X schemas
- 2.X schemas, compatibility
- 2.XML schemas, compatibility
- messages, HL7-encoded messages
- HL7 Schema Selector
- schemas, 2.XML schemas
- 2.XML schemas
- 2.XML schemas, about 2.XML schemas
- HL7, 2.X schemas
- schemas, compatibility
- common schemas
- schemas, 2.X schemas
ms.assetid: 02532d72-1948-48d8-a8ef-6b5a814eb573
caps.latest.revision: "8"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 5a02c8451dc0dc07b81a824f692203809d52b588
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/28/2017
---
# <a name="hl7-2x-and-2xml-schemas"></a><span data-ttu-id="54f45-102">HL7 2.X 和 2.XML 架构</span><span class="sxs-lookup"><span data-stu-id="54f45-102">HL7 2.X and 2.XML Schemas</span></span>
<span data-ttu-id="54f45-103">HL7 组织发布的架构的两个集： HL7 2.X 架构，用于 HL7 编码消息和 HL7 2.XML 架构，用于 XML 编码的消息。</span><span class="sxs-lookup"><span data-stu-id="54f45-103">The HL7 organization publishes two sets of schemas: HL7 2.X schemas, used for HL7-encoded messages, and HL7 2.XML schemas, used for XML-encoded messages.</span></span>  
  
 [!INCLUDE[btsCoName](../../includes/btsconame-md.md)]<span data-ttu-id="54f45-104">[!INCLUDE[HL7_CurrentVersion_FirstRef](../../includes/hl7-currentversion-firstref-md.md)]本机配合 HL7 2.X 架构。</span><span class="sxs-lookup"><span data-stu-id="54f45-104"> [!INCLUDE[HL7_CurrentVersion_FirstRef](../../includes/hl7-currentversion-firstref-md.md)] works natively with the HL7 2.X schemas.</span></span> [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)]<span data-ttu-id="54f45-105">安装程序加载 HL7 2.X 架构文件到\<*驱动器*\>: \program files\\ [!INCLUDE[btsCoName](../../includes/btsconame-md.md)] BizTalk\<版本\>HL7\Templates\ 快捷键Schemas\2.X。</span><span class="sxs-lookup"><span data-stu-id="54f45-105"> setup loads the HL7 2.X schema files into \<*drive*\>:\program files\\[!INCLUDE[btsCoName](../../includes/btsconame-md.md)] BizTalk \<version\> Accelerator for HL7\Templates\Schemas\2.X.</span></span> <span data-ttu-id="54f45-106">因此，HL7 2.X 架构是 HL7 架构选择器中可用。</span><span class="sxs-lookup"><span data-stu-id="54f45-106">As a result, the HL7 2.X schemas are available in the HL7 Schema Selector.</span></span> <span data-ttu-id="54f45-107">在中运行 HL7 架构选择器[!INCLUDE[btsCoName](../../includes/btsconame-md.md)] [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="54f45-107">You run the HL7 Schema Selector in [!INCLUDE[btsCoName](../../includes/btsconame-md.md)][!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)].</span></span>  
  
 <span data-ttu-id="54f45-108">BTAHL7 配合 HL7 2.XML 架构，但 BTAHL7 安装程序不会加载和 BTAHL7 程序文件，HL7 2.XML 架构和你需要修改某些即可使用 BTAHL7 的 HL7 2.XML 架构。</span><span class="sxs-lookup"><span data-stu-id="54f45-108">BTAHL7 works with the HL7 2.XML schemas, but the BTAHL7 setup program does not load the HL7 2.XML schemas with the BTAHL7 program files, and you have to modify some of the HL7 2.XML schemas for them to work with BTAHL7.</span></span> <span data-ttu-id="54f45-109">要使它们可 HL7 架构选择器中，并使所需的修改，HL7 组织的网站中，从下载 2.XML 架构，然后运行**Update2XMLSchema**工具 (有关详细信息，请参阅[Update2XMLSchema 工具](../../adapters-and-accelerators/accelerator-hl7/update2xmlschema-tool.md))。</span><span class="sxs-lookup"><span data-stu-id="54f45-109">To make them available in the HL7 Schema Selector and make the required modifications, download the 2.XML schemas from the HL7 organization Web site, and then run the **Update2XMLSchema** tool (for more information, see [Update2XMLSchema Tool](../../adapters-and-accelerators/accelerator-hl7/update2xmlschema-tool.md)).</span></span> <span data-ttu-id="54f45-110">根据需要来处理，该工具将修改 HL7 2.XML 架构[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]，然后将其放置在和\<*驱动器*\>: \program files\\ [!INCLUDE[btsCoName](../../includes/btsconame-md.md)] BizTalk \<版本\>HL7\Templates\Schemas 快捷键。</span><span class="sxs-lookup"><span data-stu-id="54f45-110">The tool will modify the HL7 2.XML schemas as required to work with [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)], and then place them in \<*drive*\>:\program files\\[!INCLUDE[btsCoName](../../includes/btsconame-md.md)] BizTalk \<version\> Accelerator for HL7\Templates\Schemas.</span></span>  
  
 <span data-ttu-id="54f45-111">每个架构这些组包含一系列的版本。</span><span class="sxs-lookup"><span data-stu-id="54f45-111">Each of these sets of schemas includes a series of versions.</span></span> <span data-ttu-id="54f45-112">HL7 2.X 实时架构版本包括通过 2.5 2.1 (有关详细信息，请参阅[HL7 版本](../../adapters-and-accelerators/accelerator-hl7/hl7-versions.md))。</span><span class="sxs-lookup"><span data-stu-id="54f45-112">HL7 2.X live schema versions include 2.1 through 2.5 (for more information, see [HL7 Versions](../../adapters-and-accelerators/accelerator-hl7/hl7-versions.md)).</span></span> <span data-ttu-id="54f45-113">HL72。XML 架构版本包括 2.3.1、 2.4 和 2.5。</span><span class="sxs-lookup"><span data-stu-id="54f45-113">HL72.XML schema versions include 2.3.1, 2.4, and 2.5.</span></span> <span data-ttu-id="54f45-114">HL7 2.X 架构版本是向后兼容。</span><span class="sxs-lookup"><span data-stu-id="54f45-114">HL7 2.X schema versions are backward compliant.</span></span> <span data-ttu-id="54f45-115">HL7 2.XML 架构版本不向后兼容。</span><span class="sxs-lookup"><span data-stu-id="54f45-115">HL7 2.XML schema versions are not backward compliant.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="54f45-116">因为 2.XML 版本 2.4 不向后符合 2.XML 的 2.3.1，可能发生错误如果部署 2.XML 架构，2.4 版本，然后提交消息符合 2.3.1 的实例版本。</span><span class="sxs-lookup"><span data-stu-id="54f45-116">Because version 2.4 of 2.XML is not backward compliant with 2.3.1 for 2.XML, an error may occur if you deploy a 2.4 version of the 2.XML schema, and then submit an instance of a message conforming to the 2.3.1 version.</span></span> <span data-ttu-id="54f45-117">若要纠正此问题，你可能需要创建一个不同的目标命名空间，以应对 2.3.1 消息。</span><span class="sxs-lookup"><span data-stu-id="54f45-117">To correct this, you may need to create a different target namespace to deal with 2.3.1 messages.</span></span>  
  
 <span data-ttu-id="54f45-118">当你创建多个部分组成的 HL7 2.X 消息，必须将正文部分的类型设置为特定的架构。</span><span class="sxs-lookup"><span data-stu-id="54f45-118">When you create a multi-part HL7 2.X message, you must set the type of the body part to a specific schema.</span></span> <span data-ttu-id="54f45-119">如果没有，序列化程序将拒绝该消息。</span><span class="sxs-lookup"><span data-stu-id="54f45-119">If not, the serializer will reject the message.</span></span>  
  
 <span data-ttu-id="54f45-120">下表介绍 BTAHL7 的工作的架构的两个基本类型。</span><span class="sxs-lookup"><span data-stu-id="54f45-120">The following table describes the two basic types of schemas with which BTAHL7 works.</span></span>  
  
|<span data-ttu-id="54f45-121">架构类型</span><span class="sxs-lookup"><span data-stu-id="54f45-121">Schema Type</span></span>|<span data-ttu-id="54f45-122">Description</span><span class="sxs-lookup"><span data-stu-id="54f45-122">Description</span></span>|  
|-----------------|-----------------|  
|<span data-ttu-id="54f45-123">HL7FF – ER7 编码 (2.X) 架构</span><span class="sxs-lookup"><span data-stu-id="54f45-123">HL7FF – ER7 Encoded (2.X) Schemas</span></span>|<span data-ttu-id="54f45-124">BTAHL7 提供 HL7 2.X 架构派生自 HL7 Access 数据库中，包括：</span><span class="sxs-lookup"><span data-stu-id="54f45-124">BTAHL7 provides HL7 2.X schemas derived from the HL7 Access database, including:</span></span><br /><br /> <span data-ttu-id="54f45-125">-一组基于版本、 消息类型或事件的所有特定架构</span><span class="sxs-lookup"><span data-stu-id="54f45-125">-   A set of all specific schemas based on version, message type, or event</span></span><br /><span data-ttu-id="54f45-126">的有关段、 数据类型、 表、 标头，和确认 (Ack) 通用架构</span><span class="sxs-lookup"><span data-stu-id="54f45-126">-   Common schemas for segments, data types, tables, headers, and acknowledgments (ACKs)</span></span><br /><br /> <span data-ttu-id="54f45-127">BTAHL7 支持以下架构模板：</span><span class="sxs-lookup"><span data-stu-id="54f45-127">BTAHL7 supports the following schema templates:</span></span><br /><br /> <span data-ttu-id="54f45-128">-2.1 版</span><span class="sxs-lookup"><span data-stu-id="54f45-128">-   V2.1</span></span><br /><span data-ttu-id="54f45-129">-V2.2</span><span class="sxs-lookup"><span data-stu-id="54f45-129">-   V2.2</span></span><br /><span data-ttu-id="54f45-130">-V2.3</span><span class="sxs-lookup"><span data-stu-id="54f45-130">-   V2.3</span></span><br /><span data-ttu-id="54f45-131">-V2.3.1</span><span class="sxs-lookup"><span data-stu-id="54f45-131">-   V2.3.1</span></span><br /><span data-ttu-id="54f45-132">-V2.4</span><span class="sxs-lookup"><span data-stu-id="54f45-132">-   V2.4</span></span><br /><span data-ttu-id="54f45-133">-V2.5</span><span class="sxs-lookup"><span data-stu-id="54f45-133">-   V2.5</span></span><br /><br /> <span data-ttu-id="54f45-134">BTAHL7 安装程序安装 V2。X 中的架构\<*驱动器*\>\Program Files\\ [!INCLUDE[btsCoName](../../includes/btsconame-md.md)] BizTalk Accelerator for HL7\Templates\Schemas。</span><span class="sxs-lookup"><span data-stu-id="54f45-134">BTAHL7 setup installs V2.X schemas in \<*drive*\>\Program Files\\[!INCLUDE[btsCoName](../../includes/btsconame-md.md)] BizTalk Accelerator for HL7\Templates\Schemas.</span></span>|  
|<span data-ttu-id="54f45-135">HL7XML – 2.XML 编码</span><span class="sxs-lookup"><span data-stu-id="54f45-135">HL7XML – 2.XML Encoding</span></span>|<span data-ttu-id="54f45-136">BTAHL7 支持以下架构：</span><span class="sxs-lookup"><span data-stu-id="54f45-136">BTAHL7 supports the following schemas:</span></span><br /><br /> <span data-ttu-id="54f45-137">-V2.3.1</span><span class="sxs-lookup"><span data-stu-id="54f45-137">-   V2.3.1</span></span><br /><span data-ttu-id="54f45-138">-V2.4</span><span class="sxs-lookup"><span data-stu-id="54f45-138">-   V2.4</span></span><br /><span data-ttu-id="54f45-139">-V2.5</span><span class="sxs-lookup"><span data-stu-id="54f45-139">-   V2.5</span></span><br /><br /> <span data-ttu-id="54f45-140">BTAHL7 安装程序不会安装 2.XML 架构。</span><span class="sxs-lookup"><span data-stu-id="54f45-140">BTAHL7 setup does not install the 2.XML schemas.</span></span> <span data-ttu-id="54f45-141">若要安装它们，并修改即可运行使用 BizTalk 编辑器，请参阅[Update2XMLSchema 工具](../../adapters-and-accelerators/accelerator-hl7/update2xmlschema-tool.md)。</span><span class="sxs-lookup"><span data-stu-id="54f45-141">To install them and modify them to work with BizTalk Editor, see [Update2XMLSchema Tool](../../adapters-and-accelerators/accelerator-hl7/update2xmlschema-tool.md).</span></span>|  
  
## <a name="common-schemas"></a><span data-ttu-id="54f45-142">通用架构</span><span class="sxs-lookup"><span data-stu-id="54f45-142">Common Schemas</span></span>  
 <span data-ttu-id="54f45-143">BTAHL7 使用特定于消息类型 HL7 架构来创建并验证该消息类型的实例的正文。</span><span class="sxs-lookup"><span data-stu-id="54f45-143">BTAHL7 uses an HL7 schema specific to a message type to create and validate the body of an instance of that message type.</span></span> <span data-ttu-id="54f45-144">它还使用常见的架构，除了特定的架构。</span><span class="sxs-lookup"><span data-stu-id="54f45-144">It also uses common schemas, in addition to the specific schemas.</span></span> <span data-ttu-id="54f45-145">BTAHL7 使用通用 HL7 架构来验证 HL7 消息标头和确认。</span><span class="sxs-lookup"><span data-stu-id="54f45-145">BTAHL7 uses common HL7 schemas to validate HL7 message headers and acknowledgments.</span></span> <span data-ttu-id="54f45-146">这些文件是 MSH_25_GLO_DEF.xsd 有关标头和 ACK_24_GLO_DEF 的确认。</span><span class="sxs-lookup"><span data-stu-id="54f45-146">These files are MSH_25_GLO_DEF.xsd for headers and ACK_24_GLO_DEF for acknowledgments.</span></span>  
  
 <span data-ttu-id="54f45-147">BTAHL7 还使用通用架构来验证数据类型、 线段和表值。</span><span class="sxs-lookup"><span data-stu-id="54f45-147">BTAHL7 also uses common schemas to validate data types, segments, and table values.</span></span> <span data-ttu-id="54f45-148">这些架构是特定于每个版本的 HL7 标准。</span><span class="sxs-lookup"><span data-stu-id="54f45-148">These schemas are specific to each version of the HL7 standards.</span></span> <span data-ttu-id="54f45-149">例如，V2.2 消息的常见架构是 datatype_22.xsd、 segments_22.xsd 和 tablevalues_22.xsd。</span><span class="sxs-lookup"><span data-stu-id="54f45-149">For instance, the common schemas for V2.2 messages are datatype_22.xsd, segments_22.xsd, and tablevalues_22.xsd.</span></span> <span data-ttu-id="54f45-150">BTAHL7 使用这些架构来验证数据类型、 线段和表值的所有 V2.2 消息。</span><span class="sxs-lookup"><span data-stu-id="54f45-150">BTAHL7 uses these schemas to validate data types, segments, and table values for all V2.2 messages.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="54f45-151">另请参阅</span><span class="sxs-lookup"><span data-stu-id="54f45-151">See Also</span></span>  
 <span data-ttu-id="54f45-152">[消息处理](../../adapters-and-accelerators/accelerator-hl7/message-processing.md) </span><span class="sxs-lookup"><span data-stu-id="54f45-152">[Message Processing](../../adapters-and-accelerators/accelerator-hl7/message-processing.md) </span></span>  
 <span data-ttu-id="54f45-153">[BTAHL72X 平面文件处理](../../adapters-and-accelerators/accelerator-hl7/btahl72x-flat-file-processing.md) </span><span class="sxs-lookup"><span data-stu-id="54f45-153">[BTAHL72X Flat File Processing](../../adapters-and-accelerators/accelerator-hl7/btahl72x-flat-file-processing.md) </span></span>  
 <span data-ttu-id="54f45-154">[BTAHL72XML 处理](../../adapters-and-accelerators/accelerator-hl7/btahl72xml-processing.md) </span><span class="sxs-lookup"><span data-stu-id="54f45-154">[BTAHL72XML Processing](../../adapters-and-accelerators/accelerator-hl7/btahl72xml-processing.md) </span></span>  
 <span data-ttu-id="54f45-155">[处理 HL7 消息](../../adapters-and-accelerators/accelerator-hl7/processing-hl7-messages.md) </span><span class="sxs-lookup"><span data-stu-id="54f45-155">[Processing HL7 Messages](../../adapters-and-accelerators/accelerator-hl7/processing-hl7-messages.md) </span></span>  
 <span data-ttu-id="54f45-156">[使用 HL7 2.X 架构](../../adapters-and-accelerators/accelerator-hl7/using-hl7-2-x-schemas.md) </span><span class="sxs-lookup"><span data-stu-id="54f45-156">[Using HL7 2.X Schemas](../../adapters-and-accelerators/accelerator-hl7/using-hl7-2-x-schemas.md) </span></span>  
 [<span data-ttu-id="54f45-157">使用 HL7 2.XML 架构</span><span class="sxs-lookup"><span data-stu-id="54f45-157">Using HL7 2.XML Schemas</span></span>](../../adapters-and-accelerators/accelerator-hl7/using-hl7-2-xml-schemas.md)