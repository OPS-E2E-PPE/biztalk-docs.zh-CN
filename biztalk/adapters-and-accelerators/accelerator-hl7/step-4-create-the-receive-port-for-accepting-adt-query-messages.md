---
title: 步骤 4：创建接收端口用于接收 ADT 查询消息 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- interrogative tutorial, receive ports
ms.assetid: 8bef032f-5f43-4d36-b88f-ed81f27bb803
caps.latest.revision: 7
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 74dcce5c6fdf32f0b20574735f981b854a52e6e4
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65291163"
---
# <a name="step-4-create-the-receive-port-for-accepting-adt-query-messages"></a><span data-ttu-id="9db30-102">步骤 4：创建用于接收 ADT 查询消息接收端口</span><span class="sxs-lookup"><span data-stu-id="9db30-102">Step 4: Create the Receive Port for Accepting ADT Query Messages</span></span>
<span data-ttu-id="9db30-103">创建接收端口，以指定发送的病人入院，放电装置，传入查询消息的位置和传输 (ADT) 系统。</span><span class="sxs-lookup"><span data-stu-id="9db30-103">You create a receive port to specify the location for incoming query messages sent by the Admissions, Discharge, and Transfer (ADT) system.</span></span> <span data-ttu-id="9db30-104">使用以下过程来创建用于接受查询的接收端口 (QRY ^ Q01 消息) 从 ADT 系统使用最少的较低层协议 (MLLP) 适配器。</span><span class="sxs-lookup"><span data-stu-id="9db30-104">Use the following procedure to create the receive port for accepting queries (QRY^Q01 messages) from the ADT system using the Minimal Lower Layer Protocol (MLLP) adapter.</span></span>  

## <a name="create-the-adtreceiveport-receive-port"></a><span data-ttu-id="9db30-105">创建 ADT_ReceivePort 接收端口</span><span class="sxs-lookup"><span data-stu-id="9db30-105">Create the ADT_ReceivePort receive port</span></span>  

1. <span data-ttu-id="9db30-106">打开**BizTalk Server 管理**，展开**BizTalk Server 管理**，展开**BizTalk 组**，展开**应用程序**，然后展开**BizTalk Application 1**。</span><span class="sxs-lookup"><span data-stu-id="9db30-106">Open **BizTalk Server Administration**, expand **BizTalk Server Administration**, expand **BizTalk Group**, expand **Applications**, and then expand **BizTalk Application 1**.</span></span>  

2. <span data-ttu-id="9db30-107">右键单击**接收端口**，选择**新建**，然后选择**请求响应接收端口**。</span><span class="sxs-lookup"><span data-stu-id="9db30-107">Right-click **Receive Ports**, select **New**, and then select **Request Response Receive Port**.</span></span>  

3. <span data-ttu-id="9db30-108">有关**名称**，输入**ADT_ReceivePort**。</span><span class="sxs-lookup"><span data-stu-id="9db30-108">For the **Name**, enter **ADT_ReceivePort**.</span></span>  

4. <span data-ttu-id="9db30-109">选择**Apply**以绑定端口，然后选择**接收位置**。</span><span class="sxs-lookup"><span data-stu-id="9db30-109">Select **Apply** to bind the port, and then select **Receive Locations**.</span></span>  

5. <span data-ttu-id="9db30-110">选择**新**。</span><span class="sxs-lookup"><span data-stu-id="9db30-110">Select **New**.</span></span> 

6. <span data-ttu-id="9db30-111">有关**名称**，输入**ADT_Receive**。</span><span class="sxs-lookup"><span data-stu-id="9db30-111">For the **Name**, enter **ADT_Receive**.</span></span>  

7. <span data-ttu-id="9db30-112">在中**传输**部分中，选择**类型**，然后选择**MLLP**从下拉列表。</span><span class="sxs-lookup"><span data-stu-id="9db30-112">In the **Transport** section, select **Type**, and then select **MLLP** from the drop-down list.</span></span>  

8. <span data-ttu-id="9db30-113">选择 **“配置”**。</span><span class="sxs-lookup"><span data-stu-id="9db30-113">Select **Configure**.</span></span> <span data-ttu-id="9db30-114">在中**MLLP 传输属性**中，配置以下内容，并选择**确定**。</span><span class="sxs-lookup"><span data-stu-id="9db30-114">In **MLLP Transport Properties**, configure the following, and then select **OK**.</span></span>  


   |           <span data-ttu-id="9db30-115">使用此选项</span><span class="sxs-lookup"><span data-stu-id="9db30-115">Use this</span></span>           |                                                                                                                                                                                                     <span data-ttu-id="9db30-116">执行的操作</span><span class="sxs-lookup"><span data-stu-id="9db30-116">To do this</span></span>                                                                                                                                                                                                     |
   |------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   | <span data-ttu-id="9db30-117">**连接重试时间 （秒）**</span><span class="sxs-lookup"><span data-stu-id="9db30-117">**Connect retry time (sec)**</span></span> |                                                                 <span data-ttu-id="9db30-118">新开始[!INCLUDE[bts2016_md](../../includes/bts2016-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="9db30-118">New starting with [!INCLUDE[bts2016_md](../../includes/bts2016-md.md)].</span></span> <br/><br/><span data-ttu-id="9db30-119">要尝试重新连接已删除或已关闭连接之前等待的时间上限。</span><span class="sxs-lookup"><span data-stu-id="9db30-119">The upper limit of time to wait before attempting to reconnect a dropped or closed connection.</span></span> <span data-ttu-id="9db30-120">才可用**连接由发起**设置为**本地**。</span><span class="sxs-lookup"><span data-stu-id="9db30-120">Applicable when **Connection Initiated by** is set to **Local**.</span></span><br/><br/><span data-ttu-id="9db30-121">默认值为 20 秒的时间。</span><span class="sxs-lookup"><span data-stu-id="9db30-121">Default is 20 seconds.</span></span>                                                                  |
   | <span data-ttu-id="9db30-122">**由启动的连接**</span><span class="sxs-lookup"><span data-stu-id="9db30-122">**Connection initiated by**</span></span>  | <span data-ttu-id="9db30-123">新开始[!INCLUDE[bts2016_md](../../includes/bts2016-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="9db30-123">New starting with [!INCLUDE[bts2016_md](../../includes/bts2016-md.md)].</span></span> <br/><br/><span data-ttu-id="9db30-124">输入**本地**MLLP 接收位置可以启动与远程 LOB 服务器的连接。</span><span class="sxs-lookup"><span data-stu-id="9db30-124">Enter **Local** for the MLLP receive location to initiate the connection to a remote LOB server.</span></span> <span data-ttu-id="9db30-125">这是新的选项。</span><span class="sxs-lookup"><span data-stu-id="9db30-125">This is the new option.</span></span><br/><br/><span data-ttu-id="9db30-126">输入**远程**MLLP 接收位置继续侦听从远程 LOB 服务器的连接。</span><span class="sxs-lookup"><span data-stu-id="9db30-126">Enter **Remote** for the MLLP receive location to continue to listen for a connection from the remote LOB server.</span></span> <span data-ttu-id="9db30-127">这是向后兼容的默认选项。</span><span class="sxs-lookup"><span data-stu-id="9db30-127">This is the backwards-compatible default option.</span></span><br/><br/><span data-ttu-id="9db30-128">默认值为远程。</span><span class="sxs-lookup"><span data-stu-id="9db30-128">Default is Remote.</span></span> |
   |     <span data-ttu-id="9db30-129">**连接名称**</span><span class="sxs-lookup"><span data-stu-id="9db30-129">**Connection Name**</span></span>      |                                                                                                                                                                                             <span data-ttu-id="9db30-130">输入**ADT_ReceiveMLLP**。</span><span class="sxs-lookup"><span data-stu-id="9db30-130">Enter **ADT_ReceiveMLLP**.</span></span>                                                                                                                                                                                             |
   |        <span data-ttu-id="9db30-131">**主机名**</span><span class="sxs-lookup"><span data-stu-id="9db30-131">**Host name**</span></span>         |                                                                                                                                              <span data-ttu-id="9db30-132">特定于[!INCLUDE[bts2013r2_md](../../includes/bts2013r2-md.md)]和较旧版本。</span><span class="sxs-lookup"><span data-stu-id="9db30-132">Specific to [!INCLUDE[bts2013r2_md](../../includes/bts2013r2-md.md)] and older versions.</span></span> <br/><br/><span data-ttu-id="9db30-133">输入**localhost**。</span><span class="sxs-lookup"><span data-stu-id="9db30-133">Enter **localhost**.</span></span>                                                                                                                                               |
   |     <span data-ttu-id="9db30-134">**本地主机名**</span><span class="sxs-lookup"><span data-stu-id="9db30-134">**Local Host name**</span></span>      |                                                                            <span data-ttu-id="9db30-135">新开始[!INCLUDE[bts2016_md](../../includes/bts2016-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="9db30-135">New starting with [!INCLUDE[bts2016_md](../../includes/bts2016-md.md)].</span></span> <br/><br/><span data-ttu-id="9db30-136">输入的 DNS 名称或 IP 地址的本地[!INCLUDE[btsBizTalkServerNoVersion_md](../../includes/btsbiztalkservernoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="9db30-136">Enter the DNS name or IP address of the local [!INCLUDE[btsBizTalkServerNoVersion_md](../../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="9db30-137">您还可以输入**localhost**。</span><span class="sxs-lookup"><span data-stu-id="9db30-137">You can also enter **localhost**.</span></span>                                                                             |
   |           <span data-ttu-id="9db30-138">**端口**</span><span class="sxs-lookup"><span data-stu-id="9db30-138">**Port**</span></span>           |                                                                                                                                                <span data-ttu-id="9db30-139">特定于[!INCLUDE[bts2013r2_md](../../includes/bts2013r2-md.md)]和较旧版本。</span><span class="sxs-lookup"><span data-stu-id="9db30-139">Specific to [!INCLUDE[bts2013r2_md](../../includes/bts2013r2-md.md)] and older versions.</span></span> <br/><br/><span data-ttu-id="9db30-140">设置为**22000**。</span><span class="sxs-lookup"><span data-stu-id="9db30-140">Set to **22000**.</span></span>                                                                                                                                                |
   |        <span data-ttu-id="9db30-141">**本地端口**</span><span class="sxs-lookup"><span data-stu-id="9db30-141">**Local Port**</span></span>        |                                                                                       <span data-ttu-id="9db30-142">新开始[!INCLUDE[bts2016_md](../../includes/bts2016-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="9db30-142">New starting with [!INCLUDE[bts2016_md](../../includes/bts2016-md.md)].</span></span> <br/><br/><span data-ttu-id="9db30-143">输入本地主机连接的 TCP 端口号。</span><span class="sxs-lookup"><span data-stu-id="9db30-143">Enter the TCP port number for the LocalHost connection.</span></span> <span data-ttu-id="9db30-144">仅在**连接由发起**是**远程**。</span><span class="sxs-lookup"><span data-stu-id="9db30-144">Applicable only when **Connection Initiated by** is **Remote**.</span></span> <br/><br/><span data-ttu-id="9db30-145">设置为**22000**。</span><span class="sxs-lookup"><span data-stu-id="9db30-145">Set to **22000**.</span></span>                                                                                        |
   |       <span data-ttu-id="9db30-146">**远程主机**</span><span class="sxs-lookup"><span data-stu-id="9db30-146">**Remote Host**</span></span>        |                                                                                                   <span data-ttu-id="9db30-147">新开始[!INCLUDE[bts2016_md](../../includes/bts2016-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="9db30-147">New starting with [!INCLUDE[bts2016_md](../../includes/bts2016-md.md)].</span></span> <br/><br/><span data-ttu-id="9db30-148">输入的 DNS 名称或远程 LOB 服务器的 IP 地址。</span><span class="sxs-lookup"><span data-stu-id="9db30-148">Enter the DNS name or IP address of the remote LOB server.</span></span> <span data-ttu-id="9db30-149">才可用**连接由发起**设置为**本地**。</span><span class="sxs-lookup"><span data-stu-id="9db30-149">Applicable when **Connection Initiated by** is set to **Local**.</span></span>                                                                                                    |
   |       <span data-ttu-id="9db30-150">**远程端口**</span><span class="sxs-lookup"><span data-stu-id="9db30-150">**Remote Port**</span></span>        |                                                                                      <span data-ttu-id="9db30-151">新开始[!INCLUDE[bts2016_md](../../includes/bts2016-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="9db30-151">New starting with [!INCLUDE[bts2016_md](../../includes/bts2016-md.md)].</span></span> <br/><br/><span data-ttu-id="9db30-152">输入远程主机连接的 TCP 端口号。</span><span class="sxs-lookup"><span data-stu-id="9db30-152">Enter the TCP port number for the remote host connection.</span></span> <span data-ttu-id="9db30-153">才可用**连接由发起**设置为**本地**。</span><span class="sxs-lookup"><span data-stu-id="9db30-153">Applicable when **Connection Initiated by** is set to **Local**.</span></span><br/><br/><span data-ttu-id="9db30-154">设置为**22000**。</span><span class="sxs-lookup"><span data-stu-id="9db30-154">Set to **22000**.</span></span>                                                                                       |


9. <span data-ttu-id="9db30-155">设置**接收处理程序**到**BizTalkServerApplication**。</span><span class="sxs-lookup"><span data-stu-id="9db30-155">Set the **Receive Handler** to **BizTalkServerApplication**.</span></span>  

10. <span data-ttu-id="9db30-156">设置**接收管道**到**BTAHL72XPipelines.BTAHL72XReceivePipeline**。</span><span class="sxs-lookup"><span data-stu-id="9db30-156">Set the **Receive Pipeline** to **BTAHL72XPipelines.BTAHL72XReceivePipeline**.</span></span>  

11. <span data-ttu-id="9db30-157">设置**发送管道**到**PassThruTransmit**。</span><span class="sxs-lookup"><span data-stu-id="9db30-157">Set the **Send pipeline** to **PassThruTransmit**.</span></span>

12. <span data-ttu-id="9db30-158">选择**确定**以保存所做的更改。</span><span class="sxs-lookup"><span data-stu-id="9db30-158">Select **OK** to save your changes.</span></span>  

13. <span data-ttu-id="9db30-159">启用通过右键单击它，刚刚创建的接收位置，然后选择**启用**。</span><span class="sxs-lookup"><span data-stu-id="9db30-159">Enable the receive location you just created by right-clicking it, and then select **Enable**.</span></span>  

## <a name="next-step"></a><span data-ttu-id="9db30-160">下一步</span><span class="sxs-lookup"><span data-stu-id="9db30-160">Next step</span></span>  
[<span data-ttu-id="9db30-161">步骤 5：创建用于接收 HIS 消息的接收端口</span><span class="sxs-lookup"><span data-stu-id="9db30-161">Step 5: Create the Receive Port for Accepting HIS Messages</span></span>](../../adapters-and-accelerators/accelerator-hl7/step-5-create-the-receive-port-for-accepting-his-messages.md)