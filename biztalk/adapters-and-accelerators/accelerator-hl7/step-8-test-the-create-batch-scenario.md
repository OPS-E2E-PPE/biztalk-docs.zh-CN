---
title: "步骤 8： 测试创建批处理方案 |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: fc7fac40-fd3e-413b-82cc-7ad08226094c
caps.latest.revision: "6"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 865717858e27509a9f9e4af611b39ba10be212a5
ms.sourcegitcommit: 3fd1c85d9dc2ce7b77da75a5c2087cc48cfcbe50
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/17/2018
---
# <a name="step-8-test-the-create-batch-scenario"></a><span data-ttu-id="3be5e-102">步骤 8： 测试创建批处理方案</span><span class="sxs-lookup"><span data-stu-id="3be5e-102">Step 8: Test the Create-Batch Scenario</span></span>
<span data-ttu-id="3be5e-103">在此步骤中，你都将删除你想要到源 Tutorial_BTAHL7Pickup 文件夹批处理的消息的测试实例测试创建批次方案。</span><span class="sxs-lookup"><span data-stu-id="3be5e-103">In this step, you test the Create-Batch scenario by dropping test instances of the messages you want to batch into the source Tutorial_BTAHL7Pickup folder.</span></span> <span data-ttu-id="3be5e-104">你将设置为发送端口选取来自源文件夹的消息，并将其; 发送接收端口接收它;和接收管道处理它，并将它放置到目标 Tutorial_BTAHL7Drop 文件夹。</span><span class="sxs-lookup"><span data-stu-id="3be5e-104">The send port that you set up picks up the message from the source folder and sends it; the receive port receives it; and the receive pipeline processes it and drops it into the destination Tutorial_BTAHL7Drop folder.</span></span>  
  
### <a name="to-test-the-create-batch-scenario"></a><span data-ttu-id="3be5e-105">若要测试的创建批次方案</span><span class="sxs-lookup"><span data-stu-id="3be5e-105">To test the Create-Batch scenario</span></span>  
  
1.  <span data-ttu-id="3be5e-106">使用[!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)]资源管理器，浏览到 **\<*驱动器*\>: \Batching Tutorial\Instances**文件夹。</span><span class="sxs-lookup"><span data-stu-id="3be5e-106">Using [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Explorer, browse to the **\<*drive*\>:\Batching Tutorial\Instances** folder.</span></span>  
  
2.  <span data-ttu-id="3be5e-107">选择**CreateBatchMessage1.txt**，和**CreateBatchMessage2.txt**，右键单击它们，，然后单击**复制**。</span><span class="sxs-lookup"><span data-stu-id="3be5e-107">Select **CreateBatchMessage1.txt**, and **CreateBatchMessage2.txt**, right-click them, and then click **Copy**.</span></span>  
  
3.  <span data-ttu-id="3be5e-108">使用[!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)]资源管理器，浏览到 **\<*驱动器*\>: files\microsoft BizTalk\<版本\>HL7\SDK\End 端到端的快捷键Tutorial\Tutorial_BTAHL7Pickup**文件夹。</span><span class="sxs-lookup"><span data-stu-id="3be5e-108">Using [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Explorer, browse to the **\<*drive*\>:\Program Files\Microsoft BizTalk \<version\> Accelerator for HL7\SDK\End-to-End Tutorial\Tutorial_BTAHL7Pickup** folder.</span></span>  
  
4.  <span data-ttu-id="3be5e-109">右键单击文件夹，并依次**粘贴**。</span><span class="sxs-lookup"><span data-stu-id="3be5e-109">Right-click the folder, and then click **Paste**.</span></span>  
  
### <a name="to-verify-the-results-of-the-create-batch-scenario"></a><span data-ttu-id="3be5e-110">若要验证创建批次方案的结果</span><span class="sxs-lookup"><span data-stu-id="3be5e-110">To verify the results of the Create-Batch scenario</span></span>  
  
1.  <span data-ttu-id="3be5e-111">使用[!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)]资源管理器，浏览到 **\<*驱动器*\>: files\microsoft BizTalk\<版本\>HL7\SDK\End 端到端的快捷键Tutorial\Tutorial_BatchACKDrop**文件夹。</span><span class="sxs-lookup"><span data-stu-id="3be5e-111">Using [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Explorer, browse to the **\<*drive*\>:\Program Files\Microsoft BizTalk \<version\> Accelerator for HL7\SDK\End-to-End Tutorial\Tutorial_BatchACKDrop** folder.</span></span> <span data-ttu-id="3be5e-112">一段时间后，你应看到在文件夹中显示确认批处理处理的的实例。</span><span class="sxs-lookup"><span data-stu-id="3be5e-112">After a short period, you should see the processed instance of the acknowledgment batch appear in the folder.</span></span> <span data-ttu-id="3be5e-113">如果没有出现，请检查[!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)]事件查看器的错误消息。</span><span class="sxs-lookup"><span data-stu-id="3be5e-113">If it does not appear, check the [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Event Viewer for error messages.</span></span> <span data-ttu-id="3be5e-114">该文件应具有名称\< *Guid*\>.txt。</span><span class="sxs-lookup"><span data-stu-id="3be5e-114">The file should have the name \<*Guid*\>.txt.</span></span> <span data-ttu-id="3be5e-115">此批处理应包含在接收两个最初发送的消息时生成的两个确认。</span><span class="sxs-lookup"><span data-stu-id="3be5e-115">This batch should contain the two acknowledgments generated upon receiving the two messages that were originally sent.</span></span> <span data-ttu-id="3be5e-116">此批处理应具有以下字段：</span><span class="sxs-lookup"><span data-stu-id="3be5e-116">This batch should have the following fields:</span></span>  
  
    |<span data-ttu-id="3be5e-117">FHS.5</span><span class="sxs-lookup"><span data-stu-id="3be5e-117">FHS.5</span></span>|<span data-ttu-id="3be5e-118">BHS.5</span><span class="sxs-lookup"><span data-stu-id="3be5e-118">BHS.5</span></span>|<span data-ttu-id="3be5e-119">BTS.1</span><span class="sxs-lookup"><span data-stu-id="3be5e-119">BTS.1</span></span>|<span data-ttu-id="3be5e-120">FTS.1</span><span class="sxs-lookup"><span data-stu-id="3be5e-120">FTS.1</span></span>|  
    |-----------|-----------|-----------|-----------|  
    |<span data-ttu-id="3be5e-121">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="3be5e-121">Tutorial_BatchSource</span></span>|<span data-ttu-id="3be5e-122">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="3be5e-122">Tutorial_BatchSource</span></span>|<span data-ttu-id="3be5e-123">2</span><span class="sxs-lookup"><span data-stu-id="3be5e-123">2</span></span>|<span data-ttu-id="3be5e-124">1</span><span class="sxs-lookup"><span data-stu-id="3be5e-124">1</span></span>|  
  
     <span data-ttu-id="3be5e-125">在批处理中的确认应具有以下字段：</span><span class="sxs-lookup"><span data-stu-id="3be5e-125">The acknowledgments within the batch should have the following fields:</span></span>  
  
    |<span data-ttu-id="3be5e-126">MSH.9</span><span class="sxs-lookup"><span data-stu-id="3be5e-126">MSH.9</span></span>|<span data-ttu-id="3be5e-127">MSA.2</span><span class="sxs-lookup"><span data-stu-id="3be5e-127">MSA.2</span></span>|<span data-ttu-id="3be5e-128">MSA.1</span><span class="sxs-lookup"><span data-stu-id="3be5e-128">MSA.1</span></span>|<span data-ttu-id="3be5e-129">MSH.3</span><span class="sxs-lookup"><span data-stu-id="3be5e-129">MSH.3</span></span>|<span data-ttu-id="3be5e-130">MSH.5</span><span class="sxs-lookup"><span data-stu-id="3be5e-130">MSH.5</span></span>|  
    |-----------|-----------|-----------|-----------|-----------|  
    |<span data-ttu-id="3be5e-131">ACK^A03^ACK</span><span class="sxs-lookup"><span data-stu-id="3be5e-131">ACK^A03^ACK</span></span>|<span data-ttu-id="3be5e-132">Msg01</span><span class="sxs-lookup"><span data-stu-id="3be5e-132">Msg01</span></span>|<span data-ttu-id="3be5e-133">AA</span><span class="sxs-lookup"><span data-stu-id="3be5e-133">AA</span></span>|<span data-ttu-id="3be5e-134">Tutorial_BatchDest</span><span class="sxs-lookup"><span data-stu-id="3be5e-134">Tutorial_BatchDest</span></span>|<span data-ttu-id="3be5e-135">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="3be5e-135">Tutorial_BatchSource</span></span>|  
    |<span data-ttu-id="3be5e-136">ACK^A03^ACK</span><span class="sxs-lookup"><span data-stu-id="3be5e-136">ACK^A03^ACK</span></span>|<span data-ttu-id="3be5e-137">Msg02</span><span class="sxs-lookup"><span data-stu-id="3be5e-137">Msg02</span></span>|<span data-ttu-id="3be5e-138">AA</span><span class="sxs-lookup"><span data-stu-id="3be5e-138">AA</span></span>|<span data-ttu-id="3be5e-139">Tutorial_BatchDest</span><span class="sxs-lookup"><span data-stu-id="3be5e-139">Tutorial_BatchDest</span></span>|<span data-ttu-id="3be5e-140">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="3be5e-140">Tutorial_BatchSource</span></span>|  
  
2.  <span data-ttu-id="3be5e-141">使用[!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)]资源管理器，浏览到 **\<*驱动器*\>: files\microsoft BizTalk\<版本\>HL7\SDK\End 端到端的快捷键Tutorial\Tutorial_BatchMsgDrop**文件夹。</span><span class="sxs-lookup"><span data-stu-id="3be5e-141">Using [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Explorer, browse to the **\<*drive*\>:\Program Files\Microsoft BizTalk \<version\> Accelerator for HL7\SDK\End-to-End Tutorial\Tutorial_BatchMsgDrop** folder.</span></span> <span data-ttu-id="3be5e-142">后一小时，您应该看到消息批处理的实例出现在文件夹中。</span><span class="sxs-lookup"><span data-stu-id="3be5e-142">After an hour, you should see the processed instance of the message batch appear in the folder.</span></span> <span data-ttu-id="3be5e-143">如果没有出现，请检查[!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)]事件查看器的错误消息。</span><span class="sxs-lookup"><span data-stu-id="3be5e-143">If it does not appear, check the [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Event Viewer for error messages.</span></span> <span data-ttu-id="3be5e-144">该文件应具有名称\< *Guid*\>.txt。</span><span class="sxs-lookup"><span data-stu-id="3be5e-144">The file should have the name \<*Guid*\>.txt.</span></span> <span data-ttu-id="3be5e-145">此批处理应包含两条最初发送的消息。</span><span class="sxs-lookup"><span data-stu-id="3be5e-145">This batch should contain the two messages that were originally sent.</span></span> <span data-ttu-id="3be5e-146">此批处理应具有以下字段：</span><span class="sxs-lookup"><span data-stu-id="3be5e-146">This batch should have the following fields:</span></span>  
  
    |<span data-ttu-id="3be5e-147">FHS.5</span><span class="sxs-lookup"><span data-stu-id="3be5e-147">FHS.5</span></span>|<span data-ttu-id="3be5e-148">BHS.5</span><span class="sxs-lookup"><span data-stu-id="3be5e-148">BHS.5</span></span>|<span data-ttu-id="3be5e-149">BTS.1</span><span class="sxs-lookup"><span data-stu-id="3be5e-149">BTS.1</span></span>|<span data-ttu-id="3be5e-150">FTS.1</span><span class="sxs-lookup"><span data-stu-id="3be5e-150">FTS.1</span></span>|  
    |-----------|-----------|-----------|-----------|  
    |<span data-ttu-id="3be5e-151">Tutorial_BatchDest</span><span class="sxs-lookup"><span data-stu-id="3be5e-151">Tutorial_BatchDest</span></span>|<span data-ttu-id="3be5e-152">Tutorial_BatchDest</span><span class="sxs-lookup"><span data-stu-id="3be5e-152">Tutorial_BatchDest</span></span>|<span data-ttu-id="3be5e-153">2</span><span class="sxs-lookup"><span data-stu-id="3be5e-153">2</span></span>|<span data-ttu-id="3be5e-154">1</span><span class="sxs-lookup"><span data-stu-id="3be5e-154">1</span></span>|  
  
     <span data-ttu-id="3be5e-155">在批处理中的消息应具有以下字段：</span><span class="sxs-lookup"><span data-stu-id="3be5e-155">The messages within the batch should have the following fields:</span></span>  
  
    |<span data-ttu-id="3be5e-156">MSH.9</span><span class="sxs-lookup"><span data-stu-id="3be5e-156">MSH.9</span></span>|<span data-ttu-id="3be5e-157">MSH.10</span><span class="sxs-lookup"><span data-stu-id="3be5e-157">MSH.10</span></span>|<span data-ttu-id="3be5e-158">MSH.3</span><span class="sxs-lookup"><span data-stu-id="3be5e-158">MSH.3</span></span>|<span data-ttu-id="3be5e-159">MSH.5</span><span class="sxs-lookup"><span data-stu-id="3be5e-159">MSH.5</span></span>|  
    |-----------|------------|-----------|-----------|  
    |<span data-ttu-id="3be5e-160">ADT^A03</span><span class="sxs-lookup"><span data-stu-id="3be5e-160">ADT^A03</span></span>|<span data-ttu-id="3be5e-161">Msg01</span><span class="sxs-lookup"><span data-stu-id="3be5e-161">Msg01</span></span>|<span data-ttu-id="3be5e-162">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="3be5e-162">Tutorial_BatchSource</span></span>|<span data-ttu-id="3be5e-163">Tutorial_BatchDest</span><span class="sxs-lookup"><span data-stu-id="3be5e-163">Tutorial_BatchDest</span></span>|  
    |<span data-ttu-id="3be5e-164">ADT^A03</span><span class="sxs-lookup"><span data-stu-id="3be5e-164">ADT^A03</span></span>|<span data-ttu-id="3be5e-165">Msg02</span><span class="sxs-lookup"><span data-stu-id="3be5e-165">Msg02</span></span>|<span data-ttu-id="3be5e-166">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="3be5e-166">Tutorial_BatchSource</span></span>|<span data-ttu-id="3be5e-167">Tutorial_BatchDest</span><span class="sxs-lookup"><span data-stu-id="3be5e-167">Tutorial_BatchDest</span></span>|  
  
     <span data-ttu-id="3be5e-168">批处理包装在两个集的标头和尾部特定于批：</span><span class="sxs-lookup"><span data-stu-id="3be5e-168">The batch is wrapped in two sets of headers and trailers specific to batches:</span></span>  
  
    -   <span data-ttu-id="3be5e-169">文件头和尾 （FHS 和 FT），这用于括起可以包括多个批处理文件。</span><span class="sxs-lookup"><span data-stu-id="3be5e-169">A file header and trailer (FHS and FTS), which are used to enclose a file that can include multiple batches.</span></span> <span data-ttu-id="3be5e-170">请注意文件接收应用程序 (**Tutorial_BatchDest**) FHS5 字段和文件创建中日期/时间 FHS7 中。</span><span class="sxs-lookup"><span data-stu-id="3be5e-170">Note the file-receiving application (**Tutorial_BatchDest**) in the FHS5 field and the file creation date/time in FHS7.</span></span> <span data-ttu-id="3be5e-171">请注意文件批数 （在文件中的批数），在 FTS2 (1)。</span><span class="sxs-lookup"><span data-stu-id="3be5e-171">Note the file batch count (the number of batches in the file) in FTS2 (1).</span></span>  
  
    -   <span data-ttu-id="3be5e-172">一个批处理标头和尾部 （BHS 和 BTS），用于将每个批括起来。</span><span class="sxs-lookup"><span data-stu-id="3be5e-172">A batch header and trailer (BHS and BTS), which are used to enclose each batch.</span></span> <span data-ttu-id="3be5e-173">请注意在 BTS2 中接收应用程序和批处理创建日期/时间，如下所示 FHS 和批处理消息计数 (2) 的文件。</span><span class="sxs-lookup"><span data-stu-id="3be5e-173">Note the file receiving application and batch creation date/time, as in the FHS, and the batch message count (2) in BTS2.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="3be5e-174">另请参阅</span><span class="sxs-lookup"><span data-stu-id="3be5e-174">See Also</span></span>  
 <span data-ttu-id="3be5e-175">[第 1 部分： 零碎的入站的批处理方案](../../adapters-and-accelerators/accelerator-hl7/part-1-fragmented-inbound-batch-scenario.md) </span><span class="sxs-lookup"><span data-stu-id="3be5e-175">[Part 1: Fragmented Inbound Batch Scenario](../../adapters-and-accelerators/accelerator-hl7/part-1-fragmented-inbound-batch-scenario.md) </span></span>  
 [<span data-ttu-id="3be5e-176">第 3 部分：Create-Batch 方案</span><span class="sxs-lookup"><span data-stu-id="3be5e-176">Part 3: Create-Batch Scenario</span></span>](../../adapters-and-accelerators/accelerator-hl7/part-3-create-batch-scenario.md)