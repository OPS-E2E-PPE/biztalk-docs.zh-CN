---
title: 段和字段 |Microsoft 文档
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- messages, segments
- messages, fields
- segments, messages
ms.assetid: e68864e6-590c-47f3-8c9e-81831aec2642
caps.latest.revision: 3
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 6ca948748bc30f8c8a56f7c257b775b37a990625
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
ms.locfileid: "22206477"
---
# <a name="segment-and-field"></a><span data-ttu-id="71c7d-102">段和字段</span><span class="sxs-lookup"><span data-stu-id="71c7d-102">Segment and Field</span></span>
<span data-ttu-id="71c7d-103">段表定义一个 HL7 段。</span><span class="sxs-lookup"><span data-stu-id="71c7d-103">A segment table defines an HL7 segment.</span></span> <span data-ttu-id="71c7d-104">每个段定义遵循下面所示的模式。</span><span class="sxs-lookup"><span data-stu-id="71c7d-104">Each segment definition follows the pattern shown below.</span></span>  
  
|<span data-ttu-id="71c7d-105">SEQ</span><span class="sxs-lookup"><span data-stu-id="71c7d-105">SEQ</span></span>|<span data-ttu-id="71c7d-106">LEN</span><span class="sxs-lookup"><span data-stu-id="71c7d-106">LEN</span></span>|<span data-ttu-id="71c7d-107">DT</span><span class="sxs-lookup"><span data-stu-id="71c7d-107">DT</span></span>|<span data-ttu-id="71c7d-108">选择</span><span class="sxs-lookup"><span data-stu-id="71c7d-108">OPT</span></span>|<span data-ttu-id="71c7d-109">RP / #</span><span class="sxs-lookup"><span data-stu-id="71c7d-109">RP/#</span></span>|<span data-ttu-id="71c7d-110">TBL #</span><span class="sxs-lookup"><span data-stu-id="71c7d-110">TBL#</span></span>|<span data-ttu-id="71c7d-111">项 #</span><span class="sxs-lookup"><span data-stu-id="71c7d-111">ITEM#</span></span>|<span data-ttu-id="71c7d-112">元素名称</span><span class="sxs-lookup"><span data-stu-id="71c7d-112">ELEMENT NAME</span></span>|  
|---------|---------|--------|---------|------------|-----------|------------|------------------|  
|<span data-ttu-id="71c7d-113">1</span><span class="sxs-lookup"><span data-stu-id="71c7d-113">1</span></span>|<span data-ttu-id="71c7d-114">4</span><span class="sxs-lookup"><span data-stu-id="71c7d-114">4</span></span>|<span data-ttu-id="71c7d-115">SI</span><span class="sxs-lookup"><span data-stu-id="71c7d-115">SI</span></span>|<span data-ttu-id="71c7d-116">O</span><span class="sxs-lookup"><span data-stu-id="71c7d-116">O</span></span>|||<span data-ttu-id="71c7d-117">00104</span><span class="sxs-lookup"><span data-stu-id="71c7d-117">00104</span></span>|<span data-ttu-id="71c7d-118">设置 PID 的 ID-</span><span class="sxs-lookup"><span data-stu-id="71c7d-118">Set ID - PID</span></span>|  
|<span data-ttu-id="71c7d-119">2</span><span class="sxs-lookup"><span data-stu-id="71c7d-119">2</span></span>|<span data-ttu-id="71c7d-120">20</span><span class="sxs-lookup"><span data-stu-id="71c7d-120">20</span></span>|<span data-ttu-id="71c7d-121">CX</span><span class="sxs-lookup"><span data-stu-id="71c7d-121">CX</span></span>|<span data-ttu-id="71c7d-122">B</span><span class="sxs-lookup"><span data-stu-id="71c7d-122">B</span></span>|||<span data-ttu-id="71c7d-123">00105</span><span class="sxs-lookup"><span data-stu-id="71c7d-123">00105</span></span>|<span data-ttu-id="71c7d-124">患者 ID</span><span class="sxs-lookup"><span data-stu-id="71c7d-124">Patient ID</span></span>|  
|<span data-ttu-id="71c7d-125">3</span><span class="sxs-lookup"><span data-stu-id="71c7d-125">3</span></span>|<span data-ttu-id="71c7d-126">250</span><span class="sxs-lookup"><span data-stu-id="71c7d-126">250</span></span>|<span data-ttu-id="71c7d-127">CX</span><span class="sxs-lookup"><span data-stu-id="71c7d-127">CX</span></span>|<span data-ttu-id="71c7d-128">R</span><span class="sxs-lookup"><span data-stu-id="71c7d-128">R</span></span>|<span data-ttu-id="71c7d-129">是</span><span class="sxs-lookup"><span data-stu-id="71c7d-129">Y</span></span>||<span data-ttu-id="71c7d-130">00106</span><span class="sxs-lookup"><span data-stu-id="71c7d-130">00106</span></span>|<span data-ttu-id="71c7d-131">患者标识符列表</span><span class="sxs-lookup"><span data-stu-id="71c7d-131">Patient Identifier List</span></span>|  
|<span data-ttu-id="71c7d-132">4</span><span class="sxs-lookup"><span data-stu-id="71c7d-132">4</span></span>|<span data-ttu-id="71c7d-133">20</span><span class="sxs-lookup"><span data-stu-id="71c7d-133">20</span></span>|<span data-ttu-id="71c7d-134">CX</span><span class="sxs-lookup"><span data-stu-id="71c7d-134">CX</span></span>|<span data-ttu-id="71c7d-135">B</span><span class="sxs-lookup"><span data-stu-id="71c7d-135">B</span></span>|<span data-ttu-id="71c7d-136">是</span><span class="sxs-lookup"><span data-stu-id="71c7d-136">Y</span></span>||<span data-ttu-id="71c7d-137">00107</span><span class="sxs-lookup"><span data-stu-id="71c7d-137">00107</span></span>|<span data-ttu-id="71c7d-138">备用患者 ID-PID</span><span class="sxs-lookup"><span data-stu-id="71c7d-138">Alternate Patient ID - PID</span></span>|  
|<span data-ttu-id="71c7d-139">5</span><span class="sxs-lookup"><span data-stu-id="71c7d-139">5</span></span>|<span data-ttu-id="71c7d-140">250</span><span class="sxs-lookup"><span data-stu-id="71c7d-140">250</span></span>|<span data-ttu-id="71c7d-141">XPN</span><span class="sxs-lookup"><span data-stu-id="71c7d-141">XPN</span></span>|<span data-ttu-id="71c7d-142">R</span><span class="sxs-lookup"><span data-stu-id="71c7d-142">R</span></span>|<span data-ttu-id="71c7d-143">是</span><span class="sxs-lookup"><span data-stu-id="71c7d-143">Y</span></span>||<span data-ttu-id="71c7d-144">00108</span><span class="sxs-lookup"><span data-stu-id="71c7d-144">00108</span></span>|<span data-ttu-id="71c7d-145">患者名称</span><span class="sxs-lookup"><span data-stu-id="71c7d-145">Patient Name</span></span>|  
|<span data-ttu-id="71c7d-146">..</span><span class="sxs-lookup"><span data-stu-id="71c7d-146">..</span></span>||||||||  
|<span data-ttu-id="71c7d-147">..</span><span class="sxs-lookup"><span data-stu-id="71c7d-147">..</span></span>||||||||  
|<span data-ttu-id="71c7d-148">37</span><span class="sxs-lookup"><span data-stu-id="71c7d-148">37</span></span>|<span data-ttu-id="71c7d-149">80</span><span class="sxs-lookup"><span data-stu-id="71c7d-149">80</span></span>|<span data-ttu-id="71c7d-150">ST</span><span class="sxs-lookup"><span data-stu-id="71c7d-150">ST</span></span>|<span data-ttu-id="71c7d-151">O</span><span class="sxs-lookup"><span data-stu-id="71c7d-151">O</span></span>|||<span data-ttu-id="71c7d-152">01541</span><span class="sxs-lookup"><span data-stu-id="71c7d-152">01541</span></span>|<span data-ttu-id="71c7d-153">大的压力</span><span class="sxs-lookup"><span data-stu-id="71c7d-153">Strain</span></span>|  
|<span data-ttu-id="71c7d-154">38</span><span class="sxs-lookup"><span data-stu-id="71c7d-154">38</span></span>|<span data-ttu-id="71c7d-155">250</span><span class="sxs-lookup"><span data-stu-id="71c7d-155">250</span></span>|<span data-ttu-id="71c7d-156">CE</span><span class="sxs-lookup"><span data-stu-id="71c7d-156">CE</span></span>|<span data-ttu-id="71c7d-157">O</span><span class="sxs-lookup"><span data-stu-id="71c7d-157">O</span></span>|<span data-ttu-id="71c7d-158">2</span><span class="sxs-lookup"><span data-stu-id="71c7d-158">2</span></span>|<span data-ttu-id="71c7d-159">0429</span><span class="sxs-lookup"><span data-stu-id="71c7d-159">0429</span></span>|<span data-ttu-id="71c7d-160">01542</span><span class="sxs-lookup"><span data-stu-id="71c7d-160">01542</span></span>|<span data-ttu-id="71c7d-161">生产类代码</span><span class="sxs-lookup"><span data-stu-id="71c7d-161">Production Class Code</span></span>|  
  
 <span data-ttu-id="71c7d-162">HL7 还包括每个字段的文本定义。</span><span class="sxs-lookup"><span data-stu-id="71c7d-162">HL7 also includes text definitions for each field.</span></span> <span data-ttu-id="71c7d-163">三个字符段标记和序列号唯一标识在段内的每个字段。</span><span class="sxs-lookup"><span data-stu-id="71c7d-163">The three-character segment tag and the sequence number uniquely identify each field within a segment.</span></span> <span data-ttu-id="71c7d-164">例如，对于患者标识段中，标记 PID 和序列号"5"唯一标识患者名称字段。</span><span class="sxs-lookup"><span data-stu-id="71c7d-164">For example, in the case of the Patient Identification segment, the tag PID and the sequence number "5" uniquely identify the patient-name field.</span></span> <span data-ttu-id="71c7d-165">XML 编码和接口文档都使用此约定以标识数据段中的字段。</span><span class="sxs-lookup"><span data-stu-id="71c7d-165">The XML encoding and interface documentation both use this convention to identify the fields in segments.</span></span> <span data-ttu-id="71c7d-166">段定义还包括每个字段，以及将应用于编码元素的表数的数据类型声明。</span><span class="sxs-lookup"><span data-stu-id="71c7d-166">The segment definition also includes the data type declaration for each field, as well as the table number that applies to coded elements.</span></span>  
  
 <span data-ttu-id="71c7d-167">在新版本中，只能在一段的末尾添加字段和不能删除字段。</span><span class="sxs-lookup"><span data-stu-id="71c7d-167">In new versions, you can only add fields at the end of a segment, and you cannot remove fields.</span></span> <span data-ttu-id="71c7d-168">如果添加的字段将替换现有字段的功能，第一个字段将保持为向后兼容性。</span><span class="sxs-lookup"><span data-stu-id="71c7d-168">If an added field replaces the functionality of an existing field, the first field remains for backward compatibility.</span></span> <span data-ttu-id="71c7d-169">(这可以通过"B"看到，在可以选择上面 PID.2 和列 PID.3。)</span><span class="sxs-lookup"><span data-stu-id="71c7d-169">(This can be seen by the "B" in the optionally column above for PID.2 and PID.3.)</span></span>  
  
 <span data-ttu-id="71c7d-170">下列函数[!INCLUDE[btsCoName](../../includes/btsconame-md.md)]BizTalk Accelerator for HL7 ([!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)]) 支持这些要求：</span><span class="sxs-lookup"><span data-stu-id="71c7d-170">The following functions of [!INCLUDE[btsCoName](../../includes/btsconame-md.md)] BizTalk Accelerator for HL7 ([!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)]) support these requirements:</span></span>  
  
-   [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)]<span data-ttu-id="71c7d-171">支持标准段，用来从 2.1 版的所有 HL7 版本上。</span><span class="sxs-lookup"><span data-stu-id="71c7d-171"> supports the standard segments for all HL7 versions from V2.1 on.</span></span>  
  
-   <span data-ttu-id="71c7d-172">在构造接口规范和实现接口时，可以标记是必需的或不受支持，作为标准中可选基于功能的要求的字段。</span><span class="sxs-lookup"><span data-stu-id="71c7d-172">When you construct interface specifications and implement interfaces, you can label fields that are optional in the standard as either mandatory or not supported, based on functional requirements.</span></span>  
  
-   <span data-ttu-id="71c7d-173">你可以创建 Z 将在需要时进行本地化。</span><span class="sxs-lookup"><span data-stu-id="71c7d-173">You can create Z segments where needed for localization.</span></span>  
  
-   <span data-ttu-id="71c7d-174">可以重新定义的字段的语义，也可以将字段添加到段在需要时进行本地化。</span><span class="sxs-lookup"><span data-stu-id="71c7d-174">You can redefine the semantics of fields or add fields to segments where needed for localization.</span></span> <span data-ttu-id="71c7d-175">请注意此所属非法本地化的标题。</span><span class="sxs-lookup"><span data-stu-id="71c7d-175">Note that this falls under the heading of illegitimate localization.</span></span> <span data-ttu-id="71c7d-176">但是，在某些情况下你需要此功能以支持旧接口或对旧版系统的接口。</span><span class="sxs-lookup"><span data-stu-id="71c7d-176">However, in some cases you need this functionality to support legacy interfaces or interfaces to legacy systems.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="71c7d-177">另请参阅</span><span class="sxs-lookup"><span data-stu-id="71c7d-177">See Also</span></span>  
 <span data-ttu-id="71c7d-178">[处理 HL7 消息](../../adapters-and-accelerators/accelerator-hl7/processing-hl7-messages.md) </span><span class="sxs-lookup"><span data-stu-id="71c7d-178">[Processing HL7 Messages](../../adapters-and-accelerators/accelerator-hl7/processing-hl7-messages.md) </span></span>  
 <span data-ttu-id="71c7d-179">[消息处理](../../adapters-and-accelerators/accelerator-hl7/message-processing.md) </span><span class="sxs-lookup"><span data-stu-id="71c7d-179">[Message Processing](../../adapters-and-accelerators/accelerator-hl7/message-processing.md) </span></span>  
 [<span data-ttu-id="71c7d-180">使用 HL7 2.X 架构</span><span class="sxs-lookup"><span data-stu-id="71c7d-180">Using HL7 2.X Schemas</span></span>](../../adapters-and-accelerators/accelerator-hl7/using-hl7-2-x-schemas.md)