---
title: BizTalk Accelerator for HL7 中的新增功能 |Microsoft Docs
description: 更改和更新使用不同版本的 BizTalk Server 中的 HL7 accelerator
ms.custom: ''
ms.date: 11/22/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: e98595a1-2d1e-488e-8a97-7cd561948b3b
caps.latest.revision: 15
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: a7d55ea48d6fd8d7e9f61d1427f615cc8b3ec76c
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "65285276"
---
# <a name="whats-new-in-biztalk-accelerator-for-hl7"></a>什么是 BizTalk Accelerator for HL7 中的新增功能
更改和更新与[!INCLUDE[HL7_CurrentVersion_FirstRef_md](../../includes/hl7-currentversion-firstref-md.md)]。 

## <a name="biztalk-server-2016"></a>BizTalk Server 2016

|               功能               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|-------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **启动了到 LOB 连接** | 使用 MLLP 适配器[!INCLUDE[HL7_CurrentVersion_abbrev_md](../../includes/hl7-currentversion-abbrev-md.md)]可以启动或发起到远程的业务线服务器 (LOB) 系统的连接。 LOB 等待连接，然后将消息发送到[!INCLUDE[btsBizTalkServerNoVersion_md](../../includes/btsbiztalkservernoversion-md.md)]使用 MLLP 适配器。 有一些新属性中 MLLP 的接收位置配置此选项。 请参阅： <br/><ul><li>[步骤 4 中的端到端教程](../../adapters-and-accelerators/accelerator-hl7/step-4-create-receive-port-to-accept-adt^a03-messages-from-adt-using-mllp.md)</li><li>[步骤 4 中询问教程](../../adapters-and-accelerators/accelerator-hl7/step-4-create-the-receive-port-for-accepting-adt-query-messages.md)</li><li>[询问教程中的步骤 5](../../adapters-and-accelerators/accelerator-hl7/step-5-create-the-receive-port-for-accepting-his-messages.md)</li><li>[步骤 4 中批处理教程](../../adapters-and-accelerators/accelerator-hl7/step-4-create-a-receive-port-for-accepting-the-batch-message.md)</li></ul>在[!INCLUDE[bts2013r2_md](../../includes/bts2013r2-md.md)]和较旧版本中，HL7 MLLP 接收适配器等待远程 LOB 服务器连接到 MLLP 适配器和 LOB 然后发送消息。 <br/><br/>请参阅[BTAHL7 如何路由消息](../../adapters-and-accelerators/accelerator-hl7/how-btahl7-routes-messages.md)的更多详细信息。 |

## <a name="biztalk-server-2013-r2"></a>BizTalk Server 2013 R2  
  
|                        功能                        |                                                                                                                                                                                                                                                                                                                                                                                                                       Description                                                                                                                                                                                                                                                                                                                                                                                                                       |
|-------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                  **64 位支持**                   |                                                                                                                            MLLP 适配器和 HL7 管道可在这两个 32 位和 64 位主机实例中运行。<br /><br /> [!INCLUDE[HL7_CurrentVersion_abbrev_md](../../includes/hl7-currentversion-abbrev-md.md)]安装包括 32 位安装包和 64 位安装包。 在 32 位计算机上安装仅 32 位包。 在 64 位计算机上安装 32 位**或**64 位包。 <br/><br/>**重要提示：** 若要使用 64 位支持，仅安装 64 位包。 64 位包使适配器和管道在 32 位和 64 位模式下运行。                                                                                                                            |
|                **2.6 版架构支持**                |                                                                                                                                                                                                                 支持包括：<br /><br /> -   **BTAHL7V26Common**项目：包括 2.6 版架构。<br />-   **BTAHL7Common**项目：包括 2.6 版架构和 ACK_26_GLO_DEF 确认架构;这将生成 2.6 版消息的确认。<br />-   **MSH_25_GLO_DEF**架构：处理新附带 2.6 版架构的消息标头字段，并继续支持所有 v2。*x*架构。                                                                                                                                                                                                                  |
|           **动态 MLLP 适配器支持**            |                                                                                                                                                                                                                                                                                                                    属性可以配置在运行时使用的单向或双向 （请求-响应） 的适配器的发送端口。 请参阅[动态 MLLP 适配器](../../adapters-and-accelerators/accelerator-hl7/dynamic-mllp-adapter.md)。                                                                                                                                                                                                                                                                                                                    |
|                **"FreeText"支持**                 |                                                                                                                                                                                                                                                                                                        如果字段或段被定义为"FreeText"，未解析字段/段中的字符数据。 请参阅[使用自定义文本编码字符](../../adapters-and-accelerators/accelerator-hl7/encoding-characters-using-free-text.md)。                                                                                                                                                                                                                                                                                                        |
| **ACK 或 NACK 发送具有无效的 MSH 的消息** |                                 使用**ReturnErrorForInvalidMSH3**注册表项，将否定确认 (NACK) 发送到参与方如果出现下列情况：<br /><br /> -Invalid MSH3 （不在 HL7 配置资源管理器中定义参与方） <br />    **AND**<br />-将消息中的 MSH15 和 MSH16 值为 null 或为空<br /><br /> 若要发送 NACK，将以下注册表项设置为 1，然后重新启动主机实例：<br /><br /> 32 位主机： `HKLM\SOFTWARE\Microsoft\BizTalk Accelerator for HL7`<br /><br /> 64 位主机： `HKLM\ SOFTWARE\Wow6432Node\Microsoft\BizTalk Accelerator for HL7` <br/><br/>**提示：** 一个端口可以订阅失败消息： <ul><li>使用**BTAHL7Schemas.ParseError = True**筛选条件。</li><li>使用**Pass Through**管道。</li></ul>                                  |
|        **ACK 消息实例保持处于活动状态**        |                                                                                                                                                                                                                                                                                                如果无法连接到上游系统，确认 (ACK) 发送到上游系统仍然处于活动状态。<br /><br /> 新行为：如果没有连接到上游系统失败，则挂起的确认消息。                                                                                                                                                                                                                                                                                                 |
|                **不发送\<SB\>**                 |                               此属性添加到接收适配器端口配置属性。 若要启用此属性，设置**UseMLLPTransACK**值：<br /><br /> -设置为**False** （默认值），适配器将消息发送的数据开头时才\<SB\>。 例如，发送以下消息：<br /> `<SB\>DataData<CR\>DataData<CR\>…`<br/><br />-设置为 **，则返回 True**，该适配器将消息发送的数据是否缺少\<SB\>开始。 例如，发送以下消息：<br /> `DataData<CR\>DataData<CR\>…` <br/><br/>**重要提示：** 如果两个双向发送端口已**不会发送\<SB\>** 设置为 True，则它不会发送 SB 消息到下游系统。 同时，它可与下游系统缺少 SB 接收确认。                               |
|               **接受缺少\<SB\>**               | 此属性添加到发送适配器端口配置属性。 若要启用此属性，设置**UseMLLPTransACK**值：<br /><br /> -设置为**False** （默认值），如果缺少数据适配器返回错误\<SB\>开始。 例如，以下消息将返回错误：<br /> `DataData<CR\>DataData<CR\>…`<br/><br />-设置为 **，则返回 True**，该适配器可以接收该消息，如果数据丢失\<SB\>开始。 例如，收到以下消息：<br /> `<SB\>DataData<CR\>DataData<CR\>…` <br />`DataData<CR\>DataData<CR\>…` <br/><br/>**重要提示：** 如果两个双向接收端口已**接受缺少\<SB\>** 设置为 True，则它将接受来自上游系统的消息中缺少 SB。 在同一时间它不会发送 SB 到上游系统。 |
  
## <a name="biztalk-server-2013"></a>BizTalk Server 2013  
  
 在以前的版本包含以下增强功能：  
  
- 可恢复对批处理中批处理出方案在 HL7 管道中的交换支持。  
  
  在上一版本中删除了以下功能：  
  
- 从 BizTalk Server 删除运行状况活动跟踪功能并因此从 BTAHL7 删除审核功能，但日志记录将保持不变。  
  
  在早期版本中被修改以下功能：  
  
- "审核和日志记录服务"会重命名为"HL7 日志记录服务"。  

## <a name="see-also"></a>另请参阅

[BizTalk Server 2016 中的新增功能](../../install-and-config-guides/what-s-new-in-biztalk-server-2016.md)  
[什么是 BizTalk Server 2013 R2 和 2013年中的新增功能](../../install-and-config-guides/what-s-new-in-biztalk-server-2013-and-2013-r2.md)