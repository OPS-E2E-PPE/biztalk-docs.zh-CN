---
title: "配置消息确认 |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- acknowledgements, configuring
- messages, acknowledgements
- configuring, acknowledgements
ms.assetid: 6ebcfc32-0a0b-4388-938f-6569a2014b91
caps.latest.revision: "6"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 2b0e9be1934374d1aa8def379560f675493c590d
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
---
# <a name="configuring-message-acknowledgments"></a><span data-ttu-id="ef8a9-102">配置消息确认</span><span class="sxs-lookup"><span data-stu-id="ef8a9-102">Configuring Message Acknowledgments</span></span>
<span data-ttu-id="ef8a9-103">你使用[!INCLUDE[HL7_CurrentVersion_FirstRef](../../includes/hl7-currentversion-firstref-md.md)]配置资源管理器**确认**选项卡来指定入站和生成的确认的确认属性。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-103">You use the [!INCLUDE[HL7_CurrentVersion_FirstRef](../../includes/hl7-currentversion-firstref-md.md)] Configuration Explorer **Acknowledgment** tab to specify the acknowledgment properties for inbound and generated acknowledgments.</span></span>  
  
 <span data-ttu-id="ef8a9-104">下图显示[!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)]配置资源管理器**确认**选项卡。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-104">The following figure shows the [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] Configuration Explorer **Acknowledgment** tab.</span></span>  
  
 ![](../../adapters-and-accelerators/accelerator-hl7/media/hl7-ops-ack.gif "hl7_ops_ack")  
  
 <span data-ttu-id="ef8a9-105">使用以下过程来打开[!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)]配置资源管理器和配置消息确认。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-105">Use the following procedures to open [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] Configuration Explorer and configure message acknowledgments.</span></span>  
  
### <a name="to-open-btahl7-configuration-explorer"></a><span data-ttu-id="ef8a9-106">若要打开 BTAHL7 配置资源管理器</span><span class="sxs-lookup"><span data-stu-id="ef8a9-106">To open BTAHL7 Configuration Explorer</span></span>  
  
-   <span data-ttu-id="ef8a9-107">单击**启动**，指向**程序**，指向**Microsoft BizTalk\<版本 > Accelerator for HL7**，然后单击**BTAHL7配置资源管理器**。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-107">Click **Start**, point to **Programs**, point to **Microsoft BizTalk \<version> Accelerator for HL7**, and then click **BTAHL7 Configuration Explorer**.</span></span>  
  
### <a name="to-configure-message-acknowledgments"></a><span data-ttu-id="ef8a9-108">若要配置消息确认</span><span class="sxs-lookup"><span data-stu-id="ef8a9-108">To configure message acknowledgments</span></span>  
  
1.  <span data-ttu-id="ef8a9-109">在 BTAHL7 配置资源管理器，在**方**选项卡上，选择你想要配置，的方，然后在**确认**选项卡上，执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="ef8a9-109">In BTAHL7 Configuration Explorer, on the **Parties** tab, select the party you want to configure, and then on the **Acknowledgments** tab, do the following:</span></span>  
  
    |<span data-ttu-id="ef8a9-110">使用此选项</span><span class="sxs-lookup"><span data-stu-id="ef8a9-110">Use this</span></span>|<span data-ttu-id="ef8a9-111">执行的操作</span><span class="sxs-lookup"><span data-stu-id="ef8a9-111">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="ef8a9-112">**确认类型**</span><span class="sxs-lookup"><span data-stu-id="ef8a9-112">**Acknowledgment type**</span></span>|<span data-ttu-id="ef8a9-113">从下列选项中进行选择：</span><span class="sxs-lookup"><span data-stu-id="ef8a9-113">Select from the following options:</span></span><br /><br /> <span data-ttu-id="ef8a9-114">-   **None**。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-114">-   **None**.</span></span> <span data-ttu-id="ef8a9-115">如果你不想要配置任何确认，请选择此选项。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-115">Select this if you do not want to configure any acknowledgments.</span></span><br /><span data-ttu-id="ef8a9-116">-   **OriginalMode**。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-116">-   **OriginalMode**.</span></span> <span data-ttu-id="ef8a9-117">选择此选项以配置**MSH1 – 字段分隔符**， **MSH2 – 编码的字符**，和**MSH8 – 安全**仅选项。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-117">Select this option to configure **MSH1 – Field Separator**, **MSH2 – Encoding Characters**, and **MSH8 – Security** options only.</span></span><br /><span data-ttu-id="ef8a9-118">-   **EnhancedMode**。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-118">-   **EnhancedMode**.</span></span> <span data-ttu-id="ef8a9-119">选择此选项以配置所有可用确认选项。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-119">Select this option to configure all available acknowledgment options.</span></span><br /><span data-ttu-id="ef8a9-120">-   **DeferredMode**。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-120">-   **DeferredMode**.</span></span> <span data-ttu-id="ef8a9-121">选择此选项以配置**MSH1 – 字段分隔符**， **MSH2 – 编码的字符**，和**MSH8 – 安全**仅选项。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-121">Select this option to configure **MSH1 – Field Separator**, **MSH2 – Encoding Characters**, and **MSH8 – Security** options only.</span></span><br /><span data-ttu-id="ef8a9-122">-   **StaticMode**。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-122">-   **StaticMode**.</span></span> <span data-ttu-id="ef8a9-123">选择此选项以配置**成功**和**失败**确认选项。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-123">Select this option to configure the **On success** and **On failure** acknowledgment options.</span></span>|  
    |<span data-ttu-id="ef8a9-124">**MSH 15 接受确认类型**</span><span class="sxs-lookup"><span data-stu-id="ef8a9-124">**MSH 15 Accept Acknowledgment Type**</span></span>|<span data-ttu-id="ef8a9-125">从下列选项中进行选择：</span><span class="sxs-lookup"><span data-stu-id="ef8a9-125">Select from the following options:</span></span><br /><br /> <span data-ttu-id="ef8a9-126">-   **AL**。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-126">-   **AL**.</span></span> <span data-ttu-id="ef8a9-127">如果你始终希望能够发送，请选择此选项接受确认。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-127">Select this option if you always want to send accept acknowledgments.</span></span><br /><span data-ttu-id="ef8a9-128">-   **NE**。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-128">-   **NE**.</span></span> <span data-ttu-id="ef8a9-129">如果你永远不会想要发送，请选择此选项接受确认。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-129">Select this option if you never want to send accept acknowledgments.</span></span><br /><span data-ttu-id="ef8a9-130">-   **SU**。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-130">-   **SU**.</span></span> <span data-ttu-id="ef8a9-131">如果你想要发送，请选择此选项接受后成功的消息传输的确认。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-131">Select this option if you want to send accept acknowledgments after successful transmission of a message.</span></span><br /><span data-ttu-id="ef8a9-132">-   **ER**。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-132">-   **ER**.</span></span> <span data-ttu-id="ef8a9-133">如果你想要发送，请选择此选项仅发生错误时接受确认。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-133">Select this option if you want to send accept acknowledgments only in the event of an error.</span></span>|  
    |<span data-ttu-id="ef8a9-134">**MSH 16 的应用程序确认类型**</span><span class="sxs-lookup"><span data-stu-id="ef8a9-134">**MSH 16 Application Acknowledgment Type**</span></span>|<span data-ttu-id="ef8a9-135">从下列选项中进行选择：</span><span class="sxs-lookup"><span data-stu-id="ef8a9-135">Select from the following options:</span></span><br /><br /> <span data-ttu-id="ef8a9-136">-   **AL**。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-136">-   **AL**.</span></span> <span data-ttu-id="ef8a9-137">如果你始终希望能够发送应用程序确认，请选择此选项。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-137">Select this option if you always want to send application acknowledgments.</span></span><br /><span data-ttu-id="ef8a9-138">-   **NE**。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-138">-   **NE**.</span></span> <span data-ttu-id="ef8a9-139">如果你永远不会想要发送应用程序确认，请选择此选项。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-139">Select this option if you never want to send application acknowledgments.</span></span><br /><span data-ttu-id="ef8a9-140">-   **SU**。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-140">-   **SU**.</span></span> <span data-ttu-id="ef8a9-141">如果你想要将应用程序确认发送成功的消息传输后，请选择此选项。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-141">Select this option if you want to send application acknowledgments after successful transmission of a message.</span></span><br /><br /> <span data-ttu-id="ef8a9-142">**ER**。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-142">**ER**.</span></span> <span data-ttu-id="ef8a9-143">如果你想要仅发生错误时发送应用程序确认，请选择此选项。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-143">Select this option if you want to send application acknowledgments only in the event of an error.</span></span>|  
    |<span data-ttu-id="ef8a9-144">**MSH1 – 字段分隔符**</span><span class="sxs-lookup"><span data-stu-id="ef8a9-144">**MSH1 – Field Separator**</span></span>|<span data-ttu-id="ef8a9-145">类型的唯一字符作为字段分隔符。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-145">Type a unique character as a field separator.</span></span> <span data-ttu-id="ef8a9-146">默认值是一个管道字符 (**&#124;**)，和允许的最大字符数是一个字符。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-146">The default value is a pipe character (**&#124;**), and the maximum characters allowed is one character.</span></span> <span data-ttu-id="ef8a9-147">请注意，是否你需要修改 MSH1，则必须使用适当的值的 MSH1 写入你 HL7 消息上下文业务流程。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-147">Note that if you need to modify MSH1, then you must use an orchestration that writes the appropriate value of MSH1 to your HL7 message context.</span></span> <span data-ttu-id="ef8a9-148">BTAHL7 序列化程序上下文中读取值，并使用它在序列化的消息。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-148">The BTAHL7 serializer reads the value from the context and uses it in the serialized message.</span></span>|  
    |<span data-ttu-id="ef8a9-149">**MSH2 – 编码的字符**</span><span class="sxs-lookup"><span data-stu-id="ef8a9-149">**MSH2 – Encoding Characters**</span></span>|<span data-ttu-id="ef8a9-150">键入作为根据 HL7 标准编码字符的唯一字符。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-150">Type unique characters as the encoding characters as per the HL7 standard.</span></span> <span data-ttu-id="ef8a9-151">编码的字符都是默认 ^，~， \\，和 （& a)。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-151">The default encoding characters are ^, ~, \\, and &.</span></span> <span data-ttu-id="ef8a9-152">所需的最小字符都是两个字符，和允许的最大为 4 个字符。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-152">The minimum characters required are two characters, and the maximum allowed are four characters.</span></span> <span data-ttu-id="ef8a9-153">请注意，如果 MSH2_3 或 MSH2_4 （转义和子组件动态分隔符） 中未指定原始消息，确认消息将自动填充这些字段。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-153">Note that if MSH2_3 or MSH2_4 (the escape and subcomponent dynamic delimiters) are not specified in your original message, the ACK message automatically populates those fields.</span></span> <span data-ttu-id="ef8a9-154">例如，如果原始消息 MSH 段为`MSH&#124;^~&#124;`，其中指定，仅组件和重复分隔符，则 ACK 消息自动填充该字段，以便包括作为第三个和第四个组件`MSH&#124;^~\&`如果这些值不是以 BTAHL7 配置资源管理器中的确认部分配置的。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-154">For example, if your original message MSH segment is `MSH&#124;^~&#124;`, where only the component and repetition delimiters are specified, then the ACK message automatically populates that field to include the third and fourth component as `MSH&#124;^~\&` if these values were not configured in the Acknowledgment sections in BTAHL7 Configuration Explorer.</span></span>|  
    |<span data-ttu-id="ef8a9-155">**MSH 3**</span><span class="sxs-lookup"><span data-stu-id="ef8a9-155">**MSH 3**</span></span>|<span data-ttu-id="ef8a9-156">键入生成确认中为发送应用程序的字段值。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-156">Type the field values for generated acknowledgments for the sending application.</span></span> <span data-ttu-id="ef8a9-157">允许的最大长度为 180 个字符共同。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-157">The maximum allowed length of 180 characters collectively.</span></span><br /><br /> <span data-ttu-id="ef8a9-158">如果未配置，生成的确认包含传入**MSH5**消息值。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-158">When not configured, generated acknowledgments contain incoming **MSH5** message value.</span></span> <span data-ttu-id="ef8a9-159">**注意：**此选项仅适用于 2.X 消息。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-159">**Note:**  This option only applies to 2.X messages.</span></span> <span data-ttu-id="ef8a9-160">**注意：**若要覆盖现有值为 null，请键入 **\\** 。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-160">**Note:**  To override the existing value to null, type **\\**.</span></span>|  
    |<span data-ttu-id="ef8a9-161">**MSH 5**</span><span class="sxs-lookup"><span data-stu-id="ef8a9-161">**MSH 5**</span></span>|<span data-ttu-id="ef8a9-162">键入生成确认中为目标应用程序的字段值。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-162">Type the field values for generated acknowledgments for the destination application.</span></span> <span data-ttu-id="ef8a9-163">允许的最大长度为 180 个字符共同。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-163">The maximum allowed length of 180 characters collectively.</span></span><br /><br /> <span data-ttu-id="ef8a9-164">如果未配置，生成的确认包含传入**MSH3**消息值。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-164">When not configured, generated acknowledgments contain incoming **MSH3** message value.</span></span> <span data-ttu-id="ef8a9-165">**注意：**此选项仅适用于 2.X 消息。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-165">**Note:**  This option only applies to 2.X messages.</span></span> <span data-ttu-id="ef8a9-166">**注意：**若要覆盖现有值为 null，请键入 **\\** 。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-166">**Note:**  To override the existing value to null, type **\\**.</span></span>|  
    |<span data-ttu-id="ef8a9-167">**MSH8 – 安全**</span><span class="sxs-lookup"><span data-stu-id="ef8a9-167">**MSH8 – Security**</span></span>|<span data-ttu-id="ef8a9-168">键入一个可选的安全字符。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-168">Type an optional security character.</span></span>|  
    |<span data-ttu-id="ef8a9-169">**MSH 9**</span><span class="sxs-lookup"><span data-stu-id="ef8a9-169">**MSH 9**</span></span>|<span data-ttu-id="ef8a9-170">键入生成的确认消息类型的字段值。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-170">Type the field values for generated acknowledgments message type.</span></span><br /><br /> <span data-ttu-id="ef8a9-171">如果未配置，生成的确认包含传入**MSH9**消息值。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-171">When not configured, generated acknowledgments contain incoming **MSH9** message value.</span></span> <span data-ttu-id="ef8a9-172">**注意：**此选项仅适用于 2.X 消息。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-172">**Note:**  This option only applies to 2.X messages.</span></span> <span data-ttu-id="ef8a9-173">**注意：**若要覆盖现有值为 null，请键入 **\\** 。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-173">**Note:**  To override the existing value to null, type **\\**.</span></span>|  
    |<span data-ttu-id="ef8a9-174">**MSH15 – 接受确认类型**</span><span class="sxs-lookup"><span data-stu-id="ef8a9-174">**MSH15 – Accept Acknowledgment Type**</span></span>|<span data-ttu-id="ef8a9-175">选择接受确认类型的以下选项：</span><span class="sxs-lookup"><span data-stu-id="ef8a9-175">Select from the following options for the accept acknowledgment type:</span></span><br /><br /> <span data-ttu-id="ef8a9-176">-   **AL**。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-176">-   **AL**.</span></span> <span data-ttu-id="ef8a9-177">如果你始终希望能够发送，请选择此选项接受确认。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-177">Select this option if you always want to send accept acknowledgments.</span></span><br /><span data-ttu-id="ef8a9-178">-   **NE**。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-178">-   **NE**.</span></span> <span data-ttu-id="ef8a9-179">如果你永远不会想要发送，请选择此选项接受确认。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-179">Select this option if you never want to send accept acknowledgments.</span></span><br /><span data-ttu-id="ef8a9-180">-   **SU**。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-180">-   **SU**.</span></span> <span data-ttu-id="ef8a9-181">如果你想要发送，请选择此选项接受后成功的消息传输的确认。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-181">Select this option if you want to send accept acknowledgments after successful transmission of a message.</span></span><br /><span data-ttu-id="ef8a9-182">-   **ER**。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-182">-   **ER**.</span></span> <span data-ttu-id="ef8a9-183">如果你想要发送，请选择此选项仅发生错误时接受确认。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-183">Select this option if you want to send accept acknowledgments only in the event of an error.</span></span>|  
    |<span data-ttu-id="ef8a9-184">**如果成功**</span><span class="sxs-lookup"><span data-stu-id="ef8a9-184">**On Success**</span></span>|<span data-ttu-id="ef8a9-185">键入用于成功的消息传递一个静态确认的文本。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-185">Type the text for a static acknowledgment for a successful message delivery.</span></span>|  
    |<span data-ttu-id="ef8a9-186">**失败**</span><span class="sxs-lookup"><span data-stu-id="ef8a9-186">**On failure**</span></span>|<span data-ttu-id="ef8a9-187">键入不成功的消息传送静态确认的文本。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-187">Type the text for a static acknowledgment for an unsuccessful message delivery.</span></span>|  
    |<span data-ttu-id="ef8a9-188">**将确认发送请求-响应管道路由到发送端口**</span><span class="sxs-lookup"><span data-stu-id="ef8a9-188">**Route ACK to send pipeline on request-response send port**</span></span>|<span data-ttu-id="ef8a9-189">选择此选项可将同步的 ACK 消息发送到源 LOB 应用程序。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-189">Select this option to send a synchronous ACK message to the source LOB application.</span></span> <span data-ttu-id="ef8a9-190">在请求-响应发送端口上，此选项才可用。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-190">This option is only available on a solicit-response send port.</span></span><br /><br /> <span data-ttu-id="ef8a9-191">如果不选择此选项，接收管道将生成基于确认设置 ACK 消息。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-191">If this option is not selected, the receive pipeline generates the ACK message based upon your acknowledgment settings.</span></span>|  
  
2.  <span data-ttu-id="ef8a9-192">单击 **“保存”**。</span><span class="sxs-lookup"><span data-stu-id="ef8a9-192">Click **Save**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ef8a9-193">另请参阅</span><span class="sxs-lookup"><span data-stu-id="ef8a9-193">See Also</span></span>  
 <span data-ttu-id="ef8a9-194">[ACK 配置设置](../../adapters-and-accelerators/accelerator-hl7/ack-configuration-settings.md) </span><span class="sxs-lookup"><span data-stu-id="ef8a9-194">[ACK Configuration Settings](../../adapters-and-accelerators/accelerator-hl7/ack-configuration-settings.md) </span></span>  
 <span data-ttu-id="ef8a9-195">[确认设置](../../adapters-and-accelerators/accelerator-hl7/acknowledgment-settings.md) </span><span class="sxs-lookup"><span data-stu-id="ef8a9-195">[Acknowledgment Settings](../../adapters-and-accelerators/accelerator-hl7/acknowledgment-settings.md) </span></span>  
 [<span data-ttu-id="ef8a9-196">创建和处理确认</span><span class="sxs-lookup"><span data-stu-id="ef8a9-196">Creating and Processing Acknowledgments</span></span>](../../adapters-and-accelerators/accelerator-hl7/creating-and-processing-acknowledgments.md)