---
title: 对表和视图使用 SQL 适配器的用户定义类型的操作 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: c4006bbe-91ca-4cd9-844d-5ed63142001f
caps.latest.revision: 13
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 3dab9b8d008b9bb36fa5a09789b531ea9fbee113
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/27/2018
ms.locfileid: "37006422"
---
# <a name="operations-on-tables-and-views-with-user-defined-types-using-the-sql-adapter"></a><span data-ttu-id="33f90-102">对表和视图使用 SQL 适配器的用户定义类型的操作</span><span class="sxs-lookup"><span data-stu-id="33f90-102">Operations on tables and views with user-defined types using the SQL adapter</span></span>
<span data-ttu-id="33f90-103">可以使用[!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]具有的用户定义类型 (Udt) 列的表或视图上执行操作。</span><span class="sxs-lookup"><span data-stu-id="33f90-103">You can use the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] to perform operations on tables or views that have columns of user-defined types (UDTs).</span></span> <span data-ttu-id="33f90-104">可以使用标准表操作 （Insert、 Update、 Delete 和 Select） 读取或写入数据列上 UDT 类型。</span><span class="sxs-lookup"><span data-stu-id="33f90-104">You can use the standard table operations (Insert, Update, Delete, and Select) to read or write data into columns on UDT types.</span></span> <span data-ttu-id="33f90-105">您还可以在此类表上执行存储的过程和函数。</span><span class="sxs-lookup"><span data-stu-id="33f90-105">You can also execute stored procedures and functions on such tables.</span></span> <span data-ttu-id="33f90-106">但是，您需要执行某些任务，然后才能使用该适配器具有 UDT 列的表操作。</span><span class="sxs-lookup"><span data-stu-id="33f90-106">However, you need to perform certain tasks before you can use the adapter to operate on tables with UDT columns.</span></span> <span data-ttu-id="33f90-107">一旦您已执行这些任务，可以使用到适配器：</span><span class="sxs-lookup"><span data-stu-id="33f90-107">Once you have performed these tasks, you can use the adapter to:</span></span>  

-   <span data-ttu-id="33f90-108">执行 Insert、 Delete、 Update 和选择操作，如中所述[插入、 更新、 删除或将 BizTalk Server 与 SQL 适配器的 select 操作](../../adapters-and-accelerators/adapter-sql/insert-update-delete-or-select-using-the-sql-adapter-in-biztalk-server.md)。</span><span class="sxs-lookup"><span data-stu-id="33f90-108">Perform Insert, Delete, Update, and Select operations, as described in [Insert, update, delete, or select operations using BizTalk Server with the SQL adapter](../../adapters-and-accelerators/adapter-sql/insert-update-delete-or-select-using-the-sql-adapter-in-biztalk-server.md).</span></span>  

-   <span data-ttu-id="33f90-109">执行存储的过程，如中所述[在使用 BizTalk Server 的 SQL Server 中执行存储的过程](../../adapters-and-accelerators/adapter-sql/execute-stored-procedures-in-sql-server-using-biztalk-server.md)。</span><span class="sxs-lookup"><span data-stu-id="33f90-109">Execute stored procedures, as described in [Execute stored procedures in SQL Server using BizTalk Server](../../adapters-and-accelerators/adapter-sql/execute-stored-procedures-in-sql-server-using-biztalk-server.md).</span></span>  

-   <span data-ttu-id="33f90-110">执行复合操作具有 UDT 列的表中所述[运行 SQL Server 使用 BizTalk Server 上的复合操作](../../adapters-and-accelerators/adapter-sql/run-composite-operations-on-sql-server-using-biztalk-server.md)</span><span class="sxs-lookup"><span data-stu-id="33f90-110">Perform composite operations on tables with UDT columns, as described in [Run composite operations on SQL Server using BizTalk Server](../../adapters-and-accelerators/adapter-sql/run-composite-operations-on-sql-server-using-biztalk-server.md)</span></span>  

-   <span data-ttu-id="33f90-111">轮询具有 UDT 列的表中所述[使用 BizTalk Server 从 SQL Server 基于接收轮询的数据更改消息](../../adapters-and-accelerators/adapter-sql/receive-polling-based-data-changed-messages-from-sql-server-using-biztalk.md)。</span><span class="sxs-lookup"><span data-stu-id="33f90-111">Poll tables with UDT columns, as described in [Receive Polling-based Data-changed Messages from SQL Server using BizTalk Server](../../adapters-and-accelerators/adapter-sql/receive-polling-based-data-changed-messages-from-sql-server-using-biztalk.md).</span></span>  

-   <span data-ttu-id="33f90-112">执行其他操作，如中所述[开发 BizTalk 应用程序](../../core/develop-your-biztalk-applications.md)。</span><span class="sxs-lookup"><span data-stu-id="33f90-112">Perform other operations, as described in [Develop your BizTalk applications](../../core/develop-your-biztalk-applications.md).</span></span>  

## <a name="considerations-while-performing-operations-on-tables-with-udts"></a><span data-ttu-id="33f90-113">对包含 Udt 的表执行操作时的注意事项</span><span class="sxs-lookup"><span data-stu-id="33f90-113">Considerations While Performing Operations on Tables with UDTs</span></span>  
 <span data-ttu-id="33f90-114">可以使用该适配器具有 UDT 列的表上执行操作之前，必须执行以下任务。</span><span class="sxs-lookup"><span data-stu-id="33f90-114">You must perform the following tasks before you can use the adapter to perform operations on tables with UDT columns.</span></span>  

- <span data-ttu-id="33f90-115">**生成操作使用的架构时 [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)]**</span><span class="sxs-lookup"><span data-stu-id="33f90-115">**While generating schema for operation using [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)]**</span></span>  


  |                       <span data-ttu-id="33f90-116">UDT 类型</span><span class="sxs-lookup"><span data-stu-id="33f90-116">UDT Type</span></span>                        |                                                                                                                                                                        <span data-ttu-id="33f90-117">程序集位置</span><span class="sxs-lookup"><span data-stu-id="33f90-117">Location of Assemblies</span></span>                                                                                                                                                                        |
  |-------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
  | <span data-ttu-id="33f90-118">Udt 随 SQL Server 提供，例如，地理位置</span><span class="sxs-lookup"><span data-stu-id="33f90-118">UDTs shipped with SQL Server, for example, Geography</span></span>  | <span data-ttu-id="33f90-119">-请确保 Microsoft.SqlServer.Types.dll 添加到 GAC。</span><span class="sxs-lookup"><span data-stu-id="33f90-119">-   Make sure Microsoft.SqlServer.Types.dll is added to the GAC.</span></span><br /><span data-ttu-id="33f90-120">-请确保 SqlServerSpatial.dll 位于 System32 文件夹中。</span><span class="sxs-lookup"><span data-stu-id="33f90-120">-   Make sure SqlServerSpatial.dll is available in the System32 folder.</span></span><br /><br /> <span data-ttu-id="33f90-121">可以通过运行 SQL Server 安装程序并选择在计算机上安装这些 Dll**管理工具-Basic**并**管理工具-完整**中**功能选择**向导页。</span><span class="sxs-lookup"><span data-stu-id="33f90-121">You can install these DLLs on the computer by running the SQL Server setup and selecting **Management Tools – Basic** and **Management Tools – Complete** in the **Feature Selection** page of the wizard.</span></span> |
  | <span data-ttu-id="33f90-122">未随 SQL Server，但由用户定义的 Udt</span><span class="sxs-lookup"><span data-stu-id="33f90-122">UDTs not shipped with SQL Server but defined by users</span></span> |                      <span data-ttu-id="33f90-123">请确保在与相同的位置对 Udt 的相应程序集都可以[!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)]可执行文件，devenv.exe。</span><span class="sxs-lookup"><span data-stu-id="33f90-123">Make sure the respective assemblies for the UDTs are available at the same location as the [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)] executable, devenv.exe.</span></span> <span data-ttu-id="33f90-124">可执行文件是通常位于`<installation drive>:\Program Files\Microsoft Visual Studio <version>\Common7\IDE`。</span><span class="sxs-lookup"><span data-stu-id="33f90-124">The executable is typically available at `<installation drive>:\Program Files\Microsoft Visual Studio <version>\Common7\IDE`.</span></span>                      |


- <span data-ttu-id="33f90-125">**执行操作使用时 [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]**</span><span class="sxs-lookup"><span data-stu-id="33f90-125">**While performing the operation using [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]**</span></span>  


  |                       <span data-ttu-id="33f90-126">UDT 类型</span><span class="sxs-lookup"><span data-stu-id="33f90-126">UDT Type</span></span>                        |                                                                                                                                                                        <span data-ttu-id="33f90-127">程序集位置</span><span class="sxs-lookup"><span data-stu-id="33f90-127">Location of Assemblies</span></span>                                                                                                                                                                        |
  |-------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
  | <span data-ttu-id="33f90-128">Udt 随 SQL Server 提供，例如，地理位置</span><span class="sxs-lookup"><span data-stu-id="33f90-128">UDTs shipped with SQL Server, for example, Geography</span></span>  | <span data-ttu-id="33f90-129">-请确保 Microsoft.SqlServer.Types.dll 添加到 GAC。</span><span class="sxs-lookup"><span data-stu-id="33f90-129">-   Make sure Microsoft.SqlServer.Types.dll is added to the GAC.</span></span><br /><span data-ttu-id="33f90-130">-请确保 SqlServerSpatial.dll 位于 System32 文件夹中。</span><span class="sxs-lookup"><span data-stu-id="33f90-130">-   Make sure SqlServerSpatial.dll is available in the System32 folder.</span></span><br /><br /> <span data-ttu-id="33f90-131">可以通过运行 SQL Server 安装程序并选择在计算机上安装这些 Dll**管理工具-Basic**并**管理工具-完整**中**功能选择**向导页。</span><span class="sxs-lookup"><span data-stu-id="33f90-131">You can install these DLLs on the computer by running the SQL Server setup and selecting **Management Tools – Basic** and **Management Tools – Complete** in the **Feature Selection** page of the wizard.</span></span> |
  | <span data-ttu-id="33f90-132">未随 SQL Server，但由用户定义的 Udt</span><span class="sxs-lookup"><span data-stu-id="33f90-132">UDTs not shipped with SQL Server but defined by users</span></span> |                                     <span data-ttu-id="33f90-133">请确保对 Udt 的相应程序集位于[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]安装位置。</span><span class="sxs-lookup"><span data-stu-id="33f90-133">Make sure the respective assemblies for the UDTs are available under the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] installation location.</span></span> <span data-ttu-id="33f90-134">对于 BizTalk Server，这通常是\<安装驱动器\>: \Program Files\Microsoft BizTalk Server。</span><span class="sxs-lookup"><span data-stu-id="33f90-134">For BizTalk Server, typically this is \<installation drive\>:\Program Files\Microsoft BizTalk Server.</span></span>                                      |


- <span data-ttu-id="33f90-135">**执行操作使用时 [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)]**</span><span class="sxs-lookup"><span data-stu-id="33f90-135">**While performing the operation using [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)]**</span></span>  

  |<span data-ttu-id="33f90-136">UDT 类型</span><span class="sxs-lookup"><span data-stu-id="33f90-136">UDT Type</span></span>|<span data-ttu-id="33f90-137">程序集位置</span><span class="sxs-lookup"><span data-stu-id="33f90-137">Location of Assemblies</span></span>|  
  |--------------|----------------------------|  
  |<span data-ttu-id="33f90-138">Udt 随 SQL Server 提供，例如，地理位置</span><span class="sxs-lookup"><span data-stu-id="33f90-138">UDTs shipped with SQL Server, for example, Geography</span></span>|<span data-ttu-id="33f90-139">-请确保 Microsoft.SqlServer.Types.dll 添加到 GAC。</span><span class="sxs-lookup"><span data-stu-id="33f90-139">-   Make sure Microsoft.SqlServer.Types.dll is added to the GAC.</span></span><br /><span data-ttu-id="33f90-140">-请确保 SqlServerSpatial.dll 位于 System32 文件夹中。</span><span class="sxs-lookup"><span data-stu-id="33f90-140">-   Make sure SqlServerSpatial.dll is available in the System32 folder.</span></span><br /><br /> <span data-ttu-id="33f90-141">可以通过运行 SQL Server 安装程序并选择在计算机上安装这些 Dll**管理工具-Basic**并**管理工具-完整**中**功能选择**向导页。</span><span class="sxs-lookup"><span data-stu-id="33f90-141">You can install these DLLs on the computer by running the SQL Server setup and selecting **Management Tools – Basic** and **Management Tools – Complete** in the **Feature Selection** page of the wizard.</span></span>|  
  |<span data-ttu-id="33f90-142">未随 SQL Server，但由用户定义的 Udt</span><span class="sxs-lookup"><span data-stu-id="33f90-142">UDTs not shipped with SQL Server but defined by users</span></span>|<span data-ttu-id="33f90-143">请确保对 Udt 的相应程序集作为项目可执行文件，这通常是在项目的 \bin\Debug 文件夹下的同一位置中均可用。</span><span class="sxs-lookup"><span data-stu-id="33f90-143">Make sure the respective assemblies for the UDTs are available at the same location as the project executable file, which typically is under the project’s \bin\Debug folder.</span></span>|  

  <span data-ttu-id="33f90-144">完成这些任务后，你已准备好对 udt 的表执行操作。</span><span class="sxs-lookup"><span data-stu-id="33f90-144">Once you have completed these tasks, you are all set to perform operations on tables with UDTs.</span></span>  

## <a name="see-also"></a><span data-ttu-id="33f90-145">请参阅</span><span class="sxs-lookup"><span data-stu-id="33f90-145">See Also</span></span>  
 [<span data-ttu-id="33f90-146">连接到 SAP 系统使用的适配器</span><span class="sxs-lookup"><span data-stu-id="33f90-146">Connect to an SAP system using the adapter</span></span>](../../adapters-and-accelerators/adapter-sap/connect-to-an-sap-system-using-the-adapter.md)