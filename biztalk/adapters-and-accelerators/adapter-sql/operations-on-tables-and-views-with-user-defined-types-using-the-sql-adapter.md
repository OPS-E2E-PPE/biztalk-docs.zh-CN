---
title: "对表和视图的用户定义的类型使用的 SQL 适配器操作 |Microsoft 文档"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: c4006bbe-91ca-4cd9-844d-5ed63142001f
caps.latest.revision: "13"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: b09cc02f8f43b589da821924cfdd38bec52160e0
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2017
---
# <a name="operations-on-tables-and-views-with-user-defined-types-using-the-sql-adapter"></a><span data-ttu-id="070a0-102">对表和视图的用户定义的类型使用的 SQL 适配器操作</span><span class="sxs-lookup"><span data-stu-id="070a0-102">Operations on tables and views with user-defined types using the SQL adapter</span></span>
<span data-ttu-id="070a0-103">你可以使用[!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]在表或视图具有用户定义类型 (Udt) 的列上执行操作。</span><span class="sxs-lookup"><span data-stu-id="070a0-103">You can use the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] to perform operations on tables or views that have columns of user-defined types (UDTs).</span></span> <span data-ttu-id="070a0-104">你可以使用标准的表操作 （插入、 更新、 删除和选择） 读取或写入数据列上 UDT 类型。</span><span class="sxs-lookup"><span data-stu-id="070a0-104">You can use the standard table operations (Insert, Update, Delete, and Select) to read or write data into columns on UDT types.</span></span> <span data-ttu-id="070a0-105">你还可以在此类表上执行存储的过程和函数。</span><span class="sxs-lookup"><span data-stu-id="070a0-105">You can also execute stored procedures and functions on such tables.</span></span> <span data-ttu-id="070a0-106">但是，你需要执行某些任务，你可以使用该适配器上包含 UDT 列的表进行操作之前。</span><span class="sxs-lookup"><span data-stu-id="070a0-106">However, you need to perform certain tasks before you can use the adapter to operate on tables with UDT columns.</span></span> <span data-ttu-id="070a0-107">一旦你已执行这些任务，你可以使用为该适配器：</span><span class="sxs-lookup"><span data-stu-id="070a0-107">Once you have performed these tasks, you can use the adapter to:</span></span>  
  
-   <span data-ttu-id="070a0-108">执行插入、 删除、 更新和 Select 操作中所述[插入、 更新、 删除或 BizTalk 服务器与 SQL 适配器一起使用的 select 操作](../../adapters-and-accelerators/adapter-sql/insert-update-delete-or-select-using-the-sql-adapter-in-biztalk-server.md)。</span><span class="sxs-lookup"><span data-stu-id="070a0-108">Perform Insert, Delete, Update, and Select operations, as described in [Insert, update, delete, or select operations using BizTalk Server with the SQL adapter](../../adapters-and-accelerators/adapter-sql/insert-update-delete-or-select-using-the-sql-adapter-in-biztalk-server.md).</span></span>  
  
-   <span data-ttu-id="070a0-109">执行存储的过程中所述[在 SQL Server 使用 BizTalk Server 中执行存储的过程](../../adapters-and-accelerators/adapter-sql/execute-stored-procedures-in-sql-server-using-biztalk-server.md)。</span><span class="sxs-lookup"><span data-stu-id="070a0-109">Execute stored procedures, as described in [Execute stored procedures in SQL Server using BizTalk Server](../../adapters-and-accelerators/adapter-sql/execute-stored-procedures-in-sql-server-using-biztalk-server.md).</span></span>  
  
-   <span data-ttu-id="070a0-110">执行对具有 UDT 列的表的复合操作中所述[运行 SQL Server 使用 BizTalk Server 上的复合操作](../../adapters-and-accelerators/adapter-sql/run-composite-operations-on-sql-server-using-biztalk-server.md)</span><span class="sxs-lookup"><span data-stu-id="070a0-110">Perform composite operations on tables with UDT columns, as described in [Run composite operations on SQL Server using BizTalk Server](../../adapters-and-accelerators/adapter-sql/run-composite-operations-on-sql-server-using-biztalk-server.md)</span></span>  
  
-   <span data-ttu-id="070a0-111">轮询包含 UDT 列的表中所述[使用 BizTalk Server 从 SQL Server 基于接收轮询的数据更改消息](../../adapters-and-accelerators/adapter-sql/receive-polling-based-data-changed-messages-from-sql-server-using-biztalk.md)。</span><span class="sxs-lookup"><span data-stu-id="070a0-111">Poll tables with UDT columns, as described in [Receive Polling-based Data-changed Messages from SQL Server using BizTalk Server](../../adapters-and-accelerators/adapter-sql/receive-polling-based-data-changed-messages-from-sql-server-using-biztalk.md).</span></span>  
  
-   <span data-ttu-id="070a0-112">中所述执行其他操作，[开发 BizTalk 应用程序](../../core/develop-your-biztalk-applications.md)。</span><span class="sxs-lookup"><span data-stu-id="070a0-112">Perform other operations, as described in [Develop your BizTalk applications](../../core/develop-your-biztalk-applications.md).</span></span>  
  
## <a name="considerations-while-performing-operations-on-tables-with-udts"></a><span data-ttu-id="070a0-113">执行对表使用 Udt 的操作时的注意事项</span><span class="sxs-lookup"><span data-stu-id="070a0-113">Considerations While Performing Operations on Tables with UDTs</span></span>  
 <span data-ttu-id="070a0-114">在你可以使用适配器对包含 UDT 列的表执行操作之前，必须执行以下任务。</span><span class="sxs-lookup"><span data-stu-id="070a0-114">You must perform the following tasks before you can use the adapter to perform operations on tables with UDT columns.</span></span>  
  
-   <span data-ttu-id="070a0-115">**生成操作使用的架构时[!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)]**</span><span class="sxs-lookup"><span data-stu-id="070a0-115">**While generating schema for operation using [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)]**</span></span>  
  
    |<span data-ttu-id="070a0-116">UDT 类型</span><span class="sxs-lookup"><span data-stu-id="070a0-116">UDT Type</span></span>|<span data-ttu-id="070a0-117">程序集位置</span><span class="sxs-lookup"><span data-stu-id="070a0-117">Location of Assemblies</span></span>|  
    |--------------|----------------------------|  
    |<span data-ttu-id="070a0-118">Udt 随 SQL Server，例如 Geography</span><span class="sxs-lookup"><span data-stu-id="070a0-118">UDTs shipped with SQL Server, for example, Geography</span></span>|<span data-ttu-id="070a0-119">-请确保 Microsoft.SqlServer.Types.dll 添加到 GAC。</span><span class="sxs-lookup"><span data-stu-id="070a0-119">-   Make sure Microsoft.SqlServer.Types.dll is added to the GAC.</span></span><br /><span data-ttu-id="070a0-120">-请确保 SqlServerSpatial.dll 位于 System32 文件夹中。</span><span class="sxs-lookup"><span data-stu-id="070a0-120">-   Make sure SqlServerSpatial.dll is available in the System32 folder.</span></span><br /><br /> <span data-ttu-id="070a0-121">可以通过运行 SQL Server 安装程序并选择在计算机上安装这些 Dll**管理工具-基本**和**管理工具 – 完整**中**功能选择**向导页。</span><span class="sxs-lookup"><span data-stu-id="070a0-121">You can install these DLLs on the computer by running the SQL Server setup and selecting **Management Tools – Basic** and **Management Tools – Complete** in the **Feature Selection** page of the wizard.</span></span>|  
    |<span data-ttu-id="070a0-122">不随 SQL Server 但由用户定义的 Udt</span><span class="sxs-lookup"><span data-stu-id="070a0-122">UDTs not shipped with SQL Server but defined by users</span></span>|<span data-ttu-id="070a0-123">请确保提供与相同的位置中可以找到 Udt 的相应程序集[!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)]可执行文件、 devenv.exe。</span><span class="sxs-lookup"><span data-stu-id="070a0-123">Make sure the respective assemblies for the UDTs are available at the same location as the [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)] executable, devenv.exe.</span></span> <span data-ttu-id="070a0-124">可执行文件位于通常`<installation drive>:\Program Files\Microsoft Visual Studio <version>\Common7\IDE`。</span><span class="sxs-lookup"><span data-stu-id="070a0-124">The executable is typically available at `<installation drive>:\Program Files\Microsoft Visual Studio <version>\Common7\IDE`.</span></span>|  
  
-   <span data-ttu-id="070a0-125">**执行操作使用时[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]**</span><span class="sxs-lookup"><span data-stu-id="070a0-125">**While performing the operation using [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]**</span></span>  
  
    |<span data-ttu-id="070a0-126">UDT 类型</span><span class="sxs-lookup"><span data-stu-id="070a0-126">UDT Type</span></span>|<span data-ttu-id="070a0-127">程序集位置</span><span class="sxs-lookup"><span data-stu-id="070a0-127">Location of Assemblies</span></span>|  
    |--------------|----------------------------|  
    |<span data-ttu-id="070a0-128">Udt 随 SQL Server，例如 Geography</span><span class="sxs-lookup"><span data-stu-id="070a0-128">UDTs shipped with SQL Server, for example, Geography</span></span>|<span data-ttu-id="070a0-129">-请确保 Microsoft.SqlServer.Types.dll 添加到 GAC。</span><span class="sxs-lookup"><span data-stu-id="070a0-129">-   Make sure Microsoft.SqlServer.Types.dll is added to the GAC.</span></span><br /><span data-ttu-id="070a0-130">-请确保 SqlServerSpatial.dll 位于 System32 文件夹中。</span><span class="sxs-lookup"><span data-stu-id="070a0-130">-   Make sure SqlServerSpatial.dll is available in the System32 folder.</span></span><br /><br /> <span data-ttu-id="070a0-131">可以通过运行 SQL Server 安装程序并选择在计算机上安装这些 Dll**管理工具-基本**和**管理工具 – 完整**中**功能选择**向导页。</span><span class="sxs-lookup"><span data-stu-id="070a0-131">You can install these DLLs on the computer by running the SQL Server setup and selecting **Management Tools – Basic** and **Management Tools – Complete** in the **Feature Selection** page of the wizard.</span></span>|  
    |<span data-ttu-id="070a0-132">不随 SQL Server 但由用户定义的 Udt</span><span class="sxs-lookup"><span data-stu-id="070a0-132">UDTs not shipped with SQL Server but defined by users</span></span>|<span data-ttu-id="070a0-133">请确保 Udt 的相应程序集下有[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]安装位置。</span><span class="sxs-lookup"><span data-stu-id="070a0-133">Make sure the respective assemblies for the UDTs are available under the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] installation location.</span></span> <span data-ttu-id="070a0-134">有关[!INCLUDE[prague](../../includes/prague-md.md)]，这通常是\<安装驱动器 >: files\microsoft [!INCLUDE[btsBizTalkServer2006r3](../../includes/btsbiztalkserver2006r3-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="070a0-134">For [!INCLUDE[prague](../../includes/prague-md.md)], typically this is \<installation drive>:\Program Files\Microsoft [!INCLUDE[btsBizTalkServer2006r3](../../includes/btsbiztalkserver2006r3-md.md)].</span></span>|  
  
-   <span data-ttu-id="070a0-135">**执行操作使用时[!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)]**</span><span class="sxs-lookup"><span data-stu-id="070a0-135">**While performing the operation using [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)]**</span></span>  
  
    |<span data-ttu-id="070a0-136">UDT 类型</span><span class="sxs-lookup"><span data-stu-id="070a0-136">UDT Type</span></span>|<span data-ttu-id="070a0-137">程序集位置</span><span class="sxs-lookup"><span data-stu-id="070a0-137">Location of Assemblies</span></span>|  
    |--------------|----------------------------|  
    |<span data-ttu-id="070a0-138">Udt 随 SQL Server，例如 Geography</span><span class="sxs-lookup"><span data-stu-id="070a0-138">UDTs shipped with SQL Server, for example, Geography</span></span>|<span data-ttu-id="070a0-139">-请确保 Microsoft.SqlServer.Types.dll 添加到 GAC。</span><span class="sxs-lookup"><span data-stu-id="070a0-139">-   Make sure Microsoft.SqlServer.Types.dll is added to the GAC.</span></span><br /><span data-ttu-id="070a0-140">-请确保 SqlServerSpatial.dll 位于 System32 文件夹中。</span><span class="sxs-lookup"><span data-stu-id="070a0-140">-   Make sure SqlServerSpatial.dll is available in the System32 folder.</span></span><br /><br /> <span data-ttu-id="070a0-141">可以通过运行 SQL Server 安装程序并选择在计算机上安装这些 Dll**管理工具-基本**和**管理工具 – 完整**中**功能选择**向导页。</span><span class="sxs-lookup"><span data-stu-id="070a0-141">You can install these DLLs on the computer by running the SQL Server setup and selecting **Management Tools – Basic** and **Management Tools – Complete** in the **Feature Selection** page of the wizard.</span></span>|  
    |<span data-ttu-id="070a0-142">不随 SQL Server 但由用户定义的 Udt</span><span class="sxs-lookup"><span data-stu-id="070a0-142">UDTs not shipped with SQL Server but defined by users</span></span>|<span data-ttu-id="070a0-143">请确保在同一位置的项目可执行文件，这通常是在项目的 \bin\Debug 文件夹下 Udt 的相应程序集均可用。</span><span class="sxs-lookup"><span data-stu-id="070a0-143">Make sure the respective assemblies for the UDTs are available at the same location as the project executable file, which typically is under the project’s \bin\Debug folder.</span></span>|  
  
 <span data-ttu-id="070a0-144">完成这些任务后，你都设置为对具有 Udt 的表执行操作。</span><span class="sxs-lookup"><span data-stu-id="070a0-144">Once you have completed these tasks, you are all set to perform operations on tables with UDTs.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="070a0-145">另请参阅</span><span class="sxs-lookup"><span data-stu-id="070a0-145">See Also</span></span>  
 [<span data-ttu-id="070a0-146">连接到 SAP 系统使用适配器</span><span class="sxs-lookup"><span data-stu-id="070a0-146">Connect to an SAP system using the adapter</span></span>](../../adapters-and-accelerators/adapter-sap/connect-to-an-sap-system-using-the-adapter.md)